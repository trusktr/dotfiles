'use babel';
import { Emitter } from 'atom';
class GutterResizeHandle {
    constructor() {
        this.handleElement = document.createElement('div');
        this.handleElement.className = 'layer-resize-handle';
        this.emitter = new Emitter();
        this.boundMouseDownListener = this.mouseDownListener.bind(this);
        this.boundMouseUpListener = this.mouseUpListener.bind(this);
        this.boundMouseMoveListener = this.mouseMoveListener.bind(this);
        this.handleElement.addEventListener('mousedown', this.boundMouseDownListener);
    }
    mouseDownListener(event) {
        this.initialPosition = event.screenX;
        document.addEventListener('mouseup', this.boundMouseUpListener);
        document.addEventListener('mousemove', this.boundMouseMoveListener);
        this.emitter.emit('resizeHandleClicked', event.screenX);
    }
    mouseUpListener(event) {
        document.removeEventListener('mousemove', this.boundMouseMoveListener);
        document.removeEventListener('mouseup', this.boundMouseUpListener);
        this.emitter.emit('resizeHandleReleased', event.screenX);
    }
    mouseMoveListener(event) {
        this.emitter.emit('resizeHandleDragged', event.screenX - this.initialPosition);
    }
    element() {
        return this.handleElement;
    }
}
export default GutterResizeHandle;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3V0dGVyUmVzaXplSGFuZGxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2ludGVyZmFjZS9HdXR0ZXJSZXNpemVIYW5kbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDO0FBRVosT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUvQjtJQVFFO1FBQ0UsSUFBSSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxHQUFHLHFCQUFxQixDQUFDO1FBQ3JELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVPLGlCQUFpQixDQUFDLEtBQWlCO1FBQ3pDLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUNyQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ2hFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFTyxlQUFlLENBQUMsS0FBaUI7UUFDdkMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUN2RSxRQUFRLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRU8saUJBQWlCLENBQUMsS0FBaUI7UUFDekMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDakYsQ0FBQztJQUVNLE9BQU87UUFDWixNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM1QixDQUFDO0NBQ0Y7QUFFRCxlQUFlLGtCQUFrQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG5cbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICdhdG9tJztcblxuY2xhc3MgR3V0dGVyUmVzaXplSGFuZGxlIHtcbiAgaGFuZGxlRWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG4gIGluaXRpYWxQb3NpdGlvbjogbnVtYmVyO1xuICBib3VuZE1vdXNlRG93bkxpc3RlbmVyOiBFdmVudExpc3RlbmVyO1xuICBib3VuZE1vdXNlVXBMaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjtcbiAgYm91bmRNb3VzZU1vdmVMaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjtcbiAgZW1pdHRlcjogRW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmhhbmRsZUVsZW1lbnQuY2xhc3NOYW1lID0gJ2xheWVyLXJlc2l6ZS1oYW5kbGUnO1xuICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgdGhpcy5ib3VuZE1vdXNlRG93bkxpc3RlbmVyID0gdGhpcy5tb3VzZURvd25MaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYm91bmRNb3VzZVVwTGlzdGVuZXIgPSB0aGlzLm1vdXNlVXBMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYm91bmRNb3VzZU1vdmVMaXN0ZW5lciA9IHRoaXMubW91c2VNb3ZlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5ib3VuZE1vdXNlRG93bkxpc3RlbmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgbW91c2VEb3duTGlzdGVuZXIoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLmluaXRpYWxQb3NpdGlvbiA9IGV2ZW50LnNjcmVlblg7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYm91bmRNb3VzZVVwTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYm91bmRNb3VzZU1vdmVMaXN0ZW5lcik7XG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Jlc2l6ZUhhbmRsZUNsaWNrZWQnLCBldmVudC5zY3JlZW5YKTtcbiAgfVxuXG4gIHByaXZhdGUgbW91c2VVcExpc3RlbmVyKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5ib3VuZE1vdXNlTW92ZUxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ib3VuZE1vdXNlVXBMaXN0ZW5lcik7XG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Jlc2l6ZUhhbmRsZVJlbGVhc2VkJywgZXZlbnQuc2NyZWVuWCk7XG4gIH1cblxuICBwcml2YXRlIG1vdXNlTW92ZUxpc3RlbmVyKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3Jlc2l6ZUhhbmRsZURyYWdnZWQnLCBldmVudC5zY3JlZW5YIC0gdGhpcy5pbml0aWFsUG9zaXRpb24pO1xuICB9XG5cbiAgcHVibGljIGVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlRWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHdXR0ZXJSZXNpemVIYW5kbGU7XG4iXX0=