"use strict";var kq=Object.create;var _1=Object.defineProperty;var Nq=Object.getOwnPropertyDescriptor;var Fq=Object.getOwnPropertyNames;var Oq=Object.getPrototypeOf,Lq=Object.prototype.hasOwnProperty;var YE=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),XE=e=>{throw TypeError(e)};var o=(e,t)=>_1(e,"name",{value:t,configurable:!0});var Mq=(e,t)=>()=>(e&&(t=e(e=0)),t);var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),W0=(e,t)=>{for(var r in t)_1(e,r,{get:t[r],enumerable:!0})},JE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Fq(t))!Lq.call(e,i)&&i!==r&&_1(e,i,{get:()=>t[i],enumerable:!(n=Nq(t,i))||n.enumerable});return e};var Bt=(e,t,r)=>(r=e!=null?kq(Oq(e)):{},JE(t||!e||!e.__esModule?_1(r,"default",{value:e,enumerable:!0}):r,e)),Cg=e=>JE(_1({},"__esModule",{value:!0}),e);var E8=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&XE("Object expected");var n,i;r&&(n=t[YE("asyncDispose")]),n===void 0&&(n=t[YE("dispose")],r&&(i=n)),typeof n!="function"&&XE("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},I8=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var QE=Q(()=>{});var jt=Q((Sg,eI)=>{(function(e,t){typeof Sg=="object"?eI.exports=Sg=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(Sg,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=QE()}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function x(){}return o(x,"F"),function(y){var b;return x.prototype=y,b=new x,x.prototype=null,b}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(x){var y=s(this);return x&&y.mixIn(x),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},"extend"),create:o(function(){var x=this.extend();return x.init.apply(x,arguments),x},"create"),init:o(function(){},"init"),mixIn:o(function(x){for(var y in x)x.hasOwnProperty(y)&&(this[y]=x[y]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(x,y){x=this.words=x||[],y!=r?this.sigBytes=y:this.sigBytes=x.length*4},"init"),toString:o(function(x){return(x||d).stringify(this)},"toString"),concat:o(function(x){var y=this.words,b=x.words,v=this.sigBytes,I=x.sigBytes;if(this.clamp(),v%4)for(var D=0;D<I;D++){var H=b[D>>>2]>>>24-D%4*8&255;y[v+D>>>2]|=H<<24-(v+D)%4*8}else for(var V=0;V<I;V+=4)y[v+V>>>2]=b[V>>>2];return this.sigBytes+=I,this},"concat"),clamp:o(function(){var x=this.words,y=this.sigBytes;x[y>>>2]&=4294967295<<32-y%4*8,x.length=t.ceil(y/4)},"clamp"),clone:o(function(){var x=c.clone.call(this);return x.words=this.words.slice(0),x},"clone"),random:o(function(x){for(var y=[],b=0;b<x;b+=4)y.push(i());return new u.init(y,x)},"random")}),f=a.enc={},d=f.Hex={stringify:o(function(x){for(var y=x.words,b=x.sigBytes,v=[],I=0;I<b;I++){var D=y[I>>>2]>>>24-I%4*8&255;v.push((D>>>4).toString(16)),v.push((D&15).toString(16))}return v.join("")},"stringify"),parse:o(function(x){for(var y=x.length,b=[],v=0;v<y;v+=2)b[v>>>3]|=parseInt(x.substr(v,2),16)<<24-v%8*4;return new u.init(b,y/2)},"parse")},p=f.Latin1={stringify:o(function(x){for(var y=x.words,b=x.sigBytes,v=[],I=0;I<b;I++){var D=y[I>>>2]>>>24-I%4*8&255;v.push(String.fromCharCode(D))}return v.join("")},"stringify"),parse:o(function(x){for(var y=x.length,b=[],v=0;v<y;v++)b[v>>>2]|=(x.charCodeAt(v)&255)<<24-v%4*8;return new u.init(b,y)},"parse")},m=f.Utf8={stringify:o(function(x){try{return decodeURIComponent(escape(p.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(x){return p.parse(unescape(encodeURIComponent(x)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(x){typeof x=="string"&&(x=m.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},"_append"),_process:o(function(x){var y,b=this._data,v=b.words,I=b.sigBytes,D=this.blockSize,H=D*4,V=I/H;x?V=t.ceil(V):V=t.max((V|0)-this._minBufferSize,0);var $=V*D,Y=t.min($*4,I);if($){for(var P=0;P<$;P+=D)this._doProcessBlock(v,P);y=v.splice(0,$),b.sigBytes-=Y}return new u.init(y,Y)},"_process"),clone:o(function(){var x=c.clone.call(this);return x._data=this._data.clone(),x},"clone"),_minBufferSize:0}),h=l.Hasher=g.extend({cfg:c.extend(),init:o(function(x){this.cfg=this.cfg.extend(x),this.reset()},"init"),reset:o(function(){g.reset.call(this),this._doReset()},"reset"),update:o(function(x){return this._append(x),this._process(),this},"update"),finalize:o(function(x){x&&this._append(x);var y=this._doFinalize();return y},"finalize"),blockSize:512/32,_createHelper:o(function(x){return function(y,b){return new x.init(b).finalize(y)}},"_createHelper"),_createHmacHelper:o(function(x){return function(y,b){return new _.HMAC.init(x,b).finalize(y)}},"_createHmacHelper")}),_=a.algo={};return a}(Math);return e})});var y1=Q((wg,tI)=>{(function(e,t){typeof wg=="object"?tI.exports=wg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(wg,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,d=[],p=0;p<f;p++){var m=u[p];d.push(m.high),d.push(m.low)}return s.create(d,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),d=f.length,p=0;p<d;p++)f[p]=f[p].clone();return u},"clone")})}(),e})});var nI=Q((Pg,rI)=>{(function(e,t){typeof Pg=="object"?rI.exports=Pg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Pg,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var oI=Q((Dg,iI)=>{(function(e,t){typeof Dg=="object"?iI.exports=Dg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Dg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],d=0;d<u;d+=2){var p=c[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],d=0;d<u;d+=2){var p=a(c[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var Ga=Q((Rg,sI)=>{(function(e,t){typeof Rg=="object"?sI.exports=Rg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Rg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var d=[],p=0;p<u;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,h=c[p+2>>>2]>>>24-(p+2)%4*8&255,_=m<<16|g<<8|h,x=0;x<4&&p+x*.75<u;x++)d.push(f.charAt(_>>>6*(3-x)&63));var y=f.charAt(64);if(y)for(;d.length%4;)d.push(y);return d.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var p=u.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],d=0,p=0;p<c;p++)if(p%4){var m=u[l.charCodeAt(p-1)]<<p%4*2,g=u[l.charCodeAt(p)]>>>6-p%4*2,h=m|g;f[d>>>2]|=h<<24-d%4*8,d++}return n.create(f,d)}o(a,"parseLoop")}(),e.enc.Base64})});var lI=Q((Ag,aI)=>{(function(e,t){typeof Ag=="object"?aI.exports=Ag=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ag,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,d=c?this._safe_map:this._map;l.clamp();for(var p=[],m=0;m<f;m+=3)for(var g=u[m>>>2]>>>24-m%4*8&255,h=u[m+1>>>2]>>>24-(m+1)%4*8&255,_=u[m+2>>>2]>>>24-(m+2)%4*8&255,x=g<<16|h<<8|_,y=0;y<4&&m+y*.75<f;y++)p.push(d.charAt(x>>>6*(3-y)&63));var b=d.charAt(64);if(b)for(;p.length%4;)p.push(b);return p.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<f.length;p++)d[f.charCodeAt(p)]=p}var m=f.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(u=g)}return a(l,u,d)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],d=0,p=0;p<c;p++)if(p%4){var m=u[l.charCodeAt(p-1)]<<p%4*2,g=u[l.charCodeAt(p)]>>>6-p%4*2,h=m|g;f[d>>>2]|=h<<24-d%4*8,d++}return n.create(f,d)}o(a,"parseLoop")}(),e.enc.Base64url})});var Ha=Q((kg,cI)=>{(function(e,t){typeof kg=="object"?cI.exports=kg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(kg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=t.abs(t.sin(m+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(m,g){for(var h=0;h<16;h++){var _=g+h,x=m[_];m[_]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var y=this._hash.words,b=m[g+0],v=m[g+1],I=m[g+2],D=m[g+3],H=m[g+4],V=m[g+5],$=m[g+6],Y=m[g+7],P=m[g+8],w=m[g+9],z=m[g+10],k=m[g+11],T=m[g+12],E=m[g+13],R=m[g+14],S=m[g+15],A=y[0],N=y[1],F=y[2],M=y[3];A=u(A,N,F,M,b,7,l[0]),M=u(M,A,N,F,v,12,l[1]),F=u(F,M,A,N,I,17,l[2]),N=u(N,F,M,A,D,22,l[3]),A=u(A,N,F,M,H,7,l[4]),M=u(M,A,N,F,V,12,l[5]),F=u(F,M,A,N,$,17,l[6]),N=u(N,F,M,A,Y,22,l[7]),A=u(A,N,F,M,P,7,l[8]),M=u(M,A,N,F,w,12,l[9]),F=u(F,M,A,N,z,17,l[10]),N=u(N,F,M,A,k,22,l[11]),A=u(A,N,F,M,T,7,l[12]),M=u(M,A,N,F,E,12,l[13]),F=u(F,M,A,N,R,17,l[14]),N=u(N,F,M,A,S,22,l[15]),A=f(A,N,F,M,v,5,l[16]),M=f(M,A,N,F,$,9,l[17]),F=f(F,M,A,N,k,14,l[18]),N=f(N,F,M,A,b,20,l[19]),A=f(A,N,F,M,V,5,l[20]),M=f(M,A,N,F,z,9,l[21]),F=f(F,M,A,N,S,14,l[22]),N=f(N,F,M,A,H,20,l[23]),A=f(A,N,F,M,w,5,l[24]),M=f(M,A,N,F,R,9,l[25]),F=f(F,M,A,N,D,14,l[26]),N=f(N,F,M,A,P,20,l[27]),A=f(A,N,F,M,E,5,l[28]),M=f(M,A,N,F,I,9,l[29]),F=f(F,M,A,N,Y,14,l[30]),N=f(N,F,M,A,T,20,l[31]),A=d(A,N,F,M,V,4,l[32]),M=d(M,A,N,F,P,11,l[33]),F=d(F,M,A,N,k,16,l[34]),N=d(N,F,M,A,R,23,l[35]),A=d(A,N,F,M,v,4,l[36]),M=d(M,A,N,F,H,11,l[37]),F=d(F,M,A,N,Y,16,l[38]),N=d(N,F,M,A,z,23,l[39]),A=d(A,N,F,M,E,4,l[40]),M=d(M,A,N,F,b,11,l[41]),F=d(F,M,A,N,D,16,l[42]),N=d(N,F,M,A,$,23,l[43]),A=d(A,N,F,M,w,4,l[44]),M=d(M,A,N,F,T,11,l[45]),F=d(F,M,A,N,S,16,l[46]),N=d(N,F,M,A,I,23,l[47]),A=p(A,N,F,M,b,6,l[48]),M=p(M,A,N,F,Y,10,l[49]),F=p(F,M,A,N,R,15,l[50]),N=p(N,F,M,A,V,21,l[51]),A=p(A,N,F,M,T,6,l[52]),M=p(M,A,N,F,D,10,l[53]),F=p(F,M,A,N,z,15,l[54]),N=p(N,F,M,A,v,21,l[55]),A=p(A,N,F,M,P,6,l[56]),M=p(M,A,N,F,S,10,l[57]),F=p(F,M,A,N,$,15,l[58]),N=p(N,F,M,A,E,21,l[59]),A=p(A,N,F,M,H,6,l[60]),M=p(M,A,N,F,k,10,l[61]),F=p(F,M,A,N,I,15,l[62]),N=p(N,F,M,A,w,21,l[63]),y[0]=y[0]+A|0,y[1]=y[1]+N|0,y[2]=y[2]+F|0,y[3]=y[3]+M|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,g=m.words,h=this._nDataBytes*8,_=m.sigBytes*8;g[_>>>5]|=128<<24-_%32;var x=t.floor(h/4294967296),y=h;g[(_+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(_+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var b=this._hash,v=b.words,I=0;I<4;I++){var D=v[I];v[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return b},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});function u(m,g,h,_,x,y,b){var v=m+(g&h|~g&_)+x+b;return(v<<y|v>>>32-y)+g}o(u,"FF");function f(m,g,h,_,x,y,b){var v=m+(g&_|h&~_)+x+b;return(v<<y|v>>>32-y)+g}o(f,"GG");function d(m,g,h,_,x,y,b){var v=m+(g^h^_)+x+b;return(v<<y|v>>>32-y)+g}o(d,"HH");function p(m,g,h,_,x,y,b){var v=m+(h^(g|~_))+x+b;return(v<<y|v>>>32-y)+g}o(p,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var S8=Q((Ng,uI)=>{(function(e,t){typeof Ng=="object"?uI.exports=Ng=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ng,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,d=f[0],p=f[1],m=f[2],g=f[3],h=f[4],_=0;_<80;_++){if(_<16)a[_]=c[u+_]|0;else{var x=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=x<<1|x>>>31}var y=(d<<5|d>>>27)+h+a[_];_<20?y+=(p&m|~p&g)+1518500249:_<40?y+=(p^m^g)+1859775393:_<60?y+=(p&m|p&g|m&g)-1894007588:y+=(p^m^g)-899497514,h=g,g=m,m=p<<30|p>>>2,p=d,d=y}f[0]=f[0]+d|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+g|0,f[4]=f[4]+h|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,d=c.sigBytes*8;return u[d>>>5]|=128<<24-d%32,u[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(d+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var Og=Q((Fg,fI)=>{(function(e,t){typeof Fg=="object"?fI.exports=Fg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Fg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function d(h){for(var _=t.sqrt(h),x=2;x<=_;x++)if(!(h%x))return!1;return!0}o(d,"isPrime");function p(h){return(h-(h|0))*4294967296|0}o(p,"getFractionalBits");for(var m=2,g=0;g<64;)d(m)&&(g<8&&(l[g]=p(t.pow(m,1/2))),c[g]=p(t.pow(m,1/3)),g++),m++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(d,p){for(var m=this._hash.words,g=m[0],h=m[1],_=m[2],x=m[3],y=m[4],b=m[5],v=m[6],I=m[7],D=0;D<64;D++){if(D<16)u[D]=d[p+D]|0;else{var H=u[D-15],V=(H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3,$=u[D-2],Y=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;u[D]=V+u[D-7]+Y+u[D-16]}var P=y&b^~y&v,w=g&h^g&_^h&_,z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),k=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),T=I+k+P+c[D]+u[D],E=z+w;I=v,v=b,b=y,y=x+T|0,x=_,_=h,h=g,g=T+E|0}m[0]=m[0]+g|0,m[1]=m[1]+h|0,m[2]=m[2]+_|0,m[3]=m[3]+x|0,m[4]=m[4]+y|0,m[5]=m[5]+b|0,m[6]=m[6]+v|0,m[7]=m[7]+I|0},"_doProcessBlock"),_doFinalize:o(function(){var d=this._data,p=d.words,m=this._nDataBytes*8,g=d.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=t.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var mI=Q((Lg,dI)=>{(function(e,t,r){typeof Lg=="object"?dI.exports=Lg=t(jt(),Og()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Lg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var w8=Q((Mg,pI)=>{(function(e,t,r){typeof Mg=="object"?pI.exports=Mg=t(jt(),y1()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Mg,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var d=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(p,m){for(var g=this._hash.words,h=g[0],_=g[1],x=g[2],y=g[3],b=g[4],v=g[5],I=g[6],D=g[7],H=h.high,V=h.low,$=_.high,Y=_.low,P=x.high,w=x.low,z=y.high,k=y.low,T=b.high,E=b.low,R=v.high,S=v.low,A=I.high,N=I.low,F=D.high,M=D.low,G=H,se=V,ye=$,he=Y,Ue=P,ze=w,Ve=z,Ze=k,L=T,ne=E,B=R,ge=S,le=A,q=N,re=F,xe=M,ue=0;ue<80;ue++){var de,Ee,we=f[ue];if(ue<16)Ee=we.high=p[m+ue*2]|0,de=we.low=p[m+ue*2+1]|0;else{var Ne=f[ue-15],$e=Ne.high,Ke=Ne.low,tt=($e>>>1|Ke<<31)^($e>>>8|Ke<<24)^$e>>>7,rt=(Ke>>>1|$e<<31)^(Ke>>>8|$e<<24)^(Ke>>>7|$e<<25),lt=f[ue-2],O=lt.high,Z=lt.low,fe=(O>>>19|Z<<13)^(O<<3|Z>>>29)^O>>>6,pe=(Z>>>19|O<<13)^(Z<<3|O>>>29)^(Z>>>6|O<<26),Re=f[ue-7],Me=Re.high,je=Re.low,We=f[ue-16],De=We.high,W=We.low;de=rt+je,Ee=tt+Me+(de>>>0<rt>>>0?1:0),de=de+pe,Ee=Ee+fe+(de>>>0<pe>>>0?1:0),de=de+W,Ee=Ee+De+(de>>>0<W>>>0?1:0),we.high=Ee,we.low=de}var X=L&B^~L&le,ae=ne&ge^~ne&q,me=G&ye^G&Ue^ye&Ue,_e=se&he^se&ze^he&ze,Te=(G>>>28|se<<4)^(G<<30|se>>>2)^(G<<25|se>>>7),Ae=(se>>>28|G<<4)^(se<<30|G>>>2)^(se<<25|G>>>7),Ye=(L>>>14|ne<<18)^(L>>>18|ne<<14)^(L<<23|ne>>>9),ut=(ne>>>14|L<<18)^(ne>>>18|L<<14)^(ne<<23|L>>>9),Ce=u[ue],At=Ce.high,It=Ce.low,nt=xe+ut,ft=re+Ye+(nt>>>0<xe>>>0?1:0),nt=nt+ae,ft=ft+X+(nt>>>0<ae>>>0?1:0),nt=nt+It,ft=ft+At+(nt>>>0<It>>>0?1:0),nt=nt+de,ft=ft+Ee+(nt>>>0<de>>>0?1:0),wt=Ae+_e,Lt=Te+me+(wt>>>0<Ae>>>0?1:0);re=le,xe=q,le=B,q=ge,B=L,ge=ne,ne=Ze+nt|0,L=Ve+ft+(ne>>>0<Ze>>>0?1:0)|0,Ve=Ue,Ze=ze,Ue=ye,ze=he,ye=G,he=se,se=nt+wt|0,G=ft+Lt+(se>>>0<nt>>>0?1:0)|0}V=h.low=V+se,h.high=H+G+(V>>>0<se>>>0?1:0),Y=_.low=Y+he,_.high=$+ye+(Y>>>0<he>>>0?1:0),w=x.low=w+ze,x.high=P+Ue+(w>>>0<ze>>>0?1:0),k=y.low=k+Ze,y.high=z+Ve+(k>>>0<Ze>>>0?1:0),E=b.low=E+ne,b.high=T+L+(E>>>0<ne>>>0?1:0),S=v.low=S+ge,v.high=R+B+(S>>>0<ge>>>0?1:0),N=I.low=N+q,I.high=A+le+(N>>>0<q>>>0?1:0),M=D.low=M+xe,D.high=F+re+(M>>>0<xe>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,m=p.words,g=this._nDataBytes*8,h=p.sigBytes*8;m[h>>>5]|=128<<24-h%32,m[(h+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(h+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var _=this._hash.toX32();return _},"_doFinalize"),clone:o(function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var hI=Q((Ug,gI)=>{(function(e,t,r){typeof Ug=="object"?gI.exports=Ug=t(jt(),y1(),w8()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Ug,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var _I=Q((Bg,xI)=>{(function(e,t,r){typeof Bg=="object"?xI.exports=Bg=t(jt(),y1()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Bg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],d=[];(function(){for(var g=1,h=0,_=0;_<24;_++){u[g+5*h]=(_+1)*(_+2)/2%64;var x=h%5,y=(2*g+3*h)%5;g=x,h=y}for(var g=0;g<5;g++)for(var h=0;h<5;h++)f[g+5*h]=h+(2*g+3*h)%5*5;for(var b=1,v=0;v<24;v++){for(var I=0,D=0,H=0;H<7;H++){if(b&1){var V=(1<<H)-1;V<32?D^=1<<V:I^=1<<V-32}b&128?b=b<<1^113:b<<=1}d[v]=l.create(I,D)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var m=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var g=this._state=[],h=0;h<25;h++)g[h]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(g,h){for(var _=this._state,x=this.blockSize/2,y=0;y<x;y++){var b=g[h+2*y],v=g[h+2*y+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,v=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360;var I=_[y];I.high^=v,I.low^=b}for(var D=0;D<24;D++){for(var H=0;H<5;H++){for(var V=0,$=0,Y=0;Y<5;Y++){var I=_[H+5*Y];V^=I.high,$^=I.low}var P=p[H];P.high=V,P.low=$}for(var H=0;H<5;H++)for(var w=p[(H+4)%5],z=p[(H+1)%5],k=z.high,T=z.low,V=w.high^(k<<1|T>>>31),$=w.low^(T<<1|k>>>31),Y=0;Y<5;Y++){var I=_[H+5*Y];I.high^=V,I.low^=$}for(var E=1;E<25;E++){var V,$,I=_[E],R=I.high,S=I.low,A=u[E];A<32?(V=R<<A|S>>>32-A,$=S<<A|R>>>32-A):(V=S<<A-32|R>>>64-A,$=R<<A-32|S>>>64-A);var N=p[f[E]];N.high=V,N.low=$}var F=p[0],M=_[0];F.high=M.high,F.low=M.low;for(var H=0;H<5;H++)for(var Y=0;Y<5;Y++){var E=H+5*Y,I=_[E],G=p[E],se=p[(H+1)%5+5*Y],ye=p[(H+2)%5+5*Y];I.high=G.high^~se.high&ye.high,I.low=G.low^~se.low&ye.low}var I=_[0],he=d[D];I.high^=he.high,I.low^=he.low}},"_doProcessBlock"),_doFinalize:o(function(){var g=this._data,h=g.words,_=this._nDataBytes*8,x=g.sigBytes*8,y=this.blockSize*32;h[x>>>5]|=1<<24-x%32,h[(t.ceil((x+1)/y)*y>>>5)-1]|=128,g.sigBytes=h.length*4,this._process();for(var b=this._state,v=this.cfg.outputLength/8,I=v/8,D=[],H=0;H<I;H++){var V=b[H],$=V.high,Y=V.low;$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,Y=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360,D.push(Y),D.push($)}return new i.init(D,v)},"_doFinalize"),clone:o(function(){for(var g=s.clone.call(this),h=g._state=this._state.slice(0),_=0;_<25;_++)h[_]=h[_].clone();return g},"clone")});r.SHA3=s._createHelper(m),r.HmacSHA3=s._createHmacHelper(m)}(Math),e.SHA3})});var bI=Q((jg,yI)=>{(function(e,t){typeof jg=="object"?yI.exports=jg=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(jg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),m=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(v,I){for(var D=0;D<16;D++){var H=I+D,V=v[H];v[H]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var $=this._hash.words,Y=d.words,P=p.words,w=l.words,z=c.words,k=u.words,T=f.words,E,R,S,A,N,F,M,G,se,ye;F=E=$[0],M=R=$[1],G=S=$[2],se=A=$[3],ye=N=$[4];for(var he,D=0;D<80;D+=1)he=E+v[I+w[D]]|0,D<16?he+=g(R,S,A)+Y[0]:D<32?he+=h(R,S,A)+Y[1]:D<48?he+=_(R,S,A)+Y[2]:D<64?he+=x(R,S,A)+Y[3]:he+=y(R,S,A)+Y[4],he=he|0,he=b(he,k[D]),he=he+N|0,E=N,N=A,A=b(S,10),S=R,R=he,he=F+v[I+z[D]]|0,D<16?he+=y(M,G,se)+P[0]:D<32?he+=x(M,G,se)+P[1]:D<48?he+=_(M,G,se)+P[2]:D<64?he+=h(M,G,se)+P[3]:he+=g(M,G,se)+P[4],he=he|0,he=b(he,T[D]),he=he+ye|0,F=ye,ye=se,se=b(G,10),G=M,M=he;he=$[1]+S+se|0,$[1]=$[2]+A+ye|0,$[2]=$[3]+N+F|0,$[3]=$[4]+E+M|0,$[4]=$[0]+R+G|0,$[0]=he},"_doProcessBlock"),_doFinalize:o(function(){var v=this._data,I=v.words,D=this._nDataBytes*8,H=v.sigBytes*8;I[H>>>5]|=128<<24-H%32,I[(H+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,v.sigBytes=(I.length+1)*4,this._process();for(var V=this._hash,$=V.words,Y=0;Y<5;Y++){var P=$[Y];$[Y]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return V},"_doFinalize"),clone:o(function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v},"clone")});function g(v,I,D){return v^I^D}o(g,"f1");function h(v,I,D){return v&I|~v&D}o(h,"f2");function _(v,I,D){return(v|~I)^D}o(_,"f3");function x(v,I,D){return v&D|I&~D}o(x,"f4");function y(v,I,D){return v^(I|~D)}o(y,"f5");function b(v,I){return v<<I|v>>>32-I}o(b,"rotl"),r.RIPEMD160=s._createHelper(m),r.HmacRIPEMD160=s._createHmacHelper(m)}(Math),e.RIPEMD160})});var qg=Q(($g,vI)=>{(function(e,t){typeof $g=="object"?vI.exports=$g=t(jt()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($g,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,d=f*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),m=this._iKey=u.clone(),g=p.words,h=m.words,_=0;_<f;_++)g[_]^=1549556828,h[_]^=909522486;p.sigBytes=m.sigBytes=d,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(f));return d},"finalize")})})()})});var EI=Q((Wg,TI)=>{(function(e,t,r){typeof Wg=="object"?TI.exports=Wg=t(jt(),Og(),qg()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Wg,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var d=this.cfg,p=l.create(d.hasher,u),m=i.create(),g=i.create([1]),h=m.words,_=g.words,x=d.keySize,y=d.iterations;h.length<x;){var b=p.update(f).finalize(g);p.reset();for(var v=b.words,I=v.length,D=b,H=1;H<y;H++){D=p.finalize(D),p.reset();for(var V=D.words,$=0;$<I;$++)v[$]^=V[$]}m.concat(b),_[0]++}return m.sigBytes=x*4,m},"compute")});t.PBKDF2=function(u,f,d){return c.create(d).compute(u,f)}}(),e.PBKDF2})});var qs=Q((Gg,II)=>{(function(e,t,r){typeof Gg=="object"?II.exports=Gg=t(jt(),S8(),qg()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Gg,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,d=this.cfg,p=d.hasher.create(),m=i.create(),g=m.words,h=d.keySize,_=d.iterations;g.length<h;){f&&p.update(f),f=p.update(c).finalize(u),p.reset();for(var x=1;x<_;x++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=h*4,m},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var _n=Q((Hg,CI)=>{(function(e,t,r){typeof Hg=="object"?CI.exports=Hg=t(jt(),qs()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(Hg,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,d=f.EvpKDF,p=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(P,w){return this.create(this._ENC_XFORM_MODE,P,w)},"createEncryptor"),createDecryptor:o(function(P,w){return this.create(this._DEC_XFORM_MODE,P,w)},"createDecryptor"),init:o(function(P,w,z){this.cfg=this.cfg.extend(z),this._xformMode=P,this._key=w,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(P){return this._append(P),this._process()},"process"),finalize:o(function(P){P&&this._append(P);var w=this._doFinalize();return w},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(w){return typeof w=="string"?Y:H}return o(P,"selectCipherStrategy"),function(w){return{encrypt:o(function(z,k,T){return P(k).encrypt(w,z,k,T)},"encrypt"),decrypt:o(function(z,k,T){return P(k).decrypt(w,z,k,T)},"decrypt")}}}()}),m=n.StreamCipher=p.extend({_doFinalize:o(function(){var P=this._process(!0);return P},"_doFinalize"),blockSize:1}),g=r.mode={},h=n.BlockCipherMode=i.extend({createEncryptor:o(function(P,w){return this.Encryptor.create(P,w)},"createEncryptor"),createDecryptor:o(function(P,w){return this.Decryptor.create(P,w)},"createDecryptor"),init:o(function(P,w){this._cipher=P,this._iv=w},"init")}),_=g.CBC=function(){var P=h.extend();P.Encryptor=P.extend({processBlock:o(function(z,k){var T=this._cipher,E=T.blockSize;w.call(this,z,k,E),T.encryptBlock(z,k),this._prevBlock=z.slice(k,k+E)},"processBlock")}),P.Decryptor=P.extend({processBlock:o(function(z,k){var T=this._cipher,E=T.blockSize,R=z.slice(k,k+E);T.decryptBlock(z,k),w.call(this,z,k,E),this._prevBlock=R},"processBlock")});function w(z,k,T){var E,R=this._iv;R?(E=R,this._iv=t):E=this._prevBlock;for(var S=0;S<T;S++)z[k+S]^=E[S]}return o(w,"xorBlock"),P}(),x=r.pad={},y=x.Pkcs7={pad:o(function(P,w){for(var z=w*4,k=z-P.sigBytes%z,T=k<<24|k<<16|k<<8|k,E=[],R=0;R<k;R+=4)E.push(T);var S=s.create(E,k);P.concat(S)},"pad"),unpad:o(function(P){var w=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=w},"unpad")},b=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:y}),reset:o(function(){var P;p.reset.call(this);var w=this.cfg,z=w.iv,k=w.mode;this._xformMode==this._ENC_XFORM_MODE?P=k.createEncryptor:(P=k.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,z&&z.words):(this._mode=P.call(k,this,z&&z.words),this._mode.__creator=P)},"reset"),_doProcessBlock:o(function(P,w){this._mode.processBlock(P,w)},"_doProcessBlock"),_doFinalize:o(function(){var P,w=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(w.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),w.unpad(P)),P},"_doFinalize"),blockSize:128/32}),v=n.CipherParams=i.extend({init:o(function(P){this.mixIn(P)},"init"),toString:o(function(P){return(P||this.formatter).stringify(this)},"toString")}),I=r.format={},D=I.OpenSSL={stringify:o(function(P){var w,z=P.ciphertext,k=P.salt;return k?w=s.create([1398893684,1701076831]).concat(k).concat(z):w=z,w.toString(u)},"stringify"),parse:o(function(P){var w,z=u.parse(P),k=z.words;return k[0]==1398893684&&k[1]==1701076831&&(w=s.create(k.slice(2,4)),k.splice(0,4),z.sigBytes-=16),v.create({ciphertext:z,salt:w})},"parse")},H=n.SerializableCipher=i.extend({cfg:i.extend({format:D}),encrypt:o(function(P,w,z,k){k=this.cfg.extend(k);var T=P.createEncryptor(z,k),E=T.finalize(w),R=T.cfg;return v.create({ciphertext:E,key:z,iv:R.iv,algorithm:P,mode:R.mode,padding:R.padding,blockSize:P.blockSize,formatter:k.format})},"encrypt"),decrypt:o(function(P,w,z,k){k=this.cfg.extend(k),w=this._parse(w,k.format);var T=P.createDecryptor(z,k).finalize(w.ciphertext);return T},"decrypt"),_parse:o(function(P,w){return typeof P=="string"?w.parse(P,this):P},"_parse")}),V=r.kdf={},$=V.OpenSSL={execute:o(function(P,w,z,k,T){if(k||(k=s.random(64/8)),T)var E=d.create({keySize:w+z,hasher:T}).compute(P,k);else var E=d.create({keySize:w+z}).compute(P,k);var R=s.create(E.words.slice(w),z*4);return E.sigBytes=w*4,v.create({key:E,iv:R,salt:k})},"execute")},Y=n.PasswordBasedCipher=H.extend({cfg:H.cfg.extend({kdf:$}),encrypt:o(function(P,w,z,k){k=this.cfg.extend(k);var T=k.kdf.execute(z,P.keySize,P.ivSize,k.salt,k.hasher);k.iv=T.iv;var E=H.encrypt.call(this,P,w,T.key,k);return E.mixIn(T),E},"encrypt"),decrypt:o(function(P,w,z,k){k=this.cfg.extend(k),w=this._parse(w,k.format);var T=k.kdf.execute(z,P.keySize,P.ivSize,w.salt,k.hasher);k.iv=T.iv;var E=H.decrypt.call(this,P,w,T.key,k);return E},"decrypt")})}()})});var wI=Q((zg,SI)=>{(function(e,t,r){typeof zg=="object"?SI.exports=zg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(zg,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var DI=Q((Vg,PI)=>{(function(e,t,r){typeof Vg=="object"?PI.exports=Vg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Vg,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var AI=Q((Kg,RI)=>{(function(e,t,r){typeof Kg=="object"?RI.exports=Kg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Kg,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var d=f.slice(0);l.encryptBlock(d,0);for(var p=0;p<c;p++)s[a+p]^=d[p]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var NI=Q((Yg,kI)=>{(function(e,t,r){typeof Yg=="object"?kI.exports=Yg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Yg,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var OI=Q((Xg,FI)=>{(function(e,t,r){typeof Xg=="object"?FI.exports=Xg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Xg,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var MI=Q((Jg,LI)=>{(function(e,t,r){typeof Jg=="object"?LI.exports=Jg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Jg,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var BI=Q((Zg,UI)=>{(function(e,t,r){typeof Zg=="object"?UI.exports=Zg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Zg,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var $I=Q((Qg,jI)=>{(function(e,t,r){typeof Qg=="object"?jI.exports=Qg=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Qg,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var WI=Q((e5,qI)=>{(function(e,t,r){typeof e5=="object"?qI.exports=e5=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(e5,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var HI=Q((t5,GI)=>{(function(e,t,r){typeof t5=="object"?GI.exports=t5=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(t5,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var VI=Q((r5,zI)=>{(function(e,t,r){typeof r5=="object"?zI.exports=r5=t(jt(),_n()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(r5,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var YI=Q((n5,KI)=>{(function(e,t,r){typeof n5=="object"?KI.exports=n5=t(jt(),Ga(),Ha(),qs(),_n()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(n5,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],d=[],p=[],m=[],g=[];(function(){for(var x=[],y=0;y<256;y++)y<128?x[y]=y<<1:x[y]=y<<1^283;for(var b=0,v=0,y=0;y<256;y++){var I=v^v<<1^v<<2^v<<3^v<<4;I=I>>>8^I&255^99,s[b]=I,a[I]=b;var D=x[b],H=x[D],V=x[H],$=x[I]*257^I*16843008;l[b]=$<<24|$>>>8,c[b]=$<<16|$>>>16,u[b]=$<<8|$>>>24,f[b]=$;var $=V*16843009^H*65537^D*257^b*16843008;d[I]=$<<24|$>>>8,p[I]=$<<16|$>>>16,m[I]=$<<8|$>>>24,g[I]=$,b?(b=D^x[x[x[V^D]]],v^=x[x[v]]):b=v=1}})();var h=[0,1,2,4,8,16,32,64,128,27,54],_=i.AES=n.extend({_doReset:o(function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,b=y.words,v=y.sigBytes/4,I=this._nRounds=v+6,D=(I+1)*4,H=this._keySchedule=[],V=0;V<D;V++)V<v?H[V]=b[V]:(x=H[V-1],V%v?v>6&&V%v==4&&(x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255]):(x=x<<8|x>>>24,x=s[x>>>24]<<24|s[x>>>16&255]<<16|s[x>>>8&255]<<8|s[x&255],x^=h[V/v|0]<<24),H[V]=H[V-v]^x);for(var $=this._invKeySchedule=[],Y=0;Y<D;Y++){var V=D-Y;if(Y%4)var x=H[V];else var x=H[V-4];Y<4||V<=4?$[Y]=x:$[Y]=d[s[x>>>24]]^p[s[x>>>16&255]]^m[s[x>>>8&255]]^g[s[x&255]]}}},"_doReset"),encryptBlock:o(function(x,y){this._doCryptBlock(x,y,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(x,y){var b=x[y+1];x[y+1]=x[y+3],x[y+3]=b,this._doCryptBlock(x,y,this._invKeySchedule,d,p,m,g,a);var b=x[y+1];x[y+1]=x[y+3],x[y+3]=b},"decryptBlock"),_doCryptBlock:o(function(x,y,b,v,I,D,H,V){for(var $=this._nRounds,Y=x[y]^b[0],P=x[y+1]^b[1],w=x[y+2]^b[2],z=x[y+3]^b[3],k=4,T=1;T<$;T++){var E=v[Y>>>24]^I[P>>>16&255]^D[w>>>8&255]^H[z&255]^b[k++],R=v[P>>>24]^I[w>>>16&255]^D[z>>>8&255]^H[Y&255]^b[k++],S=v[w>>>24]^I[z>>>16&255]^D[Y>>>8&255]^H[P&255]^b[k++],A=v[z>>>24]^I[Y>>>16&255]^D[P>>>8&255]^H[w&255]^b[k++];Y=E,P=R,w=S,z=A}var E=(V[Y>>>24]<<24|V[P>>>16&255]<<16|V[w>>>8&255]<<8|V[z&255])^b[k++],R=(V[P>>>24]<<24|V[w>>>16&255]<<16|V[z>>>8&255]<<8|V[Y&255])^b[k++],S=(V[w>>>24]<<24|V[z>>>16&255]<<16|V[Y>>>8&255]<<8|V[P&255])^b[k++],A=(V[z>>>24]<<24|V[Y>>>16&255]<<16|V[P>>>8&255]<<8|V[w&255])^b[k++];x[y]=E,x[y+1]=R,x[y+2]=S,x[y+3]=A},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(_)}(),e.AES})});var JI=Q((i5,XI)=>{(function(e,t,r){typeof i5=="object"?XI.exports=i5=t(jt(),Ga(),Ha(),qs(),_n()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(i5,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=i.extend({_doReset:o(function(){for(var h=this._key,_=h.words,x=[],y=0;y<56;y++){var b=a[y]-1;x[y]=_[b>>>5]>>>31-b%32&1}for(var v=this._subKeys=[],I=0;I<16;I++){for(var D=v[I]=[],H=c[I],y=0;y<24;y++)D[y/6|0]|=x[(l[y]-1+H)%28]<<31-y%6,D[4+(y/6|0)]|=x[28+(l[y+24]-1+H)%28]<<31-y%6;D[0]=D[0]<<1|D[0]>>>31;for(var y=1;y<7;y++)D[y]=D[y]>>>(y-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var V=this._invSubKeys=[],y=0;y<16;y++)V[y]=v[15-y]},"_doReset"),encryptBlock:o(function(h,_){this._doCryptBlock(h,_,this._subKeys)},"encryptBlock"),decryptBlock:o(function(h,_){this._doCryptBlock(h,_,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(h,_,x){this._lBlock=h[_],this._rBlock=h[_+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var y=0;y<16;y++){for(var b=x[y],v=this._lBlock,I=this._rBlock,D=0,H=0;H<8;H++)D|=u[H][((I^b[H])&f[H])>>>0];this._lBlock=I,this._rBlock=v^D}var V=this._lBlock;this._lBlock=this._rBlock,this._rBlock=V,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),h[_]=this._lBlock,h[_+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function p(h,_){var x=(this._lBlock>>>h^this._rBlock)&_;this._rBlock^=x,this._lBlock^=x<<h}o(p,"exchangeLR");function m(h,_){var x=(this._rBlock>>>h^this._lBlock)&_;this._lBlock^=x,this._rBlock^=x<<h}o(m,"exchangeRL"),t.DES=i._createHelper(d);var g=s.TripleDES=i.extend({_doReset:o(function(){var h=this._key,_=h.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=_.slice(0,2),y=_.length<4?_.slice(0,2):_.slice(2,4),b=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(n.create(x)),this._des2=d.createEncryptor(n.create(y)),this._des3=d.createEncryptor(n.create(b))},"_doReset"),encryptBlock:o(function(h,_){this._des1.encryptBlock(h,_),this._des2.decryptBlock(h,_),this._des3.encryptBlock(h,_)},"encryptBlock"),decryptBlock:o(function(h,_){this._des3.decryptBlock(h,_),this._des2.encryptBlock(h,_),this._des1.decryptBlock(h,_)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(g)}(),e.TripleDES})});var QI=Q((o5,ZI)=>{(function(e,t,r){typeof o5=="object"?ZI.exports=o5=t(jt(),Ga(),Ha(),qs(),_n()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(o5,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var g=p%f,h=u[g>>>2]>>>24-g%4*8&255;m=(m+d[p]+h)%256;var _=d[p];d[p]=d[m],d[m]=_}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,d=0,p=0;p<4;p++){u=(u+1)%256,f=(f+c[u])%256;var m=c[u];c[u]=c[f],c[f]=m,d|=c[(c[u]+c[f])%256]<<24-p*8}return this._i=u,this._j=f,d}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var tC=Q((s5,eC)=>{(function(e,t,r){typeof s5=="object"?eC.exports=s5=t(jt(),Ga(),Ha(),qs(),_n()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(s5,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,d=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(d){var h=d.words,_=h[0],x=h[1],y=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,v=y>>>16|b&4294901760,I=b<<16|y&65535;g[0]^=y,g[1]^=v,g[2]^=b,g[3]^=I,g[4]^=y,g[5]^=v,g[6]^=b,g[7]^=I;for(var p=0;p<4;p++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,d){var p=this._X;u.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,f[d+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+d[p],g=m&65535,h=m>>>16,_=((g*g>>>17)+g*h>>>15)+h*h,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=_^x}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var nC=Q((a5,rC)=>{(function(e,t,r){typeof a5=="object"?rC.exports=a5=t(jt(),Ga(),Ha(),qs(),_n()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(a5,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,d=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)u.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(d){var h=d.words,_=h[0],x=h[1],y=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,v=y>>>16|b&4294901760,I=b<<16|y&65535;m[0]^=y,m[1]^=v,m[2]^=b,m[3]^=I,m[4]^=y,m[5]^=v,m[6]^=b,m[7]^=I;for(var g=0;g<4;g++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,d){var p=this._X;u.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,f[d+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+d[p],g=m&65535,h=m>>>16,_=((g*g>>>17)+g*h>>>15)+h*h,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=_^x}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var oC=Q((l5,iC)=>{(function(e,t,r){typeof l5=="object"?iC.exports=l5=t(jt(),Ga(),Ha(),qs(),_n()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(l5,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(g,h){let _=h>>24&255,x=h>>16&255,y=h>>8&255,b=h&255,v=g.sbox[0][_]+g.sbox[1][x];return v=v^g.sbox[2][y],v=v+g.sbox[3][b],v}o(u,"F");function f(g,h,_){let x=h,y=_,b;for(let v=0;v<s;++v)x=x^g.pbox[v],y=u(g,x)^y,b=x,x=y,y=b;return b=x,x=y,y=b,y=y^g.pbox[s],x=x^g.pbox[s+1],{left:x,right:y}}o(f,"BlowFish_Encrypt");function d(g,h,_){let x=h,y=_,b;for(let v=s+1;v>1;--v)x=x^g.pbox[v],y=u(g,x)^y,b=x,x=y,y=b;return b=x,x=y,y=b,y=y^g.pbox[1],x=x^g.pbox[0],{left:x,right:y}}o(d,"BlowFish_Decrypt");function p(g,h,_){for(let I=0;I<4;I++){g.sbox[I]=[];for(let D=0;D<256;D++)g.sbox[I][D]=l[I][D]}let x=0;for(let I=0;I<s+2;I++)g.pbox[I]=a[I]^h[x],x++,x>=_&&(x=0);let y=0,b=0,v=0;for(let I=0;I<s+2;I+=2)v=f(g,y,b),y=v.left,b=v.right,g.pbox[I]=y,g.pbox[I+1]=b;for(let I=0;I<4;I++)for(let D=0;D<256;D+=2)v=f(g,y,b),y=v.left,b=v.right,g.sbox[I][D]=y,g.sbox[I][D+1]=b;return!0}o(p,"BlowFishInit");var m=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,h=g.words,_=g.sigBytes/4;p(c,h,_)}},"_doReset"),encryptBlock:o(function(g,h){var _=f(c,g[h],g[h+1]);g[h]=_.left,g[h+1]=_.right},"encryptBlock"),decryptBlock:o(function(g,h){var _=d(c,g[h],g[h+1]);g[h]=_.left,g[h+1]=_.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var b1=Q((c5,sC)=>{(function(e,t,r){typeof c5=="object"?sC.exports=c5=t(jt(),y1(),nI(),oI(),Ga(),lI(),Ha(),S8(),Og(),mI(),w8(),hI(),_I(),bI(),qg(),EI(),qs(),_n(),wI(),DI(),AI(),NI(),OI(),MI(),BI(),$I(),WI(),HI(),VI(),YI(),JI(),QI(),tC(),nC(),oC()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(c5,function(e){return e})});var hc=Q(wn=>{wn.endianness=function(){return"LE"};wn.hostname=function(){return typeof location<"u"?location.hostname:""};wn.loadavg=function(){return[]};wn.uptime=function(){return 0};wn.freemem=function(){return Number.MAX_VALUE};wn.totalmem=function(){return Number.MAX_VALUE};wn.cpus=function(){return[]};wn.type=function(){return"Browser"};wn.release=function(){return typeof navigator<"u"?navigator.appVersion:""};wn.networkInterfaces=wn.getNetworkInterfaces=function(){return{}};wn.arch=function(){return"javascript"};wn.platform=function(){return"browser"};wn.tmpdir=wn.tmpDir=function(){return"/tmp"};wn.EOL=`
`;wn.homedir=function(){return"/"}});var Xu=Q((N1e,pC)=>{"use strict";function z0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}o(z0,"assertPath");function mC(e,t){for(var r="",n=0,i=-1,s=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return r}o(mC,"normalizeStringPosix");function Wq(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}o(Wq,"_format");var Yu={resolve:o(function(){for(var t="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=process.cwd()),s=n),z0(s),s.length!==0&&(t=s+"/"+t,r=s.charCodeAt(0)===47)}return t=mC(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},"resolve"),normalize:o(function(t){if(z0(t),t.length===0)return".";var r=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=mC(t,!r),t.length===0&&!r&&(t="."),t.length>0&&n&&(t+="/"),r?"/"+t:t},"normalize"),isAbsolute:o(function(t){return z0(t),t.length>0&&t.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];z0(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":Yu.normalize(t)},"join"),relative:o(function(t,r){if(z0(t),z0(r),t===r||(t=Yu.resolve(t),r=Yu.resolve(r),t===r))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var i=t.length,s=i-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var l=r.length,c=l-a,u=s<c?s:c,f=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(r.charCodeAt(a+d)===47)return r.slice(a+d+1);if(d===0)return r.slice(a+d)}else s>u&&(t.charCodeAt(n+d)===47?f=d:d===0&&(f=0));break}var p=t.charCodeAt(n+d),m=r.charCodeAt(a+d);if(p!==m)break;p===47&&(f=d)}var g="";for(d=n+f+1;d<=i;++d)(d===i||t.charCodeAt(d)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(a+f):(a+=f,r.charCodeAt(a)===47&&++a,r.slice(a))},"relative"),_makeLong:o(function(t){return t},"_makeLong"),dirname:o(function(t){if(z0(t),t.length===0)return".";for(var r=t.charCodeAt(0),n=r===47,i=-1,s=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!s){i=a;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":t.slice(0,i)},"dirname"),basename:o(function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');z0(t);var n=0,i=-1,s=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var l=r.length-1,c=-1;for(a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(u===47){if(!s){n=a+1;break}}else c===-1&&(s=!1,c=a+1),l>=0&&(u===r.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=c))}return n===i?i=c:i===-1&&(i=t.length),t.slice(n,i)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){n=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":t.slice(n,i)}},"basename"),extname:o(function(t){z0(t);for(var r=-1,n=0,i=-1,s=!0,a=0,l=t.length-1;l>=0;--l){var c=t.charCodeAt(l);if(c===47){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===46?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":t.slice(r,i)},"extname"),format:o(function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return Wq("/",t)},"format"),parse:o(function(t){z0(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var n=t.charCodeAt(0),i=n===47,s;i?(r.root="/",s=1):s=0;for(var a=-1,l=0,c=-1,u=!0,f=t.length-1,d=0;f>=s;--f){if(n=t.charCodeAt(f),n===47){if(!u){l=f+1;break}continue}c===-1&&(u=!1,c=f+1),n===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?c!==-1&&(l===0&&i?r.base=r.name=t.slice(1,c):r.base=r.name=t.slice(l,c)):(l===0&&i?(r.name=t.slice(1,a),r.base=t.slice(1,c)):(r.name=t.slice(l,a),r.base=t.slice(l,c)),r.ext=t.slice(a,c)),l>0?r.dir=t.slice(0,l-1):i&&(r.dir="/"),r},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Yu.posix=Yu;pC.exports=Yu});var $w=Q(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.bytePairEncode=es.BinaryMap=es.binaryMapKey=void 0;var jV=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");es.binaryMapKey=jV;var T6=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,es.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,es.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};es.BinaryMap=T6;var Q0=new Int32Array(128),yi=new Int32Array(128);function $V(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Q0.length<r*2;)yi=new Int32Array(yi.length*2),Q0=new Int32Array(Q0.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),yi[c]=c,Q0[c]=u}yi[r-1]=r-1,Q0[r-1]=2147483647,yi[r]=r,Q0[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,yi[c],yi[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){Q0[yi[i]]=a(i,1),i>0&&(Q0[yi[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)yi[c]=yi[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=Q0[yi[c]];Q0[yi[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,yi[c],yi[c+1]));return l}o($V,"bytePairEncode");es.bytePairEncode=$V});var qw=Q(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});Z5.makeTextEncoder=void 0;var E6=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},I6=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},qV=o(()=>typeof Buffer<"u"?new I6:new E6,"makeTextEncoder");Z5.makeTextEncoder=qV});var Ww=Q(Q5=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});Q5.LRUCache=void 0;var C6=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new S6(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};Q5.LRUCache=C6;var S6=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var P6=Q(t2=>{"use strict";Object.defineProperty(t2,"__esModule",{value:!0});t2.TikTokenizer=void 0;var e2=$w(),WV=qw(),GV=Ww();function HV(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(HV,"loadTikTokenBpe");function zV(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(zV,"escapeRegExp");var w6=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,WV.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new GV.LRUCache(i);let s=typeof t=="string"?HV(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new e2.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>zV(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,e2.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let d of f)r.push(d);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],d=this.cache.get(f);if(d)if(a+d.length<=s)a+=d.length,l+=f.length,r.push(...d);else{let p=s-a;a+=p,l+=f.length,r.push(...d.slice(0,p));break}else{let p=this.textEncoder.encode(f),m=this.encoder.get(p,0,p.length);if(m!==void 0)if(this.cache.set(f,[m]),a+1<=s)a++,l+=f.length,r.push(m);else break;else{let g=(0,e2.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(f,g),a+g.length<=s){a+=g.length,l+=f.length;for(let h of g)r.push(h)}else{let h=s-a;a+=h,l+=f.length;for(let _=0;_<h;_++)r.push(g[_]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:d,encodeLength:p}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=d,l=p,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let p,m;if([p,m]=this.findNextSpecialToken(t,s,n),m>s){let g,h=t.substring(s,m);for(this.regex.lastIndex=0;g=this.regex.exec(h);){let _=g[0],x=this.cache.get(_);if(x)a+=x.length,l+=_.length,i.push(...x),c.set(a,l);else{let y=this.textEncoder.encode(_),b=this.encoder.get(y);if(b!==void 0)this.cache.set(_,[b]),a++,l+=_.length,i.push(b),c.set(a,l);else{let v=(0,e2.bytePairEncode)(y,this.encoder,this.textEncoder.length);this.cache.set(_,v),a+=v.length,l+=_.length;for(let I of v)i.push(I);c.set(a,l)}}}}if(p!==null){if(s=s+this.encodeSpecialToken(i,p),a++,l+=p[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,d=0;for(let[p,m]of c)if(p>=u){f=p,d=m;break}if(f>r){let p=this.encode(t,n),m=p.slice(p.length-r);return{tokenIds:m,text:this.decode(m)}}return{tokenIds:i.slice(f),text:t.slice(d)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};t2.TikTokenizer=w6});var Qw=Q(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.createTokenizer=un.createByEncoderName=un.createByModelName=un.getRegexByModel=un.getRegexByEncoder=un.getSpecialTokensByModel=un.getSpecialTokensByEncoder=un.MODEL_TO_ENCODING=void 0;var VV=P6(),KV=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);un.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var r2="<|endoftext|>",Gw="<|fim_prefix|>",Hw="<|fim_middle|>",zw="<|fim_suffix|>",Vw="<|endofprompt|>",G1="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Kw="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",YV=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Yw=YV.join("|");function D6(e){let t="";if(un.MODEL_TO_ENCODING.has(e))t=un.MODEL_TO_ENCODING.get(e);else for(let[r,n]of KV)if(e.startsWith(r)){t=n;break}return t}o(D6,"getEncoderFromModelName");async function XV(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}o(XV,"fetchAndSaveFile");function R6(e){let t=new Map([[r2,50256]]);switch(e){case"o200k_base":t=new Map([[r2,199999],[Vw,200018]]);break;case"cl100k_base":t=new Map([[r2,100257],[Gw,100258],[Hw,100259],[zw,100260],[Vw,100276]]);break;case"p50k_edit":t=new Map([[r2,50256],[Gw,50281],[Hw,50282],[zw,50283]]);break;default:break}return t}o(R6,"getSpecialTokensByEncoder");un.getSpecialTokensByEncoder=R6;function JV(e){let t=D6(e);return R6(t)}o(JV,"getSpecialTokensByModel");un.getSpecialTokensByModel=JV;function Xw(e){switch(e){case"o200k_base":return Yw;case"cl100k_base":return Kw;default:break}return G1}o(Xw,"getRegexByEncoder");un.getRegexByEncoder=Xw;function ZV(e){let t=D6(e);return Xw(t)}o(ZV,"getRegexByModel");un.getRegexByModel=ZV;async function QV(e,t=null){return Jw(D6(e),t)}o(QV,"createByModelName");un.createByModelName=QV;async function Jw(e,t=null){let r,n,i=R6(e);switch(e){case"o200k_base":r=Yw,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=Kw,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=G1,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=G1,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=G1,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=G1,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=require("fs"),a=Xu(),l=a.basename(n),c=a.resolve("","..","model");s.existsSync(c)||s.mkdirSync(c,{recursive:!0});let u=a.resolve(c,l);return s.existsSync(u)||(console.log(`Downloading file from ${n}`),await XV(n,u),console.log(`Saved file to ${u}`)),Zw(u,i,r)}o(Jw,"createByEncoderName");un.createByEncoderName=Jw;function Zw(e,t,r,n=8192){return new VV.TikTokenizer(e,t,r,n)}o(Zw,"createTokenizer");un.createTokenizer=Zw});var eP=Q(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.createTokenizer=fn.createByEncoderName=fn.createByModelName=fn.getSpecialTokensByModel=fn.getSpecialTokensByEncoder=fn.getRegexByModel=fn.getRegexByEncoder=fn.MODEL_TO_ENCODING=fn.TikTokenizer=void 0;var eK=P6();Object.defineProperty(fn,"TikTokenizer",{enumerable:!0,get:o(function(){return eK.TikTokenizer},"get")});var il=Qw();Object.defineProperty(fn,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return il.MODEL_TO_ENCODING},"get")});Object.defineProperty(fn,"getRegexByEncoder",{enumerable:!0,get:o(function(){return il.getRegexByEncoder},"get")});Object.defineProperty(fn,"getRegexByModel",{enumerable:!0,get:o(function(){return il.getRegexByModel},"get")});Object.defineProperty(fn,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return il.getSpecialTokensByEncoder},"get")});Object.defineProperty(fn,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return il.getSpecialTokensByModel},"get")});Object.defineProperty(fn,"createByModelName",{enumerable:!0,get:o(function(){return il.createByModelName},"get")});Object.defineProperty(fn,"createByEncoderName",{enumerable:!0,get:o(function(){return il.createByEncoderName},"get")});Object.defineProperty(fn,"createTokenizer",{enumerable:!0,get:o(function(){return il.createTokenizer},"get")})});var H6=Q((MTe,SP)=>{"use strict";SP.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var PP=Q((BTe,wP)=>{"use strict";var VZ=H6();function KZ(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=VZ(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(KZ,"parsePath");wP.exports=KZ});var FP=Q(($Te,NP)=>{"use strict";var YZ=PP();function XZ(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(XZ,"_interopDefaultLegacy");var JZ=XZ(YZ);function ZZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(ZZ,"getAugmentedNamespace");var RP={},QZ="text/plain",eQ="us-ascii",DP=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),tQ=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(d=>{let[p,m=""]=d.split("=").map(g=>g.trim());return p==="charset"&&(m=m.toLowerCase(),m===eQ)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==QZ)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function rQ(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return tQ(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let d=f[0],p=f.index,m=i.pathname.slice(l,p);c+=m.replace(/\/{2,}/g,"/"),c+=d,l=p+d.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];DP(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])DP(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(rQ,"normalizeUrl");var nQ=Object.freeze({__proto__:null,default:rQ}),iQ=ZZ(nQ);Object.defineProperty(RP,"__esModule",{value:!0});var oQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sQ=iQ,aQ=AP(sQ),lQ=JZ.default,cQ=AP(lQ);function AP(e){return e&&e.__esModule?e:{default:e}}o(AP,"_interopRequireDefault");var kP=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":oQ(r))!=="object"&&(r={stripHash:!1}),t=(0,aQ.default)(t,r));var s=(0,cQ.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");kP.MAX_INPUT_LENGTH=2048;var uQ=RP.default=kP;NP.exports=uQ});var MP=Q((WTe,LP)=>{"use strict";var fQ=H6();function OP(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=fQ(e);if(e=e.substring(e.indexOf("://")+3),OP(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(OP,"isSsh");LP.exports=OP});var jP=Q((HTe,BP)=>{"use strict";var dQ=FP(),UP=MP();function mQ(e){let t=dQ(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),UP(t.protocols)||t.protocols.length===0&&UP(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(mQ,"gitUp");BP.exports=mQ});var qP=Q((VTe,$P)=>{"use strict";var pQ=jP();function z6(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(y){return typeof y=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=pQ(e),i=n.resource.split("."),s=null;switch(n.toString=function(y){return z6.stringify(this,y)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),d=s.indexOf("issues",2),p=s.indexOf("src",2),m=s.indexOf("raw",2),g=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:d>0?d-1:u>0?u-1:f>0?f-1:p>0?p-1:m>0?m-1:g>0?g-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&d<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var h=s.length>a&&s[a+1]==="-"?a+1:a;s.length>h+2&&["raw","src","blob","tree","edit"].indexOf(s[h+1])>=0&&(n.filepathtype=s[h+1],n.ref=s[h+2],s.length>h+3&&(n.filepath=s.slice(h+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var _=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=_.exec(n.pathname);return x!=null&&(n.source="bitbucket-server",x[1]==="users"?n.owner="~"+x[2]:n.owner=x[2],n.organization=n.owner,n.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=xQ(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(z6,"gitUrlParse");z6.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?gQ(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+hQ(e)+i;default:return e.href}};function gQ(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(gQ,"buildToken");function hQ(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(hQ,"buildPath");function xQ(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(xQ,"findLongestMatchingSubstring");$P.exports=z6});var JP=Q((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=Xu();scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var x=0,y=1;;){var b=e[t++];if(x+=(127&b)*y,y*=128,!(128&b))break}return x}o(n,"_");function i(){var x=n();return UTF8ArrayToString(e,(t+=x)-x,x)}o(i,"n");function s(x,y){if(x)throw new Error(y)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),d=0;d<f;++d){var p=i();u.neededDynlibs.push(p)}}else for(s(a!=="dylink.0");t<r;){var m=e[t++],g=n();if(m===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(m===2)for(f=n(),d=0;d<f;++d)p=i(),u.neededDynlibs.push(p);else if(m===3)for(var h=n();h--;){var _=i();256&n()&&u.tlsExports.add(_)}else if(m===4)for(h=n();h--;)i(),_=i(),(3&n())==1&&u.weakImports.add(_);else t+=g}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,d=>u(new Uint8Array(d)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,d=s.length;f<d;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,d=i.length;f<d;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let d=0;d<l;d++)u[d]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,x=t.substr(_,100).split(`
`)[0],y,b=x.match(QUERY_WORD_REGEX)[0];switch(h){case 2:y=new RangeError(`Bad node name '${b}'`);break;case 3:y=new RangeError(`Bad field name '${b}'`);break;case 4:y=new RangeError(`Bad capture name @${b}`);break;case 5:y=new TypeError(`Bad pattern structure at offset ${_}: '${x}'...`),b="";break;default:y=new SyntaxError(`Bad syntax at offset ${_}: '${x}'...`),b=""}throw y.index=_,y.length=b.length,C._free(n),y}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let h=0;h<a;h++){let _=C._ts_query_capture_name_for_id(i,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");c[h]=UTF8ToString(_,x)}for(let h=0;h<s;h++){let _=C._ts_query_string_value_for_id(i,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");u[h]=UTF8ToString(_,x)}let f=new Array(l),d=new Array(l),p=new Array(l),m=new Array(l),g=new Array(l);for(let h=0;h<l;h++){let _=C._ts_query_predicates_for_pattern(i,h,TRANSFER_BUFFER),x=getValue(TRANSFER_BUFFER,"i32");m[h]=[],g[h]=[];let y=[],b=_;for(let v=0;v<x;v++){let I=getValue(b,"i32");b+=SIZE_OF_INT;let D=getValue(b,"i32");if(b+=SIZE_OF_INT,I===PREDICATE_STEP_TYPE_CAPTURE)y.push({type:"capture",name:c[D]});else if(I===PREDICATE_STEP_TYPE_STRING)y.push({type:"string",value:u[D]});else if(y.length>0){if(y[0].type!=="string")throw new Error("Predicates must begin with a literal value");let H=y[0].value,V=!0;switch(H){case"not-eq?":V=!1;case"eq?":if(y.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(y.length-1));if(y[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${y[1].value}"`);if(y[2].type==="capture"){let w=y[1].name,z=y[2].name;g[h].push(function(k){let T,E;for(let R of k)R.name===w&&(T=R.node),R.name===z&&(E=R.node);return T===void 0||E===void 0||T.text===E.text===V})}else{let w=y[1].name,z=y[2].value;g[h].push(function(k){for(let T of k)if(T.name===w)return T.node.text===z===V;return!0})}break;case"not-match?":V=!1;case"match?":if(y.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${y.length-1}.`);if(y[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${y[1].value}".`);if(y[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${y[2].value}.`);let $=y[1].name,Y=new RegExp(y[2].value);g[h].push(function(w){for(let z of w)if(z.name===$)return Y.test(z.node.text)===V;return!0});break;case"set!":if(y.length<2||y.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${y.length-1}.`);if(y.some(w=>w.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[h]||(f[h]={}),f[h][y[1].value]=y[2]?y[2].value:null;break;case"is?":case"is-not?":if(y.length<2||y.length>3)throw new Error(`Wrong number of arguments to \`#${H}\` predicate. Expected 1 or 2. Got ${y.length-1}.`);if(y.some(w=>w.type!=="string"))throw new Error(`Arguments to \`#${H}\` predicate must be a strings.".`);let P=H==="is?"?d:p;P[h]||(P[h]={}),P[h][y[1].value]=y[2]?y[2].value:null;break;default:m[h].push({operator:H,operands:y.slice(1)})}y.length=0}}Object.freeze(f[h]),Object.freeze(d[h]),Object.freeze(p[h])}return C._free(n),new Query(INTERNAL,i,c,g,m,Object.freeze(f),Object.freeze(d),Object.freeze(p))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,d=l;for(let p=0;p<a;p++){let m=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=new Array(g);if(d=unmarshalCaptures(this,t.tree,d,h),this.textPredicates[m].every(_=>_(h))){u[f++]={pattern:m,captures:h};let _=this.setProperties[m];_&&(u[p].setProperties=_);let x=this.assertedProperties[m];x&&(u[p].assertedProperties=x);let y=this.refutedProperties[m];y&&(u[p].refutedProperties=y)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],d=l;for(let p=0;p<a;p++){let m=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=getValue(d,"i32");if(d+=SIZE_OF_INT,f.length=g,d=unmarshalCaptures(this,t.tree,d,f),this.textPredicates[m].every(_=>_(f))){let _=f[h],x=this.setProperties[m];x&&(_.setProperties=x);let y=this.assertedProperties[m];y&&(_.assertedProperties=y);let b=this.refutedProperties[m];b&&(_.refutedProperties=b),u.push(_)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var kf=Q(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.stringArray=oi.array=oi.func=oi.error=oi.number=oi.string=oi.boolean=void 0;function Uee(e){return e===!0||e===!1}o(Uee,"boolean");oi.boolean=Uee;function vD(e){return typeof e=="string"||e instanceof String}o(vD,"string");oi.string=vD;function Bee(e){return typeof e=="number"||e instanceof Number}o(Bee,"number");oi.number=Bee;function jee(e){return e instanceof Error}o(jee,"error");oi.error=jee;function $ee(e){return typeof e=="function"}o($ee,"func");oi.func=$ee;function TD(e){return Array.isArray(e)}o(TD,"array");oi.array=TD;function qee(e){return TD(e)&&e.every(t=>vD(t))}o(qee,"stringArray");oi.stringArray=qee});var X7=Q(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.Message=Xe.NotificationType9=Xe.NotificationType8=Xe.NotificationType7=Xe.NotificationType6=Xe.NotificationType5=Xe.NotificationType4=Xe.NotificationType3=Xe.NotificationType2=Xe.NotificationType1=Xe.NotificationType0=Xe.NotificationType=Xe.RequestType9=Xe.RequestType8=Xe.RequestType7=Xe.RequestType6=Xe.RequestType5=Xe.RequestType4=Xe.RequestType3=Xe.RequestType2=Xe.RequestType1=Xe.RequestType=Xe.RequestType0=Xe.AbstractMessageSignature=Xe.ParameterStructures=Xe.ResponseError=Xe.ErrorCodes=void 0;var Mc=kf(),S7;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(S7||(Xe.ErrorCodes=S7={}));var w7=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=Mc.number(t)?t:S7.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Xe.ResponseError=w7;var $i=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Xe.ParameterStructures=$i;$i.auto=new $i("auto");$i.byPosition=new $i("byPosition");$i.byName=new $i("byName");var kr=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return $i.auto}};Xe.AbstractMessageSignature=kr;var P7=class extends kr{static{o(this,"RequestType0")}constructor(t){super(t,0)}};Xe.RequestType0=P7;var D7=class extends kr{static{o(this,"RequestType")}constructor(t,r=$i.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.RequestType=D7;var R7=class extends kr{static{o(this,"RequestType1")}constructor(t,r=$i.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.RequestType1=R7;var A7=class extends kr{static{o(this,"RequestType2")}constructor(t){super(t,2)}};Xe.RequestType2=A7;var k7=class extends kr{static{o(this,"RequestType3")}constructor(t){super(t,3)}};Xe.RequestType3=k7;var N7=class extends kr{static{o(this,"RequestType4")}constructor(t){super(t,4)}};Xe.RequestType4=N7;var F7=class extends kr{static{o(this,"RequestType5")}constructor(t){super(t,5)}};Xe.RequestType5=F7;var O7=class extends kr{static{o(this,"RequestType6")}constructor(t){super(t,6)}};Xe.RequestType6=O7;var L7=class extends kr{static{o(this,"RequestType7")}constructor(t){super(t,7)}};Xe.RequestType7=L7;var M7=class extends kr{static{o(this,"RequestType8")}constructor(t){super(t,8)}};Xe.RequestType8=M7;var U7=class extends kr{static{o(this,"RequestType9")}constructor(t){super(t,9)}};Xe.RequestType9=U7;var B7=class extends kr{static{o(this,"NotificationType")}constructor(t,r=$i.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.NotificationType=B7;var j7=class extends kr{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};Xe.NotificationType0=j7;var $7=class extends kr{static{o(this,"NotificationType1")}constructor(t,r=$i.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.NotificationType1=$7;var q7=class extends kr{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};Xe.NotificationType2=q7;var W7=class extends kr{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};Xe.NotificationType3=W7;var G7=class extends kr{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};Xe.NotificationType4=G7;var H7=class extends kr{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};Xe.NotificationType5=H7;var z7=class extends kr{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};Xe.NotificationType6=z7;var V7=class extends kr{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};Xe.NotificationType7=V7;var K7=class extends kr{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};Xe.NotificationType8=K7;var Y7=class extends kr{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};Xe.NotificationType9=Y7;var ED;(function(e){function t(i){let s=i;return s&&Mc.string(s.method)&&(Mc.string(s.id)||Mc.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&Mc.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Mc.string(s.id)||Mc.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(ED||(Xe.Message=ED={}))});var Z7=Q(ul=>{"use strict";var ID;Object.defineProperty(ul,"__esModule",{value:!0});ul.LRUCache=ul.LinkedMap=ul.Touch=void 0;var si;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(si||(ul.Touch=si={}));var U2=class{static{o(this,"LinkedMap")}constructor(){this[ID]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=si.None){let n=this._map.get(t);if(n)return r!==si.None&&this.touch(n,r),n.value}set(t,r,n=si.None){let i=this._map.get(t);if(i)i.value=r,n!==si.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case si.None:this.addItemLast(i);break;case si.First:this.addItemFirst(i);break;case si.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(ID=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==si.First&&r!==si.Last)){if(r===si.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===si.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};ul.LinkedMap=U2;var J7=class extends U2{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=si.AsNew){return super.get(t,r)}peek(t){return super.get(t,si.None)}set(t,r){return super.set(t,r,si.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ul.LRUCache=J7});var SD=Q(B2=>{"use strict";Object.defineProperty(B2,"__esModule",{value:!0});B2.Disposable=void 0;var CD;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(CD||(B2.Disposable=CD={}))});var fl=Q(t9=>{"use strict";Object.defineProperty(t9,"__esModule",{value:!0});var Q7;function e9(){if(Q7===void 0)throw new Error("No runtime abstraction layer installed");return Q7}o(e9,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Q7=r}o(t,"install"),e.install=t})(e9||(e9={}));t9.default=e9});var Ff=Q(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.Emitter=Nf.Event=void 0;var Wee=fl(),wD;(function(e){let t={dispose(){}};e.None=function(){return t}})(wD||(Nf.Event=wD={}));var r9=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,Wee.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},j2=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new r9),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Nf.Emitter=j2;j2._noop=function(){}});var W2=Q(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.CancellationTokenSource=Of.CancellationToken=void 0;var Gee=fl(),Hee=kf(),n9=Ff(),$2;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n9.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n9.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||Hee.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})($2||(Of.CancellationToken=$2={}));var zee=Object.freeze(function(e,t){let r=(0,Gee.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),q2=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?zee:(this._emitter||(this._emitter=new n9.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},i9=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new q2),this._token}cancel(){this._token?this._token.cancel():this._token=$2.Cancelled}dispose(){this._token?this._token instanceof q2&&this._token.dispose():this._token=$2.None}};Of.CancellationTokenSource=i9});var PD=Q(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.SharedArrayReceiverStrategy=Lf.SharedArraySenderStrategy=void 0;var Vee=W2(),ym;(function(e){e.Continue=0,e.Cancelled=1})(ym||(ym={}));var o9=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=ym.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,ym.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Lf.SharedArraySenderStrategy=o9;var s9=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ym.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},a9=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new s9(t)}cancel(){}dispose(){}},l9=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new Vee.CancellationTokenSource:new a9(r)}};Lf.SharedArrayReceiverStrategy=l9});var u9=Q(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});G2.Semaphore=void 0;var Kee=fl(),c9=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Kee.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};G2.Semaphore=c9});var RD=Q(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.ReadableStreamMessageReader=dl.AbstractMessageReader=dl.MessageReader=void 0;var d9=fl(),Mf=kf(),f9=Ff(),Yee=u9(),DD;(function(e){function t(r){let n=r;return n&&Mf.func(n.listen)&&Mf.func(n.dispose)&&Mf.func(n.onError)&&Mf.func(n.onClose)&&Mf.func(n.onPartialMessage)}o(t,"is"),e.is=t})(DD||(dl.MessageReader=DD={}));var H2=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new f9.Emitter,this.closeEmitter=new f9.Emitter,this.partialMessageEmitter=new f9.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Mf.string(t.message)?t.message:"unknown"}`)}};dl.AbstractMessageReader=H2;var m9;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,d9.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(m9||(m9={}));var p9=class extends H2{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=m9.fromOptions(r),this.buffer=(0,d9.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Yee.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,d9.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};dl.ReadableStreamMessageReader=p9});var OD=Q(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.WriteableStreamMessageWriter=ml.AbstractMessageWriter=ml.MessageWriter=void 0;var AD=fl(),bm=kf(),Xee=u9(),kD=Ff(),Jee="Content-Length: ",ND=`\r
`,FD;(function(e){function t(r){let n=r;return n&&bm.func(n.dispose)&&bm.func(n.onClose)&&bm.func(n.onError)&&bm.func(n.write)}o(t,"is"),e.is=t})(FD||(ml.MessageWriter=FD={}));var z2=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new kD.Emitter,this.closeEmitter=new kD.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${bm.string(t.message)?t.message:"unknown"}`)}};ml.AbstractMessageWriter=z2;var g9;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,AD.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,AD.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(g9||(g9={}));var h9=class extends z2{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=g9.fromOptions(r),this.errorCount=0,this.writeSemaphore=new Xee.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Jee,n.byteLength.toString(),ND),i.push(ND),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};ml.WriteableStreamMessageWriter=h9});var LD=Q(V2=>{"use strict";Object.defineProperty(V2,"__esModule",{value:!0});V2.AbstractMessageBuffer=void 0;var Zee=13,Qee=10,ete=`\r
`,x9=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Zee:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case Qee:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(ete);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],d=f.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,d),m=f.substr(d+1).trim();l.set(t?p.toLowerCase():p,m)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};V2.AbstractMessageBuffer=x9});var $D=Q(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.createMessageConnection=gt.ConnectionOptions=gt.MessageStrategy=gt.CancellationStrategy=gt.CancellationSenderStrategy=gt.CancellationReceiverStrategy=gt.RequestCancellationReceiverStrategy=gt.IdCancellationReceiverStrategy=gt.ConnectionStrategy=gt.ConnectionError=gt.ConnectionErrors=gt.LogTraceNotification=gt.SetTraceNotification=gt.TraceFormat=gt.TraceValues=gt.Trace=gt.NullLogger=gt.ProgressType=gt.ProgressToken=void 0;var MD=fl(),Kr=kf(),ct=X7(),UD=Z7(),vm=Ff(),_9=W2(),Im;(function(e){e.type=new ct.NotificationType("$/cancelRequest")})(Im||(Im={}));var y9;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(y9||(gt.ProgressToken=y9={}));var Tm;(function(e){e.type=new ct.NotificationType("$/progress")})(Tm||(Tm={}));var b9=class{static{o(this,"ProgressType")}constructor(){}};gt.ProgressType=b9;var v9;(function(e){function t(r){return Kr.func(r)}o(t,"is"),e.is=t})(v9||(v9={}));gt.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var cr;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(cr||(gt.Trace=cr={}));var BD;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(BD||(gt.TraceValues=BD={}));(function(e){function t(n){if(!Kr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(cr||(gt.Trace=cr={}));var fo;(function(e){e.Text="text",e.JSON="json"})(fo||(gt.TraceFormat=fo={}));(function(e){function t(r){return Kr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(fo||(gt.TraceFormat=fo={}));var T9;(function(e){e.type=new ct.NotificationType("$/setTrace")})(T9||(gt.SetTraceNotification=T9={}));var K2;(function(e){e.type=new ct.NotificationType("$/logTrace")})(K2||(gt.LogTraceNotification=K2={}));var Em;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Em||(gt.ConnectionErrors=Em={}));var Uf=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};gt.ConnectionError=Uf;var E9;(function(e){function t(r){let n=r;return n&&Kr.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(E9||(gt.ConnectionStrategy=E9={}));var Y2;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Kr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Kr.func(n.dispose))}o(t,"is"),e.is=t})(Y2||(gt.IdCancellationReceiverStrategy=Y2={}));var I9;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Kr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Kr.func(n.dispose))}o(t,"is"),e.is=t})(I9||(gt.RequestCancellationReceiverStrategy=I9={}));var X2;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new _9.CancellationTokenSource}});function t(r){return Y2.is(r)||I9.is(r)}o(t,"is"),e.is=t})(X2||(gt.CancellationReceiverStrategy=X2={}));var J2;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Im.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Kr.func(n.sendCancellation)&&Kr.func(n.cleanup)}o(t,"is"),e.is=t})(J2||(gt.CancellationSenderStrategy=J2={}));var Z2;(function(e){e.Message=Object.freeze({receiver:X2.Message,sender:J2.Message});function t(r){let n=r;return n&&X2.is(n.receiver)&&J2.is(n.sender)}o(t,"is"),e.is=t})(Z2||(gt.CancellationStrategy=Z2={}));var Q2;(function(e){function t(r){let n=r;return n&&Kr.func(n.handleMessage)}o(t,"is"),e.is=t})(Q2||(gt.MessageStrategy=Q2={}));var jD;(function(e){function t(r){let n=r;return n&&(Z2.is(n.cancellationStrategy)||E9.is(n.connectionStrategy)||Q2.is(n.messageStrategy))}o(t,"is"),e.is=t})(jD||(gt.ConnectionOptions=jD={}));var P0;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(P0||(P0={}));function tte(e,t,r,n){let i=r!==void 0?r:gt.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,d,p=new Map,m=new Map,g,h=new UD.LinkedMap,_=new Map,x=new Set,y=new Map,b=cr.Off,v=fo.Text,I,D=P0.New,H=new vm.Emitter,V=new vm.Emitter,$=new vm.Emitter,Y=new vm.Emitter,P=new vm.Emitter,w=n&&n.cancellationStrategy?n.cancellationStrategy:Z2.Message;function z(O){if(O===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+O.toString()}o(z,"createRequestQueueKey");function k(O){return O===null?"res-unknown-"+(++l).toString():"res-"+O.toString()}o(k,"createResponseQueueKey");function T(){return"not-"+(++a).toString()}o(T,"createNotificationQueueKey");function E(O,Z){ct.Message.isRequest(Z)?O.set(z(Z.id),Z):ct.Message.isResponse(Z)?O.set(k(Z.id),Z):O.set(T(),Z)}o(E,"addMessageToQueue");function R(O){}o(R,"cancelUndispatched");function S(){return D===P0.Listening}o(S,"isListening");function A(){return D===P0.Closed}o(A,"isClosed");function N(){return D===P0.Disposed}o(N,"isDisposed");function F(){(D===P0.New||D===P0.Listening)&&(D=P0.Closed,V.fire(void 0))}o(F,"closeHandler");function M(O){H.fire([O,void 0,void 0])}o(M,"readErrorHandler");function G(O){H.fire(O)}o(G,"writeErrorHandler"),e.onClose(F),e.onError(M),t.onClose(F),t.onError(G);function se(){g||h.size===0||(g=(0,MD.default)().timer.setImmediate(()=>{g=void 0,he()}))}o(se,"triggerMessageQueue");function ye(O){ct.Message.isRequest(O)?ze(O):ct.Message.isNotification(O)?Ze(O):ct.Message.isResponse(O)?Ve(O):L(O)}o(ye,"handleMessage");function he(){if(h.size===0)return;let O=h.shift();try{let Z=n?.messageStrategy;Q2.is(Z)?Z.handleMessage(O,ye):ye(O)}finally{se()}}o(he,"processMessageQueue");let Ue=o(O=>{try{if(ct.Message.isNotification(O)&&O.method===Im.type.method){let Z=O.params.id,fe=z(Z),pe=h.get(fe);if(ct.Message.isRequest(pe)){let Me=n?.connectionStrategy,je=Me&&Me.cancelUndispatched?Me.cancelUndispatched(pe,R):void 0;if(je&&(je.error!==void 0||je.result!==void 0)){h.delete(fe),y.delete(Z),je.id=pe.id,le(je,O.method,Date.now()),t.write(je).catch(()=>i.error("Sending response for canceled message failed."));return}}let Re=y.get(Z);if(Re!==void 0){Re.cancel(),re(O);return}else x.add(Z)}E(h,O)}finally{se()}},"callback");function ze(O){if(N())return;function Z(De,W,X){let ae={jsonrpc:c,id:O.id};De instanceof ct.ResponseError?ae.error=De.toJson():ae.result=De===void 0?null:De,le(ae,W,X),t.write(ae).catch(()=>i.error("Sending response failed."))}o(Z,"reply");function fe(De,W,X){let ae={jsonrpc:c,id:O.id,error:De.toJson()};le(ae,W,X),t.write(ae).catch(()=>i.error("Sending response failed."))}o(fe,"replyError");function pe(De,W,X){De===void 0&&(De=null);let ae={jsonrpc:c,id:O.id,result:De};le(ae,W,X),t.write(ae).catch(()=>i.error("Sending response failed."))}o(pe,"replySuccess"),q(O);let Re=f.get(O.method),Me,je;Re&&(Me=Re.type,je=Re.handler);let We=Date.now();if(je||u){let De=O.id??String(Date.now()),W=Y2.is(w.receiver)?w.receiver.createCancellationTokenSource(De):w.receiver.createCancellationTokenSource(O);O.id!==null&&x.has(O.id)&&W.cancel(),O.id!==null&&y.set(De,W);try{let X;if(je)if(O.params===void 0){if(Me!==void 0&&Me.numberOfParams!==0){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${O.method} defines ${Me.numberOfParams} params but received none.`),O.method,We);return}X=je(W.token)}else if(Array.isArray(O.params)){if(Me!==void 0&&Me.parameterStructures===ct.ParameterStructures.byName){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by name but received parameters by position`),O.method,We);return}X=je(...O.params,W.token)}else{if(Me!==void 0&&Me.parameterStructures===ct.ParameterStructures.byPosition){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by position but received parameters by name`),O.method,We);return}X=je(O.params,W.token)}else u&&(X=u(O.method,O.params,W.token));let ae=X;X?ae.then?ae.then(me=>{y.delete(De),Z(me,O.method,We)},me=>{y.delete(De),me instanceof ct.ResponseError?fe(me,O.method,We):me&&Kr.string(me.message)?fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${me.message}`),O.method,We):fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,We)}):(y.delete(De),Z(X,O.method,We)):(y.delete(De),pe(X,O.method,We))}catch(X){y.delete(De),X instanceof ct.ResponseError?Z(X,O.method,We):X&&Kr.string(X.message)?fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${X.message}`),O.method,We):fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,We)}}else fe(new ct.ResponseError(ct.ErrorCodes.MethodNotFound,`Unhandled method ${O.method}`),O.method,We)}o(ze,"handleRequest");function Ve(O){if(!N())if(O.id===null)O.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(O.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Z=O.id,fe=_.get(Z);if(xe(O,fe),fe!==void 0){_.delete(Z);try{if(O.error){let pe=O.error;fe.reject(new ct.ResponseError(pe.code,pe.message,pe.data))}else if(O.result!==void 0)fe.resolve(O.result);else throw new Error("Should never happen.")}catch(pe){pe.message?i.error(`Response handler '${fe.method}' failed with message: ${pe.message}`):i.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}o(Ve,"handleResponse");function Ze(O){if(N())return;let Z,fe;if(O.method===Im.type.method){let pe=O.params.id;x.delete(pe),re(O);return}else{let pe=p.get(O.method);pe&&(fe=pe.handler,Z=pe.type)}if(fe||d)try{if(re(O),fe)if(O.params===void 0)Z!==void 0&&Z.numberOfParams!==0&&Z.parameterStructures!==ct.ParameterStructures.byName&&i.error(`Notification ${O.method} defines ${Z.numberOfParams} params but received none.`),fe();else if(Array.isArray(O.params)){let pe=O.params;O.method===Tm.type.method&&pe.length===2&&y9.is(pe[0])?fe({token:pe[0],value:pe[1]}):(Z!==void 0&&(Z.parameterStructures===ct.ParameterStructures.byName&&i.error(`Notification ${O.method} defines parameters by name but received parameters by position`),Z.numberOfParams!==O.params.length&&i.error(`Notification ${O.method} defines ${Z.numberOfParams} params but received ${pe.length} arguments`)),fe(...pe))}else Z!==void 0&&Z.parameterStructures===ct.ParameterStructures.byPosition&&i.error(`Notification ${O.method} defines parameters by position but received parameters by name`),fe(O.params);else d&&d(O.method,O.params)}catch(pe){pe.message?i.error(`Notification handler '${O.method}' failed with message: ${pe.message}`):i.error(`Notification handler '${O.method}' failed unexpectedly.`)}else $.fire(O)}o(Ze,"handleNotification");function L(O){if(!O){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(O,null,4)}`);let Z=O;if(Kr.string(Z.id)||Kr.number(Z.id)){let fe=Z.id,pe=_.get(fe);pe&&pe.reject(new Error("The received response has neither a result nor an error property."))}}o(L,"handleInvalidMessage");function ne(O){if(O!=null)switch(b){case cr.Verbose:return JSON.stringify(O,null,4);case cr.Compact:return JSON.stringify(O);default:return}}o(ne,"stringifyTrace");function B(O){if(!(b===cr.Off||!I))if(v===fo.Text){let Z;(b===cr.Verbose||b===cr.Compact)&&O.params&&(Z=`Params: ${ne(O.params)}

`),I.log(`Sending request '${O.method} - (${O.id})'.`,Z)}else ue("send-request",O)}o(B,"traceSendingRequest");function ge(O){if(!(b===cr.Off||!I))if(v===fo.Text){let Z;(b===cr.Verbose||b===cr.Compact)&&(O.params?Z=`Params: ${ne(O.params)}

`:Z=`No parameters provided.

`),I.log(`Sending notification '${O.method}'.`,Z)}else ue("send-notification",O)}o(ge,"traceSendingNotification");function le(O,Z,fe){if(!(b===cr.Off||!I))if(v===fo.Text){let pe;(b===cr.Verbose||b===cr.Compact)&&(O.error&&O.error.data?pe=`Error data: ${ne(O.error.data)}

`:O.result?pe=`Result: ${ne(O.result)}

`:O.error===void 0&&(pe=`No result returned.

`)),I.log(`Sending response '${Z} - (${O.id})'. Processing request took ${Date.now()-fe}ms`,pe)}else ue("send-response",O)}o(le,"traceSendingResponse");function q(O){if(!(b===cr.Off||!I))if(v===fo.Text){let Z;(b===cr.Verbose||b===cr.Compact)&&O.params&&(Z=`Params: ${ne(O.params)}

`),I.log(`Received request '${O.method} - (${O.id})'.`,Z)}else ue("receive-request",O)}o(q,"traceReceivedRequest");function re(O){if(!(b===cr.Off||!I||O.method===K2.type.method))if(v===fo.Text){let Z;(b===cr.Verbose||b===cr.Compact)&&(O.params?Z=`Params: ${ne(O.params)}

`:Z=`No parameters provided.

`),I.log(`Received notification '${O.method}'.`,Z)}else ue("receive-notification",O)}o(re,"traceReceivedNotification");function xe(O,Z){if(!(b===cr.Off||!I))if(v===fo.Text){let fe;if((b===cr.Verbose||b===cr.Compact)&&(O.error&&O.error.data?fe=`Error data: ${ne(O.error.data)}

`:O.result?fe=`Result: ${ne(O.result)}

`:O.error===void 0&&(fe=`No result returned.

`)),Z){let pe=O.error?` Request failed: ${O.error.message} (${O.error.code}).`:"";I.log(`Received response '${Z.method} - (${O.id})' in ${Date.now()-Z.timerStart}ms.${pe}`,fe)}else I.log(`Received response ${O.id} without active response promise.`,fe)}else ue("receive-response",O)}o(xe,"traceReceivedResponse");function ue(O,Z){if(!I||b===cr.Off)return;let fe={isLSPMessage:!0,type:O,message:Z,timestamp:Date.now()};I.log(fe)}o(ue,"logLSPMessage");function de(){if(A())throw new Uf(Em.Closed,"Connection is closed.");if(N())throw new Uf(Em.Disposed,"Connection is disposed.")}o(de,"throwIfClosedOrDisposed");function Ee(){if(S())throw new Uf(Em.AlreadyListening,"Connection is already listening")}o(Ee,"throwIfListening");function we(){if(!S())throw new Error("Call listen() first.")}o(we,"throwIfNotListening");function Ne(O){return O===void 0?null:O}o(Ne,"undefinedToNull");function $e(O){if(O!==null)return O}o($e,"nullToUndefined");function Ke(O){return O!=null&&!Array.isArray(O)&&typeof O=="object"}o(Ke,"isNamedParam");function tt(O,Z){switch(O){case ct.ParameterStructures.auto:return Ke(Z)?$e(Z):[Ne(Z)];case ct.ParameterStructures.byName:if(!Ke(Z))throw new Error("Received parameters by name but param is not an object literal.");return $e(Z);case ct.ParameterStructures.byPosition:return[Ne(Z)];default:throw new Error(`Unknown parameter structure ${O.toString()}`)}}o(tt,"computeSingleParam");function rt(O,Z){let fe,pe=O.numberOfParams;switch(pe){case 0:fe=void 0;break;case 1:fe=tt(O.parameterStructures,Z[0]);break;default:fe=[];for(let Re=0;Re<Z.length&&Re<pe;Re++)fe.push(Ne(Z[Re]));if(Z.length<pe)for(let Re=Z.length;Re<pe;Re++)fe.push(null);break}return fe}o(rt,"computeMessageParams");let lt={sendNotification:o((O,...Z)=>{de();let fe,pe;if(Kr.string(O)){fe=O;let Me=Z[0],je=0,We=ct.ParameterStructures.auto;ct.ParameterStructures.is(Me)&&(je=1,We=Me);let De=Z.length,W=De-je;switch(W){case 0:pe=void 0;break;case 1:pe=tt(We,Z[je]);break;default:if(We===ct.ParameterStructures.byName)throw new Error(`Received ${W} parameters for 'by Name' notification parameter structure.`);pe=Z.slice(je,De).map(X=>Ne(X));break}}else{let Me=Z;fe=O.method,pe=rt(O,Me)}let Re={jsonrpc:c,method:fe,params:pe};return ge(Re),t.write(Re).catch(Me=>{throw i.error("Sending notification failed."),Me})},"sendNotification"),onNotification:o((O,Z)=>{de();let fe;return Kr.func(O)?d=O:Z&&(Kr.string(O)?(fe=O,p.set(O,{type:void 0,handler:Z})):(fe=O.method,p.set(O.method,{type:O,handler:Z}))),{dispose:o(()=>{fe!==void 0?p.delete(fe):d=void 0},"dispose")}},"onNotification"),onProgress:o((O,Z,fe)=>{if(m.has(Z))throw new Error(`Progress handler for token ${Z} already registered`);return m.set(Z,fe),{dispose:o(()=>{m.delete(Z)},"dispose")}},"onProgress"),sendProgress:o((O,Z,fe)=>lt.sendNotification(Tm.type,{token:Z,value:fe}),"sendProgress"),onUnhandledProgress:Y.event,sendRequest:o((O,...Z)=>{de(),we();let fe,pe,Re;if(Kr.string(O)){fe=O;let De=Z[0],W=Z[Z.length-1],X=0,ae=ct.ParameterStructures.auto;ct.ParameterStructures.is(De)&&(X=1,ae=De);let me=Z.length;_9.CancellationToken.is(W)&&(me=me-1,Re=W);let _e=me-X;switch(_e){case 0:pe=void 0;break;case 1:pe=tt(ae,Z[X]);break;default:if(ae===ct.ParameterStructures.byName)throw new Error(`Received ${_e} parameters for 'by Name' request parameter structure.`);pe=Z.slice(X,me).map(Te=>Ne(Te));break}}else{let De=Z;fe=O.method,pe=rt(O,De);let W=O.numberOfParams;Re=_9.CancellationToken.is(De[W])?De[W]:void 0}let Me=s++,je;Re&&(je=Re.onCancellationRequested(()=>{let De=w.sender.sendCancellation(lt,Me);return De===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Me}`),Promise.resolve()):De.catch(()=>{i.log(`Sending cancellation messages for id ${Me} failed`)})}));let We={jsonrpc:c,id:Me,method:fe,params:pe};return B(We),typeof w.sender.enableCancellation=="function"&&w.sender.enableCancellation(We),new Promise(async(De,W)=>{let X=o(_e=>{De(_e),w.sender.cleanup(Me),je?.dispose()},"resolveWithCleanup"),ae=o(_e=>{W(_e),w.sender.cleanup(Me),je?.dispose()},"rejectWithCleanup"),me={method:fe,timerStart:Date.now(),resolve:X,reject:ae};try{await t.write(We),_.set(Me,me)}catch(_e){throw i.error("Sending request failed."),me.reject(new ct.ResponseError(ct.ErrorCodes.MessageWriteError,_e.message?_e.message:"Unknown reason")),_e}})},"sendRequest"),onRequest:o((O,Z)=>{de();let fe=null;return v9.is(O)?(fe=void 0,u=O):Kr.string(O)?(fe=null,Z!==void 0&&(fe=O,f.set(O,{handler:Z,type:void 0}))):Z!==void 0&&(fe=O.method,f.set(O.method,{type:O,handler:Z})),{dispose:o(()=>{fe!==null&&(fe!==void 0?f.delete(fe):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>_.size>0,"hasPendingResponse"),trace:o(async(O,Z,fe)=>{let pe=!1,Re=fo.Text;fe!==void 0&&(Kr.boolean(fe)?pe=fe:(pe=fe.sendNotification||!1,Re=fe.traceFormat||fo.Text)),b=O,v=Re,b===cr.Off?I=void 0:I=Z,pe&&!A()&&!N()&&await lt.sendNotification(T9.type,{value:cr.toString(O)})},"trace"),onError:H.event,onClose:V.event,onUnhandledNotification:$.event,onDispose:P.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(N())return;D=P0.Disposed,P.fire(void 0);let O=new ct.ResponseError(ct.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Z of _.values())Z.reject(O);_=new Map,y=new Map,x=new Set,h=new UD.LinkedMap,Kr.func(t.dispose)&&t.dispose(),Kr.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{de(),Ee(),D=P0.Listening,e.listen(Ue)},"listen"),inspect:o(()=>{(0,MD.default)().console.log("inspect")},"inspect")};return lt.onNotification(K2.type,O=>{if(b===cr.Off||!I)return;let Z=b===cr.Verbose||b===cr.Compact;I.log(O.message,Z?O.verbose:void 0)}),lt.onNotification(Tm.type,O=>{let Z=m.get(O.token);Z?Z(O.value):Y.fire(O)}),lt}o(tte,"createMessageConnection");gt.createMessageConnection=tte});var eh=Q(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.ProgressType=ce.ProgressToken=ce.createMessageConnection=ce.NullLogger=ce.ConnectionOptions=ce.ConnectionStrategy=ce.AbstractMessageBuffer=ce.WriteableStreamMessageWriter=ce.AbstractMessageWriter=ce.MessageWriter=ce.ReadableStreamMessageReader=ce.AbstractMessageReader=ce.MessageReader=ce.SharedArrayReceiverStrategy=ce.SharedArraySenderStrategy=ce.CancellationToken=ce.CancellationTokenSource=ce.Emitter=ce.Event=ce.Disposable=ce.LRUCache=ce.Touch=ce.LinkedMap=ce.ParameterStructures=ce.NotificationType9=ce.NotificationType8=ce.NotificationType7=ce.NotificationType6=ce.NotificationType5=ce.NotificationType4=ce.NotificationType3=ce.NotificationType2=ce.NotificationType1=ce.NotificationType0=ce.NotificationType=ce.ErrorCodes=ce.ResponseError=ce.RequestType9=ce.RequestType8=ce.RequestType7=ce.RequestType6=ce.RequestType5=ce.RequestType4=ce.RequestType3=ce.RequestType2=ce.RequestType1=ce.RequestType0=ce.RequestType=ce.Message=ce.RAL=void 0;ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=void 0;var Cr=X7();Object.defineProperty(ce,"Message",{enumerable:!0,get:o(function(){return Cr.Message},"get")});Object.defineProperty(ce,"RequestType",{enumerable:!0,get:o(function(){return Cr.RequestType},"get")});Object.defineProperty(ce,"RequestType0",{enumerable:!0,get:o(function(){return Cr.RequestType0},"get")});Object.defineProperty(ce,"RequestType1",{enumerable:!0,get:o(function(){return Cr.RequestType1},"get")});Object.defineProperty(ce,"RequestType2",{enumerable:!0,get:o(function(){return Cr.RequestType2},"get")});Object.defineProperty(ce,"RequestType3",{enumerable:!0,get:o(function(){return Cr.RequestType3},"get")});Object.defineProperty(ce,"RequestType4",{enumerable:!0,get:o(function(){return Cr.RequestType4},"get")});Object.defineProperty(ce,"RequestType5",{enumerable:!0,get:o(function(){return Cr.RequestType5},"get")});Object.defineProperty(ce,"RequestType6",{enumerable:!0,get:o(function(){return Cr.RequestType6},"get")});Object.defineProperty(ce,"RequestType7",{enumerable:!0,get:o(function(){return Cr.RequestType7},"get")});Object.defineProperty(ce,"RequestType8",{enumerable:!0,get:o(function(){return Cr.RequestType8},"get")});Object.defineProperty(ce,"RequestType9",{enumerable:!0,get:o(function(){return Cr.RequestType9},"get")});Object.defineProperty(ce,"ResponseError",{enumerable:!0,get:o(function(){return Cr.ResponseError},"get")});Object.defineProperty(ce,"ErrorCodes",{enumerable:!0,get:o(function(){return Cr.ErrorCodes},"get")});Object.defineProperty(ce,"NotificationType",{enumerable:!0,get:o(function(){return Cr.NotificationType},"get")});Object.defineProperty(ce,"NotificationType0",{enumerable:!0,get:o(function(){return Cr.NotificationType0},"get")});Object.defineProperty(ce,"NotificationType1",{enumerable:!0,get:o(function(){return Cr.NotificationType1},"get")});Object.defineProperty(ce,"NotificationType2",{enumerable:!0,get:o(function(){return Cr.NotificationType2},"get")});Object.defineProperty(ce,"NotificationType3",{enumerable:!0,get:o(function(){return Cr.NotificationType3},"get")});Object.defineProperty(ce,"NotificationType4",{enumerable:!0,get:o(function(){return Cr.NotificationType4},"get")});Object.defineProperty(ce,"NotificationType5",{enumerable:!0,get:o(function(){return Cr.NotificationType5},"get")});Object.defineProperty(ce,"NotificationType6",{enumerable:!0,get:o(function(){return Cr.NotificationType6},"get")});Object.defineProperty(ce,"NotificationType7",{enumerable:!0,get:o(function(){return Cr.NotificationType7},"get")});Object.defineProperty(ce,"NotificationType8",{enumerable:!0,get:o(function(){return Cr.NotificationType8},"get")});Object.defineProperty(ce,"NotificationType9",{enumerable:!0,get:o(function(){return Cr.NotificationType9},"get")});Object.defineProperty(ce,"ParameterStructures",{enumerable:!0,get:o(function(){return Cr.ParameterStructures},"get")});var C9=Z7();Object.defineProperty(ce,"LinkedMap",{enumerable:!0,get:o(function(){return C9.LinkedMap},"get")});Object.defineProperty(ce,"LRUCache",{enumerable:!0,get:o(function(){return C9.LRUCache},"get")});Object.defineProperty(ce,"Touch",{enumerable:!0,get:o(function(){return C9.Touch},"get")});var rte=SD();Object.defineProperty(ce,"Disposable",{enumerable:!0,get:o(function(){return rte.Disposable},"get")});var qD=Ff();Object.defineProperty(ce,"Event",{enumerable:!0,get:o(function(){return qD.Event},"get")});Object.defineProperty(ce,"Emitter",{enumerable:!0,get:o(function(){return qD.Emitter},"get")});var WD=W2();Object.defineProperty(ce,"CancellationTokenSource",{enumerable:!0,get:o(function(){return WD.CancellationTokenSource},"get")});Object.defineProperty(ce,"CancellationToken",{enumerable:!0,get:o(function(){return WD.CancellationToken},"get")});var GD=PD();Object.defineProperty(ce,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return GD.SharedArraySenderStrategy},"get")});Object.defineProperty(ce,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return GD.SharedArrayReceiverStrategy},"get")});var S9=RD();Object.defineProperty(ce,"MessageReader",{enumerable:!0,get:o(function(){return S9.MessageReader},"get")});Object.defineProperty(ce,"AbstractMessageReader",{enumerable:!0,get:o(function(){return S9.AbstractMessageReader},"get")});Object.defineProperty(ce,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return S9.ReadableStreamMessageReader},"get")});var w9=OD();Object.defineProperty(ce,"MessageWriter",{enumerable:!0,get:o(function(){return w9.MessageWriter},"get")});Object.defineProperty(ce,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return w9.AbstractMessageWriter},"get")});Object.defineProperty(ce,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return w9.WriteableStreamMessageWriter},"get")});var nte=LD();Object.defineProperty(ce,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return nte.AbstractMessageBuffer},"get")});var Wn=$D();Object.defineProperty(ce,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Wn.ConnectionStrategy},"get")});Object.defineProperty(ce,"ConnectionOptions",{enumerable:!0,get:o(function(){return Wn.ConnectionOptions},"get")});Object.defineProperty(ce,"NullLogger",{enumerable:!0,get:o(function(){return Wn.NullLogger},"get")});Object.defineProperty(ce,"createMessageConnection",{enumerable:!0,get:o(function(){return Wn.createMessageConnection},"get")});Object.defineProperty(ce,"ProgressToken",{enumerable:!0,get:o(function(){return Wn.ProgressToken},"get")});Object.defineProperty(ce,"ProgressType",{enumerable:!0,get:o(function(){return Wn.ProgressType},"get")});Object.defineProperty(ce,"Trace",{enumerable:!0,get:o(function(){return Wn.Trace},"get")});Object.defineProperty(ce,"TraceValues",{enumerable:!0,get:o(function(){return Wn.TraceValues},"get")});Object.defineProperty(ce,"TraceFormat",{enumerable:!0,get:o(function(){return Wn.TraceFormat},"get")});Object.defineProperty(ce,"SetTraceNotification",{enumerable:!0,get:o(function(){return Wn.SetTraceNotification},"get")});Object.defineProperty(ce,"LogTraceNotification",{enumerable:!0,get:o(function(){return Wn.LogTraceNotification},"get")});Object.defineProperty(ce,"ConnectionErrors",{enumerable:!0,get:o(function(){return Wn.ConnectionErrors},"get")});Object.defineProperty(ce,"ConnectionError",{enumerable:!0,get:o(function(){return Wn.ConnectionError},"get")});Object.defineProperty(ce,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Wn.CancellationReceiverStrategy},"get")});Object.defineProperty(ce,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Wn.CancellationSenderStrategy},"get")});Object.defineProperty(ce,"CancellationStrategy",{enumerable:!0,get:o(function(){return Wn.CancellationStrategy},"get")});Object.defineProperty(ce,"MessageStrategy",{enumerable:!0,get:o(function(){return Wn.MessageStrategy},"get")});var ite=fl();ce.RAL=ite.default});var zD=Q(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});var ss=eh(),th=class e extends ss.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};th.emptyBuffer=new Uint8Array(0);var P9=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.socket=t,this._onData=new ss.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,ss.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),ss.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),ss.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),ss.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},D9=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),ss.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),ss.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),ss.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},ote=new TextEncoder,HD=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new th(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(ote.encode(JSON.stringify(e,void 0,0)))},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new P9(e),"asReadableStream"),asWritableStream:o(e=>new D9(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:o(()=>clearTimeout(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function R9(){return HD}o(R9,"RIL");(function(e){function t(){ss.RAL.install(HD)}o(t,"install"),e.install=t})(R9||(R9={}));A9.default=R9});var Uc=Q(mo=>{"use strict";var ste=mo&&mo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ate=mo&&mo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ste(t,e,r)};Object.defineProperty(mo,"__esModule",{value:!0});mo.createMessageConnection=mo.BrowserMessageWriter=mo.BrowserMessageReader=void 0;var lte=zD();lte.default.install();var Bf=eh();ate(eh(),mo);var k9=class extends Bf.AbstractMessageReader{static{o(this,"BrowserMessageReader")}constructor(t){super(),this._onData=new Bf.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};mo.BrowserMessageReader=k9;var N9=class extends Bf.AbstractMessageWriter{static{o(this,"BrowserMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};mo.BrowserMessageWriter=N9;function cte(e,t,r,n){return r===void 0&&(r=Bf.NullLogger),Bf.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Bf.createMessageConnection)(e,t,r,n)}o(cte,"createMessageConnection");mo.createMessageConnection=cte});var F9=Q((eSe,VD)=>{"use strict";VD.exports=Uc()});var uh={};W0(uh,{AnnotatedTextEdit:()=>la,ChangeAnnotation:()=>Bc,ChangeAnnotationIdentifier:()=>Hn,CodeAction:()=>g_,CodeActionContext:()=>p_,CodeActionKind:()=>m_,CodeActionTriggerKind:()=>Am,CodeDescription:()=>G9,CodeLens:()=>h_,Color:()=>nh,ColorInformation:()=>U9,ColorPresentation:()=>B9,Command:()=>jc,CompletionItem:()=>t_,CompletionItemKind:()=>Y9,CompletionItemLabelDetails:()=>e_,CompletionItemTag:()=>J9,CompletionList:()=>r_,CreateFile:()=>$f,DeleteFile:()=>Wf,Diagnostic:()=>wm,DiagnosticRelatedInformation:()=>ih,DiagnosticSeverity:()=>q9,DiagnosticTag:()=>W9,DocumentHighlight:()=>a_,DocumentHighlightKind:()=>s_,DocumentLink:()=>__,DocumentSymbol:()=>d_,DocumentUri:()=>O9,EOL:()=>ute,FoldingRange:()=>$9,FoldingRangeKind:()=>j9,FormattingOptions:()=>x_,Hover:()=>n_,InlayHint:()=>w_,InlayHintKind:()=>lh,InlayHintLabelPart:()=>ch,InlineCompletionContext:()=>N_,InlineCompletionItem:()=>D_,InlineCompletionList:()=>R_,InlineCompletionTriggerKind:()=>A_,InlineValueContext:()=>S_,InlineValueEvaluatableExpression:()=>C_,InlineValueText:()=>E_,InlineValueVariableLookup:()=>I_,InsertReplaceEdit:()=>Z9,InsertTextFormat:()=>X9,InsertTextMode:()=>Q9,Location:()=>Sm,LocationLink:()=>M9,MarkedString:()=>Rm,MarkupContent:()=>Gf,MarkupKind:()=>ah,OptionalVersionedTextDocumentIdentifier:()=>Dm,ParameterInformation:()=>i_,Position:()=>Gn,Range:()=>vr,RenameFile:()=>qf,SelectedCompletionInfo:()=>k_,SelectionRange:()=>y_,SemanticTokenModifiers:()=>v_,SemanticTokenTypes:()=>b_,SemanticTokens:()=>T_,SignatureInformation:()=>o_,StringValue:()=>P_,SymbolInformation:()=>u_,SymbolKind:()=>l_,SymbolTag:()=>c_,TextDocument:()=>O_,TextDocumentEdit:()=>Pm,TextDocumentIdentifier:()=>z9,TextDocumentItem:()=>K9,TextEdit:()=>as,URI:()=>rh,VersionedTextDocumentIdentifier:()=>V9,WorkspaceChange:()=>H9,WorkspaceEdit:()=>oh,WorkspaceFolder:()=>F_,WorkspaceSymbol:()=>f_,integer:()=>L9,uinteger:()=>Cm});var O9,rh,L9,Cm,Gn,vr,Sm,M9,nh,U9,B9,j9,$9,ih,q9,W9,G9,wm,jc,as,Bc,Hn,la,Pm,$f,qf,Wf,oh,jf,sh,H9,z9,V9,Dm,K9,ah,Gf,Y9,X9,J9,Z9,Q9,e_,t_,r_,Rm,n_,i_,o_,s_,a_,l_,c_,u_,f_,d_,m_,Am,p_,g_,h_,x_,__,y_,b_,v_,T_,E_,I_,C_,S_,lh,ch,w_,P_,D_,R_,A_,k_,N_,F_,ute,O_,L_,J,km=Mq(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(O9||(O9={}));(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(rh||(rh={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(L9||(L9={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Cm||(Cm={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Cm.MAX_VALUE),i===Number.MAX_VALUE&&(i=Cm.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.uinteger(i.line)&&J.uinteger(i.character)}o(r,"is"),e.is=r})(Gn||(Gn={}));(function(e){function t(n,i,s,a){if(J.uinteger(n)&&J.uinteger(i)&&J.uinteger(s)&&J.uinteger(a))return{start:Gn.create(n,i),end:Gn.create(s,a)};if(Gn.is(n)&&Gn.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&Gn.is(i.start)&&Gn.is(i.end)}o(r,"is"),e.is=r})(vr||(vr={}));(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.range)&&(J.string(i.uri)||J.undefined(i.uri))}o(r,"is"),e.is=r})(Sm||(Sm={}));(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.targetRange)&&J.string(i.targetUri)&&vr.is(i.targetSelectionRange)&&(vr.is(i.originSelectionRange)||J.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(M9||(M9={}));(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.numberRange(i.red,0,1)&&J.numberRange(i.green,0,1)&&J.numberRange(i.blue,0,1)&&J.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(nh||(nh={}));(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.range)&&nh.is(i.color)}o(r,"is"),e.is=r})(U9||(U9={}));(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.string(i.label)&&(J.undefined(i.textEdit)||as.is(i))&&(J.undefined(i.additionalTextEdits)||J.typedArray(i.additionalTextEdits,as.is))}o(r,"is"),e.is=r})(B9||(B9={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(j9||(j9={}));(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return J.defined(s)&&(u.startCharacter=s),J.defined(a)&&(u.endCharacter=a),J.defined(l)&&(u.kind=l),J.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.uinteger(i.startLine)&&J.uinteger(i.startLine)&&(J.undefined(i.startCharacter)||J.uinteger(i.startCharacter))&&(J.undefined(i.endCharacter)||J.uinteger(i.endCharacter))&&(J.undefined(i.kind)||J.string(i.kind))}o(r,"is"),e.is=r})($9||($9={}));(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&Sm.is(i.location)&&J.string(i.message)}o(r,"is"),e.is=r})(ih||(ih={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(q9||(q9={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(W9||(W9={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&J.string(n.href)}o(t,"is"),e.is=t})(G9||(G9={}));(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return J.defined(s)&&(u.severity=s),J.defined(a)&&(u.code=a),J.defined(l)&&(u.source=l),J.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return J.defined(s)&&vr.is(s.range)&&J.string(s.message)&&(J.number(s.severity)||J.undefined(s.severity))&&(J.integer(s.code)||J.string(s.code)||J.undefined(s.code))&&(J.undefined(s.codeDescription)||J.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(J.string(s.source)||J.undefined(s.source))&&(J.undefined(s.relatedInformation)||J.typedArray(s.relatedInformation,ih.is))}o(r,"is"),e.is=r})(wm||(wm={}));(function(e){function t(n,i,...s){let a={title:n,command:i};return J.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.title)&&J.string(i.command)}o(r,"is"),e.is=r})(jc||(jc={}));(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return J.objectLiteral(a)&&J.string(a.newText)&&vr.is(a.range)}o(i,"is"),e.is=i})(as||(as={}));(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.string(i.label)&&(J.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(J.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(Bc||(Bc={}));(function(e){function t(r){let n=r;return J.string(n)}o(t,"is"),e.is=t})(Hn||(Hn={}));(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return as.is(a)&&(Bc.is(a.annotationId)||Hn.is(a.annotationId))}o(i,"is"),e.is=i})(la||(la={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&Dm.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(Pm||(Pm={}));(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&J.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||J.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||J.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Hn.is(i.annotationId))}o(r,"is"),e.is=r})($f||($f={}));(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&J.string(i.oldUri)&&J.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||J.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||J.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Hn.is(i.annotationId))}o(r,"is"),e.is=r})(qf||(qf={}));(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&J.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||J.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||J.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Hn.is(i.annotationId))}o(r,"is"),e.is=r})(Wf||(Wf={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>J.string(i.kind)?$f.is(i)||qf.is(i)||Wf.is(i):Pm.is(i)))}o(t,"is"),e.is=t})(oh||(oh={}));jf=class{static{o(this,"TextEditChangeImpl")}constructor(t,r){this.edits=t,this.changeAnnotations=r}insert(t,r,n){let i,s;if(n===void 0?i=as.insert(t,r):Hn.is(n)?(s=n,i=la.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=la.insert(t,r,s)),this.edits.push(i),s!==void 0)return s}replace(t,r,n){let i,s;if(n===void 0?i=as.replace(t,r):Hn.is(n)?(s=n,i=la.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=la.replace(t,r,s)),this.edits.push(i),s!==void 0)return s}delete(t,r){let n,i;if(r===void 0?n=as.del(t):Hn.is(r)?(i=r,n=la.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=la.del(t,i)),this.edits.push(n),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},sh=class{static{o(this,"ChangeAnnotations")}constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,r){let n;if(Hn.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},H9=class{static{o(this,"WorkspaceChange")}constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new sh(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(r=>{if(Pm.is(r)){let n=new jf(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(r=>{let n=new jf(t.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(Dm.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){let i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new jf(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[t];if(!r){let n=[];this._workspaceEdit.changes[t]=n,r=new jf(n),this._textEditChanges[t]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new sh,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Bc.is(r)||Hn.is(r)?i=r:n=r;let s,a;if(i===void 0?s=$f.create(t,n):(a=Hn.is(i)?i:this._changeAnnotations.manage(i),s=$f.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}renameFile(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;Bc.is(n)||Hn.is(n)?s=n:i=n;let a,l;if(s===void 0?a=qf.create(t,r,i):(l=Hn.is(s)?s:this._changeAnnotations.manage(s),a=qf.create(t,r,i,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l}deleteFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Bc.is(r)||Hn.is(r)?i=r:n=r;let s,a;if(i===void 0?s=Wf.create(t,n):(a=Hn.is(i)?i:this._changeAnnotations.manage(i),s=Wf.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}};(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)}o(r,"is"),e.is=r})(z9||(z9={}));(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)&&J.integer(i.version)}o(r,"is"),e.is=r})(V9||(V9={}));(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)&&(i.version===null||J.integer(i.version))}o(r,"is"),e.is=r})(Dm||(Dm={}));(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)&&J.string(i.languageId)&&J.integer(i.version)&&J.string(i.text)}o(r,"is"),e.is=r})(K9||(K9={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(ah||(ah={}));(function(e){function t(r){let n=r;return J.objectLiteral(r)&&ah.is(n.kind)&&J.string(n.value)}o(t,"is"),e.is=t})(Gf||(Gf={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Y9||(Y9={}));(function(e){e.PlainText=1,e.Snippet=2})(X9||(X9={}));(function(e){e.Deprecated=1})(J9||(J9={}));(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&J.string(i.newText)&&vr.is(i.insert)&&vr.is(i.replace)}o(r,"is"),e.is=r})(Z9||(Z9={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Q9||(Q9={}));(function(e){function t(r){let n=r;return n&&(J.string(n.detail)||n.detail===void 0)&&(J.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(e_||(e_={}));(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(t_||(t_={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(r_||(r_={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return J.string(i)||J.objectLiteral(i)&&J.string(i.language)&&J.string(i.value)}o(r,"is"),e.is=r})(Rm||(Rm={}));(function(e){function t(r){let n=r;return!!n&&J.objectLiteral(n)&&(Gf.is(n.contents)||Rm.is(n.contents)||J.typedArray(n.contents,Rm.is))&&(r.range===void 0||vr.is(r.range))}o(t,"is"),e.is=t})(n_||(n_={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(i_||(i_={}));(function(e){function t(r,n,...i){let s={label:r};return J.defined(n)&&(s.documentation=n),J.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(o_||(o_={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(s_||(s_={}));(function(e){function t(r,n){let i={range:r};return J.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(a_||(a_={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(l_||(l_={}));(function(e){e.Deprecated=1})(c_||(c_={}));(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(u_||(u_={}));(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(f_||(f_={}));(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&J.string(i.name)&&J.number(i.kind)&&vr.is(i.range)&&vr.is(i.selectionRange)&&(i.detail===void 0||J.string(i.detail))&&(i.deprecated===void 0||J.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(d_||(d_={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(m_||(m_={}));(function(e){e.Invoked=1,e.Automatic=2})(Am||(Am={}));(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.typedArray(i.diagnostics,wm.is)&&(i.only===void 0||J.typedArray(i.only,J.string))&&(i.triggerKind===void 0||i.triggerKind===Am.Invoked||i.triggerKind===Am.Automatic)}o(r,"is"),e.is=r})(p_||(p_={}));(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):jc.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&J.string(i.title)&&(i.diagnostics===void 0||J.typedArray(i.diagnostics,wm.is))&&(i.kind===void 0||J.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||jc.is(i.command))&&(i.isPreferred===void 0||J.boolean(i.isPreferred))&&(i.edit===void 0||oh.is(i.edit))}o(r,"is"),e.is=r})(g_||(g_={}));(function(e){function t(n,i){let s={range:n};return J.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&vr.is(i.range)&&(J.undefined(i.command)||jc.is(i.command))}o(r,"is"),e.is=r})(h_||(h_={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.uinteger(i.tabSize)&&J.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(x_||(x_={}));(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&vr.is(i.range)&&(J.undefined(i.target)||J.string(i.target))}o(r,"is"),e.is=r})(__||(__={}));(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(y_||(y_={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(b_||(b_={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(v_||(v_={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(T_||(T_={}));(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&vr.is(i.range)&&J.string(i.text)}o(r,"is"),e.is=r})(E_||(E_={}));(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&vr.is(i.range)&&J.boolean(i.caseSensitiveLookup)&&(J.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(I_||(I_={}));(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&vr.is(i.range)&&(J.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(C_||(C_={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&vr.is(n.stoppedLocation)}o(r,"is"),e.is=r})(S_||(S_={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(lh||(lh={}));(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&(i.tooltip===void 0||J.string(i.tooltip)||Gf.is(i.tooltip))&&(i.location===void 0||Sm.is(i.location))&&(i.command===void 0||jc.is(i.command))}o(r,"is"),e.is=r})(ch||(ch={}));(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&Gn.is(i.position)&&(J.string(i.label)||J.typedArray(i.label,ch.is))&&(i.kind===void 0||lh.is(i.kind))&&i.textEdits===void 0||J.typedArray(i.textEdits,as.is)&&(i.tooltip===void 0||J.string(i.tooltip)||Gf.is(i.tooltip))&&(i.paddingLeft===void 0||J.boolean(i.paddingLeft))&&(i.paddingRight===void 0||J.boolean(i.paddingRight))}o(r,"is"),e.is=r})(w_||(w_={}));(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(P_||(P_={}));(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(D_||(D_={}));(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(R_||(R_={}));(function(e){e.Invoked=0,e.Automatic=1})(A_||(A_={}));(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(k_||(k_={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(N_||(N_={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&rh.is(n.uri)&&J.string(n.name)}o(t,"is"),e.is=t})(F_||(F_={}));ute=[`
`,`\r
`,"\r"];(function(e){function t(s,a,l,c){return new L_(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(J.defined(a)&&J.string(a.uri)&&(J.undefined(a.languageId)||J.string(a.languageId))&&J.uinteger(a.lineCount)&&J.func(a.getText)&&J.func(a.positionAt)&&J.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,d)=>{let p=f.range.start.line-d.range.start.line;return p===0?f.range.start.character-d.range.start.character:p}),u=l.length;for(let f=c.length-1;f>=0;f--){let d=c[f],p=s.offsetAt(d.range.start),m=s.offsetAt(d.range.end);if(m<=u)l=l.substring(0,p)+d.newText+l.substring(m,l.length);else throw new Error("Overlapping edit");u=p}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,d=0,p=0;for(;f<c.length&&d<u.length;)a(c[f],u[d])<=0?s[p++]=c[f++]:s[p++]=u[d++];for(;f<c.length;)s[p++]=c[f++];for(;d<u.length;)s[p++]=u[d++];return s}o(i,"mergeSort")})(O_||(O_={}));L_=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Gn.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return Gn.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(m){return typeof m<"u"}o(r,"defined"),e.defined=r;function n(m){return typeof m>"u"}o(n,"undefined"),e.undefined=n;function i(m){return m===!0||m===!1}o(i,"boolean"),e.boolean=i;function s(m){return t.call(m)==="[object String]"}o(s,"string"),e.string=s;function a(m){return t.call(m)==="[object Number]"}o(a,"number"),e.number=a;function l(m,g,h){return t.call(m)==="[object Number]"&&g<=m&&m<=h}o(l,"numberRange"),e.numberRange=l;function c(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}o(c,"integer"),e.integer=c;function u(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(m){return t.call(m)==="[object Function]"}o(f,"func"),e.func=f;function d(m){return m!==null&&typeof m=="object"}o(d,"objectLiteral"),e.objectLiteral=d;function p(m,g){return Array.isArray(m)&&m.every(g)}o(p,"typedArray"),e.typedArray=p})(J||(J={}))});var $r=Q(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.ProtocolNotificationType=qi.ProtocolNotificationType0=qi.ProtocolRequestType=qi.ProtocolRequestType0=qi.RegistrationType=qi.MessageDirection=void 0;var Hf=Uc(),KD;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(KD||(qi.MessageDirection=KD={}));var M_=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};qi.RegistrationType=M_;var U_=class extends Hf.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};qi.ProtocolRequestType0=U_;var B_=class extends Hf.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,Hf.ParameterStructures.byName)}};qi.ProtocolRequestType=B_;var j_=class extends Hf.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};qi.ProtocolNotificationType0=j_;var $_=class extends Hf.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,Hf.ParameterStructures.byName)}};qi.ProtocolNotificationType=$_});var fh=Q(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.objectLiteral=dn.typedArray=dn.stringArray=dn.array=dn.func=dn.error=dn.number=dn.string=dn.boolean=void 0;function fte(e){return e===!0||e===!1}o(fte,"boolean");dn.boolean=fte;function YD(e){return typeof e=="string"||e instanceof String}o(YD,"string");dn.string=YD;function dte(e){return typeof e=="number"||e instanceof Number}o(dte,"number");dn.number=dte;function mte(e){return e instanceof Error}o(mte,"error");dn.error=mte;function pte(e){return typeof e=="function"}o(pte,"func");dn.func=pte;function XD(e){return Array.isArray(e)}o(XD,"array");dn.array=XD;function gte(e){return XD(e)&&e.every(t=>YD(t))}o(gte,"stringArray");dn.stringArray=gte;function hte(e,t){return Array.isArray(e)&&e.every(t)}o(hte,"typedArray");dn.typedArray=hte;function xte(e){return e!==null&&typeof e=="object"}o(xte,"objectLiteral");dn.objectLiteral=xte});var QD=Q(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.ImplementationRequest=void 0;var JD=$r(),ZD;(function(e){e.method="textDocument/implementation",e.messageDirection=JD.MessageDirection.clientToServer,e.type=new JD.ProtocolRequestType(e.method)})(ZD||(dh.ImplementationRequest=ZD={}))});var rR=Q(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.TypeDefinitionRequest=void 0;var eR=$r(),tR;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=eR.MessageDirection.clientToServer,e.type=new eR.ProtocolRequestType(e.method)})(tR||(mh.TypeDefinitionRequest=tR={}))});var oR=Q(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.DidChangeWorkspaceFoldersNotification=zf.WorkspaceFoldersRequest=void 0;var ph=$r(),nR;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=ph.MessageDirection.serverToClient,e.type=new ph.ProtocolRequestType0(e.method)})(nR||(zf.WorkspaceFoldersRequest=nR={}));var iR;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=ph.MessageDirection.clientToServer,e.type=new ph.ProtocolNotificationType(e.method)})(iR||(zf.DidChangeWorkspaceFoldersNotification=iR={}))});var lR=Q(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.ConfigurationRequest=void 0;var sR=$r(),aR;(function(e){e.method="workspace/configuration",e.messageDirection=sR.MessageDirection.serverToClient,e.type=new sR.ProtocolRequestType(e.method)})(aR||(gh.ConfigurationRequest=aR={}))});var fR=Q(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.ColorPresentationRequest=Vf.DocumentColorRequest=void 0;var hh=$r(),cR;(function(e){e.method="textDocument/documentColor",e.messageDirection=hh.MessageDirection.clientToServer,e.type=new hh.ProtocolRequestType(e.method)})(cR||(Vf.DocumentColorRequest=cR={}));var uR;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=hh.MessageDirection.clientToServer,e.type=new hh.ProtocolRequestType(e.method)})(uR||(Vf.ColorPresentationRequest=uR={}))});var pR=Q(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.FoldingRangeRefreshRequest=Kf.FoldingRangeRequest=void 0;var xh=$r(),dR;(function(e){e.method="textDocument/foldingRange",e.messageDirection=xh.MessageDirection.clientToServer,e.type=new xh.ProtocolRequestType(e.method)})(dR||(Kf.FoldingRangeRequest=dR={}));var mR;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=xh.MessageDirection.serverToClient,e.type=new xh.ProtocolRequestType0(e.method)})(mR||(Kf.FoldingRangeRefreshRequest=mR={}))});var xR=Q(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.DeclarationRequest=void 0;var gR=$r(),hR;(function(e){e.method="textDocument/declaration",e.messageDirection=gR.MessageDirection.clientToServer,e.type=new gR.ProtocolRequestType(e.method)})(hR||(_h.DeclarationRequest=hR={}))});var bR=Q(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.SelectionRangeRequest=void 0;var _R=$r(),yR;(function(e){e.method="textDocument/selectionRange",e.messageDirection=_R.MessageDirection.clientToServer,e.type=new _R.ProtocolRequestType(e.method)})(yR||(yh.SelectionRangeRequest=yR={}))});var IR=Q(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.WorkDoneProgressCancelNotification=pl.WorkDoneProgressCreateRequest=pl.WorkDoneProgress=void 0;var _te=Uc(),bh=$r(),vR;(function(e){e.type=new _te.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(vR||(pl.WorkDoneProgress=vR={}));var TR;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=bh.MessageDirection.serverToClient,e.type=new bh.ProtocolRequestType(e.method)})(TR||(pl.WorkDoneProgressCreateRequest=TR={}));var ER;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=bh.MessageDirection.clientToServer,e.type=new bh.ProtocolNotificationType(e.method)})(ER||(pl.WorkDoneProgressCancelNotification=ER={}))});var PR=Q(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.CallHierarchyOutgoingCallsRequest=gl.CallHierarchyIncomingCallsRequest=gl.CallHierarchyPrepareRequest=void 0;var Yf=$r(),CR;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Yf.MessageDirection.clientToServer,e.type=new Yf.ProtocolRequestType(e.method)})(CR||(gl.CallHierarchyPrepareRequest=CR={}));var SR;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Yf.MessageDirection.clientToServer,e.type=new Yf.ProtocolRequestType(e.method)})(SR||(gl.CallHierarchyIncomingCallsRequest=SR={}));var wR;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Yf.MessageDirection.clientToServer,e.type=new Yf.ProtocolRequestType(e.method)})(wR||(gl.CallHierarchyOutgoingCallsRequest=wR={}))});var FR=Q(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.SemanticTokensRefreshRequest=Wi.SemanticTokensRangeRequest=Wi.SemanticTokensDeltaRequest=Wi.SemanticTokensRequest=Wi.SemanticTokensRegistrationType=Wi.TokenFormat=void 0;var ca=$r(),DR;(function(e){e.Relative="relative"})(DR||(Wi.TokenFormat=DR={}));var Nm;(function(e){e.method="textDocument/semanticTokens",e.type=new ca.RegistrationType(e.method)})(Nm||(Wi.SemanticTokensRegistrationType=Nm={}));var RR;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=ca.MessageDirection.clientToServer,e.type=new ca.ProtocolRequestType(e.method),e.registrationMethod=Nm.method})(RR||(Wi.SemanticTokensRequest=RR={}));var AR;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=ca.MessageDirection.clientToServer,e.type=new ca.ProtocolRequestType(e.method),e.registrationMethod=Nm.method})(AR||(Wi.SemanticTokensDeltaRequest=AR={}));var kR;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=ca.MessageDirection.clientToServer,e.type=new ca.ProtocolRequestType(e.method),e.registrationMethod=Nm.method})(kR||(Wi.SemanticTokensRangeRequest=kR={}));var NR;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=ca.MessageDirection.serverToClient,e.type=new ca.ProtocolRequestType0(e.method)})(NR||(Wi.SemanticTokensRefreshRequest=NR={}))});var MR=Q(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.ShowDocumentRequest=void 0;var OR=$r(),LR;(function(e){e.method="window/showDocument",e.messageDirection=OR.MessageDirection.serverToClient,e.type=new OR.ProtocolRequestType(e.method)})(LR||(vh.ShowDocumentRequest=LR={}))});var jR=Q(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.LinkedEditingRangeRequest=void 0;var UR=$r(),BR;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=UR.MessageDirection.clientToServer,e.type=new UR.ProtocolRequestType(e.method)})(BR||(Th.LinkedEditingRangeRequest=BR={}))});var KR=Q(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.WillDeleteFilesRequest=ai.DidDeleteFilesNotification=ai.DidRenameFilesNotification=ai.WillRenameFilesRequest=ai.DidCreateFilesNotification=ai.WillCreateFilesRequest=ai.FileOperationPatternKind=void 0;var $o=$r(),$R;(function(e){e.file="file",e.folder="folder"})($R||(ai.FileOperationPatternKind=$R={}));var qR;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolRequestType(e.method)})(qR||(ai.WillCreateFilesRequest=qR={}));var WR;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolNotificationType(e.method)})(WR||(ai.DidCreateFilesNotification=WR={}));var GR;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolRequestType(e.method)})(GR||(ai.WillRenameFilesRequest=GR={}));var HR;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolNotificationType(e.method)})(HR||(ai.DidRenameFilesNotification=HR={}));var zR;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolNotificationType(e.method)})(zR||(ai.DidDeleteFilesNotification=zR={}));var VR;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolRequestType(e.method)})(VR||(ai.WillDeleteFilesRequest=VR={}))});var QR=Q(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.MonikerRequest=hl.MonikerKind=hl.UniquenessLevel=void 0;var YR=$r(),XR;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(XR||(hl.UniquenessLevel=XR={}));var JR;(function(e){e.$import="import",e.$export="export",e.local="local"})(JR||(hl.MonikerKind=JR={}));var ZR;(function(e){e.method="textDocument/moniker",e.messageDirection=YR.MessageDirection.clientToServer,e.type=new YR.ProtocolRequestType(e.method)})(ZR||(hl.MonikerRequest=ZR={}))});var nA=Q(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.TypeHierarchySubtypesRequest=xl.TypeHierarchySupertypesRequest=xl.TypeHierarchyPrepareRequest=void 0;var Xf=$r(),eA;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Xf.MessageDirection.clientToServer,e.type=new Xf.ProtocolRequestType(e.method)})(eA||(xl.TypeHierarchyPrepareRequest=eA={}));var tA;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Xf.MessageDirection.clientToServer,e.type=new Xf.ProtocolRequestType(e.method)})(tA||(xl.TypeHierarchySupertypesRequest=tA={}));var rA;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Xf.MessageDirection.clientToServer,e.type=new Xf.ProtocolRequestType(e.method)})(rA||(xl.TypeHierarchySubtypesRequest=rA={}))});var sA=Q(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.InlineValueRefreshRequest=Jf.InlineValueRequest=void 0;var Eh=$r(),iA;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Eh.MessageDirection.clientToServer,e.type=new Eh.ProtocolRequestType(e.method)})(iA||(Jf.InlineValueRequest=iA={}));var oA;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Eh.MessageDirection.serverToClient,e.type=new Eh.ProtocolRequestType0(e.method)})(oA||(Jf.InlineValueRefreshRequest=oA={}))});var uA=Q(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.InlayHintRefreshRequest=_l.InlayHintResolveRequest=_l.InlayHintRequest=void 0;var Zf=$r(),aA;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Zf.MessageDirection.clientToServer,e.type=new Zf.ProtocolRequestType(e.method)})(aA||(_l.InlayHintRequest=aA={}));var lA;(function(e){e.method="inlayHint/resolve",e.messageDirection=Zf.MessageDirection.clientToServer,e.type=new Zf.ProtocolRequestType(e.method)})(lA||(_l.InlayHintResolveRequest=lA={}));var cA;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Zf.MessageDirection.serverToClient,e.type=new Zf.ProtocolRequestType0(e.method)})(cA||(_l.InlayHintRefreshRequest=cA={}))});var xA=Q(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DiagnosticRefreshRequest=qo.WorkspaceDiagnosticRequest=qo.DocumentDiagnosticRequest=qo.DocumentDiagnosticReportKind=qo.DiagnosticServerCancellationData=void 0;var hA=Uc(),yte=fh(),Qf=$r(),fA;(function(e){function t(r){let n=r;return n&&yte.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(fA||(qo.DiagnosticServerCancellationData=fA={}));var dA;(function(e){e.Full="full",e.Unchanged="unchanged"})(dA||(qo.DocumentDiagnosticReportKind=dA={}));var mA;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Qf.MessageDirection.clientToServer,e.type=new Qf.ProtocolRequestType(e.method),e.partialResult=new hA.ProgressType})(mA||(qo.DocumentDiagnosticRequest=mA={}));var pA;(function(e){e.method="workspace/diagnostic",e.messageDirection=Qf.MessageDirection.clientToServer,e.type=new Qf.ProtocolRequestType(e.method),e.partialResult=new hA.ProgressType})(pA||(qo.WorkspaceDiagnosticRequest=pA={}));var gA;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Qf.MessageDirection.serverToClient,e.type=new Qf.ProtocolRequestType0(e.method)})(gA||(qo.DiagnosticRefreshRequest=gA={}))});var IA=Q(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.DidCloseNotebookDocumentNotification=Zr.DidSaveNotebookDocumentNotification=Zr.DidChangeNotebookDocumentNotification=Zr.NotebookCellArrayChange=Zr.DidOpenNotebookDocumentNotification=Zr.NotebookDocumentSyncRegistrationType=Zr.NotebookDocument=Zr.NotebookCell=Zr.ExecutionSummary=Zr.NotebookCellKind=void 0;var Fm=(km(),Cg(uh)),D0=fh(),ls=$r(),q_;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(q_||(Zr.NotebookCellKind=q_={}));var W_;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return D0.objectLiteral(s)&&Fm.uinteger.is(s.executionOrder)&&(s.success===void 0||D0.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(W_||(Zr.ExecutionSummary=W_={}));var Ih;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return D0.objectLiteral(a)&&q_.is(a.kind)&&Fm.DocumentUri.is(a.document)&&(a.metadata===void 0||D0.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!W_.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(D0.objectLiteral(s)&&D0.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let d=0;d<u.length;d++){let p=u[d];if(!i(s[p],a[p]))return!1}}return!0}o(i,"equalsMetadata")})(Ih||(Zr.NotebookCell=Ih={}));var _A;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return D0.objectLiteral(i)&&D0.string(i.uri)&&Fm.integer.is(i.version)&&D0.typedArray(i.cells,Ih.is)}o(r,"is"),e.is=r})(_A||(Zr.NotebookDocument=_A={}));var ed;(function(e){e.method="notebookDocument/sync",e.messageDirection=ls.MessageDirection.clientToServer,e.type=new ls.RegistrationType(e.method)})(ed||(Zr.NotebookDocumentSyncRegistrationType=ed={}));var yA;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=ls.MessageDirection.clientToServer,e.type=new ls.ProtocolNotificationType(e.method),e.registrationMethod=ed.method})(yA||(Zr.DidOpenNotebookDocumentNotification=yA={}));var bA;(function(e){function t(n){let i=n;return D0.objectLiteral(i)&&Fm.uinteger.is(i.start)&&Fm.uinteger.is(i.deleteCount)&&(i.cells===void 0||D0.typedArray(i.cells,Ih.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(bA||(Zr.NotebookCellArrayChange=bA={}));var vA;(function(e){e.method="notebookDocument/didChange",e.messageDirection=ls.MessageDirection.clientToServer,e.type=new ls.ProtocolNotificationType(e.method),e.registrationMethod=ed.method})(vA||(Zr.DidChangeNotebookDocumentNotification=vA={}));var TA;(function(e){e.method="notebookDocument/didSave",e.messageDirection=ls.MessageDirection.clientToServer,e.type=new ls.ProtocolNotificationType(e.method),e.registrationMethod=ed.method})(TA||(Zr.DidSaveNotebookDocumentNotification=TA={}));var EA;(function(e){e.method="notebookDocument/didClose",e.messageDirection=ls.MessageDirection.clientToServer,e.type=new ls.ProtocolNotificationType(e.method),e.registrationMethod=ed.method})(EA||(Zr.DidCloseNotebookDocumentNotification=EA={}))});var wA=Q(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.InlineCompletionRequest=void 0;var CA=$r(),SA;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=CA.MessageDirection.clientToServer,e.type=new CA.ProtocolRequestType(e.method)})(SA||(Ch.InlineCompletionRequest=SA={}))});var jk=Q(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.WorkspaceSymbolRequest=U.CodeActionResolveRequest=U.CodeActionRequest=U.DocumentSymbolRequest=U.DocumentHighlightRequest=U.ReferencesRequest=U.DefinitionRequest=U.SignatureHelpRequest=U.SignatureHelpTriggerKind=U.HoverRequest=U.CompletionResolveRequest=U.CompletionRequest=U.CompletionTriggerKind=U.PublishDiagnosticsNotification=U.WatchKind=U.RelativePattern=U.FileChangeType=U.DidChangeWatchedFilesNotification=U.WillSaveTextDocumentWaitUntilRequest=U.WillSaveTextDocumentNotification=U.TextDocumentSaveReason=U.DidSaveTextDocumentNotification=U.DidCloseTextDocumentNotification=U.DidChangeTextDocumentNotification=U.TextDocumentContentChangeEvent=U.DidOpenTextDocumentNotification=U.TextDocumentSyncKind=U.TelemetryEventNotification=U.LogMessageNotification=U.ShowMessageRequest=U.ShowMessageNotification=U.MessageType=U.DidChangeConfigurationNotification=U.ExitNotification=U.ShutdownRequest=U.InitializedNotification=U.InitializeErrorCodes=U.InitializeRequest=U.WorkDoneProgressOptions=U.TextDocumentRegistrationOptions=U.StaticRegistrationOptions=U.PositionEncodingKind=U.FailureHandlingKind=U.ResourceOperationKind=U.UnregistrationRequest=U.RegistrationRequest=U.DocumentSelector=U.NotebookCellTextDocumentFilter=U.NotebookDocumentFilter=U.TextDocumentFilter=void 0;U.MonikerRequest=U.MonikerKind=U.UniquenessLevel=U.WillDeleteFilesRequest=U.DidDeleteFilesNotification=U.WillRenameFilesRequest=U.DidRenameFilesNotification=U.WillCreateFilesRequest=U.DidCreateFilesNotification=U.FileOperationPatternKind=U.LinkedEditingRangeRequest=U.ShowDocumentRequest=U.SemanticTokensRegistrationType=U.SemanticTokensRefreshRequest=U.SemanticTokensRangeRequest=U.SemanticTokensDeltaRequest=U.SemanticTokensRequest=U.TokenFormat=U.CallHierarchyPrepareRequest=U.CallHierarchyOutgoingCallsRequest=U.CallHierarchyIncomingCallsRequest=U.WorkDoneProgressCancelNotification=U.WorkDoneProgressCreateRequest=U.WorkDoneProgress=U.SelectionRangeRequest=U.DeclarationRequest=U.FoldingRangeRefreshRequest=U.FoldingRangeRequest=U.ColorPresentationRequest=U.DocumentColorRequest=U.ConfigurationRequest=U.DidChangeWorkspaceFoldersNotification=U.WorkspaceFoldersRequest=U.TypeDefinitionRequest=U.ImplementationRequest=U.ApplyWorkspaceEditRequest=U.ExecuteCommandRequest=U.PrepareRenameRequest=U.RenameRequest=U.PrepareSupportDefaultBehavior=U.DocumentOnTypeFormattingRequest=U.DocumentRangesFormattingRequest=U.DocumentRangeFormattingRequest=U.DocumentFormattingRequest=U.DocumentLinkResolveRequest=U.DocumentLinkRequest=U.CodeLensRefreshRequest=U.CodeLensResolveRequest=U.CodeLensRequest=U.WorkspaceSymbolResolveRequest=void 0;U.InlineCompletionRequest=U.DidCloseNotebookDocumentNotification=U.DidSaveNotebookDocumentNotification=U.DidChangeNotebookDocumentNotification=U.NotebookCellArrayChange=U.DidOpenNotebookDocumentNotification=U.NotebookDocumentSyncRegistrationType=U.NotebookDocument=U.NotebookCell=U.ExecutionSummary=U.NotebookCellKind=U.DiagnosticRefreshRequest=U.WorkspaceDiagnosticRequest=U.DocumentDiagnosticRequest=U.DocumentDiagnosticReportKind=U.DiagnosticServerCancellationData=U.InlayHintRefreshRequest=U.InlayHintResolveRequest=U.InlayHintRequest=U.InlineValueRefreshRequest=U.InlineValueRequest=U.TypeHierarchySupertypesRequest=U.TypeHierarchySubtypesRequest=U.TypeHierarchyPrepareRequest=void 0;var ve=$r(),PA=(km(),Cg(uh)),An=fh(),bte=QD();Object.defineProperty(U,"ImplementationRequest",{enumerable:!0,get:o(function(){return bte.ImplementationRequest},"get")});var vte=rR();Object.defineProperty(U,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return vte.TypeDefinitionRequest},"get")});var Lk=oR();Object.defineProperty(U,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return Lk.WorkspaceFoldersRequest},"get")});Object.defineProperty(U,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return Lk.DidChangeWorkspaceFoldersNotification},"get")});var Tte=lR();Object.defineProperty(U,"ConfigurationRequest",{enumerable:!0,get:o(function(){return Tte.ConfigurationRequest},"get")});var Mk=fR();Object.defineProperty(U,"DocumentColorRequest",{enumerable:!0,get:o(function(){return Mk.DocumentColorRequest},"get")});Object.defineProperty(U,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return Mk.ColorPresentationRequest},"get")});var Uk=pR();Object.defineProperty(U,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return Uk.FoldingRangeRequest},"get")});Object.defineProperty(U,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return Uk.FoldingRangeRefreshRequest},"get")});var Ete=xR();Object.defineProperty(U,"DeclarationRequest",{enumerable:!0,get:o(function(){return Ete.DeclarationRequest},"get")});var Ite=bR();Object.defineProperty(U,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return Ite.SelectionRangeRequest},"get")});var K_=IR();Object.defineProperty(U,"WorkDoneProgress",{enumerable:!0,get:o(function(){return K_.WorkDoneProgress},"get")});Object.defineProperty(U,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return K_.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(U,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return K_.WorkDoneProgressCancelNotification},"get")});var Y_=PR();Object.defineProperty(U,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return Y_.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(U,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return Y_.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(U,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Y_.CallHierarchyPrepareRequest},"get")});var td=FR();Object.defineProperty(U,"TokenFormat",{enumerable:!0,get:o(function(){return td.TokenFormat},"get")});Object.defineProperty(U,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return td.SemanticTokensRequest},"get")});Object.defineProperty(U,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return td.SemanticTokensDeltaRequest},"get")});Object.defineProperty(U,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return td.SemanticTokensRangeRequest},"get")});Object.defineProperty(U,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return td.SemanticTokensRefreshRequest},"get")});Object.defineProperty(U,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return td.SemanticTokensRegistrationType},"get")});var Cte=MR();Object.defineProperty(U,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return Cte.ShowDocumentRequest},"get")});var Ste=jR();Object.defineProperty(U,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return Ste.LinkedEditingRangeRequest},"get")});var $c=KR();Object.defineProperty(U,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return $c.FileOperationPatternKind},"get")});Object.defineProperty(U,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return $c.DidCreateFilesNotification},"get")});Object.defineProperty(U,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return $c.WillCreateFilesRequest},"get")});Object.defineProperty(U,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return $c.DidRenameFilesNotification},"get")});Object.defineProperty(U,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return $c.WillRenameFilesRequest},"get")});Object.defineProperty(U,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return $c.DidDeleteFilesNotification},"get")});Object.defineProperty(U,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return $c.WillDeleteFilesRequest},"get")});var X_=QR();Object.defineProperty(U,"UniquenessLevel",{enumerable:!0,get:o(function(){return X_.UniquenessLevel},"get")});Object.defineProperty(U,"MonikerKind",{enumerable:!0,get:o(function(){return X_.MonikerKind},"get")});Object.defineProperty(U,"MonikerRequest",{enumerable:!0,get:o(function(){return X_.MonikerRequest},"get")});var J_=nA();Object.defineProperty(U,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return J_.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(U,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return J_.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(U,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return J_.TypeHierarchySupertypesRequest},"get")});var Bk=sA();Object.defineProperty(U,"InlineValueRequest",{enumerable:!0,get:o(function(){return Bk.InlineValueRequest},"get")});Object.defineProperty(U,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return Bk.InlineValueRefreshRequest},"get")});var Z_=uA();Object.defineProperty(U,"InlayHintRequest",{enumerable:!0,get:o(function(){return Z_.InlayHintRequest},"get")});Object.defineProperty(U,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return Z_.InlayHintResolveRequest},"get")});Object.defineProperty(U,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return Z_.InlayHintRefreshRequest},"get")});var Om=xA();Object.defineProperty(U,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return Om.DiagnosticServerCancellationData},"get")});Object.defineProperty(U,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return Om.DocumentDiagnosticReportKind},"get")});Object.defineProperty(U,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return Om.DocumentDiagnosticRequest},"get")});Object.defineProperty(U,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return Om.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(U,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return Om.DiagnosticRefreshRequest},"get")});var cs=IA();Object.defineProperty(U,"NotebookCellKind",{enumerable:!0,get:o(function(){return cs.NotebookCellKind},"get")});Object.defineProperty(U,"ExecutionSummary",{enumerable:!0,get:o(function(){return cs.ExecutionSummary},"get")});Object.defineProperty(U,"NotebookCell",{enumerable:!0,get:o(function(){return cs.NotebookCell},"get")});Object.defineProperty(U,"NotebookDocument",{enumerable:!0,get:o(function(){return cs.NotebookDocument},"get")});Object.defineProperty(U,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return cs.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(U,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return cs.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(U,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return cs.NotebookCellArrayChange},"get")});Object.defineProperty(U,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return cs.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(U,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return cs.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(U,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return cs.DidCloseNotebookDocumentNotification},"get")});var wte=wA();Object.defineProperty(U,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return wte.InlineCompletionRequest},"get")});var G_;(function(e){function t(r){let n=r;return An.string(n)||An.string(n.language)||An.string(n.scheme)||An.string(n.pattern)}o(t,"is"),e.is=t})(G_||(U.TextDocumentFilter=G_={}));var H_;(function(e){function t(r){let n=r;return An.objectLiteral(n)&&(An.string(n.notebookType)||An.string(n.scheme)||An.string(n.pattern))}o(t,"is"),e.is=t})(H_||(U.NotebookDocumentFilter=H_={}));var z_;(function(e){function t(r){let n=r;return An.objectLiteral(n)&&(An.string(n.notebook)||H_.is(n.notebook))&&(n.language===void 0||An.string(n.language))}o(t,"is"),e.is=t})(z_||(U.NotebookCellTextDocumentFilter=z_={}));var V_;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!An.string(n)&&!G_.is(n)&&!z_.is(n))return!1;return!0}o(t,"is"),e.is=t})(V_||(U.DocumentSelector=V_={}));var DA;(function(e){e.method="client/registerCapability",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(DA||(U.RegistrationRequest=DA={}));var RA;(function(e){e.method="client/unregisterCapability",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(RA||(U.UnregistrationRequest=RA={}));var AA;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(AA||(U.ResourceOperationKind=AA={}));var kA;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(kA||(U.FailureHandlingKind=kA={}));var NA;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(NA||(U.PositionEncodingKind=NA={}));var FA;(function(e){function t(r){let n=r;return n&&An.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(FA||(U.StaticRegistrationOptions=FA={}));var OA;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||V_.is(n.documentSelector))}o(t,"is"),e.is=t})(OA||(U.TextDocumentRegistrationOptions=OA={}));var LA;(function(e){function t(n){let i=n;return An.objectLiteral(i)&&(i.workDoneProgress===void 0||An.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&An.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(LA||(U.WorkDoneProgressOptions=LA={}));var MA;(function(e){e.method="initialize",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(MA||(U.InitializeRequest=MA={}));var UA;(function(e){e.unknownProtocolVersion=1})(UA||(U.InitializeErrorCodes=UA={}));var BA;(function(e){e.method="initialized",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(BA||(U.InitializedNotification=BA={}));var jA;(function(e){e.method="shutdown",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType0(e.method)})(jA||(U.ShutdownRequest=jA={}));var $A;(function(e){e.method="exit",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType0(e.method)})($A||(U.ExitNotification=$A={}));var qA;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(qA||(U.DidChangeConfigurationNotification=qA={}));var WA;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(WA||(U.MessageType=WA={}));var GA;(function(e){e.method="window/showMessage",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(GA||(U.ShowMessageNotification=GA={}));var HA;(function(e){e.method="window/showMessageRequest",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(HA||(U.ShowMessageRequest=HA={}));var zA;(function(e){e.method="window/logMessage",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(zA||(U.LogMessageNotification=zA={}));var VA;(function(e){e.method="telemetry/event",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(VA||(U.TelemetryEventNotification=VA={}));var KA;(function(e){e.None=0,e.Full=1,e.Incremental=2})(KA||(U.TextDocumentSyncKind=KA={}));var YA;(function(e){e.method="textDocument/didOpen",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(YA||(U.DidOpenTextDocumentNotification=YA={}));var XA;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(XA||(U.TextDocumentContentChangeEvent=XA={}));var JA;(function(e){e.method="textDocument/didChange",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(JA||(U.DidChangeTextDocumentNotification=JA={}));var ZA;(function(e){e.method="textDocument/didClose",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(ZA||(U.DidCloseTextDocumentNotification=ZA={}));var QA;(function(e){e.method="textDocument/didSave",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(QA||(U.DidSaveTextDocumentNotification=QA={}));var ek;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(ek||(U.TextDocumentSaveReason=ek={}));var tk;(function(e){e.method="textDocument/willSave",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(tk||(U.WillSaveTextDocumentNotification=tk={}));var rk;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(rk||(U.WillSaveTextDocumentWaitUntilRequest=rk={}));var nk;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(nk||(U.DidChangeWatchedFilesNotification=nk={}));var ik;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(ik||(U.FileChangeType=ik={}));var ok;(function(e){function t(r){let n=r;return An.objectLiteral(n)&&(PA.URI.is(n.baseUri)||PA.WorkspaceFolder.is(n.baseUri))&&An.string(n.pattern)}o(t,"is"),e.is=t})(ok||(U.RelativePattern=ok={}));var sk;(function(e){e.Create=1,e.Change=2,e.Delete=4})(sk||(U.WatchKind=sk={}));var ak;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(ak||(U.PublishDiagnosticsNotification=ak={}));var lk;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(lk||(U.CompletionTriggerKind=lk={}));var ck;(function(e){e.method="textDocument/completion",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(ck||(U.CompletionRequest=ck={}));var uk;(function(e){e.method="completionItem/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(uk||(U.CompletionResolveRequest=uk={}));var fk;(function(e){e.method="textDocument/hover",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(fk||(U.HoverRequest=fk={}));var dk;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(dk||(U.SignatureHelpTriggerKind=dk={}));var mk;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(mk||(U.SignatureHelpRequest=mk={}));var pk;(function(e){e.method="textDocument/definition",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(pk||(U.DefinitionRequest=pk={}));var gk;(function(e){e.method="textDocument/references",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(gk||(U.ReferencesRequest=gk={}));var hk;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(hk||(U.DocumentHighlightRequest=hk={}));var xk;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(xk||(U.DocumentSymbolRequest=xk={}));var _k;(function(e){e.method="textDocument/codeAction",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(_k||(U.CodeActionRequest=_k={}));var yk;(function(e){e.method="codeAction/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(yk||(U.CodeActionResolveRequest=yk={}));var bk;(function(e){e.method="workspace/symbol",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(bk||(U.WorkspaceSymbolRequest=bk={}));var vk;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(vk||(U.WorkspaceSymbolResolveRequest=vk={}));var Tk;(function(e){e.method="textDocument/codeLens",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Tk||(U.CodeLensRequest=Tk={}));var Ek;(function(e){e.method="codeLens/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Ek||(U.CodeLensResolveRequest=Ek={}));var Ik;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType0(e.method)})(Ik||(U.CodeLensRefreshRequest=Ik={}));var Ck;(function(e){e.method="textDocument/documentLink",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Ck||(U.DocumentLinkRequest=Ck={}));var Sk;(function(e){e.method="documentLink/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Sk||(U.DocumentLinkResolveRequest=Sk={}));var wk;(function(e){e.method="textDocument/formatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(wk||(U.DocumentFormattingRequest=wk={}));var Pk;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Pk||(U.DocumentRangeFormattingRequest=Pk={}));var Dk;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Dk||(U.DocumentRangesFormattingRequest=Dk={}));var Rk;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Rk||(U.DocumentOnTypeFormattingRequest=Rk={}));var Ak;(function(e){e.Identifier=1})(Ak||(U.PrepareSupportDefaultBehavior=Ak={}));var kk;(function(e){e.method="textDocument/rename",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(kk||(U.RenameRequest=kk={}));var Nk;(function(e){e.method="textDocument/prepareRename",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Nk||(U.PrepareRenameRequest=Nk={}));var Fk;(function(e){e.method="workspace/executeCommand",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Fk||(U.ExecuteCommandRequest=Fk={}));var Ok;(function(e){e.method="workspace/applyEdit",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType("workspace/applyEdit")})(Ok||(U.ApplyWorkspaceEditRequest=Ok={}))});var qk=Q(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.createProtocolConnection=void 0;var $k=Uc();function Pte(e,t,r,n){return $k.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,$k.createMessageConnection)(e,t,r,n)}o(Pte,"createProtocolConnection");Sh.createProtocolConnection=Pte});var Gk=Q(Gi=>{"use strict";var Dte=Gi&&Gi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wh=Gi&&Gi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dte(t,e,r)};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.LSPErrorCodes=Gi.createProtocolConnection=void 0;wh(Uc(),Gi);wh((km(),Cg(uh)),Gi);wh($r(),Gi);wh(jk(),Gi);var Rte=qk();Object.defineProperty(Gi,"createProtocolConnection",{enumerable:!0,get:o(function(){return Rte.createProtocolConnection},"get")});var Wk;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Wk||(Gi.LSPErrorCodes=Wk={}))});var Ti=Q(us=>{"use strict";var Ate=us&&us.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hk=us&&us.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ate(t,e,r)};Object.defineProperty(us,"__esModule",{value:!0});us.createProtocolConnection=void 0;var kte=F9();Hk(F9(),us);Hk(Gk(),us);function Nte(e,t,r,n){return(0,kte.createMessageConnection)(e,t,r,n)}o(Nte,"createProtocolConnection");us.createProtocolConnection=Nte});var ny=Q((tPe,ry)=>{"use strict";var nd=typeof Reflect=="object"?Reflect:null,uN=nd&&typeof nd.apply=="function"?nd.apply:o(function(t,r,n){return Function.prototype.apply.call(t,r,n)},"ReflectApply"),Nh;nd&&typeof nd.ownKeys=="function"?Nh=nd.ownKeys:Object.getOwnPropertySymbols?Nh=o(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):Nh=o(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function pre(e){console&&console.warn&&console.warn(e)}o(pre,"ProcessEmitWarning");var dN=Number.isNaN||o(function(t){return t!==t},"NumberIsNaN");function _r(){_r.init.call(this)}o(_r,"EventEmitter");ry.exports=_r;ry.exports.once=_re;_r.EventEmitter=_r;_r.prototype._events=void 0;_r.prototype._eventsCount=0;_r.prototype._maxListeners=void 0;var fN=10;function Fh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}o(Fh,"checkListener");Object.defineProperty(_r,"defaultMaxListeners",{enumerable:!0,get:o(function(){return fN},"get"),set:o(function(e){if(typeof e!="number"||e<0||dN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");fN=e},"set")});_r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};_r.prototype.setMaxListeners=o(function(t){if(typeof t!="number"||t<0||dN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function mN(e){return e._maxListeners===void 0?_r.defaultMaxListeners:e._maxListeners}o(mN,"_getMaxListeners");_r.prototype.getMaxListeners=o(function(){return mN(this)},"getMaxListeners");_r.prototype.emit=o(function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")uN(c,this,r);else for(var u=c.length,f=_N(c,u),n=0;n<u;++n)uN(f[n],this,r);return!0},"emit");function pN(e,t,r,n){var i,s,a;if(Fh(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),a===void 0)a=s[t]=r,++e._eventsCount;else if(typeof a=="function"?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=mN(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,pre(l)}return e}o(pN,"_addListener");_r.prototype.addListener=o(function(t,r){return pN(this,t,r,!1)},"addListener");_r.prototype.on=_r.prototype.addListener;_r.prototype.prependListener=o(function(t,r){return pN(this,t,r,!0)},"prependListener");function gre(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(gre,"onceWrapper");function gN(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=gre.bind(n);return i.listener=r,n.wrapFn=i,i}o(gN,"_onceWrap");_r.prototype.once=o(function(t,r){return Fh(r),this.on(t,gN(this,t,r)),this},"once");_r.prototype.prependOnceListener=o(function(t,r){return Fh(r),this.prependListener(t,gN(this,t,r)),this},"prependOnceListener");_r.prototype.removeListener=o(function(t,r){var n,i,s,a,l;if(Fh(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():hre(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},"removeListener");_r.prototype.off=_r.prototype.removeListener;_r.prototype.removeAllListeners=o(function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this},"removeAllListeners");function hN(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?xre(i):_N(i,i.length)}o(hN,"_listeners");_r.prototype.listeners=o(function(t){return hN(this,t,!0)},"listeners");_r.prototype.rawListeners=o(function(t){return hN(this,t,!1)},"rawListeners");_r.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):xN.call(e,t)};_r.prototype.listenerCount=xN;function xN(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(xN,"listenerCount");_r.prototype.eventNames=o(function(){return this._eventsCount>0?Nh(this._events):[]},"eventNames");function _N(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}o(_N,"arrayClone");function hre(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}o(hre,"spliceOne");function xre(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}o(xre,"unwrapListeners");function _re(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,s),n(a)}o(i,"errorListener");function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),yN(e,t,s,{once:!0}),t!=="error"&&yre(e,i,{once:!0})})}o(_re,"once");function yre(e,t,r){typeof e.on=="function"&&yN(e,"error",t,r)}o(yre,"addErrorHandlerIfEventEmitter");function yN(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,o(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}o(yN,"eventTargetAgnosticAddListener")});var JL=Q((Dje,XL)=>{"use strict";XL.exports=KL;function KL(e,t,r){e instanceof RegExp&&(e=VL(e,r)),t instanceof RegExp&&(t=VL(t,r));var n=YL(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(KL,"balanced");function VL(e,t){var r=t.match(e);return r?r[0]:null}o(VL,"maybeMatch");KL.range=YL;function YL(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(YL,"range")});var oM=Q((Aje,iM)=>{var ZL=JL();iM.exports=Hoe;var QL="\0SLASH"+Math.random()+"\0",eM="\0OPEN"+Math.random()+"\0",Bv="\0CLOSE"+Math.random()+"\0",tM="\0COMMA"+Math.random()+"\0",rM="\0PERIOD"+Math.random()+"\0";function Uv(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(Uv,"numeric");function Woe(e){return e.split("\\\\").join(QL).split("\\{").join(eM).split("\\}").join(Bv).split("\\,").join(tM).split("\\.").join(rM)}o(Woe,"escapeBraces");function Goe(e){return e.split(QL).join("\\").split(eM).join("{").split(Bv).join("}").split(tM).join(",").split(rM).join(".")}o(Goe,"unescapeBraces");function nM(e){if(!e)return[""];var t=[],r=ZL("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=nM(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(nM,"parseCommaParts");function Hoe(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),zp(Woe(e),!0).map(Goe)):[]}o(Hoe,"expandTop");function zoe(e){return"{"+e+"}"}o(zoe,"embrace");function Voe(e){return/^-?0\d/.test(e)}o(Voe,"isPadded");function Koe(e,t){return e<=t}o(Koe,"lte");function Yoe(e,t){return e>=t}o(Yoe,"gte");function zp(e,t){var r=[],n=ZL("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?zp(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,d=n.body.indexOf(",")>=0;if(!f&&!d)return n.post.match(/,(?!,).*\}/)?(e=n.pre+"{"+n.body+Bv+n.post,zp(e)):[e];var p;if(f)p=n.body.split(/\.\./);else if(p=nM(n.body),p.length===1&&(p=zp(p[0],!1).map(zoe),p.length===1))return s.map(function(Y){return n.pre+p[0]+Y});var m;if(f){var g=Uv(p[0]),h=Uv(p[1]),_=Math.max(p[0].length,p[1].length),x=p.length==3?Math.abs(Uv(p[2])):1,y=Koe,b=h<g;b&&(x*=-1,y=Yoe);var v=p.some(Voe);m=[];for(var I=g;y(I,h);I+=x){var D;if(u)D=String.fromCharCode(I),D==="\\"&&(D="");else if(D=String(I),v){var H=_-D.length;if(H>0){var V=new Array(H+1).join("0");I<0?D="-"+V+D.slice(1):D=V+D}}m.push(D)}}else{m=[];for(var $=0;$<p.length;$++)m.push.apply(m,zp(p[$],!1))}for(var $=0;$<m.length;$++)for(var a=0;a<s.length;a++){var l=i+m[$]+s[a];(!t||f||l)&&r.push(l)}}return r}o(zp,"expand")});var hg=Q((bot,Lj)=>{var ece="2.0.0",tce=Number.MAX_SAFE_INTEGER||9007199254740991,rce=16,nce=250,ice=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Lj.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:rce,MAX_SAFE_BUILD_LENGTH:nce,MAX_SAFE_INTEGER:tce,RELEASE_TYPES:ice,SEMVER_SPEC_VERSION:ece,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var xg=Q((vot,Mj)=>{var oce=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Mj.exports=oce});var p1=Q((js,Uj)=>{var{MAX_SAFE_COMPONENT_LENGTH:SE,MAX_SAFE_BUILD_LENGTH:sce,MAX_LENGTH:ace}=hg(),lce=xg();js=Uj.exports={};var cce=js.re=[],uce=js.safeRe=[],Oe=js.src=[],fce=js.safeSrc=[],Le=js.t={},dce=0,wE="[a-zA-Z0-9-]",mce=[["\\s",1],["\\d",ace],[wE,sce]],pce=o(e=>{for(let[t,r]of mce)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),_t=o((e,t,r)=>{let n=pce(t),i=dce++;lce(e,i,t),Le[e]=i,Oe[i]=t,fce[i]=n,cce[i]=new RegExp(t,r?"g":void 0),uce[i]=new RegExp(n,r?"g":void 0)},"createToken");_t("NUMERICIDENTIFIER","0|[1-9]\\d*");_t("NUMERICIDENTIFIERLOOSE","\\d+");_t("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${wE}*`);_t("MAINVERSION",`(${Oe[Le.NUMERICIDENTIFIER]})\\.(${Oe[Le.NUMERICIDENTIFIER]})\\.(${Oe[Le.NUMERICIDENTIFIER]})`);_t("MAINVERSIONLOOSE",`(${Oe[Le.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Le.NUMERICIDENTIFIERLOOSE]})\\.(${Oe[Le.NUMERICIDENTIFIERLOOSE]})`);_t("PRERELEASEIDENTIFIER",`(?:${Oe[Le.NUMERICIDENTIFIER]}|${Oe[Le.NONNUMERICIDENTIFIER]})`);_t("PRERELEASEIDENTIFIERLOOSE",`(?:${Oe[Le.NUMERICIDENTIFIERLOOSE]}|${Oe[Le.NONNUMERICIDENTIFIER]})`);_t("PRERELEASE",`(?:-(${Oe[Le.PRERELEASEIDENTIFIER]}(?:\\.${Oe[Le.PRERELEASEIDENTIFIER]})*))`);_t("PRERELEASELOOSE",`(?:-?(${Oe[Le.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Oe[Le.PRERELEASEIDENTIFIERLOOSE]})*))`);_t("BUILDIDENTIFIER",`${wE}+`);_t("BUILD",`(?:\\+(${Oe[Le.BUILDIDENTIFIER]}(?:\\.${Oe[Le.BUILDIDENTIFIER]})*))`);_t("FULLPLAIN",`v?${Oe[Le.MAINVERSION]}${Oe[Le.PRERELEASE]}?${Oe[Le.BUILD]}?`);_t("FULL",`^${Oe[Le.FULLPLAIN]}$`);_t("LOOSEPLAIN",`[v=\\s]*${Oe[Le.MAINVERSIONLOOSE]}${Oe[Le.PRERELEASELOOSE]}?${Oe[Le.BUILD]}?`);_t("LOOSE",`^${Oe[Le.LOOSEPLAIN]}$`);_t("GTLT","((?:<|>)?=?)");_t("XRANGEIDENTIFIERLOOSE",`${Oe[Le.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_t("XRANGEIDENTIFIER",`${Oe[Le.NUMERICIDENTIFIER]}|x|X|\\*`);_t("XRANGEPLAIN",`[v=\\s]*(${Oe[Le.XRANGEIDENTIFIER]})(?:\\.(${Oe[Le.XRANGEIDENTIFIER]})(?:\\.(${Oe[Le.XRANGEIDENTIFIER]})(?:${Oe[Le.PRERELEASE]})?${Oe[Le.BUILD]}?)?)?`);_t("XRANGEPLAINLOOSE",`[v=\\s]*(${Oe[Le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Le.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Oe[Le.XRANGEIDENTIFIERLOOSE]})(?:${Oe[Le.PRERELEASELOOSE]})?${Oe[Le.BUILD]}?)?)?`);_t("XRANGE",`^${Oe[Le.GTLT]}\\s*${Oe[Le.XRANGEPLAIN]}$`);_t("XRANGELOOSE",`^${Oe[Le.GTLT]}\\s*${Oe[Le.XRANGEPLAINLOOSE]}$`);_t("COERCEPLAIN",`(^|[^\\d])(\\d{1,${SE}})(?:\\.(\\d{1,${SE}}))?(?:\\.(\\d{1,${SE}}))?`);_t("COERCE",`${Oe[Le.COERCEPLAIN]}(?:$|[^\\d])`);_t("COERCEFULL",Oe[Le.COERCEPLAIN]+`(?:${Oe[Le.PRERELEASE]})?(?:${Oe[Le.BUILD]})?(?:$|[^\\d])`);_t("COERCERTL",Oe[Le.COERCE],!0);_t("COERCERTLFULL",Oe[Le.COERCEFULL],!0);_t("LONETILDE","(?:~>?)");_t("TILDETRIM",`(\\s*)${Oe[Le.LONETILDE]}\\s+`,!0);js.tildeTrimReplace="$1~";_t("TILDE",`^${Oe[Le.LONETILDE]}${Oe[Le.XRANGEPLAIN]}$`);_t("TILDELOOSE",`^${Oe[Le.LONETILDE]}${Oe[Le.XRANGEPLAINLOOSE]}$`);_t("LONECARET","(?:\\^)");_t("CARETTRIM",`(\\s*)${Oe[Le.LONECARET]}\\s+`,!0);js.caretTrimReplace="$1^";_t("CARET",`^${Oe[Le.LONECARET]}${Oe[Le.XRANGEPLAIN]}$`);_t("CARETLOOSE",`^${Oe[Le.LONECARET]}${Oe[Le.XRANGEPLAINLOOSE]}$`);_t("COMPARATORLOOSE",`^${Oe[Le.GTLT]}\\s*(${Oe[Le.LOOSEPLAIN]})$|^$`);_t("COMPARATOR",`^${Oe[Le.GTLT]}\\s*(${Oe[Le.FULLPLAIN]})$|^$`);_t("COMPARATORTRIM",`(\\s*)${Oe[Le.GTLT]}\\s*(${Oe[Le.LOOSEPLAIN]}|${Oe[Le.XRANGEPLAIN]})`,!0);js.comparatorTrimReplace="$1$2$3";_t("HYPHENRANGE",`^\\s*(${Oe[Le.XRANGEPLAIN]})\\s+-\\s+(${Oe[Le.XRANGEPLAIN]})\\s*$`);_t("HYPHENRANGELOOSE",`^\\s*(${Oe[Le.XRANGEPLAINLOOSE]})\\s+-\\s+(${Oe[Le.XRANGEPLAINLOOSE]})\\s*$`);_t("STAR","(<|>)?=?\\s*\\*");_t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var c8=Q((Eot,Bj)=>{var gce=Object.freeze({loose:!0}),hce=Object.freeze({}),xce=o(e=>e?typeof e!="object"?gce:e:hce,"parseOptions");Bj.exports=xce});var PE=Q((Cot,qj)=>{var jj=/^[0-9]+$/,$j=o((e,t)=>{let r=jj.test(e),n=jj.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),_ce=o((e,t)=>$j(t,e),"rcompareIdentifiers");qj.exports={compareIdentifiers:$j,rcompareIdentifiers:_ce}});var gi=Q((wot,zj)=>{var u8=xg(),{MAX_LENGTH:Wj,MAX_SAFE_INTEGER:f8}=hg(),{safeRe:Gj,safeSrc:Hj,t:d8}=p1(),yce=c8(),{compareIdentifiers:g1}=PE(),DE=class e{static{o(this,"SemVer")}constructor(t,r){if(r=yce(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Wj)throw new TypeError(`version is longer than ${Wj} characters`);u8("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?Gj[d8.LOOSE]:Gj[d8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>f8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>f8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>f8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<f8)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(u8("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),g1(this.major,t.major)||g1(this.minor,t.minor)||g1(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(u8("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return g1(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(u8("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return g1(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?Hj[d8.PRERELEASELOOSE]:Hj[d8.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),g1(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};zj.exports=DE});var Gu=Q((Dot,Kj)=>{var Vj=gi(),bce=o((e,t,r=!1)=>{if(e instanceof Vj)return e;try{return new Vj(e,t)}catch(n){if(!r)return null;throw n}},"parse");Kj.exports=bce});var Xj=Q((Aot,Yj)=>{var vce=Gu(),Tce=o((e,t)=>{let r=vce(e,t);return r?r.version:null},"valid");Yj.exports=Tce});var Zj=Q((Not,Jj)=>{var Ece=Gu(),Ice=o((e,t)=>{let r=Ece(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");Jj.exports=Ice});var t$=Q((Oot,e$)=>{var Qj=gi(),Cce=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Qj(e instanceof Qj?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");e$.exports=Cce});var i$=Q((Mot,n$)=>{var r$=Gu(),Sce=o((e,t)=>{let r=r$(e,null,!0),n=r$(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");n$.exports=Sce});var s$=Q((Bot,o$)=>{var wce=gi(),Pce=o((e,t)=>new wce(e,t).major,"major");o$.exports=Pce});var l$=Q(($ot,a$)=>{var Dce=gi(),Rce=o((e,t)=>new Dce(e,t).minor,"minor");a$.exports=Rce});var u$=Q((Wot,c$)=>{var Ace=gi(),kce=o((e,t)=>new Ace(e,t).patch,"patch");c$.exports=kce});var d$=Q((Hot,f$)=>{var Nce=Gu(),Fce=o((e,t)=>{let r=Nce(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");f$.exports=Fce});var s0=Q((Vot,p$)=>{var m$=gi(),Oce=o((e,t,r)=>new m$(e,r).compare(new m$(t,r)),"compare");p$.exports=Oce});var h$=Q((Yot,g$)=>{var Lce=s0(),Mce=o((e,t,r)=>Lce(t,e,r),"rcompare");g$.exports=Mce});var _$=Q((Jot,x$)=>{var Uce=s0(),Bce=o((e,t)=>Uce(e,t,!0),"compareLoose");x$.exports=Bce});var m8=Q((Qot,b$)=>{var y$=gi(),jce=o((e,t,r)=>{let n=new y$(e,r),i=new y$(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");b$.exports=jce});var T$=Q((t0t,v$)=>{var $ce=m8(),qce=o((e,t)=>e.sort((r,n)=>$ce(r,n,t)),"sort");v$.exports=qce});var I$=Q((n0t,E$)=>{var Wce=m8(),Gce=o((e,t)=>e.sort((r,n)=>Wce(n,r,t)),"rsort");E$.exports=Gce});var _g=Q((o0t,C$)=>{var Hce=s0(),zce=o((e,t,r)=>Hce(e,t,r)>0,"gt");C$.exports=zce});var p8=Q((a0t,S$)=>{var Vce=s0(),Kce=o((e,t,r)=>Vce(e,t,r)<0,"lt");S$.exports=Kce});var RE=Q((c0t,w$)=>{var Yce=s0(),Xce=o((e,t,r)=>Yce(e,t,r)===0,"eq");w$.exports=Xce});var AE=Q((f0t,P$)=>{var Jce=s0(),Zce=o((e,t,r)=>Jce(e,t,r)!==0,"neq");P$.exports=Zce});var g8=Q((m0t,D$)=>{var Qce=s0(),eue=o((e,t,r)=>Qce(e,t,r)>=0,"gte");D$.exports=eue});var h8=Q((g0t,R$)=>{var tue=s0(),rue=o((e,t,r)=>tue(e,t,r)<=0,"lte");R$.exports=rue});var kE=Q((x0t,A$)=>{var nue=RE(),iue=AE(),oue=_g(),sue=g8(),aue=p8(),lue=h8(),cue=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return nue(e,r,n);case"!=":return iue(e,r,n);case">":return oue(e,r,n);case">=":return sue(e,r,n);case"<":return aue(e,r,n);case"<=":return lue(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");A$.exports=cue});var N$=Q((y0t,k$)=>{var uue=gi(),fue=Gu(),{safeRe:x8,t:_8}=p1(),due=o((e,t)=>{if(e instanceof uue)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?x8[_8.COERCEFULL]:x8[_8.COERCE]);else{let c=t.includePrerelease?x8[_8.COERCERTLFULL]:x8[_8.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return fue(`${n}.${i}.${s}${a}${l}`,t)},"coerce");k$.exports=due});var O$=Q((v0t,F$)=>{var NE=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};F$.exports=NE});var a0=Q((E0t,B$)=>{var mue=/\s+/g,FE=class e{static{o(this,"Range")}constructor(t,r){if(r=gue(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof OE)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(mue," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!M$(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Tue(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&bue)|(this.options.loose&&vue))+":"+t,i=L$.get(n);if(i)return i;let s=this.options.loose,a=s?to[Di.HYPHENRANGELOOSE]:to[Di.HYPHENRANGE];t=t.replace(a,kue(this.options.includePrerelease)),Mr("hyphen replace",t),t=t.replace(to[Di.COMPARATORTRIM],xue),Mr("comparator trim",t),t=t.replace(to[Di.TILDETRIM],_ue),Mr("tilde trim",t),t=t.replace(to[Di.CARETTRIM],yue),Mr("caret trim",t);let l=t.split(" ").map(d=>Eue(d,this.options)).join(" ").split(/\s+/).map(d=>Aue(d,this.options));s&&(l=l.filter(d=>(Mr("loose invalid filter",d,this.options),!!d.match(to[Di.COMPARATORLOOSE])))),Mr("range list",l);let c=new Map,u=l.map(d=>new OE(d,this.options));for(let d of u){if(M$(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return L$.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>U$(n,r)&&t.set.some(i=>U$(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new hue(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Nue(this.set[r],t,this.options))return!0;return!1}};B$.exports=FE;var pue=O$(),L$=new pue,gue=c8(),OE=yg(),Mr=xg(),hue=gi(),{safeRe:to,t:Di,comparatorTrimReplace:xue,tildeTrimReplace:_ue,caretTrimReplace:yue}=p1(),{FLAG_INCLUDE_PRERELEASE:bue,FLAG_LOOSE:vue}=hg(),M$=o(e=>e.value==="<0.0.0-0","isNullSet"),Tue=o(e=>e.value==="","isAny"),U$=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),Eue=o((e,t)=>(Mr("comp",e,t),e=Sue(e,t),Mr("caret",e),e=Iue(e,t),Mr("tildes",e),e=Pue(e,t),Mr("xrange",e),e=Rue(e,t),Mr("stars",e),e),"parseComparator"),Ri=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),Iue=o((e,t)=>e.trim().split(/\s+/).map(r=>Cue(r,t)).join(" "),"replaceTildes"),Cue=o((e,t)=>{let r=t.loose?to[Di.TILDELOOSE]:to[Di.TILDE];return e.replace(r,(n,i,s,a,l)=>{Mr("tilde",e,n,i,s,a,l);let c;return Ri(i)?c="":Ri(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Ri(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(Mr("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Mr("tilde return",c),c})},"replaceTilde"),Sue=o((e,t)=>e.trim().split(/\s+/).map(r=>wue(r,t)).join(" "),"replaceCarets"),wue=o((e,t)=>{Mr("caret",e,t);let r=t.loose?to[Di.CARETLOOSE]:to[Di.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{Mr("caret",e,i,s,a,l,c);let u;return Ri(s)?u="":Ri(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ri(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(Mr("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(Mr("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),Mr("caret return",u),u})},"replaceCaret"),Pue=o((e,t)=>(Mr("replaceXRanges",e,t),e.split(/\s+/).map(r=>Due(r,t)).join(" ")),"replaceXRanges"),Due=o((e,t)=>{e=e.trim();let r=t.loose?to[Di.XRANGELOOSE]:to[Di.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{Mr("xRange",e,n,i,s,a,l,c);let u=Ri(s),f=u||Ri(a),d=f||Ri(l),p=d;return i==="="&&p&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),Mr("xRange return",n),n})},"replaceXRange"),Rue=o((e,t)=>(Mr("replaceStars",e,t),e.trim().replace(to[Di.STAR],"")),"replaceStars"),Aue=o((e,t)=>(Mr("replaceGTE0",e,t),e.trim().replace(to[t.includePrerelease?Di.GTE0PRE:Di.GTE0],"")),"replaceGTE0"),kue=o(e=>(t,r,n,i,s,a,l,c,u,f,d,p)=>(Ri(n)?r="":Ri(i)?r=`>=${n}.0.0${e?"-0":""}`:Ri(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Ri(u)?c="":Ri(f)?c=`<${+u+1}.0.0-0`:Ri(d)?c=`<${u}.${+f+1}.0-0`:p?c=`<=${u}.${f}.${d}-${p}`:e?c=`<${u}.${f}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),Nue=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Mr(e[n].semver),e[n].semver!==OE.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var yg=Q((C0t,H$)=>{var bg=Symbol("SemVer ANY"),UE=class e{static{o(this,"Comparator")}static get ANY(){return bg}constructor(t,r){if(r=j$(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),ME("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===bg?this.value="":this.value=this.operator+this.semver.version,ME("comp",this)}parse(t){let r=this.options.loose?$$[q$.COMPARATORLOOSE]:$$[q$.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new W$(n[2],this.options.loose):this.semver=bg}toString(){return this.value}test(t){if(ME("Comparator.test",t,this.options.loose),this.semver===bg||t===bg)return!0;if(typeof t=="string")try{t=new W$(t,this.options)}catch{return!1}return LE(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new G$(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new G$(this.value,r).test(t.semver):(r=j$(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||LE(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||LE(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};H$.exports=UE;var j$=c8(),{safeRe:$$,t:q$}=p1(),LE=kE(),ME=xg(),W$=gi(),G$=a0()});var vg=Q((w0t,z$)=>{var Fue=a0(),Oue=o((e,t,r)=>{try{t=new Fue(t,r)}catch{return!1}return t.test(e)},"satisfies");z$.exports=Oue});var K$=Q((D0t,V$)=>{var Lue=a0(),Mue=o((e,t)=>new Lue(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");V$.exports=Mue});var X$=Q((A0t,Y$)=>{var Uue=gi(),Bue=a0(),jue=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new Bue(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Uue(n,r))}),n},"maxSatisfying");Y$.exports=jue});var Z$=Q((N0t,J$)=>{var $ue=gi(),que=a0(),Wue=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new que(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new $ue(n,r))}),n},"minSatisfying");J$.exports=Wue});var tq=Q((O0t,eq)=>{var BE=gi(),Gue=a0(),Q$=_g(),Hue=o((e,t)=>{e=new Gue(e,t);let r=new BE("0.0.0");if(e.test(r)||(r=new BE("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new BE(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||Q$(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||Q$(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");eq.exports=Hue});var nq=Q((M0t,rq)=>{var zue=a0(),Vue=o((e,t)=>{try{return new zue(e,t).range||"*"}catch{return null}},"validRange");rq.exports=Vue});var y8=Q((B0t,aq)=>{var Kue=gi(),sq=yg(),{ANY:Yue}=sq,Xue=a0(),Jue=vg(),iq=_g(),oq=p8(),Zue=h8(),Que=g8(),efe=o((e,t,r,n)=>{e=new Kue(e,n),t=new Xue(t,n);let i,s,a,l,c;switch(r){case">":i=iq,s=Zue,a=oq,l=">",c=">=";break;case"<":i=oq,s=Que,a=iq,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Jue(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],d=null,p=null;if(f.forEach(m=>{m.semver===Yue&&(m=new sq(">=0.0.0")),d=d||m,p=p||m,i(m.semver,d.semver,n)?d=m:a(m.semver,p.semver,n)&&(p=m)}),d.operator===l||d.operator===c||(!p.operator||p.operator===l)&&s(e,p.semver))return!1;if(p.operator===c&&a(e,p.semver))return!1}return!0},"outside");aq.exports=efe});var cq=Q(($0t,lq)=>{var tfe=y8(),rfe=o((e,t,r)=>tfe(e,t,">",r),"gtr");lq.exports=rfe});var fq=Q((W0t,uq)=>{var nfe=y8(),ife=o((e,t,r)=>nfe(e,t,"<",r),"ltr");uq.exports=ife});var pq=Q((H0t,mq)=>{var dq=a0(),ofe=o((e,t,r)=>(e=new dq(e,r),t=new dq(t,r),e.intersects(t,r)),"intersects");mq.exports=ofe});var hq=Q((V0t,gq)=>{var sfe=vg(),afe=s0();gq.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,d)=>afe(f,d,r));for(let f of a)sfe(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,d]of n)f===d?l.push(f):!d&&f===a[0]?l.push("*"):d?f===a[0]?l.push(`<=${d}`):l.push(`${f} - ${d}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var Tq=Q((K0t,vq)=>{var xq=a0(),$E=yg(),{ANY:jE}=$E,Tg=vg(),qE=s0(),lfe=o((e,t,r={})=>{if(e===t)return!0;e=new xq(e,r),t=new xq(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=ufe(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),cfe=[new $E(">=0.0.0-0")],_q=[new $E(">=0.0.0")],ufe=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===jE){if(t.length===1&&t[0].semver===jE)return!0;r.includePrerelease?e=cfe:e=_q}if(t.length===1&&t[0].semver===jE){if(r.includePrerelease)return!0;t=_q}let n=new Set,i,s;for(let m of e)m.operator===">"||m.operator===">="?i=yq(i,m,r):m.operator==="<"||m.operator==="<="?s=bq(s,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(i&&s){if(a=qE(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let m of n){if(i&&!Tg(m,String(i),r)||s&&!Tg(m,String(s),r))return null;for(let g of t)if(!Tg(m,String(g),r))return!1;return!0}let l,c,u,f,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of t){if(f=f||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(l=yq(i,m,r),l===m&&l!==i)return!1}else if(i.operator===">="&&!Tg(i.semver,String(m),r))return!1}if(s){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=bq(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!Tg(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||p||d)},"simpleSubset"),yq=o((e,t,r)=>{if(!e)return t;let n=qE(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),bq=o((e,t,r)=>{if(!e)return t;let n=qE(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");vq.exports=lfe});var Sq=Q((X0t,Cq)=>{var WE=p1(),Eq=hg(),ffe=gi(),Iq=PE(),dfe=Gu(),mfe=Xj(),pfe=Zj(),gfe=t$(),hfe=i$(),xfe=s$(),_fe=l$(),yfe=u$(),bfe=d$(),vfe=s0(),Tfe=h$(),Efe=_$(),Ife=m8(),Cfe=T$(),Sfe=I$(),wfe=_g(),Pfe=p8(),Dfe=RE(),Rfe=AE(),Afe=g8(),kfe=h8(),Nfe=kE(),Ffe=N$(),Ofe=yg(),Lfe=a0(),Mfe=vg(),Ufe=K$(),Bfe=X$(),jfe=Z$(),$fe=tq(),qfe=nq(),Wfe=y8(),Gfe=cq(),Hfe=fq(),zfe=pq(),Vfe=hq(),Kfe=Tq();Cq.exports={parse:dfe,valid:mfe,clean:pfe,inc:gfe,diff:hfe,major:xfe,minor:_fe,patch:yfe,prerelease:bfe,compare:vfe,rcompare:Tfe,compareLoose:Efe,compareBuild:Ife,sort:Cfe,rsort:Sfe,gt:wfe,lt:Pfe,eq:Dfe,neq:Rfe,gte:Afe,lte:kfe,cmp:Nfe,coerce:Ffe,Comparator:Ofe,Range:Lfe,satisfies:Mfe,toComparators:Ufe,maxSatisfying:Bfe,minSatisfying:jfe,minVersion:$fe,validRange:qfe,outside:Wfe,gtr:Gfe,ltr:Hfe,intersects:zfe,simplifyRange:Vfe,subset:Kfe,SemVer:ffe,re:WE.re,src:WE.src,tokens:WE.t,SEMVER_SPEC_VERSION:Eq.SEMVER_SPEC_VERSION,RELEASE_TYPES:Eq.RELEASE_TYPES,compareIdentifiers:Iq.compareIdentifiers,rcompareIdentifiers:Iq.rcompareIdentifiers}});var lde={};W0(lde,{activate:()=>rde,globalStateUserAcknowledgedStatusBarDeprecationKey:()=>ede,onDeactivate:()=>Aq});module.exports=Cg(lde);var Wa=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};var wr="github.copilot";function C8(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(C8,"findKnownOrg");function ZE(e){let t=e.organization_list??[];return C8(t)??""}o(ZE,"getUserKind");var mc=class{static{o(this,"Clock")}now(){return new Date}};var aC=Bt(b1());var xr=class{constructor(t=10){this.valueMap=new Map;if(t<1)throw new Error("Size limit must be at least 1");this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){if(this.has(t))this.valueMap.delete(t);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(t,r),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.valueMap.delete(t),this.valueMap.set(t,r),r}}delete(t){return this.valueMap.delete(t)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}},v1=class extends xr{constructor(r,n=2*60*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{o(this,"LRUExpirationCacheMap")}has(r){let n=!1,i=this.expiration.get(r);return i!==void 0&&(i>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,i=this.defaultTtl){if(i<=0)throw new Error("TTL must be greater than 0");let s=super.set(r,n);return this.expiration.set(r,performance.now()+i),s}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}};var c0=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return u5(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};var Mn=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},P8=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function G0(e){return!e||typeof e!="object"?!1:e instanceof P8||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}o(G0,"isAbortError");var zu=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},Ws=class extends Error{static{o(this,"FetchResponseError")}constructor(t,r=`HTTP ${t.status} ${t.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},Uq=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function D8(e,t=!0){return e instanceof Error?t&&"cause"in e&&D8(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof zu||e instanceof Ws||e?.message?.startsWith("net::")||Uq.has(e.code??""):!1}o(D8,"isNetworkError");var f5=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new zu(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new zu(`Response body truncated: actualLength=${s}`,"Truncated"):new zu(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function R8(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(an).sessionId,"VScode-MachineId":e.get(an).machineId,...Vu(e),"X-GitHub-Api-Version":Gs};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},d=e.get(Mn);if(a){let m=d.makeAbortController();a.onCancellationRequested(()=>{Se(e,"networking.cancelRequest",Qe.createAndMarkAsIssued({headerRequestId:i})),m.abort()}),f.signal=m.signal}return d.fetch(t,f).catch(m=>{if(Bq(m))return Se(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,f));throw m})}o(R8,"postRequest");function Bq(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(Bq,"isInterruptedNetworkError");var pc=class{static{o(this,"ExpConfigMaker")}},d5=class extends pc{constructor(r={}){super();this.defaultFilters=r}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,i){let s=r.get(Mn),a=Object.keys(i).length===0?this.defaultFilters:i,l=new URL("telemetry",n.telemetry).href,c;try{c=await s.fetch(l,{method:"GET",headers:a,timeout:5e3})}catch(p){return c0.createFallbackConfig(r,`Error fetching ExP config: ${String(p)}`)}if(!c.ok)return c0.createFallbackConfig(r,`ExP responded with ${c.status}`);let u;try{u=await c.json()}catch(p){if(p instanceof SyntaxError)return H0(r,p,"fetchExperiments"),c0.createFallbackConfig(r,"ExP responded with invalid JSON");throw p}let f=u.Configs.find(p=>p.Id==="vscode")??{Id:"vscode",Parameters:{}},d=Object.entries(f.Parameters).map(([p,m])=>p+(m?"":"cf"));return new c0(f.Parameters,u.AssignmentContext,d.join(";"))}};var Ao="X-Copilot-RelatedPluginVersion-",T1=(E=>(E.Market="X-MSEdge-Market",E.CorpNet="X-FD-Corpnet",E.Build="X-VSCode-Build",E.ApplicationVersion="X-VSCode-AppVersion",E.TargetPopulation="X-VSCode-TargetPopulation",E.ClientId="X-MSEdge-ClientId",E.ExtensionName="X-VSCode-ExtensionName",E.ExtensionVersion="X-VSCode-ExtensionVersion",E.ExtensionRelease="X-VSCode-ExtensionRelease",E.Language="X-VSCode-Language",E.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",E.CopilotEngine="X-Copilot-Engine",E.CopilotOverrideEngine="X-Copilot-OverrideEngine",E.CopilotRepository="X-Copilot-Repository",E.CopilotFileType="X-Copilot-FileType",E.CopilotUserKind="X-Copilot-UserKind",E.CopilotDogfood="X-Copilot-Dogfood",E.CopilotCustomModel="X-Copilot-CustomModel",E.CopilotOrgs="X-Copilot-Orgs",E.CopilotCustomModelNames="X-Copilot-CustomModelNames",E.CopilotTrackingId="X-Copilot-CopilotTrackingId",E.CopilotClientVersion="X-Copilot-ClientVersion",E.CopilotRelatedPluginVersionCppTools=Ao+"msvscodecpptools",E.CopilotRelatedPluginVersionCMakeTools=Ao+"msvscodecmaketools",E.CopilotRelatedPluginVersionMakefileTools=Ao+"msvscodemakefiletools",E.CopilotRelatedPluginVersionCSharpDevKit=Ao+"msdotnettoolscsdevkit",E.CopilotRelatedPluginVersionPython=Ao+"mspythonpython",E.CopilotRelatedPluginVersionPylance=Ao+"mspythonvscodepylance",E.CopilotRelatedPluginVersionJavaPack=Ao+"vscjavavscodejavapack",E.CopilotRelatedPluginVersionTypescript=Ao+"vscodetypescriptlanguagefeatures",E.CopilotRelatedPluginVersionTypescriptNext=Ao+"msvscodevscodetypescriptnext",E.CopilotRelatedPluginVersionCSharp=Ao+"msdotnettoolscsharp",E))(T1||{});var jq={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},gc=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=jq[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};var m5=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},A8=class extends m5{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},cC=o(e=>new A8(e),"DEFAULT_GRANULARITY"),p5=class extends m5{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var uC="X-Copilot-ClientTimeBucket",g5=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=cC(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new p5(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(uC,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(uC,s))}}};var Ai=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};var za=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:fC(r,n),verboseLogging:qq(r,n),testMode:t,simulation:$q(n)})}};function u0(e){return e.get(za).flags.testMode}o(u0,"isRunningInTest");function Ku(e){return u0(e)}o(Ku,"shouldFailForDebugPurposes");function k8(e){return e.get(za).flags.debug}o(k8,"isDebugEnabled");function fC(e,t){return e.includes("--debug")||N8(t,"DEBUG")}o(fC,"determineDebugFlag");function $q(e){return N8(e,"SIMULATION")}o($q,"determineSimulationFlag");function dC(e){return e.get(za).flags.simulation}o(dC,"isRunningInSimulation");function qq(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||N8(t,"VERBOSE")||fC(e,t)}o(qq,"determineVerboseLoggingEnabled");function N8(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(N8,"determineEnvFlagEnabled");var xC=Bt(hc()),x5=Bt(Xu());var gC;(()=>{"use strict";var e={975:P=>{function w(T){if(typeof T!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}o(w,"e");function z(T,E){for(var R,S="",A=0,N=-1,F=0,M=0;M<=T.length;++M){if(M<T.length)R=T.charCodeAt(M);else{if(R===47)break;R=47}if(R===47){if(!(N===M-1||F===1))if(N!==M-1&&F===2){if(S.length<2||A!==2||S.charCodeAt(S.length-1)!==46||S.charCodeAt(S.length-2)!==46){if(S.length>2){var G=S.lastIndexOf("/");if(G!==S.length-1){G===-1?(S="",A=0):A=(S=S.slice(0,G)).length-1-S.lastIndexOf("/"),N=M,F=0;continue}}else if(S.length===2||S.length===1){S="",A=0,N=M,F=0;continue}}E&&(S.length>0?S+="/..":S="..",A=2)}else S.length>0?S+="/"+T.slice(N+1,M):S=T.slice(N+1,M),A=M-N-1;N=M,F=0}else R===46&&F!==-1?++F:F=-1}return S}o(z,"r");var k={resolve:o(function(){for(var T,E="",R=!1,S=arguments.length-1;S>=-1&&!R;S--){var A;S>=0?A=arguments[S]:(T===void 0&&(T=process.cwd()),A=T),w(A),A.length!==0&&(E=A+"/"+E,R=A.charCodeAt(0)===47)}return E=z(E,!R),R?E.length>0?"/"+E:"/":E.length>0?E:"."},"resolve"),normalize:o(function(T){if(w(T),T.length===0)return".";var E=T.charCodeAt(0)===47,R=T.charCodeAt(T.length-1)===47;return(T=z(T,!E)).length!==0||E||(T="."),T.length>0&&R&&(T+="/"),E?"/"+T:T},"normalize"),isAbsolute:o(function(T){return w(T),T.length>0&&T.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var T,E=0;E<arguments.length;++E){var R=arguments[E];w(R),R.length>0&&(T===void 0?T=R:T+="/"+R)}return T===void 0?".":k.normalize(T)},"join"),relative:o(function(T,E){if(w(T),w(E),T===E||(T=k.resolve(T))===(E=k.resolve(E)))return"";for(var R=1;R<T.length&&T.charCodeAt(R)===47;++R);for(var S=T.length,A=S-R,N=1;N<E.length&&E.charCodeAt(N)===47;++N);for(var F=E.length-N,M=A<F?A:F,G=-1,se=0;se<=M;++se){if(se===M){if(F>M){if(E.charCodeAt(N+se)===47)return E.slice(N+se+1);if(se===0)return E.slice(N+se)}else A>M&&(T.charCodeAt(R+se)===47?G=se:se===0&&(G=0));break}var ye=T.charCodeAt(R+se);if(ye!==E.charCodeAt(N+se))break;ye===47&&(G=se)}var he="";for(se=R+G+1;se<=S;++se)se!==S&&T.charCodeAt(se)!==47||(he.length===0?he+="..":he+="/..");return he.length>0?he+E.slice(N+G):(N+=G,E.charCodeAt(N)===47&&++N,E.slice(N))},"relative"),_makeLong:o(function(T){return T},"_makeLong"),dirname:o(function(T){if(w(T),T.length===0)return".";for(var E=T.charCodeAt(0),R=E===47,S=-1,A=!0,N=T.length-1;N>=1;--N)if((E=T.charCodeAt(N))===47){if(!A){S=N;break}}else A=!1;return S===-1?R?"/":".":R&&S===1?"//":T.slice(0,S)},"dirname"),basename:o(function(T,E){if(E!==void 0&&typeof E!="string")throw new TypeError('"ext" argument must be a string');w(T);var R,S=0,A=-1,N=!0;if(E!==void 0&&E.length>0&&E.length<=T.length){if(E.length===T.length&&E===T)return"";var F=E.length-1,M=-1;for(R=T.length-1;R>=0;--R){var G=T.charCodeAt(R);if(G===47){if(!N){S=R+1;break}}else M===-1&&(N=!1,M=R+1),F>=0&&(G===E.charCodeAt(F)?--F==-1&&(A=R):(F=-1,A=M))}return S===A?A=M:A===-1&&(A=T.length),T.slice(S,A)}for(R=T.length-1;R>=0;--R)if(T.charCodeAt(R)===47){if(!N){S=R+1;break}}else A===-1&&(N=!1,A=R+1);return A===-1?"":T.slice(S,A)},"basename"),extname:o(function(T){w(T);for(var E=-1,R=0,S=-1,A=!0,N=0,F=T.length-1;F>=0;--F){var M=T.charCodeAt(F);if(M!==47)S===-1&&(A=!1,S=F+1),M===46?E===-1?E=F:N!==1&&(N=1):E!==-1&&(N=-1);else if(!A){R=F+1;break}}return E===-1||S===-1||N===0||N===1&&E===S-1&&E===R+1?"":T.slice(E,S)},"extname"),format:o(function(T){if(T===null||typeof T!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof T);return function(E,R){var S=R.dir||R.root,A=R.base||(R.name||"")+(R.ext||"");return S?S===R.root?S+A:S+"/"+A:A}(0,T)},"format"),parse:o(function(T){w(T);var E={root:"",dir:"",base:"",ext:"",name:""};if(T.length===0)return E;var R,S=T.charCodeAt(0),A=S===47;A?(E.root="/",R=1):R=0;for(var N=-1,F=0,M=-1,G=!0,se=T.length-1,ye=0;se>=R;--se)if((S=T.charCodeAt(se))!==47)M===-1&&(G=!1,M=se+1),S===46?N===-1?N=se:ye!==1&&(ye=1):N!==-1&&(ye=-1);else if(!G){F=se+1;break}return N===-1||M===-1||ye===0||ye===1&&N===M-1&&N===F+1?M!==-1&&(E.base=E.name=F===0&&A?T.slice(1,M):T.slice(F,M)):(F===0&&A?(E.name=T.slice(1,N),E.base=T.slice(1,M)):(E.name=T.slice(F,N),E.base=T.slice(F,M)),E.ext=T.slice(N,M)),F>0?E.dir=T.slice(0,F-1):A&&(E.dir="/"),E},"parse"),sep:"/",delimiter:":",win32:null,posix:null};k.posix=k,P.exports=k}},t={};function r(P){var w=t[P];if(w!==void 0)return w.exports;var z=t[P]={exports:{}};return e[P](z,z.exports,r),z.exports}o(r,"r"),r.d=(P,w)=>{for(var z in w)r.o(w,z)&&!r.o(P,z)&&Object.defineProperty(P,z,{enumerable:!0,get:w[z]})},r.o=(P,w)=>Object.prototype.hasOwnProperty.call(P,w),r.r=P=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>p,"URI"),Utils:o(()=>Y,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(P,w){if(!P.scheme&&w)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${P.authority}", path: "${P.path}", query: "${P.query}", fragment: "${P.fragment}"}`);if(P.scheme&&!s.test(P.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(P.path){if(P.authority){if(!a.test(P.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(P.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{o(this,"l")}static isUri(w){return w instanceof p||!!w&&typeof w.authority=="string"&&typeof w.fragment=="string"&&typeof w.path=="string"&&typeof w.query=="string"&&typeof w.scheme=="string"&&typeof w.fsPath=="string"&&typeof w.with=="function"&&typeof w.toString=="function"}scheme;authority;path;query;fragment;constructor(w,z,k,T,E,R=!1){typeof w=="object"?(this.scheme=w.scheme||u,this.authority=w.authority||u,this.path=w.path||u,this.query=w.query||u,this.fragment=w.fragment||u):(this.scheme=function(S,A){return S||A?S:"file"}(w,R),this.authority=z||u,this.path=function(S,A){switch(S){case"https":case"http":case"file":A?A[0]!==f&&(A=f+A):A=f}return A}(this.scheme,k||u),this.query=T||u,this.fragment=E||u,c(this,R))}get fsPath(){return y(this,!1)}with(w){if(!w)return this;let{scheme:z,authority:k,path:T,query:E,fragment:R}=w;return z===void 0?z=this.scheme:z===null&&(z=u),k===void 0?k=this.authority:k===null&&(k=u),T===void 0?T=this.path:T===null&&(T=u),E===void 0?E=this.query:E===null&&(E=u),R===void 0?R=this.fragment:R===null&&(R=u),z===this.scheme&&k===this.authority&&T===this.path&&E===this.query&&R===this.fragment?this:new g(z,k,T,E,R)}static parse(w,z=!1){let k=d.exec(w);return k?new g(k[2]||u,D(k[4]||u),D(k[5]||u),D(k[7]||u),D(k[9]||u),z):new g(u,u,u,u,u)}static file(w){let z=u;if(i&&(w=w.replace(/\\/g,f)),w[0]===f&&w[1]===f){let k=w.indexOf(f,2);k===-1?(z=w.substring(2),w=f):(z=w.substring(2,k),w=w.substring(k)||f)}return new g("file",z,w,u,u)}static from(w){let z=new g(w.scheme,w.authority,w.path,w.query,w.fragment);return c(z,!0),z}toString(w=!1){return b(this,w)}toJSON(){return this}static revive(w){if(w){if(w instanceof p)return w;{let z=new g(w);return z._formatted=w.external,z._fsPath=w._sep===m?w.fsPath:null,z}}return w}}let m=i?1:void 0;class g extends p{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=y(this,!1)),this._fsPath}toString(w=!1){return w?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){let w={$mid:1};return this._fsPath&&(w.fsPath=this._fsPath,w._sep=m),this._formatted&&(w.external=this._formatted),this.path&&(w.path=this.path),this.scheme&&(w.scheme=this.scheme),this.authority&&(w.authority=this.authority),this.query&&(w.query=this.query),this.fragment&&(w.fragment=this.fragment),w}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(P,w,z){let k,T=-1;for(let E=0;E<P.length;E++){let R=P.charCodeAt(E);if(R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===45||R===46||R===95||R===126||w&&R===47||z&&R===91||z&&R===93||z&&R===58)T!==-1&&(k+=encodeURIComponent(P.substring(T,E)),T=-1),k!==void 0&&(k+=P.charAt(E));else{k===void 0&&(k=P.substr(0,E));let S=h[R];S!==void 0?(T!==-1&&(k+=encodeURIComponent(P.substring(T,E)),T=-1),k+=S):T===-1&&(T=E)}}return T!==-1&&(k+=encodeURIComponent(P.substring(T))),k!==void 0?k:P}o(_,"m");function x(P){let w;for(let z=0;z<P.length;z++){let k=P.charCodeAt(z);k===35||k===63?(w===void 0&&(w=P.substr(0,z)),w+=h[k]):w!==void 0&&(w+=P[z])}return w!==void 0?w:P}o(x,"y");function y(P,w){let z;return z=P.authority&&P.path.length>1&&P.scheme==="file"?`//${P.authority}${P.path}`:P.path.charCodeAt(0)===47&&(P.path.charCodeAt(1)>=65&&P.path.charCodeAt(1)<=90||P.path.charCodeAt(1)>=97&&P.path.charCodeAt(1)<=122)&&P.path.charCodeAt(2)===58?w?P.path.substr(1):P.path[1].toLowerCase()+P.path.substr(2):P.path,i&&(z=z.replace(/\//g,"\\")),z}o(y,"v");function b(P,w){let z=w?x:_,k="",{scheme:T,authority:E,path:R,query:S,fragment:A}=P;if(T&&(k+=T,k+=":"),(E||T==="file")&&(k+=f,k+=f),E){let N=E.indexOf("@");if(N!==-1){let F=E.substr(0,N);E=E.substr(N+1),N=F.lastIndexOf(":"),N===-1?k+=z(F,!1,!1):(k+=z(F.substr(0,N),!1,!1),k+=":",k+=z(F.substr(N+1),!1,!0)),k+="@"}E=E.toLowerCase(),N=E.lastIndexOf(":"),N===-1?k+=z(E,!1,!0):(k+=z(E.substr(0,N),!1,!0),k+=E.substr(N))}if(R){if(R.length>=3&&R.charCodeAt(0)===47&&R.charCodeAt(2)===58){let N=R.charCodeAt(1);N>=65&&N<=90&&(R=`/${String.fromCharCode(N+32)}:${R.substr(3)}`)}else if(R.length>=2&&R.charCodeAt(1)===58){let N=R.charCodeAt(0);N>=65&&N<=90&&(R=`${String.fromCharCode(N+32)}:${R.substr(2)}`)}k+=z(R,!0,!1)}return S&&(k+="?",k+=z(S,!1,!1)),A&&(k+="#",k+=w?A:_(A,!1,!1)),k}o(b,"b");function v(P){try{return decodeURIComponent(P)}catch{return P.length>3?P.substr(0,3)+v(P.substr(3)):P}}o(v,"C");let I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function D(P){return P.match(I)?P.replace(I,w=>v(w)):P}o(D,"w");var H=r(975);let V=H.posix||H,$="/";var Y;(function(P){P.joinPath=function(w,...z){return w.with({path:V.join(w.path,...z)})},P.resolvePath=function(w,...z){let k=w.path,T=!1;k[0]!==$&&(k=$+k,T=!0);let E=V.resolve(k,...z);return T&&E[0]===$&&!w.authority&&(E=E.substring(1)),w.with({path:E})},P.dirname=function(w){if(w.path.length===0||w.path===$)return w;let z=V.dirname(w.path);return z.length===1&&z.charCodeAt(0)===46&&(z=""),w.with({path:z})},P.basename=function(w){return V.basename(w.path)},P.extname=function(w){return V.extname(w.path)}})(Y||(Y={})),gC=n})();var{URI:Va,Utils:h5}=gC;function _C(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+_C(e.substring(3)):e}}o(_C,"decodeURIComponentGraceful");var hC=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function F8(e){return e.match(hC)?e.replace(hC,t=>_C(t)):e}o(F8,"percentDecode");function _5(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return Va.file(e).toString()}o(_5,"makeFsUri");function E1(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?Va.parse(t[1]+t[2],!0):Va.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(E1,"parseUri");function f0(e){try{return E1(e).toString()}catch{return e}}o(f0,"normalizeUri");var yC=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Gq(e){let t=E1(e);if(!yC.has(t.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${t.scheme}`);if((0,xC.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,x5.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(Gq,"fsPath");function y5(e){try{return Gq(e)}catch{return}}o(y5,"getFsPath");function b5(e){let t=y5(e);if(t)return Va.file(t).toString()}o(b5,"getFsUri");function xc(e,...t){let r,n=y5(e);return n?r=_5((0,x5.resolve)(n,...t)):r=h5.resolvePath(E1(e),...t.map(i=>bC(i))).toString(),typeof e=="string"?r:{uri:r}}o(xc,"resolveFilePath");function yn(e,...t){let r=h5.joinPath(E1(e),...t.map(bC)).toString();return typeof e=="string"?r:{uri:r}}o(yn,"joinPath");function bC(e){return Hq(e)?e.replaceAll("\\","/"):e}o(bC,"pathToURIPath");function Hq(e){return/^[^/\\]*\\/.test(e)}o(Hq,"isWinPath");function Ka(e){return F8((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Ka,"basename");function V0(e){let t=h5.dirname(E1(e)),r;return yC.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(V0,"dirname");var Hs=class{static{o(this,"NetworkConfiguration")}};function I1(e,t){try{let r=new URL(t??"");if(r.protocol==="https:"||!L8(e)&&r.protocol==="http:")return r.href}catch{}}o(I1,"ensurePermittedUrl");var C1={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function O8(e,t,r){if(r&&u0(e)){for(let n of r){let i=Dt(e,n);if(i)return i}return}for(let n of t){let i=Dt(e,n);if(i)return i}}o(O8,"urlConfigOverride");function zq(e,t){switch(t){case"api":return O8(e,[be.DebugOverrideCapiUrl,be.DebugOverrideCapiUrlLegacy],[be.DebugTestOverrideCapiUrl,be.DebugTestOverrideCapiUrlLegacy]);case"proxy":return O8(e,[be.DebugOverrideProxyUrl,be.DebugOverrideProxyUrlLegacy],[be.DebugTestOverrideProxyUrl,be.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!L8(e))return O8(e,[be.DebugSnippyOverrideUrl])}}o(zq,"getEndpointOverrideUrl");function v5(e,t,r,...n){let i=zq(e,r)??t.endpoints[r];return yn(i,...n)}o(v5,"getEndpointUrl");function vC(e){return EC(e)?.endpoints??C1}o(vC,"getLastKnownEndpoints");function TC(e,t){if(t&&!I1(e,t)){e.get(Ai).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${t}".`);return}e.get(Hs).setConfiguredUrls(e,{serverUrl:t})}o(TC,"updateServerUrl");function Vq(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(Vq,"getIntegrationId");function M8(e){let t={...Vu(e),"X-GitHub-Api-Version":Gs},r=Vq(e.get(lr));return r&&(t["Copilot-Integration-Id"]=r),t}o(M8,"getCapiHeaders");function Kq(e,t,...r){return v5(e,t,"api",...r)}o(Kq,"getCapiUrl");async function U8(e,t){let r=await e.get(Wr).getToken(),n=Kq(e,r,t),i={Authorization:`Bearer ${r.token}`,...M8(e)};return await e.get(Mn).fetch(new URL(n).href,{method:"GET",headers:i})}o(U8,"fetchCapiUrl");var T5=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(T5||{}),Ju=class{static{o(this,"LogTarget")}},Ya=class{static{o(this,"TelemetryLogSender")}},Ct=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(Ju).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(Ya).sendError(t,this.category,...r),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(Ya).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},pt=new Ct("default");var Jn={};W0(Jn,{HasPropertyKey:()=>E5,IsArray:()=>en,IsAsyncIterator:()=>B8,IsBigInt:()=>S1,IsBoolean:()=>zs,IsDate:()=>_c,IsFunction:()=>j8,IsIterator:()=>$8,IsNull:()=>q8,IsNumber:()=>ro,IsObject:()=>dr,IsRegExp:()=>w1,IsString:()=>yr,IsSymbol:()=>W8,IsUint8Array:()=>Vs,IsUndefined:()=>tn});function E5(e,t){return t in e}o(E5,"HasPropertyKey");function B8(e){return dr(e)&&!en(e)&&!Vs(e)&&Symbol.asyncIterator in e}o(B8,"IsAsyncIterator");function en(e){return Array.isArray(e)}o(en,"IsArray");function S1(e){return typeof e=="bigint"}o(S1,"IsBigInt");function zs(e){return typeof e=="boolean"}o(zs,"IsBoolean");function _c(e){return e instanceof globalThis.Date}o(_c,"IsDate");function j8(e){return typeof e=="function"}o(j8,"IsFunction");function $8(e){return dr(e)&&!en(e)&&!Vs(e)&&Symbol.iterator in e}o($8,"IsIterator");function q8(e){return e===null}o(q8,"IsNull");function ro(e){return typeof e=="number"}o(ro,"IsNumber");function dr(e){return typeof e=="object"&&e!==null}o(dr,"IsObject");function w1(e){return e instanceof globalThis.RegExp}o(w1,"IsRegExp");function yr(e){return typeof e=="string"}o(yr,"IsString");function W8(e){return typeof e=="symbol"}o(W8,"IsSymbol");function Vs(e){return e instanceof globalThis.Uint8Array}o(Vs,"IsUint8Array");function tn(e){return e===void 0}o(tn,"IsUndefined");function Yq(e){return e.map(t=>I5(t))}o(Yq,"ArrayType");function Xq(e){return new Date(e.getTime())}o(Xq,"DateType");function Jq(e){return new Uint8Array(e)}o(Jq,"Uint8ArrayType");function Zq(e){return new RegExp(e.source,e.flags)}o(Zq,"RegExpType");function Qq(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=I5(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=I5(e[r]);return t}o(Qq,"ObjectType");function I5(e){return en(e)?Yq(e):_c(e)?Xq(e):Vs(e)?Jq(e):w1(e)?Zq(e):dr(e)?Qq(e):e}o(I5,"Visit");function Pr(e){return I5(e)}o(Pr,"Clone");function Zu(e,t){return t===void 0?Pr(e):Pr({...t,...e})}o(Zu,"CloneType");function C5(e){return Et(e)&&globalThis.Symbol.asyncIterator in e}o(C5,"IsAsyncIterator");function S5(e){return Et(e)&&globalThis.Symbol.iterator in e}o(S5,"IsIterator");function G8(e){return Et(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(G8,"IsStandardObject");function w5(e){return e instanceof globalThis.Promise}o(w5,"IsPromise");function hi(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(hi,"IsDate");function IC(e){return e instanceof globalThis.Map}o(IC,"IsMap");function CC(e){return e instanceof globalThis.Set}o(CC,"IsSet");function ko(e){return globalThis.ArrayBuffer.isView(e)}o(ko,"IsTypedArray");function Qu(e){return e instanceof globalThis.Uint8Array}o(Qu,"IsUint8Array");function ot(e,t){return t in e}o(ot,"HasPropertyKey");function Et(e){return e!==null&&typeof e=="object"}o(Et,"IsObject");function st(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(st,"IsArray");function Dr(e){return e===void 0}o(Dr,"IsUndefined");function Ks(e){return e===null}o(Ks,"IsNull");function K0(e){return typeof e=="boolean"}o(K0,"IsBoolean");function He(e){return typeof e=="number"}o(He,"IsNumber");function P5(e){return globalThis.Number.isInteger(e)}o(P5,"IsInteger");function Un(e){return typeof e=="bigint"}o(Un,"IsBigInt");function Ht(e){return typeof e=="string"}o(Ht,"IsString");function Xa(e){return typeof e=="function"}o(Xa,"IsFunction");function Ys(e){return typeof e=="symbol"}o(Ys,"IsSymbol");function no(e){return Un(e)||K0(e)||Ks(e)||He(e)||Ht(e)||Ys(e)||Dr(e)}o(no,"IsValueType");var Er;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Et(a);return e.AllowArrayObject?l:l&&!st(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?He(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=Dr(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Er||(Er={}));function eW(e){return globalThis.Object.freeze(e).map(t=>P1(t))}o(eW,"ImmutableArray");function tW(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=P1(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=P1(e[r]);return globalThis.Object.freeze(t)}o(tW,"ImmutableObject");function P1(e){return en(e)?eW(e):_c(e)?e:Vs(e)?e:w1(e)?e:dr(e)?tW(e):e}o(P1,"Immutable");function ie(e,t){let r=t!==void 0?{...t,...e}:e;switch(Er.InstanceMode){case"freeze":return P1(r);case"clone":return Pr(r);default:return r}}o(ie,"CreateType");var at=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};var Ur=Symbol.for("TypeBox.Transform"),d0=Symbol.for("TypeBox.Readonly"),Bn=Symbol.for("TypeBox.Optional"),No=Symbol.for("TypeBox.Hint"),te=Symbol.for("TypeBox.Kind");function ef(e){return dr(e)&&e[d0]==="Readonly"}o(ef,"IsReadonly");function ki(e){return dr(e)&&e[Bn]==="Optional"}o(ki,"IsOptional");function H8(e){return $t(e,"Any")}o(H8,"IsAny");function z8(e){return $t(e,"Argument")}o(z8,"IsArgument");function m0(e){return $t(e,"Array")}o(m0,"IsArray");function yc(e){return $t(e,"AsyncIterator")}o(yc,"IsAsyncIterator");function bc(e){return $t(e,"BigInt")}o(bc,"IsBigInt");function Xs(e){return $t(e,"Boolean")}o(Xs,"IsBoolean");function p0(e){return $t(e,"Computed")}o(p0,"IsComputed");function g0(e){return $t(e,"Constructor")}o(g0,"IsConstructor");function rW(e){return $t(e,"Date")}o(rW,"IsDate");function h0(e){return $t(e,"Function")}o(h0,"IsFunction");function x0(e){return $t(e,"Integer")}o(x0,"IsInteger");function Gr(e){return $t(e,"Intersect")}o(Gr,"IsIntersect");function vc(e){return $t(e,"Iterator")}o(vc,"IsIterator");function $t(e,t){return dr(e)&&te in e&&e[te]===t}o($t,"IsKindOf");function D5(e){return zs(e)||ro(e)||yr(e)}o(D5,"IsLiteralValue");function io(e){return $t(e,"Literal")}o(io,"IsLiteral");function oo(e){return $t(e,"MappedKey")}o(oo,"IsMappedKey");function Rr(e){return $t(e,"MappedResult")}o(Rr,"IsMappedResult");function Ja(e){return $t(e,"Never")}o(Ja,"IsNever");function nW(e){return $t(e,"Not")}o(nW,"IsNot");function D1(e){return $t(e,"Null")}o(D1,"IsNull");function _0(e){return $t(e,"Number")}o(_0,"IsNumber");function rn(e){return $t(e,"Object")}o(rn,"IsObject");function Tc(e){return $t(e,"Promise")}o(Tc,"IsPromise");function Ec(e){return $t(e,"Record")}o(Ec,"IsRecord");function Jr(e){return $t(e,"Ref")}o(Jr,"IsRef");function V8(e){return $t(e,"RegExp")}o(V8,"IsRegExp");function Js(e){return $t(e,"String")}o(Js,"IsString");function R1(e){return $t(e,"Symbol")}o(R1,"IsSymbol");function so(e){return $t(e,"TemplateLiteral")}o(so,"IsTemplateLiteral");function iW(e){return $t(e,"This")}o(iW,"IsThis");function er(e){return dr(e)&&Ur in e}o(er,"IsTransform");function ao(e){return $t(e,"Tuple")}o(ao,"IsTuple");function Zs(e){return $t(e,"Undefined")}o(Zs,"IsUndefined");function zt(e){return $t(e,"Union")}o(zt,"IsUnion");function oW(e){return $t(e,"Uint8Array")}o(oW,"IsUint8Array");function sW(e){return $t(e,"Unknown")}o(sW,"IsUnknown");function aW(e){return $t(e,"Unsafe")}o(aW,"IsUnsafe");function lW(e){return $t(e,"Void")}o(lW,"IsVoid");function Za(e){return dr(e)&&te in e&&yr(e[te])}o(Za,"IsKind");function Br(e){return H8(e)||z8(e)||m0(e)||Xs(e)||bc(e)||yc(e)||p0(e)||g0(e)||rW(e)||h0(e)||x0(e)||Gr(e)||vc(e)||io(e)||oo(e)||Rr(e)||Ja(e)||nW(e)||D1(e)||_0(e)||rn(e)||Tc(e)||Ec(e)||Jr(e)||V8(e)||Js(e)||R1(e)||so(e)||iW(e)||ao(e)||Zs(e)||zt(e)||oW(e)||sW(e)||aW(e)||lW(e)||Za(e)}o(Br,"IsSchema");var K={};W0(K,{IsAny:()=>DC,IsArgument:()=>RC,IsArray:()=>AC,IsAsyncIterator:()=>kC,IsBigInt:()=>NC,IsBoolean:()=>FC,IsComputed:()=>OC,IsConstructor:()=>LC,IsDate:()=>MC,IsFunction:()=>UC,IsImport:()=>pW,IsInteger:()=>BC,IsIntersect:()=>jC,IsIterator:()=>$C,IsKind:()=>mS,IsKindOf:()=>Rt,IsLiteral:()=>k1,IsLiteralBoolean:()=>gW,IsLiteralNumber:()=>WC,IsLiteralString:()=>qC,IsLiteralValue:()=>GC,IsMappedKey:()=>HC,IsMappedResult:()=>zC,IsNever:()=>VC,IsNot:()=>KC,IsNull:()=>YC,IsNumber:()=>XC,IsObject:()=>JC,IsOptional:()=>mW,IsPromise:()=>ZC,IsProperties:()=>R5,IsReadonly:()=>dW,IsRecord:()=>QC,IsRecursive:()=>hW,IsRef:()=>eS,IsRegExp:()=>tS,IsSchema:()=>Ar,IsString:()=>rS,IsSymbol:()=>nS,IsTemplateLiteral:()=>iS,IsThis:()=>oS,IsTransform:()=>sS,IsTuple:()=>aS,IsUint8Array:()=>cS,IsUndefined:()=>lS,IsUnion:()=>J8,IsUnionLiteral:()=>xW,IsUnknown:()=>uS,IsUnsafe:()=>fS,IsVoid:()=>dS,TypeGuardUnknownTypeError:()=>K8});var K8=class extends at{static{o(this,"TypeGuardUnknownTypeError")}},cW=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function SC(e){try{return new RegExp(e),!0}catch{return!1}}o(SC,"IsPattern");function Y8(e){if(!yr(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(Y8,"IsControlCharacterFree");function wC(e){return X8(e)||Ar(e)}o(wC,"IsAdditionalProperties");function A1(e){return tn(e)||S1(e)}o(A1,"IsOptionalBigInt");function br(e){return tn(e)||ro(e)}o(br,"IsOptionalNumber");function X8(e){return tn(e)||zs(e)}o(X8,"IsOptionalBoolean");function mr(e){return tn(e)||yr(e)}o(mr,"IsOptionalString");function uW(e){return tn(e)||yr(e)&&Y8(e)&&SC(e)}o(uW,"IsOptionalPattern");function fW(e){return tn(e)||yr(e)&&Y8(e)}o(fW,"IsOptionalFormat");function PC(e){return tn(e)||Ar(e)}o(PC,"IsOptionalSchema");function dW(e){return dr(e)&&e[d0]==="Readonly"}o(dW,"IsReadonly");function mW(e){return dr(e)&&e[Bn]==="Optional"}o(mW,"IsOptional");function DC(e){return Rt(e,"Any")&&mr(e.$id)}o(DC,"IsAny");function RC(e){return Rt(e,"Argument")&&ro(e.index)}o(RC,"IsArgument");function AC(e){return Rt(e,"Array")&&e.type==="array"&&mr(e.$id)&&Ar(e.items)&&br(e.minItems)&&br(e.maxItems)&&X8(e.uniqueItems)&&PC(e.contains)&&br(e.minContains)&&br(e.maxContains)}o(AC,"IsArray");function kC(e){return Rt(e,"AsyncIterator")&&e.type==="AsyncIterator"&&mr(e.$id)&&Ar(e.items)}o(kC,"IsAsyncIterator");function NC(e){return Rt(e,"BigInt")&&e.type==="bigint"&&mr(e.$id)&&A1(e.exclusiveMaximum)&&A1(e.exclusiveMinimum)&&A1(e.maximum)&&A1(e.minimum)&&A1(e.multipleOf)}o(NC,"IsBigInt");function FC(e){return Rt(e,"Boolean")&&e.type==="boolean"&&mr(e.$id)}o(FC,"IsBoolean");function OC(e){return Rt(e,"Computed")&&yr(e.target)&&en(e.parameters)&&e.parameters.every(t=>Ar(t))}o(OC,"IsComputed");function LC(e){return Rt(e,"Constructor")&&e.type==="Constructor"&&mr(e.$id)&&en(e.parameters)&&e.parameters.every(t=>Ar(t))&&Ar(e.returns)}o(LC,"IsConstructor");function MC(e){return Rt(e,"Date")&&e.type==="Date"&&mr(e.$id)&&br(e.exclusiveMaximumTimestamp)&&br(e.exclusiveMinimumTimestamp)&&br(e.maximumTimestamp)&&br(e.minimumTimestamp)&&br(e.multipleOfTimestamp)}o(MC,"IsDate");function UC(e){return Rt(e,"Function")&&e.type==="Function"&&mr(e.$id)&&en(e.parameters)&&e.parameters.every(t=>Ar(t))&&Ar(e.returns)}o(UC,"IsFunction");function pW(e){return Rt(e,"Import")&&E5(e,"$defs")&&dr(e.$defs)&&R5(e.$defs)&&E5(e,"$ref")&&yr(e.$ref)&&e.$ref in e.$defs}o(pW,"IsImport");function BC(e){return Rt(e,"Integer")&&e.type==="integer"&&mr(e.$id)&&br(e.exclusiveMaximum)&&br(e.exclusiveMinimum)&&br(e.maximum)&&br(e.minimum)&&br(e.multipleOf)}o(BC,"IsInteger");function R5(e){return dr(e)&&Object.entries(e).every(([t,r])=>Y8(t)&&Ar(r))}o(R5,"IsProperties");function jC(e){return Rt(e,"Intersect")&&!(yr(e.type)&&e.type!=="object")&&en(e.allOf)&&e.allOf.every(t=>Ar(t)&&!sS(t))&&mr(e.type)&&(X8(e.unevaluatedProperties)||PC(e.unevaluatedProperties))&&mr(e.$id)}o(jC,"IsIntersect");function $C(e){return Rt(e,"Iterator")&&e.type==="Iterator"&&mr(e.$id)&&Ar(e.items)}o($C,"IsIterator");function Rt(e,t){return dr(e)&&te in e&&e[te]===t}o(Rt,"IsKindOf");function qC(e){return k1(e)&&yr(e.const)}o(qC,"IsLiteralString");function WC(e){return k1(e)&&ro(e.const)}o(WC,"IsLiteralNumber");function gW(e){return k1(e)&&zs(e.const)}o(gW,"IsLiteralBoolean");function k1(e){return Rt(e,"Literal")&&mr(e.$id)&&GC(e.const)}o(k1,"IsLiteral");function GC(e){return zs(e)||ro(e)||yr(e)}o(GC,"IsLiteralValue");function HC(e){return Rt(e,"MappedKey")&&en(e.keys)&&e.keys.every(t=>ro(t)||yr(t))}o(HC,"IsMappedKey");function zC(e){return Rt(e,"MappedResult")&&R5(e.properties)}o(zC,"IsMappedResult");function VC(e){return Rt(e,"Never")&&dr(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(VC,"IsNever");function KC(e){return Rt(e,"Not")&&Ar(e.not)}o(KC,"IsNot");function YC(e){return Rt(e,"Null")&&e.type==="null"&&mr(e.$id)}o(YC,"IsNull");function XC(e){return Rt(e,"Number")&&e.type==="number"&&mr(e.$id)&&br(e.exclusiveMaximum)&&br(e.exclusiveMinimum)&&br(e.maximum)&&br(e.minimum)&&br(e.multipleOf)}o(XC,"IsNumber");function JC(e){return Rt(e,"Object")&&e.type==="object"&&mr(e.$id)&&R5(e.properties)&&wC(e.additionalProperties)&&br(e.minProperties)&&br(e.maxProperties)}o(JC,"IsObject");function ZC(e){return Rt(e,"Promise")&&e.type==="Promise"&&mr(e.$id)&&Ar(e.item)}o(ZC,"IsPromise");function QC(e){return Rt(e,"Record")&&e.type==="object"&&mr(e.$id)&&wC(e.additionalProperties)&&dr(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&SC(r[0])&&dr(t.patternProperties)&&Ar(t.patternProperties[r[0]])})(e)}o(QC,"IsRecord");function hW(e){return dr(e)&&No in e&&e[No]==="Recursive"}o(hW,"IsRecursive");function eS(e){return Rt(e,"Ref")&&mr(e.$id)&&yr(e.$ref)}o(eS,"IsRef");function tS(e){return Rt(e,"RegExp")&&mr(e.$id)&&yr(e.source)&&yr(e.flags)&&br(e.maxLength)&&br(e.minLength)}o(tS,"IsRegExp");function rS(e){return Rt(e,"String")&&e.type==="string"&&mr(e.$id)&&br(e.minLength)&&br(e.maxLength)&&uW(e.pattern)&&fW(e.format)}o(rS,"IsString");function nS(e){return Rt(e,"Symbol")&&e.type==="symbol"&&mr(e.$id)}o(nS,"IsSymbol");function iS(e){return Rt(e,"TemplateLiteral")&&e.type==="string"&&yr(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(iS,"IsTemplateLiteral");function oS(e){return Rt(e,"This")&&mr(e.$id)&&yr(e.$ref)}o(oS,"IsThis");function sS(e){return dr(e)&&Ur in e}o(sS,"IsTransform");function aS(e){return Rt(e,"Tuple")&&e.type==="array"&&mr(e.$id)&&ro(e.minItems)&&ro(e.maxItems)&&e.minItems===e.maxItems&&(tn(e.items)&&tn(e.additionalItems)&&e.minItems===0||en(e.items)&&e.items.every(t=>Ar(t)))}o(aS,"IsTuple");function lS(e){return Rt(e,"Undefined")&&e.type==="undefined"&&mr(e.$id)}o(lS,"IsUndefined");function xW(e){return J8(e)&&e.anyOf.every(t=>qC(t)||WC(t))}o(xW,"IsUnionLiteral");function J8(e){return Rt(e,"Union")&&mr(e.$id)&&dr(e)&&en(e.anyOf)&&e.anyOf.every(t=>Ar(t))}o(J8,"IsUnion");function cS(e){return Rt(e,"Uint8Array")&&e.type==="Uint8Array"&&mr(e.$id)&&br(e.minByteLength)&&br(e.maxByteLength)}o(cS,"IsUint8Array");function uS(e){return Rt(e,"Unknown")&&mr(e.$id)}o(uS,"IsUnknown");function fS(e){return Rt(e,"Unsafe")}o(fS,"IsUnsafe");function dS(e){return Rt(e,"Void")&&e.type==="void"&&mr(e.$id)}o(dS,"IsVoid");function mS(e){return dr(e)&&te in e&&yr(e[te])&&!cW.includes(e[te])}o(mS,"IsKind");function Ar(e){return dr(e)&&(DC(e)||RC(e)||AC(e)||FC(e)||NC(e)||kC(e)||OC(e)||LC(e)||MC(e)||UC(e)||BC(e)||jC(e)||$C(e)||k1(e)||HC(e)||zC(e)||VC(e)||KC(e)||YC(e)||XC(e)||JC(e)||ZC(e)||QC(e)||eS(e)||tS(e)||rS(e)||nS(e)||iS(e)||oS(e)||aS(e)||lS(e)||J8(e)||cS(e)||uS(e)||fS(e)||dS(e)||mS(e))}o(Ar,"IsSchema");var Z8="(true|false)",N1="(0|[1-9][0-9]*)",Q8="(.*)",_W="(?!.*)",Ame=`^${Z8}$`,Y0=`^${N1}$`,X0=`^${Q8}$`,pS=`^${_W}$`;var y0={};W0(y0,{Clear:()=>bW,Delete:()=>vW,Entries:()=>yW,Get:()=>IW,Has:()=>TW,Set:()=>EW});var tf=new Map;function yW(){return new Map(tf)}o(yW,"Entries");function bW(){return tf.clear()}o(bW,"Clear");function vW(e){return tf.delete(e)}o(vW,"Delete");function TW(e){return tf.has(e)}o(TW,"Has");function EW(e,t){tf.set(e,t)}o(EW,"Set");function IW(e){return tf.get(e)}o(IW,"Get");var xi={};W0(xi,{Clear:()=>SW,Delete:()=>wW,Entries:()=>CW,Get:()=>RW,Has:()=>PW,Set:()=>DW});var rf=new Map;function CW(){return new Map(rf)}o(CW,"Entries");function SW(){return rf.clear()}o(SW,"Clear");function wW(e){return rf.delete(e)}o(wW,"Delete");function PW(e){return rf.has(e)}o(PW,"Has");function DW(e,t){rf.set(e,t)}o(DW,"Set");function RW(e){return rf.get(e)}o(RW,"Get");function gS(e,t){return e.includes(t)}o(gS,"SetIncludes");function hS(e){return[...new Set(e)]}o(hS,"SetDistinct");function AW(e,t){return e.filter(r=>t.includes(r))}o(AW,"SetIntersect");function kW(e,t){return e.reduce((r,n)=>AW(r,n),t)}o(kW,"SetIntersectManyResolve");function xS(e){return e.length===1?e[0]:e.length>1?kW(e.slice(1),e[0]):[]}o(xS,"SetIntersectMany");function _S(e){let t=[];for(let r of e)t.push(...r);return t}o(_S,"SetUnionMany");function Qa(e){return ie({[te]:"Any"},e)}o(Qa,"Any");function nf(e,t){return ie({[te]:"Array",type:"array",items:e},t)}o(nf,"Array");function yS(e){return ie({[te]:"Argument",index:e})}o(yS,"Argument");function of(e,t){return ie({[te]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(of,"AsyncIterator");function Ir(e,t,r){return ie({[te]:"Computed",target:e,parameters:t},r)}o(Ir,"Computed");function NW(e,t){let{[t]:r,...n}=e;return n}o(NW,"DiscardKey");function Hr(e,t){return t.reduce((r,n)=>NW(r,n),e)}o(Hr,"Discard");function bt(e){return ie({[te]:"Never",not:{}},e)}o(bt,"Never");function Yt(e){return ie({[te]:"MappedResult",properties:e})}o(Yt,"MappedResult");function sf(e,t,r){return ie({[te]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(sf,"Constructor");function J0(e,t,r){return ie({[te]:"Function",type:"Function",parameters:e,returns:t},r)}o(J0,"Function");function F1(e,t){return ie({[te]:"Union",anyOf:e},t)}o(F1,"UnionCreate");function FW(e){return e.some(t=>ki(t))}o(FW,"IsUnionOptional");function bS(e){return e.map(t=>ki(t)?OW(t):t)}o(bS,"RemoveOptionalFromRest");function OW(e){return Hr(e,[Bn])}o(OW,"RemoveOptionalFromType");function LW(e,t){return FW(e)?Zn(F1(bS(e),t)):F1(bS(e),t)}o(LW,"ResolveUnion");function Z0(e,t){return e.length===1?ie(e[0],t):e.length===0?bt(t):LW(e,t)}o(Z0,"UnionEvaluated");function tr(e,t){return e.length===0?bt(t):e.length===1?ie(e[0],t):F1(e,t)}o(tr,"Union");var A5=class extends at{static{o(this,"TemplateLiteralParserError")}};function MW(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(MW,"Unescape");function e6(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(e6,"IsNonEscaped");function ea(e,t){return e6(e,t,"(")}o(ea,"IsOpenParen");function O1(e,t){return e6(e,t,")")}o(O1,"IsCloseParen");function vS(e,t){return e6(e,t,"|")}o(vS,"IsSeparator");function UW(e){if(!(ea(e,0)&&O1(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(ea(e,r)&&(t+=1),O1(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(UW,"IsGroup");function BW(e){return e.slice(1,e.length-1)}o(BW,"InGroup");function jW(e){let t=0;for(let r=0;r<e.length;r++)if(ea(e,r)&&(t+=1),O1(e,r)&&(t-=1),vS(e,r)&&t===0)return!0;return!1}o(jW,"IsPrecedenceOr");function $W(e){for(let t=0;t<e.length;t++)if(ea(e,t))return!0;return!1}o($W,"IsPrecedenceAnd");function qW(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(ea(e,s)&&(t+=1),O1(e,s)&&(t-=1),vS(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(af(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(af(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(qW,"Or");function WW(e){function t(i,s){if(!ea(i,s))throw new A5("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(ea(i,l)&&(a+=1),O1(i,l)&&(a-=1),a===0)return[s,l];throw new A5("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(ea(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(ea(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(af(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(af(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(WW,"And");function af(e){return UW(e)?af(BW(e)):jW(e)?qW(e):$W(e)?WW(e):{type:"const",const:MW(e)}}o(af,"TemplateLiteralParse");function lf(e){return af(e.slice(1,e.length-1))}o(lf,"TemplateLiteralParseExact");var t6=class extends at{static{o(this,"TemplateLiteralFiniteError")}};function GW(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(GW,"IsNumberExpression");function HW(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(HW,"IsBooleanExpression");function zW(e){return e.type==="const"&&e.const===".*"}o(zW,"IsStringExpression");function Ic(e){return GW(e)||zW(e)?!1:HW(e)?!0:e.type==="and"?e.expr.every(t=>Ic(t)):e.type==="or"?e.expr.every(t=>Ic(t)):e.type==="const"?!0:(()=>{throw new t6("Unknown expression type")})()}o(Ic,"IsTemplateLiteralExpressionFinite");function k5(e){let t=lf(e.pattern);return Ic(t)}o(k5,"IsTemplateLiteralFinite");var r6=class extends at{static{o(this,"TemplateLiteralGenerateError")}};function*TS(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of TS(e.slice(1)))yield`${t}${r}`}o(TS,"GenerateReduce");function*VW(e){return yield*TS(e.expr.map(t=>[...L1(t)]))}o(VW,"GenerateAnd");function*KW(e){for(let t of e.expr)yield*L1(t)}o(KW,"GenerateOr");function*YW(e){return yield e.const}o(YW,"GenerateConst");function*L1(e){return e.type==="and"?yield*VW(e):e.type==="or"?yield*KW(e):e.type==="const"?yield*YW(e):(()=>{throw new r6("Unknown expression")})()}o(L1,"TemplateLiteralExpressionGenerate");function cf(e){let t=lf(e.pattern);return Ic(t)?[...L1(t)]:[]}o(cf,"TemplateLiteralGenerate");function qt(e,t){return ie({[te]:"Literal",const:e,type:typeof e},t)}o(qt,"Literal");function N5(e){return ie({[te]:"Boolean",type:"boolean"},e)}o(N5,"Boolean");function uf(e){return ie({[te]:"BigInt",type:"bigint"},e)}o(uf,"BigInt");function Fo(e){return ie({[te]:"Number",type:"number"},e)}o(Fo,"Number");function _i(e){return ie({[te]:"String",type:"string"},e)}o(_i,"String");function*XW(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield N5():t==="number"?yield Fo():t==="bigint"?yield uf():t==="string"?yield _i():yield(()=>{let r=t.split("|").map(n=>qt(n.trim()));return r.length===0?bt():r.length===1?r[0]:Z0(r)})()}o(XW,"FromUnion");function*JW(e){if(e[1]!=="{"){let t=qt("$"),r=n6(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=XW(e.slice(2,t)),n=n6(e.slice(t+1));return yield*[...r,...n]}yield qt(e)}o(JW,"FromTerminal");function*n6(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=qt(e.slice(0,t)),n=JW(e.slice(t));return yield*[r,...n]}yield qt(e)}o(n6,"FromSyntax");function ES(e){return[...n6(e)]}o(ES,"TemplateLiteralSyntax");var i6=class extends at{static{o(this,"TemplateLiteralPatternError")}};function ZW(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(ZW,"Escape");function IS(e,t){return so(e)?e.pattern.slice(1,e.pattern.length-1):zt(e)?`(${e.anyOf.map(r=>IS(r,t)).join("|")})`:_0(e)?`${t}${N1}`:x0(e)?`${t}${N1}`:bc(e)?`${t}${N1}`:Js(e)?`${t}${Q8}`:io(e)?`${t}${ZW(e.const.toString())}`:Xs(e)?`${t}${Z8}`:(()=>{throw new i6(`Unexpected Kind '${e[te]}'`)})()}o(IS,"Visit");function o6(e){return`^${e.map(t=>IS(t,"")).join("")}$`}o(o6,"TemplateLiteralPattern");function Cc(e){let r=cf(e).map(n=>qt(n));return Z0(r)}o(Cc,"TemplateLiteralToUnion");function F5(e,t){let r=yr(e)?o6(ES(e)):o6(e);return ie({[te]:"TemplateLiteral",type:"string",pattern:r},t)}o(F5,"TemplateLiteral");function QW(e){return cf(e).map(r=>r.toString())}o(QW,"FromTemplateLiteral");function eG(e){let t=[];for(let r of e)t.push(...Ni(r));return t}o(eG,"FromUnion");function tG(e){return[e.toString()]}o(tG,"FromLiteral");function Ni(e){return[...new Set(so(e)?QW(e):zt(e)?eG(e.anyOf):io(e)?tG(e.const):_0(e)?["[number]"]:x0(e)?["[number]"]:[])]}o(Ni,"IndexPropertyKeys");function rG(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=el(e,Ni(t[i]),r);return n}o(rG,"FromProperties");function nG(e,t,r){return rG(e,t.properties,r)}o(nG,"FromMappedResult");function CS(e,t,r){let n=nG(e,t,r);return Yt(n)}o(CS,"IndexFromMappedResult");function wS(e,t){return e.map(r=>PS(r,t))}o(wS,"FromRest");function iG(e){return e.filter(t=>!Ja(t))}o(iG,"FromIntersectRest");function oG(e,t){return O5(iG(wS(e,t)))}o(oG,"FromIntersect");function sG(e){return e.some(t=>Ja(t))?[]:e}o(sG,"FromUnionRest");function aG(e,t){return Z0(sG(wS(e,t)))}o(aG,"FromUnion");function lG(e,t){return t in e?e[t]:t==="[number]"?Z0(e):bt()}o(lG,"FromTuple");function cG(e,t){return t==="[number]"?e:bt()}o(cG,"FromArray");function uG(e,t){return t in e?e[t]:bt()}o(uG,"FromProperty");function PS(e,t){return Gr(e)?oG(e.allOf,t):zt(e)?aG(e.anyOf,t):ao(e)?lG(e.items??[],t):m0(e)?cG(e.items,t):rn(e)?uG(e.properties,t):bt()}o(PS,"IndexFromPropertyKey");function M1(e,t){return t.map(r=>PS(e,r))}o(M1,"IndexFromPropertyKeys");function SS(e,t){return Z0(M1(e,t))}o(SS,"FromSchema");function el(e,t,r){if(Jr(e)||Jr(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Br(e)||!Br(t))throw new at(n);return Ir("Index",[e,t])}return Rr(t)?CS(e,t,r):oo(t)?DS(e,t,r):ie(Br(t)?SS(e,Ni(t)):SS(e,t),r)}o(el,"Index");function fG(e,t,r){return{[t]:el(e,[t],Pr(r))}}o(fG,"MappedIndexPropertyKey");function dG(e,t,r){return t.reduce((n,i)=>({...n,...fG(e,i,r)}),{})}o(dG,"MappedIndexPropertyKeys");function mG(e,t,r){return dG(e,t.keys,r)}o(mG,"MappedIndexProperties");function DS(e,t,r){let n=mG(e,t,r);return Yt(n)}o(DS,"IndexFromMappedKey");function ff(e,t){return ie({[te]:"Iterator",type:"Iterator",items:e},t)}o(ff,"Iterator");function pG(e){let t=[];for(let r in e)ki(e[r])||t.push(r);return t}o(pG,"RequiredKeys");function gG(e,t){let r=pG(e),n=r.length>0?{[te]:"Object",type:"object",properties:e,required:r}:{[te]:"Object",type:"object",properties:e};return ie(n,t)}o(gG,"_Object");var rr=gG;function L5(e,t){return ie({[te]:"Promise",type:"Promise",item:e},t)}o(L5,"Promise");function hG(e){return ie(Hr(e,[d0]))}o(hG,"RemoveReadonly");function xG(e){return ie({...e,[d0]:"Readonly"})}o(xG,"AddReadonly");function _G(e,t){return t===!1?hG(e):xG(e)}o(_G,"ReadonlyWithFlag");function Fi(e,t){let r=t??!0;return Rr(e)?RS(e,r):_G(e,r)}o(Fi,"Readonly");function yG(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Fi(e[n],t);return r}o(yG,"FromProperties");function bG(e,t){return yG(e.properties,t)}o(bG,"FromMappedResult");function RS(e,t){let r=bG(e,t);return Yt(r)}o(RS,"ReadonlyFromMappedResult");function Oo(e,t){return ie(e.length>0?{[te]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[te]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(Oo,"Tuple");function AS(e,t){return e in t?Lo(e,t[e]):Yt(t)}o(AS,"FromMappedResult");function vG(e){return{[e]:qt(e)}}o(vG,"MappedKeyToKnownMappedResultProperties");function TG(e){let t={};for(let r of e)t[r]=qt(r);return t}o(TG,"MappedKeyToUnknownMappedResultProperties");function EG(e,t){return gS(t,e)?vG(e):TG(t)}o(EG,"MappedKeyToMappedResultProperties");function IG(e,t){let r=EG(e,t);return AS(e,r)}o(IG,"FromMappedKey");function U1(e,t){return t.map(r=>Lo(e,r))}o(U1,"FromRest");function CG(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Lo(e,t[n]);return r}o(CG,"FromProperties");function Lo(e,t){let r={...t};return ki(t)?Zn(Lo(e,Hr(t,[Bn]))):ef(t)?Fi(Lo(e,Hr(t,[d0]))):Rr(t)?AS(e,t.properties):oo(t)?IG(e,t.keys):g0(t)?sf(U1(e,t.parameters),Lo(e,t.returns),r):h0(t)?J0(U1(e,t.parameters),Lo(e,t.returns),r):yc(t)?of(Lo(e,t.items),r):vc(t)?ff(Lo(e,t.items),r):Gr(t)?Qn(U1(e,t.allOf),r):zt(t)?tr(U1(e,t.anyOf),r):ao(t)?Oo(U1(e,t.items??[]),r):rn(t)?rr(CG(e,t.properties),r):m0(t)?nf(Lo(e,t.items),r):Tc(t)?L5(Lo(e,t.item),r):t}o(Lo,"FromSchemaType");function SG(e,t){let r={};for(let n of e)r[n]=Lo(n,t);return r}o(SG,"MappedFunctionReturnType");function kS(e,t,r){let n=Br(e)?Ni(e):e,i=t({[te]:"MappedKey",keys:n}),s=SG(n,i);return rr(s,r)}o(kS,"Mapped");function wG(e){return ie(Hr(e,[Bn]))}o(wG,"RemoveOptional");function PG(e){return ie({...e,[Bn]:"Optional"})}o(PG,"AddOptional");function DG(e,t){return t===!1?wG(e):PG(e)}o(DG,"OptionalWithFlag");function Zn(e,t){let r=t??!0;return Rr(e)?NS(e,r):DG(e,r)}o(Zn,"Optional");function RG(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Zn(e[n],t);return r}o(RG,"FromProperties");function AG(e,t){return RG(e.properties,t)}o(AG,"FromMappedResult");function NS(e,t){let r=AG(e,t);return Yt(r)}o(NS,"OptionalFromMappedResult");function B1(e,t={}){let r=e.every(i=>rn(i)),n=Br(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ie(t.unevaluatedProperties===!1||Br(t.unevaluatedProperties)||r?{...n,[te]:"Intersect",type:"object",allOf:e}:{...n,[te]:"Intersect",allOf:e},t)}o(B1,"IntersectCreate");function kG(e){return e.every(t=>ki(t))}o(kG,"IsIntersectOptional");function NG(e){return Hr(e,[Bn])}o(NG,"RemoveOptionalFromType");function OS(e){return e.map(t=>ki(t)?NG(t):t)}o(OS,"RemoveOptionalFromRest");function FG(e,t){return kG(e)?Zn(B1(OS(e),t)):B1(OS(e),t)}o(FG,"ResolveIntersect");function O5(e,t={}){if(e.length===1)return ie(e[0],t);if(e.length===0)return bt(t);if(e.some(r=>er(r)))throw new Error("Cannot intersect transform types");return FG(e,t)}o(O5,"IntersectEvaluated");function Qn(e,t){if(e.length===1)return ie(e[0],t);if(e.length===0)return bt(t);if(e.some(r=>er(r)))throw new Error("Cannot intersect transform types");return B1(e,t)}o(Qn,"Intersect");function Mo(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new at("Ref: $ref must be a string");return ie({[te]:"Ref",$ref:t},r)}o(Mo,"Ref");function OG(e,t){return Ir("Awaited",[Ir(e,t)])}o(OG,"FromComputed");function LG(e){return Ir("Awaited",[Mo(e)])}o(LG,"FromRef");function MG(e){return Qn(LS(e))}o(MG,"FromIntersect");function UG(e){return tr(LS(e))}o(UG,"FromUnion");function BG(e){return df(e)}o(BG,"FromPromise");function LS(e){return e.map(t=>df(t))}o(LS,"FromRest");function df(e,t){return ie(p0(e)?OG(e.target,e.parameters):Gr(e)?MG(e.allOf):zt(e)?UG(e.anyOf):Tc(e)?BG(e.item):Jr(e)?LG(e.$ref):e,t)}o(df,"Awaited");function MS(e){let t=[];for(let r of e)t.push(Oi(r));return t}o(MS,"FromRest");function jG(e){let t=MS(e);return _S(t)}o(jG,"FromIntersect");function $G(e){let t=MS(e);return xS(t)}o($G,"FromUnion");function qG(e){return e.map((t,r)=>r.toString())}o(qG,"FromTuple");function WG(e){return["[number]"]}o(WG,"FromArray");function GG(e){return globalThis.Object.getOwnPropertyNames(e)}o(GG,"FromProperties");function HG(e){return s6?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(HG,"FromPatternProperties");function Oi(e){return Gr(e)?jG(e.allOf):zt(e)?$G(e.anyOf):ao(e)?qG(e.items??[]):m0(e)?WG(e.items):rn(e)?GG(e.properties):Ec(e)?HG(e.patternProperties):[]}o(Oi,"KeyOfPropertyKeys");var s6=!1;function ta(e){s6=!0;let t=Oi(e);return s6=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(ta,"KeyOfPattern");function zG(e,t){return Ir("KeyOf",[Ir(e,t)])}o(zG,"FromComputed");function VG(e){return Ir("KeyOf",[Mo(e)])}o(VG,"FromRef");function KG(e,t){let r=Oi(e),n=YG(r),i=Z0(n);return ie(i,t)}o(KG,"KeyOfFromType");function YG(e){return e.map(t=>t==="[number]"?Fo():qt(t))}o(YG,"KeyOfPropertyKeysToRest");function mf(e,t){return p0(e)?zG(e.target,e.parameters):Jr(e)?VG(e.$ref):Rr(e)?US(e,t):KG(e,t)}o(mf,"KeyOf");function XG(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=mf(e[n],Pr(t));return r}o(XG,"FromProperties");function JG(e,t){return XG(e.properties,t)}o(JG,"FromMappedResult");function US(e,t){let r=JG(e,t);return Yt(r)}o(US,"KeyOfFromMappedResult");function M5(e){let t=Oi(e),r=M1(e,t);return t.map((n,i)=>[t[i],r[i]])}o(M5,"KeyOfPropertyEntries");function ZG(e){let t=[];for(let r of e)t.push(...Oi(r));return hS(t)}o(ZG,"CompositeKeys");function QG(e){return e.filter(t=>!Ja(t))}o(QG,"FilterNever");function eH(e,t){let r=[];for(let n of e)r.push(...M1(n,[t]));return QG(r)}o(eH,"CompositeProperty");function tH(e,t){let r={};for(let n of t)r[n]=O5(eH(e,n));return r}o(tH,"CompositeProperties");function BS(e,t){let r=ZG(e),n=tH(e,r);return rr(n,t)}o(BS,"Composite");function U5(e){return ie({[te]:"Date",type:"Date"},e)}o(U5,"Date");function B5(e){return ie({[te]:"Null",type:"null"},e)}o(B5,"Null");function j5(e){return ie({[te]:"Symbol",type:"symbol"},e)}o(j5,"Symbol");function $5(e){return ie({[te]:"Undefined",type:"undefined"},e)}o($5,"Undefined");function q5(e){return ie({[te]:"Uint8Array",type:"Uint8Array"},e)}o(q5,"Uint8Array");function b0(e){return ie({[te]:"Unknown"},e)}o(b0,"Unknown");function rH(e){return e.map(t=>a6(t,!1))}o(rH,"FromArray");function nH(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Fi(a6(e[r],!1));return t}o(nH,"FromProperties");function W5(e,t){return t===!0?e:Fi(e)}o(W5,"ConditionalReadonly");function a6(e,t){return B8(e)?W5(Qa(),t):$8(e)?W5(Qa(),t):en(e)?Fi(Oo(rH(e))):Vs(e)?q5():_c(e)?U5():dr(e)?W5(rr(nH(e)),t):j8(e)?W5(J0([],b0()),t):tn(e)?$5():q8(e)?B5():W8(e)?j5():S1(e)?uf():ro(e)?qt(e):zs(e)?qt(e):yr(e)?qt(e):rr({})}o(a6,"FromValue");function jS(e,t){return ie(a6(e,!0),t)}o(jS,"Const");function $S(e,t){return g0(e)?Oo(e.parameters,t):bt(t)}o($S,"ConstructorParameters");function qS(e,t){if(tn(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>qt(s));return tr(i,{...t,[No]:"Enum"})}o(qS,"Enum");var c6=class extends at{static{o(this,"ExtendsResolverError")}},oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(oe||(oe={}));function Uo(e){return e===oe.False?e:oe.True}o(Uo,"IntoBooleanResult");function pf(e){throw new c6(e)}o(pf,"Throw");function ln(e){return K.IsNever(e)||K.IsIntersect(e)||K.IsUnion(e)||K.IsUnknown(e)||K.IsAny(e)}o(ln,"IsStructuralRight");function cn(e,t){return K.IsNever(t)?YS(e,t):K.IsIntersect(t)?G5(e,t):K.IsUnion(t)?m6(e,t):K.IsUnknown(t)?QS(e,t):K.IsAny(t)?d6(e,t):pf("StructuralRight")}o(cn,"StructuralRight");function d6(e,t){return oe.True}o(d6,"FromAnyRight");function iH(e,t){return K.IsIntersect(t)?G5(e,t):K.IsUnion(t)&&t.anyOf.some(r=>K.IsAny(r)||K.IsUnknown(r))?oe.True:K.IsUnion(t)?oe.Union:K.IsUnknown(t)||K.IsAny(t)?oe.True:oe.Union}o(iH,"FromAny");function oH(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)?oe.True:oe.False}o(oH,"FromArrayRight");function sH(e,t){return K.IsObject(t)&&H5(t)?oe.True:ln(t)?cn(e,t):K.IsArray(t)?Uo(pr(e.items,t.items)):oe.False}o(sH,"FromArray");function aH(e,t){return ln(t)?cn(e,t):K.IsAsyncIterator(t)?Uo(pr(e.items,t.items)):oe.False}o(aH,"FromAsyncIterator");function lH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsBigInt(t)?oe.True:oe.False}o(lH,"FromBigInt");function VS(e,t){return K.IsLiteralBoolean(e)||K.IsBoolean(e)?oe.True:oe.False}o(VS,"FromBooleanRight");function cH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsBoolean(t)?oe.True:oe.False}o(cH,"FromBoolean");function uH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsConstructor(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>Uo(pr(t.parameters[n],r))===oe.True)?Uo(pr(e.returns,t.returns)):oe.False:oe.False}o(uH,"FromConstructor");function fH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsDate(t)?oe.True:oe.False}o(fH,"FromDate");function dH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsFunction(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>Uo(pr(t.parameters[n],r))===oe.True)?Uo(pr(e.returns,t.returns)):oe.False:oe.False}o(dH,"FromFunction");function KS(e,t){return K.IsLiteral(e)&&Jn.IsNumber(e.const)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}o(KS,"FromIntegerRight");function mH(e,t){return K.IsInteger(t)||K.IsNumber(t)?oe.True:ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):oe.False}o(mH,"FromInteger");function G5(e,t){return t.allOf.every(r=>pr(e,r)===oe.True)?oe.True:oe.False}o(G5,"FromIntersectRight");function pH(e,t){return e.allOf.some(r=>pr(r,t)===oe.True)?oe.True:oe.False}o(pH,"FromIntersect");function gH(e,t){return ln(t)?cn(e,t):K.IsIterator(t)?Uo(pr(e.items,t.items)):oe.False}o(gH,"FromIterator");function hH(e,t){return K.IsLiteral(t)&&t.const===e.const?oe.True:ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsString(t)?ZS(e,t):K.IsNumber(t)?XS(e,t):K.IsInteger(t)?KS(e,t):K.IsBoolean(t)?VS(e,t):oe.False}o(hH,"FromLiteral");function YS(e,t){return oe.False}o(YS,"FromNeverRight");function xH(e,t){return oe.True}o(xH,"FromNever");function WS(e){let[t,r]=[e,0];for(;K.IsNot(t);)t=t.not,r+=1;return r%2===0?t:b0()}o(WS,"UnwrapTNot");function _H(e,t){return K.IsNot(e)?pr(WS(e),t):K.IsNot(t)?pr(e,WS(t)):pf("Invalid fallthrough for Not")}o(_H,"FromNot");function yH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsNull(t)?oe.True:oe.False}o(yH,"FromNull");function XS(e,t){return K.IsLiteralNumber(e)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}o(XS,"FromNumberRight");function bH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsInteger(t)||K.IsNumber(t)?oe.True:oe.False}o(bH,"FromNumber");function Li(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(Li,"IsObjectPropertyCount");function GS(e){return H5(e)}o(GS,"IsObjectStringLike");function HS(e){return Li(e,0)||Li(e,1)&&"description"in e.properties&&K.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(K.IsString(e.properties.description.anyOf[0])&&K.IsUndefined(e.properties.description.anyOf[1])||K.IsString(e.properties.description.anyOf[1])&&K.IsUndefined(e.properties.description.anyOf[0]))}o(HS,"IsObjectSymbolLike");function l6(e){return Li(e,0)}o(l6,"IsObjectNumberLike");function zS(e){return Li(e,0)}o(zS,"IsObjectBooleanLike");function vH(e){return Li(e,0)}o(vH,"IsObjectBigIntLike");function TH(e){return Li(e,0)}o(TH,"IsObjectDateLike");function EH(e){return H5(e)}o(EH,"IsObjectUint8ArrayLike");function IH(e){let t=Fo();return Li(e,0)||Li(e,1)&&"length"in e.properties&&Uo(pr(e.properties.length,t))===oe.True}o(IH,"IsObjectFunctionLike");function CH(e){return Li(e,0)}o(CH,"IsObjectConstructorLike");function H5(e){let t=Fo();return Li(e,0)||Li(e,1)&&"length"in e.properties&&Uo(pr(e.properties.length,t))===oe.True}o(H5,"IsObjectArrayLike");function SH(e){let t=J0([Qa()],Qa());return Li(e,0)||Li(e,1)&&"then"in e.properties&&Uo(pr(e.properties.then,t))===oe.True}o(SH,"IsObjectPromiseLike");function JS(e,t){return pr(e,t)===oe.False||K.IsOptional(e)&&!K.IsOptional(t)?oe.False:oe.True}o(JS,"Property");function ei(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)||K.IsLiteralString(e)&&GS(t)||K.IsLiteralNumber(e)&&l6(t)||K.IsLiteralBoolean(e)&&zS(t)||K.IsSymbol(e)&&HS(t)||K.IsBigInt(e)&&vH(t)||K.IsString(e)&&GS(t)||K.IsSymbol(e)&&HS(t)||K.IsNumber(e)&&l6(t)||K.IsInteger(e)&&l6(t)||K.IsBoolean(e)&&zS(t)||K.IsUint8Array(e)&&EH(t)||K.IsDate(e)&&TH(t)||K.IsConstructor(e)&&CH(t)||K.IsFunction(e)&&IH(t)?oe.True:K.IsRecord(e)&&K.IsString(u6(e))?t[No]==="Record"?oe.True:oe.False:K.IsRecord(e)&&K.IsNumber(u6(e))?Li(t,0)?oe.True:oe.False:oe.False}o(ei,"FromObjectRight");function wH(e,t){return ln(t)?cn(e,t):K.IsRecord(t)?Bo(e,t):K.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!K.IsOptional(t.properties[r]))return oe.False;if(K.IsOptional(t.properties[r]))return oe.True;if(JS(e.properties[r],t.properties[r])===oe.False)return oe.False}return oe.True})():oe.False}o(wH,"FromObject");function PH(e,t){return ln(t)?cn(e,t):K.IsObject(t)&&SH(t)?oe.True:K.IsPromise(t)?Uo(pr(e.item,t.item)):oe.False}o(PH,"FromPromise");function u6(e){return Y0 in e.patternProperties?Fo():X0 in e.patternProperties?_i():pf("Unknown record key pattern")}o(u6,"RecordKey");function f6(e){return Y0 in e.patternProperties?e.patternProperties[Y0]:X0 in e.patternProperties?e.patternProperties[X0]:pf("Unable to get record value schema")}o(f6,"RecordValue");function Bo(e,t){let[r,n]=[u6(t),f6(t)];return K.IsLiteralString(e)&&K.IsNumber(r)&&Uo(pr(e,n))===oe.True?oe.True:K.IsUint8Array(e)&&K.IsNumber(r)||K.IsString(e)&&K.IsNumber(r)||K.IsArray(e)&&K.IsNumber(r)?pr(e,n):K.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(JS(n,e.properties[i])===oe.False)return oe.False;return oe.True})():oe.False}o(Bo,"FromRecordRight");function DH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?pr(f6(e),f6(t)):oe.False}o(DH,"FromRecord");function RH(e,t){let r=K.IsRegExp(e)?_i():e,n=K.IsRegExp(t)?_i():t;return pr(r,n)}o(RH,"FromRegExp");function ZS(e,t){return K.IsLiteral(e)&&Jn.IsString(e.const)||K.IsString(e)?oe.True:oe.False}o(ZS,"FromStringRight");function AH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsString(t)?oe.True:oe.False}o(AH,"FromString");function kH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsSymbol(t)?oe.True:oe.False}o(kH,"FromSymbol");function NH(e,t){return K.IsTemplateLiteral(e)?pr(Cc(e),t):K.IsTemplateLiteral(t)?pr(e,Cc(t)):pf("Invalid fallthrough for TemplateLiteral")}o(NH,"FromTemplateLiteral");function FH(e,t){return K.IsArray(t)&&e.items!==void 0&&e.items.every(r=>pr(r,t.items)===oe.True)}o(FH,"IsArrayOfTuple");function OH(e,t){return K.IsNever(e)?oe.True:K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:oe.False}o(OH,"FromTupleRight");function LH(e,t){return ln(t)?cn(e,t):K.IsObject(t)&&H5(t)||K.IsArray(t)&&FH(e,t)?oe.True:K.IsTuple(t)?Jn.IsUndefined(e.items)&&!Jn.IsUndefined(t.items)||!Jn.IsUndefined(e.items)&&Jn.IsUndefined(t.items)?oe.False:Jn.IsUndefined(e.items)&&!Jn.IsUndefined(t.items)||e.items.every((r,n)=>pr(r,t.items[n])===oe.True)?oe.True:oe.False:oe.False}o(LH,"FromTuple");function MH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsUint8Array(t)?oe.True:oe.False}o(MH,"FromUint8Array");function UH(e,t){return ln(t)?cn(e,t):K.IsObject(t)?ei(e,t):K.IsRecord(t)?Bo(e,t):K.IsVoid(t)?$H(e,t):K.IsUndefined(t)?oe.True:oe.False}o(UH,"FromUndefined");function m6(e,t){return t.anyOf.some(r=>pr(e,r)===oe.True)?oe.True:oe.False}o(m6,"FromUnionRight");function BH(e,t){return e.anyOf.every(r=>pr(r,t)===oe.True)?oe.True:oe.False}o(BH,"FromUnion");function QS(e,t){return oe.True}o(QS,"FromUnknownRight");function jH(e,t){return K.IsNever(t)?YS(e,t):K.IsIntersect(t)?G5(e,t):K.IsUnion(t)?m6(e,t):K.IsAny(t)?d6(e,t):K.IsString(t)?ZS(e,t):K.IsNumber(t)?XS(e,t):K.IsInteger(t)?KS(e,t):K.IsBoolean(t)?VS(e,t):K.IsArray(t)?oH(e,t):K.IsTuple(t)?OH(e,t):K.IsObject(t)?ei(e,t):K.IsUnknown(t)?oe.True:oe.False}o(jH,"FromUnknown");function $H(e,t){return K.IsUndefined(e)||K.IsUndefined(e)?oe.True:oe.False}o($H,"FromVoidRight");function qH(e,t){return K.IsIntersect(t)?G5(e,t):K.IsUnion(t)?m6(e,t):K.IsUnknown(t)?QS(e,t):K.IsAny(t)?d6(e,t):K.IsObject(t)?ei(e,t):K.IsVoid(t)?oe.True:oe.False}o(qH,"FromVoid");function pr(e,t){return K.IsTemplateLiteral(e)||K.IsTemplateLiteral(t)?NH(e,t):K.IsRegExp(e)||K.IsRegExp(t)?RH(e,t):K.IsNot(e)||K.IsNot(t)?_H(e,t):K.IsAny(e)?iH(e,t):K.IsArray(e)?sH(e,t):K.IsBigInt(e)?lH(e,t):K.IsBoolean(e)?cH(e,t):K.IsAsyncIterator(e)?aH(e,t):K.IsConstructor(e)?uH(e,t):K.IsDate(e)?fH(e,t):K.IsFunction(e)?dH(e,t):K.IsInteger(e)?mH(e,t):K.IsIntersect(e)?pH(e,t):K.IsIterator(e)?gH(e,t):K.IsLiteral(e)?hH(e,t):K.IsNever(e)?xH(e,t):K.IsNull(e)?yH(e,t):K.IsNumber(e)?bH(e,t):K.IsObject(e)?wH(e,t):K.IsRecord(e)?DH(e,t):K.IsString(e)?AH(e,t):K.IsSymbol(e)?kH(e,t):K.IsTuple(e)?LH(e,t):K.IsPromise(e)?PH(e,t):K.IsUint8Array(e)?MH(e,t):K.IsUndefined(e)?UH(e,t):K.IsUnion(e)?BH(e,t):K.IsUnknown(e)?jH(e,t):K.IsVoid(e)?qH(e,t):pf(`Unknown left type operand '${e[te]}'`)}o(pr,"Visit");function tl(e,t){return pr(e,t)}o(tl,"ExtendsCheck");function WH(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=gf(e[a],t,r,n,Pr(i));return s}o(WH,"FromProperties");function GH(e,t,r,n,i){return WH(e.properties,t,r,n,i)}o(GH,"FromMappedResult");function ew(e,t,r,n,i){let s=GH(e,t,r,n,i);return Yt(s)}o(ew,"ExtendsFromMappedResult");function HH(e,t,r,n){let i=tl(e,t);return i===oe.Union?tr([r,n]):i===oe.True?r:n}o(HH,"ExtendsResolve");function gf(e,t,r,n,i){return Rr(e)?ew(e,t,r,n,i):oo(e)?ie(tw(e,t,r,n,i)):ie(HH(e,t,r,n),i)}o(gf,"Extends");function zH(e,t,r,n,i){return{[e]:gf(qt(e),t,r,n,Pr(i))}}o(zH,"FromPropertyKey");function VH(e,t,r,n,i){return e.reduce((s,a)=>({...s,...zH(a,t,r,n,i)}),{})}o(VH,"FromPropertyKeys");function KH(e,t,r,n,i){return VH(e.keys,t,r,n,i)}o(KH,"FromMappedKey");function tw(e,t,r,n,i){let s=KH(e,t,r,n,i);return Yt(s)}o(tw,"ExtendsFromMappedKey");function YH(e){return e.allOf.every(t=>ra(t))}o(YH,"Intersect");function XH(e){return e.anyOf.some(t=>ra(t))}o(XH,"Union");function JH(e){return!ra(e.not)}o(JH,"Not");function ra(e){return e[te]==="Intersect"?YH(e):e[te]==="Union"?XH(e):e[te]==="Not"?JH(e):e[te]==="Undefined"}o(ra,"ExtendsUndefinedCheck");function rw(e,t){return hf(Cc(e),t)}o(rw,"ExcludeFromTemplateLiteral");function ZH(e,t){let r=e.filter(n=>tl(n,t)===oe.False);return r.length===1?r[0]:tr(r)}o(ZH,"ExcludeRest");function hf(e,t,r={}){return so(e)?ie(rw(e,t),r):Rr(e)?ie(nw(e,t),r):ie(zt(e)?ZH(e.anyOf,t):tl(e,t)!==oe.False?bt():e,r)}o(hf,"Exclude");function QH(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=hf(e[n],t);return r}o(QH,"FromProperties");function ez(e,t){return QH(e.properties,t)}o(ez,"FromMappedResult");function nw(e,t){let r=ez(e,t);return Yt(r)}o(nw,"ExcludeFromMappedResult");function iw(e,t){return xf(Cc(e),t)}o(iw,"ExtractFromTemplateLiteral");function tz(e,t){let r=e.filter(n=>tl(n,t)!==oe.False);return r.length===1?r[0]:tr(r)}o(tz,"ExtractRest");function xf(e,t,r){return so(e)?ie(iw(e,t),r):Rr(e)?ie(ow(e,t),r):ie(zt(e)?tz(e.anyOf,t):tl(e,t)!==oe.False?e:bt(),r)}o(xf,"Extract");function rz(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=xf(e[n],t);return r}o(rz,"FromProperties");function nz(e,t){return rz(e.properties,t)}o(nz,"FromMappedResult");function ow(e,t){let r=nz(e,t);return Yt(r)}o(ow,"ExtractFromMappedResult");function sw(e,t){return g0(e)?ie(e.returns,t):bt(t)}o(sw,"InstanceType");function z5(e){return Fi(Zn(e))}o(z5,"ReadonlyOptional");function Sc(e,t,r){return ie({[te]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(Sc,"RecordCreateFromPattern");function p6(e,t,r){let n={};for(let i of e)n[i]=t;return rr(n,{...r,[No]:"Record"})}o(p6,"RecordCreateFromKeys");function iz(e,t,r){return k5(e)?p6(Ni(e),t,r):Sc(e.pattern,t,r)}o(iz,"FromTemplateLiteralKey");function oz(e,t,r){return p6(Ni(tr(e)),t,r)}o(oz,"FromUnionKey");function sz(e,t,r){return p6([e.toString()],t,r)}o(sz,"FromLiteralKey");function az(e,t,r){return Sc(e.source,t,r)}o(az,"FromRegExpKey");function lz(e,t,r){let n=tn(e.pattern)?X0:e.pattern;return Sc(n,t,r)}o(lz,"FromStringKey");function cz(e,t,r){return Sc(X0,t,r)}o(cz,"FromAnyKey");function uz(e,t,r){return Sc(pS,t,r)}o(uz,"FromNeverKey");function fz(e,t,r){return rr({true:t,false:t},r)}o(fz,"FromBooleanKey");function dz(e,t,r){return Sc(Y0,t,r)}o(dz,"FromIntegerKey");function mz(e,t,r){return Sc(Y0,t,r)}o(mz,"FromNumberKey");function V5(e,t,r={}){return zt(e)?oz(e.anyOf,t,r):so(e)?iz(e,t,r):io(e)?sz(e.const,t,r):Xs(e)?fz(e,t,r):x0(e)?dz(e,t,r):_0(e)?mz(e,t,r):V8(e)?az(e,t,r):Js(e)?lz(e,t,r):H8(e)?cz(e,t,r):Ja(e)?uz(e,t,r):bt(r)}o(V5,"Record");function K5(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(K5,"RecordPattern");function aw(e){let t=K5(e);return t===X0?_i():t===Y0?Fo():_i({pattern:t})}o(aw,"RecordKey");function Y5(e){return e.patternProperties[K5(e)]}o(Y5,"RecordValue");function pz(e,t){return t.parameters=j1(e,t.parameters),t.returns=v0(e,t.returns),t}o(pz,"FromConstructor");function gz(e,t){return t.parameters=j1(e,t.parameters),t.returns=v0(e,t.returns),t}o(gz,"FromFunction");function hz(e,t){return t.allOf=j1(e,t.allOf),t}o(hz,"FromIntersect");function xz(e,t){return t.anyOf=j1(e,t.anyOf),t}o(xz,"FromUnion");function _z(e,t){return tn(t.items)||(t.items=j1(e,t.items)),t}o(_z,"FromTuple");function yz(e,t){return t.items=v0(e,t.items),t}o(yz,"FromArray");function bz(e,t){return t.items=v0(e,t.items),t}o(bz,"FromAsyncIterator");function vz(e,t){return t.items=v0(e,t.items),t}o(vz,"FromIterator");function Tz(e,t){return t.item=v0(e,t.item),t}o(Tz,"FromPromise");function Ez(e,t){let r=wz(e,t.properties);return{...t,...rr(r)}}o(Ez,"FromObject");function Iz(e,t){let r=v0(e,aw(t)),n=v0(e,Y5(t)),i=V5(r,n);return{...t,...i}}o(Iz,"FromRecord");function Cz(e,t){return t.index in e?e[t.index]:b0()}o(Cz,"FromArgument");function Sz(e,t){let r=ef(t),n=ki(t),i=v0(e,t);return r&&n?z5(i):r&&!n?Fi(i):!r&&n?Zn(i):i}o(Sz,"FromProperty");function wz(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:Sz(e,t[n])}),{})}o(wz,"FromProperties");function j1(e,t){return t.map(r=>v0(e,r))}o(j1,"FromTypes");function v0(e,t){return g0(t)?pz(e,t):h0(t)?gz(e,t):Gr(t)?hz(e,t):zt(t)?xz(e,t):ao(t)?_z(e,t):m0(t)?yz(e,t):yc(t)?bz(e,t):vc(t)?vz(e,t):Tc(t)?Tz(e,t):rn(t)?Ez(e,t):Ec(t)?Iz(e,t):z8(t)?Cz(e,t):t}o(v0,"FromType");function lw(e,t){return v0(t,Zu(e))}o(lw,"Instantiate");function cw(e){return ie({[te]:"Integer",type:"integer"},e)}o(cw,"Integer");function Pz(e,t,r){return{[e]:T0(qt(e),t,Pr(r))}}o(Pz,"MappedIntrinsicPropertyKey");function Dz(e,t,r){return e.reduce((i,s)=>({...i,...Pz(s,t,r)}),{})}o(Dz,"MappedIntrinsicPropertyKeys");function Rz(e,t,r){return Dz(e.keys,t,r)}o(Rz,"MappedIntrinsicProperties");function uw(e,t,r){let n=Rz(e,t,r);return Yt(n)}o(uw,"IntrinsicFromMappedKey");function Az(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(Az,"ApplyUncapitalize");function kz(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(kz,"ApplyCapitalize");function Nz(e){return e.toUpperCase()}o(Nz,"ApplyUppercase");function Fz(e){return e.toLowerCase()}o(Fz,"ApplyLowercase");function Oz(e,t,r){let n=lf(e.pattern);if(!Ic(n))return{...e,pattern:fw(e.pattern,t)};let a=[...L1(n)].map(u=>qt(u)),l=dw(a,t),c=tr(l);return F5([c],r)}o(Oz,"FromTemplateLiteral");function fw(e,t){return typeof e=="string"?t==="Uncapitalize"?Az(e):t==="Capitalize"?kz(e):t==="Uppercase"?Nz(e):t==="Lowercase"?Fz(e):e:e.toString()}o(fw,"FromLiteralValue");function dw(e,t){return e.map(r=>T0(r,t))}o(dw,"FromRest");function T0(e,t,r={}){return oo(e)?uw(e,t,r):so(e)?Oz(e,t,r):zt(e)?tr(dw(e.anyOf,t),r):io(e)?qt(fw(e.const,t),r):ie(e,r)}o(T0,"Intrinsic");function mw(e,t={}){return T0(e,"Capitalize",t)}o(mw,"Capitalize");function pw(e,t={}){return T0(e,"Lowercase",t)}o(pw,"Lowercase");function gw(e,t={}){return T0(e,"Uncapitalize",t)}o(gw,"Uncapitalize");function hw(e,t={}){return T0(e,"Uppercase",t)}o(hw,"Uppercase");function Lz(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=rl(e[i],t,Pr(r));return n}o(Lz,"FromProperties");function Mz(e,t,r){return Lz(e.properties,t,r)}o(Mz,"FromMappedResult");function xw(e,t,r){let n=Mz(e,t,r);return Yt(n)}o(xw,"OmitFromMappedResult");function Uz(e,t){return e.map(r=>g6(r,t))}o(Uz,"FromIntersect");function Bz(e,t){return e.map(r=>g6(r,t))}o(Bz,"FromUnion");function jz(e,t){let{[t]:r,...n}=e;return n}o(jz,"FromProperty");function $z(e,t){return t.reduce((r,n)=>jz(r,n),e)}o($z,"FromProperties");function qz(e,t){let r=Hr(e,[Ur,"$id","required","properties"]),n=$z(e.properties,t);return rr(n,r)}o(qz,"FromObject");function Wz(e){let t=e.reduce((r,n)=>D5(n)?[...r,qt(n)]:r,[]);return tr(t)}o(Wz,"UnionFromPropertyKeys");function g6(e,t){return Gr(e)?Qn(Uz(e.allOf,t)):zt(e)?tr(Bz(e.anyOf,t)):rn(e)?qz(e,t):rr({})}o(g6,"OmitResolve");function rl(e,t,r){let n=en(t)?Wz(t):t,i=Br(t)?Ni(t):t,s=Jr(e),a=Jr(t);return Rr(e)?xw(e,i,r):oo(t)?_w(e,t,r):s&&a?Ir("Omit",[e,n],r):!s&&a?Ir("Omit",[e,n],r):s&&!a?Ir("Omit",[e,n],r):ie({...g6(e,i),...r})}o(rl,"Omit");function Gz(e,t,r){return{[t]:rl(e,[t],Pr(r))}}o(Gz,"FromPropertyKey");function Hz(e,t,r){return t.reduce((n,i)=>({...n,...Gz(e,i,r)}),{})}o(Hz,"FromPropertyKeys");function zz(e,t,r){return Hz(e,t.keys,r)}o(zz,"FromMappedKey");function _w(e,t,r){let n=zz(e,t,r);return Yt(n)}o(_w,"OmitFromMappedKey");function Vz(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=nl(e[i],t,Pr(r));return n}o(Vz,"FromProperties");function Kz(e,t,r){return Vz(e.properties,t,r)}o(Kz,"FromMappedResult");function yw(e,t,r){let n=Kz(e,t,r);return Yt(n)}o(yw,"PickFromMappedResult");function Yz(e,t){return e.map(r=>h6(r,t))}o(Yz,"FromIntersect");function Xz(e,t){return e.map(r=>h6(r,t))}o(Xz,"FromUnion");function Jz(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(Jz,"FromProperties");function Zz(e,t){let r=Hr(e,[Ur,"$id","required","properties"]),n=Jz(e.properties,t);return rr(n,r)}o(Zz,"FromObject");function Qz(e){let t=e.reduce((r,n)=>D5(n)?[...r,qt(n)]:r,[]);return tr(t)}o(Qz,"UnionFromPropertyKeys");function h6(e,t){return Gr(e)?Qn(Yz(e.allOf,t)):zt(e)?tr(Xz(e.anyOf,t)):rn(e)?Zz(e,t):rr({})}o(h6,"PickResolve");function nl(e,t,r){let n=en(t)?Qz(t):t,i=Br(t)?Ni(t):t,s=Jr(e),a=Jr(t);return Rr(e)?yw(e,i,r):oo(t)?bw(e,t,r):s&&a?Ir("Pick",[e,n],r):!s&&a?Ir("Pick",[e,n],r):s&&!a?Ir("Pick",[e,n],r):ie({...h6(e,i),...r})}o(nl,"Pick");function eV(e,t,r){return{[t]:nl(e,[t],Pr(r))}}o(eV,"FromPropertyKey");function tV(e,t,r){return t.reduce((n,i)=>({...n,...eV(e,i,r)}),{})}o(tV,"FromPropertyKeys");function rV(e,t,r){return tV(e,t.keys,r)}o(rV,"FromMappedKey");function bw(e,t,r){let n=rV(e,t,r);return Yt(n)}o(bw,"PickFromMappedKey");function nV(e,t){return Ir("Partial",[Ir(e,t)])}o(nV,"FromComputed");function iV(e){return Ir("Partial",[Mo(e)])}o(iV,"FromRef");function oV(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Zn(e[r]);return t}o(oV,"FromProperties");function sV(e){let t=Hr(e,[Ur,"$id","required","properties"]),r=oV(e.properties);return rr(r,t)}o(sV,"FromObject");function vw(e){return e.map(t=>Tw(t))}o(vw,"FromRest");function Tw(e){return p0(e)?nV(e.target,e.parameters):Jr(e)?iV(e.$ref):Gr(e)?Qn(vw(e.allOf)):zt(e)?tr(vw(e.anyOf)):rn(e)?sV(e):bc(e)||Xs(e)||x0(e)||io(e)||D1(e)||_0(e)||Js(e)||R1(e)||Zs(e)?e:rr({})}o(Tw,"PartialResolve");function _f(e,t){return Rr(e)?Ew(e,t):ie({...Tw(e),...t})}o(_f,"Partial");function aV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=_f(e[n],Pr(t));return r}o(aV,"FromProperties");function lV(e,t){return aV(e.properties,t)}o(lV,"FromMappedResult");function Ew(e,t){let r=lV(e,t);return Yt(r)}o(Ew,"PartialFromMappedResult");function cV(e,t){return Ir("Required",[Ir(e,t)])}o(cV,"FromComputed");function uV(e){return Ir("Required",[Mo(e)])}o(uV,"FromRef");function fV(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Hr(e[r],[Bn]);return t}o(fV,"FromProperties");function dV(e){let t=Hr(e,[Ur,"$id","required","properties"]),r=fV(e.properties);return rr(r,t)}o(dV,"FromObject");function Iw(e){return e.map(t=>Cw(t))}o(Iw,"FromRest");function Cw(e){return p0(e)?cV(e.target,e.parameters):Jr(e)?uV(e.$ref):Gr(e)?Qn(Iw(e.allOf)):zt(e)?tr(Iw(e.anyOf)):rn(e)?dV(e):bc(e)||Xs(e)||x0(e)||io(e)||D1(e)||_0(e)||Js(e)||R1(e)||Zs(e)?e:rr({})}o(Cw,"RequiredResolve");function yf(e,t){return Rr(e)?Sw(e,t):ie({...Cw(e),...t})}o(yf,"Required");function mV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=yf(e[n],t);return r}o(mV,"FromProperties");function pV(e,t){return mV(e.properties,t)}o(pV,"FromMappedResult");function Sw(e,t){let r=pV(e,t);return Yt(r)}o(Sw,"RequiredFromMappedResult");function gV(e,t){return t.map(r=>Jr(r)?x6(e,r.$ref):lo(e,r))}o(gV,"DereferenceParameters");function x6(e,t){return t in e?Jr(e[t])?x6(e,e[t].$ref):lo(e,e[t]):bt()}o(x6,"Dereference");function hV(e){return df(e[0])}o(hV,"FromAwaited");function xV(e){return el(e[0],e[1])}o(xV,"FromIndex");function _V(e){return mf(e[0])}o(_V,"FromKeyOf");function yV(e){return _f(e[0])}o(yV,"FromPartial");function bV(e){return rl(e[0],e[1])}o(bV,"FromOmit");function vV(e){return nl(e[0],e[1])}o(vV,"FromPick");function TV(e){return yf(e[0])}o(TV,"FromRequired");function EV(e,t,r){let n=gV(e,r);return t==="Awaited"?hV(n):t==="Index"?xV(n):t==="KeyOf"?_V(n):t==="Partial"?yV(n):t==="Omit"?bV(n):t==="Pick"?vV(n):t==="Required"?TV(n):bt()}o(EV,"FromComputed");function IV(e,t){return nf(lo(e,t))}o(IV,"FromArray");function CV(e,t){return of(lo(e,t))}o(CV,"FromAsyncIterator");function SV(e,t,r){return sf($1(e,t),lo(e,r))}o(SV,"FromConstructor");function wV(e,t,r){return J0($1(e,t),lo(e,r))}o(wV,"FromFunction");function PV(e,t){return Qn($1(e,t))}o(PV,"FromIntersect");function DV(e,t){return ff(lo(e,t))}o(DV,"FromIterator");function RV(e,t){return rr(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:lo(e,t[n])}),{}))}o(RV,"FromObject");function AV(e,t){let[r,n]=[lo(e,Y5(t)),K5(t)],i=Zu(t);return i.patternProperties[n]=r,i}o(AV,"FromRecord");function kV(e,t){return Jr(t)?{...x6(e,t.$ref),[Ur]:t[Ur]}:t}o(kV,"FromTransform");function NV(e,t){return Oo($1(e,t))}o(NV,"FromTuple");function FV(e,t){return tr($1(e,t))}o(FV,"FromUnion");function $1(e,t){return t.map(r=>lo(e,r))}o($1,"FromTypes");function lo(e,t){return ki(t)?ie(lo(e,Hr(t,[Bn])),t):ef(t)?ie(lo(e,Hr(t,[d0])),t):er(t)?ie(kV(e,t),t):m0(t)?ie(IV(e,t.items),t):yc(t)?ie(CV(e,t.items),t):p0(t)?ie(EV(e,t.target,t.parameters)):g0(t)?ie(SV(e,t.parameters,t.returns),t):h0(t)?ie(wV(e,t.parameters,t.returns),t):Gr(t)?ie(PV(e,t.allOf),t):vc(t)?ie(DV(e,t.items),t):rn(t)?ie(RV(e,t.properties),t):Ec(t)?ie(AV(e,t)):ao(t)?ie(NV(e,t.items||[]),t):zt(t)?ie(FV(e,t.anyOf),t):t}o(lo,"FromType");function OV(e,t){return t in e?lo(e,e[t]):bt()}o(OV,"ComputeType");function ww(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:OV(e,r)}),{})}o(ww,"ComputeModuleProperties");var _6=class{static{o(this,"TModule")}constructor(t){let r=ww(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ie(this.$defs[t],r)};return ie({[te]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function Pw(e){return new _6(e)}o(Pw,"Module");function Dw(e,t){return ie({[te]:"Not",not:e},t)}o(Dw,"Not");function Rw(e,t){return h0(e)?Oo(e.parameters,t):bt()}o(Rw,"Parameters");var LV=0;function Aw(e,t={}){tn(t.$id)&&(t.$id=`T${LV++}`);let r=Zu(e({[te]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ie({[No]:"Recursive",...r},t)}o(Aw,"Recursive");function kw(e,t){let r=yr(e)?new globalThis.RegExp(e):e;return ie({[te]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(kw,"RegExp");function MV(e){return Gr(e)?e.allOf:zt(e)?e.anyOf:ao(e)?e.items??[]:[]}o(MV,"RestResolve");function Nw(e){return MV(e)}o(Nw,"Rest");function Fw(e,t){return h0(e)?ie(e.returns,t):bt(t)}o(Fw,"ReturnType");var y6=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new b6(this.schema,t)}},b6=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[Ur].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Ur].Decode(a)),"Decode")};return{...r,[Ur]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[Ur]:n}}Encode(t){return er(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function Ow(e){return new y6(e)}o(Ow,"Transform");function Lw(e={}){return ie({[te]:e[te]??"Unsafe"},e)}o(Lw,"Unsafe");function Mw(e){return ie({[te]:"Void",type:"void"},e)}o(Mw,"Void");var v6={};W0(v6,{Any:()=>Qa,Argument:()=>yS,Array:()=>nf,AsyncIterator:()=>of,Awaited:()=>df,BigInt:()=>uf,Boolean:()=>N5,Capitalize:()=>mw,Composite:()=>BS,Const:()=>jS,Constructor:()=>sf,ConstructorParameters:()=>$S,Date:()=>U5,Enum:()=>qS,Exclude:()=>hf,Extends:()=>gf,Extract:()=>xf,Function:()=>J0,Index:()=>el,InstanceType:()=>sw,Instantiate:()=>lw,Integer:()=>cw,Intersect:()=>Qn,Iterator:()=>ff,KeyOf:()=>mf,Literal:()=>qt,Lowercase:()=>pw,Mapped:()=>kS,Module:()=>Pw,Never:()=>bt,Not:()=>Dw,Null:()=>B5,Number:()=>Fo,Object:()=>rr,Omit:()=>rl,Optional:()=>Zn,Parameters:()=>Rw,Partial:()=>_f,Pick:()=>nl,Promise:()=>L5,Readonly:()=>Fi,ReadonlyOptional:()=>z5,Record:()=>V5,Recursive:()=>Aw,Ref:()=>Mo,RegExp:()=>kw,Required:()=>yf,Rest:()=>Nw,ReturnType:()=>Fw,String:()=>_i,Symbol:()=>j5,TemplateLiteral:()=>F5,Transform:()=>Ow,Tuple:()=>Oo,Uint8Array:()=>q5,Uncapitalize:()=>gw,Undefined:()=>$5,Union:()=>tr,Unknown:()=>b0,Unsafe:()=>Lw,Uppercase:()=>hw,Void:()=>Mw});var j=v6;var t_e=10*60*1e3,q1={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",CopilotBase:"copilot-base",Unknown:"unknown"},r_e=new Set([q1.O1Ga,q1.O3Mini,q1.O1Mini,q1.Gemini20Pro,q1.Gemini20Flash]);var UV=j.Object({type:j.Union([j.Literal("chat"),j.Literal("embeddings"),j.Literal("completion")]),tokenizer:j.String(),family:j.String(),object:j.String(),supports:j.Optional(j.Object({tool_calls:j.Optional(j.Boolean()),parallel_tool_calls:j.Optional(j.Boolean()),streaming:j.Optional(j.Boolean()),vision:j.Optional(j.Boolean())})),limits:j.Optional(j.Object({max_inputs:j.Optional(j.Number()),max_prompt_tokens:j.Optional(j.Number()),max_output_tokens:j.Optional(j.Number()),max_context_window_tokens:j.Optional(j.Number())}))}),BV=j.Object({id:j.String(),name:j.String(),version:j.String(),model_picker_enabled:j.Boolean(),is_chat_default:j.Optional(j.Boolean()),is_chat_fallback:j.Optional(j.Boolean()),capabilities:UV,billing:j.Optional(j.Object({is_premium:j.Optional(j.Boolean()),multiplier:j.Optional(j.Number())})),object:j.String(),preview:j.Optional(j.Boolean()),isExperimental:j.Optional(j.Boolean()),policy:j.Optional(j.Object({state:j.String(),terms:j.String()}))}),Uw=j.Object({data:j.Array(BV)});function W1(e){let t=Dt(e,be.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(W1,"getUserSelectedModelConfiguration");var bf=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var X5=Bt(require("vscode"));async function J5(e){return await X5.default.workspace.fs.readFile(jw(e))}o(J5,"readFile");function Bw(e){return jw(e).toString()}o(Bw,"locateFile");function jw(e){let{extensionUri:t}=X5.default.extensions.getExtension("github.copilot");return X5.default.Uri.joinPath(t,"dist",e)}o(jw,"remoteUri");var vf=Bt(eP());var H1=new Map;function ti(e="o200k_base"){let t=H1.get(e);return t!==void 0?t:H1.get("o200k_base")}o(ti,"getTokenizer");async function tK(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await J5(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(tK,"parseTikTokenNoIndex");var n2=class e{constructor(t){this._tokenizer=t}static{o(this,"TTokenizer")}static async create(t){try{let r=(0,vf.createTokenizer)(await tK(`resources/${t}.tiktoken.noindex`),(0,vf.getSpecialTokensByEncoder)(t),(0,vf.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new bf("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},A6=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},rK={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},i2=class{constructor(t="o200k_base",r){this.languageId=r;this.tokenizerName=t}static{o(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?rK[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(t){return Math.ceil(t.length/this.getEffectiveTokenLength())}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeLastLinesTokens(t,r){throw new Error("Not implemented")}},tP=(async()=>{H1.set("mock",new A6),H1.set("cl100k_base",await n2.create("cl100k_base")),H1.set("o200k_base",await n2.create("o200k_base"))})();function nK(e){switch(e.errorType){case ee.ArrayContains:return"Expected array to contain at least one matching value";case ee.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case ee.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case ee.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case ee.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case ee.ArrayUniqueItems:return"Expected array elements to be unique";case ee.Array:return"Expected array";case ee.AsyncIterator:return"Expected AsyncIterator";case ee.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case ee.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case ee.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case ee.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case ee.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case ee.BigInt:return"Expected bigint";case ee.Boolean:return"Expected boolean";case ee.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case ee.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case ee.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case ee.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case ee.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case ee.Date:return"Expected Date";case ee.Function:return"Expected function";case ee.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case ee.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case ee.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case ee.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case ee.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case ee.Integer:return"Expected integer";case ee.IntersectUnevaluatedProperties:return"Unexpected property";case ee.Intersect:return"Expected all values to match";case ee.Iterator:return"Expected Iterator";case ee.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case ee.Never:return"Never";case ee.Not:return"Value should not match";case ee.Null:return"Expected null";case ee.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case ee.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case ee.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case ee.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case ee.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case ee.Number:return"Expected number";case ee.Object:return"Expected object";case ee.ObjectAdditionalProperties:return"Unexpected property";case ee.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case ee.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case ee.ObjectRequiredProperty:return"Expected required property";case ee.Promise:return"Expected Promise";case ee.RegExp:return"Expected string to match regular expression";case ee.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case ee.StringFormat:return`Expected string to match '${e.schema.format}' format`;case ee.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case ee.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case ee.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case ee.String:return"Expected string";case ee.Symbol:return"Expected symbol";case ee.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case ee.Tuple:return"Expected tuple";case ee.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case ee.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case ee.Uint8Array:return"Expected Uint8Array";case ee.Undefined:return"Expected undefined";case ee.Union:return"Expected union value";case ee.Void:return"Expected void";case ee.Kind:return`Expected kind '${e.schema[te]}'`;default:return"Unknown error type"}}o(nK,"DefaultErrorFunction");var iK=nK;function rP(){return iK}o(rP,"GetErrorFunction");var k6=class extends at{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function oK(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new k6(e);return Xt(r,t)}o(oK,"Resolve");function Pn(e,t){return!Ht(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(Pn,"Pushref");function Xt(e,t){return e[te]==="This"||e[te]==="Ref"?oK(e,t):e}o(Xt,"Deref");var N6=class extends at{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},co;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(co||(co={}));var Tf=BigInt("14695981039346656037"),[sK,aK]=[BigInt("1099511628211"),BigInt("18446744073709551616")],lK=Array.from({length:256}).map((e,t)=>BigInt(t)),nP=new Float64Array(1),iP=new DataView(nP.buffer),oP=new Uint8Array(nP.buffer);function*cK(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(cK,"NumberToBytes");function uK(e){ri(co.Array);for(let t of e)Ef(t)}o(uK,"ArrayType");function fK(e){ri(co.Boolean),ri(e?1:0)}o(fK,"BooleanType");function dK(e){ri(co.BigInt),iP.setBigInt64(0,e);for(let t of oP)ri(t)}o(dK,"BigIntType");function mK(e){ri(co.Date),Ef(e.getTime())}o(mK,"DateType");function pK(e){ri(co.Null)}o(pK,"NullType");function gK(e){ri(co.Number),iP.setFloat64(0,e);for(let t of oP)ri(t)}o(gK,"NumberType");function hK(e){ri(co.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())Ef(t),Ef(e[t])}o(hK,"ObjectType");function xK(e){ri(co.String);for(let t=0;t<e.length;t++)for(let r of cK(e.charCodeAt(t)))ri(r)}o(xK,"StringType");function _K(e){ri(co.Symbol),Ef(e.description)}o(_K,"SymbolType");function yK(e){ri(co.Uint8Array);for(let t=0;t<e.length;t++)ri(e[t])}o(yK,"Uint8ArrayType");function bK(e){return ri(co.Undefined)}o(bK,"UndefinedType");function Ef(e){if(st(e))return uK(e);if(K0(e))return fK(e);if(Un(e))return dK(e);if(hi(e))return mK(e);if(Ks(e))return pK(e);if(He(e))return gK(e);if(Et(e))return hK(e);if(Ht(e))return xK(e);if(Ys(e))return _K(e);if(Qu(e))return yK(e);if(Dr(e))return bK(e);throw new N6(e)}o(Ef,"Visit");function ri(e){Tf=Tf^lK[e],Tf=Tf*sK%aK}o(ri,"FNV1A64");function ol(e){return Tf=BigInt("14695981039346656037"),Ef(e),Tf}o(ol,"Hash");var F6=class extends at{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function vK(e){return e[te]==="Any"||e[te]==="Unknown"}o(vK,"IsAnyOrUnknown");function Ft(e){return e!==void 0}o(Ft,"IsDefined");function TK(e,t,r){return!0}o(TK,"FromAny");function EK(e,t,r){return!0}o(EK,"FromArgument");function IK(e,t,r){if(!st(r)||Ft(e.minItems)&&!(r.length>=e.minItems)||Ft(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>Dn(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=ol(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(Ft(e.contains)||He(e.minContains)||He(e.maxContains)))return!0;let n=Ft(e.contains)?e.contains:bt(),i=r.reduce((s,a)=>Dn(n,t,a)?s+1:s,0);return!(i===0||He(e.minContains)&&i<e.minContains||He(e.maxContains)&&i>e.maxContains)}o(IK,"FromArray");function CK(e,t,r){return C5(r)}o(CK,"FromAsyncIterator");function SK(e,t,r){return!(!Un(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(SK,"FromBigInt");function wK(e,t,r){return K0(r)}o(wK,"FromBoolean");function PK(e,t,r){return Dn(e.returns,t,r.prototype)}o(PK,"FromConstructor");function DK(e,t,r){return!(!hi(r)||Ft(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Ft(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Ft(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Ft(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Ft(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(DK,"FromDate");function RK(e,t,r){return Xa(r)}o(RK,"FromFunction");function AK(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Dn(i,[...t,...n],r)}o(AK,"FromImport");function kK(e,t,r){return!(!P5(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.multipleOf)&&r%e.multipleOf!==0)}o(kK,"FromInteger");function NK(e,t,r){let n=e.allOf.every(i=>Dn(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(ta(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(Br(e.unevaluatedProperties)){let i=new RegExp(ta(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Dn(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(NK,"FromIntersect");function FK(e,t,r){return S5(r)}o(FK,"FromIterator");function OK(e,t,r){return r===e.const}o(OK,"FromLiteral");function LK(e,t,r){return!1}o(LK,"FromNever");function MK(e,t,r){return!Dn(e.not,t,r)}o(MK,"FromNot");function UK(e,t,r){return Ks(r)}o(UK,"FromNull");function BK(e,t,r){return!(!Er.IsNumberLike(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.multipleOf)&&r%e.multipleOf!==0)}o(BK,"FromNumber");function jK(e,t,r){if(!Er.IsObjectLike(r)||Ft(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ft(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!Dn(s,t,r[i])||(ra(s)||vK(s))&&!(i in r))return!1}else if(Er.IsExactOptionalProperty(r,i)&&!Dn(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||Dn(e.additionalProperties,t,r[s])):!0}o(jK,"FromObject");function $K(e,t,r){return w5(r)}o($K,"FromPromise");function qK(e,t,r){if(!Er.IsRecordLike(r)||Ft(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ft(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?Dn(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:Dn(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(qK,"FromRecord");function WK(e,t,r){return Dn(Xt(e,t),t,r)}o(WK,"FromRef");function GK(e,t,r){let n=new RegExp(e.source,e.flags);return Ft(e.minLength)&&!(r.length>=e.minLength)||Ft(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(GK,"FromRegExp");function HK(e,t,r){return!Ht(r)||Ft(e.minLength)&&!(r.length>=e.minLength)||Ft(e.maxLength)&&!(r.length<=e.maxLength)||Ft(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Ft(e.format)?y0.Has(e.format)?y0.Get(e.format)(r):!1:!0}o(HK,"FromString");function zK(e,t,r){return Ys(r)}o(zK,"FromSymbol");function VK(e,t,r){return Ht(r)&&new RegExp(e.pattern).test(r)}o(VK,"FromTemplateLiteral");function KK(e,t,r){return Dn(Xt(e,t),t,r)}o(KK,"FromThis");function YK(e,t,r){if(!st(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Dn(e.items[n],t,r[n]))return!1;return!0}o(YK,"FromTuple");function XK(e,t,r){return Dr(r)}o(XK,"FromUndefined");function JK(e,t,r){return e.anyOf.some(n=>Dn(n,t,r))}o(JK,"FromUnion");function ZK(e,t,r){return!(!Qu(r)||Ft(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Ft(e.minByteLength)&&!(r.length>=e.minByteLength))}o(ZK,"FromUint8Array");function QK(e,t,r){return!0}o(QK,"FromUnknown");function eY(e,t,r){return Er.IsVoidLike(r)}o(eY,"FromVoid");function tY(e,t,r){return xi.Has(e[te])?xi.Get(e[te])(e,r):!1}o(tY,"FromKind");function Dn(e,t,r){let n=Ft(e.$id)?Pn(e,t):t,i=e;switch(i[te]){case"Any":return TK(i,n,r);case"Argument":return EK(i,n,r);case"Array":return IK(i,n,r);case"AsyncIterator":return CK(i,n,r);case"BigInt":return SK(i,n,r);case"Boolean":return wK(i,n,r);case"Constructor":return PK(i,n,r);case"Date":return DK(i,n,r);case"Function":return RK(i,n,r);case"Import":return AK(i,n,r);case"Integer":return kK(i,n,r);case"Intersect":return NK(i,n,r);case"Iterator":return FK(i,n,r);case"Literal":return OK(i,n,r);case"Never":return LK(i,n,r);case"Not":return MK(i,n,r);case"Null":return UK(i,n,r);case"Number":return BK(i,n,r);case"Object":return jK(i,n,r);case"Promise":return $K(i,n,r);case"Record":return qK(i,n,r);case"Ref":return WK(i,n,r);case"RegExp":return GK(i,n,r);case"String":return HK(i,n,r);case"Symbol":return zK(i,n,r);case"TemplateLiteral":return VK(i,n,r);case"This":return KK(i,n,r);case"Tuple":return YK(i,n,r);case"Undefined":return XK(i,n,r);case"Union":return JK(i,n,r);case"Uint8Array":return ZK(i,n,r);case"Unknown":return QK(i,n,r);case"Void":return eY(i,n,r);default:if(!xi.Has(i[te]))throw new F6(i);return tY(i,n,r)}}o(Dn,"Visit");function St(...e){return e.length===3?Dn(e[0],e[1],e[2]):Dn(e[0],[],e[1])}o(St,"Check");var ee;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(ee||(ee={}));var O6=class extends at{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function na(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(na,"EscapeKey");function Ot(e){return e!==void 0}o(Ot,"IsDefined");var sl=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function Pe(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:rP()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(Pe,"Create");function*rY(e,t,r,n){}o(rY,"FromAny");function*nY(e,t,r,n){}o(nY,"FromArgument");function*iY(e,t,r,n){if(!st(n))return yield Pe(ee.Array,e,r,n);Ot(e.minItems)&&!(n.length>=e.minItems)&&(yield Pe(ee.ArrayMinItems,e,r,n)),Ot(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Pe(ee.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Rn(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=ol(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield Pe(ee.ArrayUniqueItems,e,r,n)),!(Ot(e.contains)||Ot(e.minContains)||Ot(e.maxContains)))return;let i=Ot(e.contains)?e.contains:bt(),s=n.reduce((a,l,c)=>Rn(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield Pe(ee.ArrayContains,e,r,n)),He(e.minContains)&&s<e.minContains&&(yield Pe(ee.ArrayMinContains,e,r,n)),He(e.maxContains)&&s>e.maxContains&&(yield Pe(ee.ArrayMaxContains,e,r,n))}o(iY,"FromArray");function*oY(e,t,r,n){C5(n)||(yield Pe(ee.AsyncIterator,e,r,n))}o(oY,"FromAsyncIterator");function*sY(e,t,r,n){if(!Un(n))return yield Pe(ee.BigInt,e,r,n);Ot(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.BigIntExclusiveMaximum,e,r,n)),Ot(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.BigIntExclusiveMinimum,e,r,n)),Ot(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.BigIntMaximum,e,r,n)),Ot(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.BigIntMinimum,e,r,n)),Ot(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Pe(ee.BigIntMultipleOf,e,r,n))}o(sY,"FromBigInt");function*aY(e,t,r,n){K0(n)||(yield Pe(ee.Boolean,e,r,n))}o(aY,"FromBoolean");function*lY(e,t,r,n){yield*Rn(e.returns,t,r,n.prototype)}o(lY,"FromConstructor");function*cY(e,t,r,n){if(!hi(n))return yield Pe(ee.Date,e,r,n);Ot(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Pe(ee.DateExclusiveMaximumTimestamp,e,r,n)),Ot(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Pe(ee.DateExclusiveMinimumTimestamp,e,r,n)),Ot(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Pe(ee.DateMaximumTimestamp,e,r,n)),Ot(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Pe(ee.DateMinimumTimestamp,e,r,n)),Ot(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Pe(ee.DateMultipleOfTimestamp,e,r,n))}o(cY,"FromDate");function*uY(e,t,r,n){Xa(n)||(yield Pe(ee.Function,e,r,n))}o(uY,"FromFunction");function*fY(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*Rn(s,[...t,...i],r,n)}o(fY,"FromImport");function*dY(e,t,r,n){if(!P5(n))return yield Pe(ee.Integer,e,r,n);Ot(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.IntegerExclusiveMaximum,e,r,n)),Ot(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.IntegerExclusiveMinimum,e,r,n)),Ot(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.IntegerMaximum,e,r,n)),Ot(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.IntegerMinimum,e,r,n)),Ot(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.IntegerMultipleOf,e,r,n))}o(dY,"FromInteger");function*mY(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of Rn(s,t,r,n))i=!0,yield a;if(i)return yield Pe(ee.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(ta(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield Pe(ee.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(ta(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=Rn(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(mY,"FromIntersect");function*pY(e,t,r,n){S5(n)||(yield Pe(ee.Iterator,e,r,n))}o(pY,"FromIterator");function*gY(e,t,r,n){n!==e.const&&(yield Pe(ee.Literal,e,r,n))}o(gY,"FromLiteral");function*hY(e,t,r,n){yield Pe(ee.Never,e,r,n)}o(hY,"FromNever");function*xY(e,t,r,n){Rn(e.not,t,r,n).next().done===!0&&(yield Pe(ee.Not,e,r,n))}o(xY,"FromNot");function*_Y(e,t,r,n){Ks(n)||(yield Pe(ee.Null,e,r,n))}o(_Y,"FromNull");function*yY(e,t,r,n){if(!Er.IsNumberLike(n))return yield Pe(ee.Number,e,r,n);Ot(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.NumberExclusiveMaximum,e,r,n)),Ot(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.NumberExclusiveMinimum,e,r,n)),Ot(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.NumberMaximum,e,r,n)),Ot(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.NumberMinimum,e,r,n)),Ot(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.NumberMultipleOf,e,r,n))}o(yY,"FromNumber");function*bY(e,t,r,n){if(!Er.IsObjectLike(n))return yield Pe(ee.Object,e,r,n);Ot(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Ot(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield Pe(ee.ObjectRequiredProperty,e.properties[l],`${r}/${na(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${na(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*Rn(e.additionalProperties,t,`${r}/${na(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*Rn(c,t,`${r}/${na(l)}`,n[l]),ra(e)&&!(l in n)&&(yield Pe(ee.ObjectRequiredProperty,c,`${r}/${na(l)}`,void 0))):Er.IsExactOptionalProperty(n,l)&&(yield*Rn(c,t,`${r}/${na(l)}`,n[l]))}}o(bY,"FromObject");function*vY(e,t,r,n){w5(n)||(yield Pe(ee.Promise,e,r,n))}o(vY,"FromPromise");function*TY(e,t,r,n){if(!Er.IsRecordLike(n))return yield Pe(ee.Object,e,r,n);Ot(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Ot(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*Rn(s,t,`${r}/${na(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*Rn(e.additionalProperties,t,`${r}/${na(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${na(l)}`,c)}}o(TY,"FromRecord");function*EY(e,t,r,n){yield*Rn(Xt(e,t),t,r,n)}o(EY,"FromRef");function*IY(e,t,r,n){if(!Ht(n))return yield Pe(ee.String,e,r,n);if(Ot(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Ot(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield Pe(ee.RegExp,e,r,n)}o(IY,"FromRegExp");function*CY(e,t,r,n){if(!Ht(n))return yield Pe(ee.String,e,r,n);Ot(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Ot(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),Ht(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))),Ht(e.format)&&(y0.Has(e.format)?y0.Get(e.format)(n)||(yield Pe(ee.StringFormat,e,r,n)):yield Pe(ee.StringFormatUnknown,e,r,n))}o(CY,"FromString");function*SY(e,t,r,n){Ys(n)||(yield Pe(ee.Symbol,e,r,n))}o(SY,"FromSymbol");function*wY(e,t,r,n){if(!Ht(n))return yield Pe(ee.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))}o(wY,"FromTemplateLiteral");function*PY(e,t,r,n){yield*Rn(Xt(e,t),t,r,n)}o(PY,"FromThis");function*DY(e,t,r,n){if(!st(n))return yield Pe(ee.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Pe(ee.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Pe(ee.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*Rn(e.items[i],t,`${r}/${i}`,n[i])}o(DY,"FromTuple");function*RY(e,t,r,n){Dr(n)||(yield Pe(ee.Undefined,e,r,n))}o(RY,"FromUndefined");function*AY(e,t,r,n){if(St(e,t,n))return;let i=e.anyOf.map(s=>new sl(Rn(s,t,r,n)));yield Pe(ee.Union,e,r,n,i)}o(AY,"FromUnion");function*kY(e,t,r,n){if(!Qu(n))return yield Pe(ee.Uint8Array,e,r,n);Ot(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Pe(ee.Uint8ArrayMaxByteLength,e,r,n)),Ot(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Pe(ee.Uint8ArrayMinByteLength,e,r,n))}o(kY,"FromUint8Array");function*NY(e,t,r,n){}o(NY,"FromUnknown");function*FY(e,t,r,n){Er.IsVoidLike(n)||(yield Pe(ee.Void,e,r,n))}o(FY,"FromVoid");function*OY(e,t,r,n){xi.Get(e[te])(e,n)||(yield Pe(ee.Kind,e,r,n))}o(OY,"FromKind");function*Rn(e,t,r,n){let i=Ot(e.$id)?[...t,e]:t,s=e;switch(s[te]){case"Any":return yield*rY(s,i,r,n);case"Argument":return yield*nY(s,i,r,n);case"Array":return yield*iY(s,i,r,n);case"AsyncIterator":return yield*oY(s,i,r,n);case"BigInt":return yield*sY(s,i,r,n);case"Boolean":return yield*aY(s,i,r,n);case"Constructor":return yield*lY(s,i,r,n);case"Date":return yield*cY(s,i,r,n);case"Function":return yield*uY(s,i,r,n);case"Import":return yield*fY(s,i,r,n);case"Integer":return yield*dY(s,i,r,n);case"Intersect":return yield*mY(s,i,r,n);case"Iterator":return yield*pY(s,i,r,n);case"Literal":return yield*gY(s,i,r,n);case"Never":return yield*hY(s,i,r,n);case"Not":return yield*xY(s,i,r,n);case"Null":return yield*_Y(s,i,r,n);case"Number":return yield*yY(s,i,r,n);case"Object":return yield*bY(s,i,r,n);case"Promise":return yield*vY(s,i,r,n);case"Record":return yield*TY(s,i,r,n);case"Ref":return yield*EY(s,i,r,n);case"RegExp":return yield*IY(s,i,r,n);case"String":return yield*CY(s,i,r,n);case"Symbol":return yield*SY(s,i,r,n);case"TemplateLiteral":return yield*wY(s,i,r,n);case"This":return yield*PY(s,i,r,n);case"Tuple":return yield*DY(s,i,r,n);case"Undefined":return yield*RY(s,i,r,n);case"Union":return yield*AY(s,i,r,n);case"Uint8Array":return yield*kY(s,i,r,n);case"Unknown":return yield*NY(s,i,r,n);case"Void":return yield*FY(s,i,r,n);default:if(!xi.Has(s[te]))throw new O6(e);return yield*OY(s,i,r,n)}}o(Rn,"Visit");function ts(...e){let t=e.length===3?Rn(e[0],e[1],"",e[2]):Rn(e[0],[],"",e[1]);return new sl(t)}o(ts,"Errors");var LY=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},aP=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},L6,o2,lP,M6=class extends at{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),L6.add(this),o2.set(this,void 0),LY(this,o2,t,"f"),this.error=r}Errors(){return new sl(aP(this,L6,"m",lP).call(this))}};o2=new WeakMap,L6=new WeakSet,lP=o(function*(){this.error&&(yield this.error),yield*aP(this,o2,"f")},"_AssertError_Iterator");function sP(e,t,r){if(!St(e,t,r))throw new M6(ts(e,t,r))}o(sP,"AssertValue");function s2(...e){return e.length===3?sP(e[0],e[1],e[2]):sP(e[0],[],e[1])}o(s2,"Assert");function MY(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Jt(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Jt(e[r]);return t}o(MY,"FromObject");function UY(e){return e.map(t=>Jt(t))}o(UY,"FromArray");function BY(e){return e.slice()}o(BY,"FromTypedArray");function jY(e){return new Map(Jt([...e.entries()]))}o(jY,"FromMap");function $Y(e){return new Set(Jt([...e.entries()]))}o($Y,"FromSet");function qY(e){return new Date(e.toISOString())}o(qY,"FromDate");function Jt(e){if(st(e))return UY(e);if(hi(e))return qY(e);if(ko(e))return BY(e);if(IC(e))return jY(e);if(CC(e))return $Y(e);if(Et(e))return MY(e);if(no(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Jt,"Clone");var uo=class extends at{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Zt(e){return Xa(e)?e():Jt(e)}o(Zt,"FromDefault");function WY(e,t){return ot(e,"default")?Zt(e.default):{}}o(WY,"FromAny");function GY(e,t){return{}}o(GY,"FromArgument");function HY(e,t){if(e.uniqueItems===!0&&!ot(e,"default"))throw new uo(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!ot(e,"default"))throw new uo(e,"Array with the contains constraint requires a default value");return"default"in e?Zt(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Mi(e.items,t)):[]}o(HY,"FromArray");function zY(e,t){return ot(e,"default")?Zt(e.default):async function*(){}()}o(zY,"FromAsyncIterator");function VY(e,t){return ot(e,"default")?Zt(e.default):BigInt(0)}o(VY,"FromBigInt");function KY(e,t){return ot(e,"default")?Zt(e.default):!1}o(KY,"FromBoolean");function YY(e,t){if(ot(e,"default"))return Zt(e.default);{let r=Mi(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(YY,"FromConstructor");function XY(e,t){return ot(e,"default")?Zt(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(XY,"FromDate");function JY(e,t){return ot(e,"default")?Zt(e.default):()=>Mi(e.returns,t)}o(JY,"FromFunction");function ZY(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return Mi(n,[...t,...r])}o(ZY,"FromImport");function QY(e,t){return ot(e,"default")?Zt(e.default):e.minimum!==void 0?e.minimum:0}o(QY,"FromInteger");function eX(e,t){if(ot(e,"default"))return Zt(e.default);{let r=e.allOf.reduce((n,i)=>{let s=Mi(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!St(e,t,r))throw new uo(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(eX,"FromIntersect");function tX(e,t){return ot(e,"default")?Zt(e.default):function*(){}()}o(tX,"FromIterator");function rX(e,t){return ot(e,"default")?Zt(e.default):e.const}o(rX,"FromLiteral");function nX(e,t){if(ot(e,"default"))return Zt(e.default);throw new uo(e,"Never types cannot be created. Consider using a default value.")}o(nX,"FromNever");function iX(e,t){if(ot(e,"default"))return Zt(e.default);throw new uo(e,"Not types must have a default value")}o(iX,"FromNot");function oX(e,t){return ot(e,"default")?Zt(e.default):null}o(oX,"FromNull");function sX(e,t){return ot(e,"default")?Zt(e.default):e.minimum!==void 0?e.minimum:0}o(sX,"FromNumber");function aX(e,t){if(ot(e,"default"))return Zt(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=Mi(s,t));return n}}o(aX,"FromObject");function lX(e,t){return ot(e,"default")?Zt(e.default):Promise.resolve(Mi(e.item,t))}o(lX,"FromPromise");function cX(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(ot(e,"default"))return Zt(e.default);if(r===X0||r===Y0)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=Mi(n,t);return s}}o(cX,"FromRecord");function uX(e,t){return ot(e,"default")?Zt(e.default):Mi(Xt(e,t),t)}o(uX,"FromRef");function fX(e,t){if(ot(e,"default"))return Zt(e.default);throw new uo(e,"RegExp types cannot be created. Consider using a default value.")}o(fX,"FromRegExp");function dX(e,t){if(e.pattern!==void 0){if(ot(e,"default"))return Zt(e.default);throw new uo(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(ot(e,"default"))return Zt(e.default);throw new uo(e,"String types with formats must specify a default value")}else return ot(e,"default")?Zt(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(dX,"FromString");function mX(e,t){return ot(e,"default")?Zt(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(mX,"FromSymbol");function pX(e,t){if(ot(e,"default"))return Zt(e.default);if(!k5(e))throw new uo(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return cf(e)[0]}o(pX,"FromTemplateLiteral");function gX(e,t){if(cP++>EX)throw new uo(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return ot(e,"default")?Zt(e.default):Mi(Xt(e,t),t)}o(gX,"FromThis");function hX(e,t){return ot(e,"default")?Zt(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Mi(e.items[n],t))}o(hX,"FromTuple");function xX(e,t){if(ot(e,"default"))return Zt(e.default)}o(xX,"FromUndefined");function _X(e,t){if(ot(e,"default"))return Zt(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Mi(e.anyOf[0],t)}o(_X,"FromUnion");function yX(e,t){return ot(e,"default")?Zt(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(yX,"FromUint8Array");function bX(e,t){return ot(e,"default")?Zt(e.default):{}}o(bX,"FromUnknown");function vX(e,t){if(ot(e,"default"))return Zt(e.default)}o(vX,"FromVoid");function TX(e,t){if(ot(e,"default"))return Zt(e.default);throw new Error("User defined types must specify a default value")}o(TX,"FromKind");function Mi(e,t){let r=Pn(e,t),n=e;switch(n[te]){case"Any":return WY(n,r);case"Argument":return GY(n,r);case"Array":return HY(n,r);case"AsyncIterator":return zY(n,r);case"BigInt":return VY(n,r);case"Boolean":return KY(n,r);case"Constructor":return YY(n,r);case"Date":return XY(n,r);case"Function":return JY(n,r);case"Import":return ZY(n,r);case"Integer":return QY(n,r);case"Intersect":return eX(n,r);case"Iterator":return tX(n,r);case"Literal":return rX(n,r);case"Never":return nX(n,r);case"Not":return iX(n,r);case"Null":return oX(n,r);case"Number":return sX(n,r);case"Object":return aX(n,r);case"Promise":return lX(n,r);case"Record":return cX(n,r);case"Ref":return uX(n,r);case"RegExp":return fX(n,r);case"String":return dX(n,r);case"Symbol":return mX(n,r);case"TemplateLiteral":return pX(n,r);case"This":return gX(n,r);case"Tuple":return hX(n,r);case"Undefined":return xX(n,r);case"Union":return _X(n,r);case"Uint8Array":return yX(n,r);case"Unknown":return bX(n,r);case"Void":return vX(n,r);default:if(!xi.Has(n[te]))throw new uo(n,"Unknown type");return TX(n,r)}}o(Mi,"Visit");var EX=512,cP=0;function jo(...e){return cP=0,e.length===2?Mi(e[0],e[1]):Mi(e[0],[])}o(jo,"Create");var a2=class extends at{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function IX(e,t,r){if(e[te]==="Object"&&typeof r=="object"&&!Ks(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let d=f[te]==="Literal"&&f.const===r[u]?l:0,p=St(f,t,r[u])?a:0,m=i.includes(u)?a:0;return c+(d+p+m)},0)}else return St(e,t,r)?1:0}o(IX,"ScoreUnion");function CX(e,t,r){let n=e.anyOf.map(a=>Xt(a,t)),[i,s]=[n[0],0];for(let a of n){let l=IX(a,t,r);l>s&&(i=a,s=l)}return i}o(CX,"SelectUnion");function SX(e,t,r){if("default"in e)return typeof r=="function"?e.default:Jt(e.default);{let n=CX(e,t,r);return z1(n,t,r)}}o(SX,"CastUnion");function wX(e,t,r){return St(e,t,r)?Jt(r):jo(e,t)}o(wX,"DefaultClone");function PX(e,t,r){return St(e,t,r)?r:jo(e,t)}o(PX,"Default");function DX(e,t,r){if(St(e,t,r))return Jt(r);let n=st(r)?Jt(r):jo(e,t),i=He(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(He(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>E0(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!St(e,t,l))throw new a2(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(DX,"FromArray");function RX(e,t,r){if(St(e,t,r))return jo(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=E0(a,t,r.prototype[s]));return i}o(RX,"FromConstructor");function AX(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return E0(i,[...t,...n],r)}o(AX,"FromImport");function kX(e,t,r){let n=jo(e,t),i=Et(n)&&Et(r)?{...n,...r}:r;return St(e,t,i)?i:jo(e,t)}o(kX,"FromIntersect");function NX(e,t,r){throw new a2(e,"Never types cannot be cast")}o(NX,"FromNever");function FX(e,t,r){if(St(e,t,r))return r;if(r===null||typeof r!="object")return jo(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=E0(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=E0(e.additionalProperties,t,r[a]))}return i}o(FX,"FromObject");function OX(e,t,r){if(St(e,t,r))return Jt(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return jo(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=E0(i,t,l);return s}o(OX,"FromRecord");function LX(e,t,r){return E0(Xt(e,t),t,r)}o(LX,"FromRef");function MX(e,t,r){return E0(Xt(e,t),t,r)}o(MX,"FromThis");function UX(e,t,r){return St(e,t,r)?Jt(r):st(r)?e.items===void 0?[]:e.items.map((n,i)=>E0(n,t,r[i])):jo(e,t)}o(UX,"FromTuple");function BX(e,t,r){return St(e,t,r)?Jt(r):SX(e,t,r)}o(BX,"FromUnion");function E0(e,t,r){let n=Ht(e.$id)?Pn(e,t):t,i=e;switch(e[te]){case"Array":return DX(i,n,r);case"Constructor":return RX(i,n,r);case"Import":return AX(i,n,r);case"Intersect":return kX(i,n,r);case"Never":return NX(i,n,r);case"Object":return FX(i,n,r);case"Record":return OX(i,n,r);case"Ref":return LX(i,n,r);case"This":return MX(i,n,r);case"Tuple":return UX(i,n,r);case"Union":return BX(i,n,r);case"Date":case"Symbol":case"Uint8Array":return wX(e,t,r);default:return PX(i,n,r)}}o(E0,"Visit");function z1(...e){return e.length===3?E0(e[0],e[1],e[2]):E0(e[0],[],e[1])}o(z1,"Cast");function jX(e){return Za(e)&&e[te]!=="Unsafe"}o(jX,"IsCheckable");function $X(e,t,r){return st(r)?r.map(n=>Ui(e.items,t,n)):r}o($X,"FromArray");function qX(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Ui(i,[...t,...n],r)}o(qX,"FromImport");function WX(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Ui(l,t,Jt(r))).reduce((l,c)=>Et(c)?{...l,...c}:c,{});if(!Et(r)||!Et(s)||!Za(n))return s;let a=Oi(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||St(n,t,r[l])&&(s[l]=Ui(n,t,r[l]));return s}o(WX,"FromIntersect");function GX(e,t,r){if(!Et(r)||st(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(ot(e.properties,i)){r[i]=Ui(e.properties[i],t,r[i]);continue}if(Za(n)&&St(n,t,r[i])){r[i]=Ui(n,t,r[i]);continue}delete r[i]}return r}o(GX,"FromObject");function HX(e,t,r){if(!Et(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Ui(a,t,r[c]);continue}if(Za(n)&&St(n,t,r[c])){r[c]=Ui(n,t,r[c]);continue}delete r[c]}return r}o(HX,"FromRecord");function zX(e,t,r){return Ui(Xt(e,t),t,r)}o(zX,"FromRef");function VX(e,t,r){return Ui(Xt(e,t),t,r)}o(VX,"FromThis");function KX(e,t,r){if(!st(r))return r;if(Dr(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Ui(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(KX,"FromTuple");function YX(e,t,r){for(let n of e.anyOf)if(jX(n)&&St(n,t,r))return Ui(n,t,r);return r}o(YX,"FromUnion");function Ui(e,t,r){let n=Ht(e.$id)?Pn(e,t):t,i=e;switch(i[te]){case"Array":return $X(i,n,r);case"Import":return qX(i,n,r);case"Intersect":return WX(i,n,r);case"Object":return GX(i,n,r);case"Record":return HX(i,n,r);case"Ref":return zX(i,n,r);case"This":return VX(i,n,r);case"Tuple":return KX(i,n,r);case"Union":return YX(i,n,r);default:return r}}o(Ui,"Visit");function l2(...e){return e.length===3?Ui(e[0],e[1],e[2]):Ui(e[0],[],e[1])}o(l2,"Clean");function c2(e){return Ht(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(c2,"IsStringNumeric");function XX(e){return Un(e)||K0(e)||He(e)}o(XX,"IsValueToString");function V1(e){return e===!0||He(e)&&e===1||Un(e)&&e===BigInt("1")||Ht(e)&&(e.toLowerCase()==="true"||e==="1")}o(V1,"IsValueTrue");function K1(e){return e===!1||He(e)&&(e===0||Object.is(e,-0))||Un(e)&&e===BigInt("0")||Ht(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(K1,"IsValueFalse");function JX(e){return Ht(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(JX,"IsTimeStringWithTimeZone");function ZX(e){return Ht(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(ZX,"IsTimeStringWithoutTimeZone");function QX(e){return Ht(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(QX,"IsDateTimeStringWithTimeZone");function eJ(e){return Ht(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(eJ,"IsDateTimeStringWithoutTimeZone");function tJ(e){return Ht(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(tJ,"IsDateString");function rJ(e,t){let r=fP(e);return r===t?r:e}o(rJ,"TryConvertLiteralString");function nJ(e,t){let r=dP(e);return r===t?r:e}o(nJ,"TryConvertLiteralNumber");function iJ(e,t){let r=uP(e);return r===t?r:e}o(iJ,"TryConvertLiteralBoolean");function oJ(e,t){return Ht(e.const)?rJ(t,e.const):He(e.const)?nJ(t,e.const):K0(e.const)?iJ(t,e.const):t}o(oJ,"TryConvertLiteral");function uP(e){return V1(e)?!0:K1(e)?!1:e}o(uP,"TryConvertBoolean");function sJ(e){let t=o(r=>r.split(".")[0],"truncateInteger");return c2(e)?BigInt(t(e)):He(e)?BigInt(Math.trunc(e)):K1(e)?BigInt(0):V1(e)?BigInt(1):e}o(sJ,"TryConvertBigInt");function fP(e){return Ys(e)&&e.description!==void 0?e.description.toString():XX(e)?e.toString():e}o(fP,"TryConvertString");function dP(e){return c2(e)?parseFloat(e):V1(e)?1:K1(e)?0:e}o(dP,"TryConvertNumber");function aJ(e){return c2(e)?parseInt(e):He(e)?Math.trunc(e):V1(e)?1:K1(e)?0:e}o(aJ,"TryConvertInteger");function lJ(e){return Ht(e)&&e.toLowerCase()==="null"?null:e}o(lJ,"TryConvertNull");function cJ(e){return Ht(e)&&e==="undefined"?void 0:e}o(cJ,"TryConvertUndefined");function uJ(e){return hi(e)?e:He(e)?new Date(e):V1(e)?new Date(1):K1(e)?new Date(0):c2(e)?new Date(parseInt(e)):ZX(e)?new Date(`1970-01-01T${e}.000Z`):JX(e)?new Date(`1970-01-01T${e}`):eJ(e)?new Date(`${e}.000Z`):QX(e)?new Date(e):tJ(e)?new Date(`${e}T00:00:00.000Z`):e}o(uJ,"TryConvertDate");function fJ(e,t,r){return(st(r)?r:[r]).map(i=>I0(e.items,t,i))}o(fJ,"FromArray");function dJ(e,t,r){return sJ(r)}o(dJ,"FromBigInt");function mJ(e,t,r){return uP(r)}o(mJ,"FromBoolean");function pJ(e,t,r){return uJ(r)}o(pJ,"FromDate");function gJ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return I0(i,[...t,...n],r)}o(gJ,"FromImport");function hJ(e,t,r){return aJ(r)}o(hJ,"FromInteger");function xJ(e,t,r){return e.allOf.reduce((n,i)=>I0(i,t,n),r)}o(xJ,"FromIntersect");function _J(e,t,r){return oJ(e,r)}o(_J,"FromLiteral");function yJ(e,t,r){return lJ(r)}o(yJ,"FromNull");function bJ(e,t,r){return dP(r)}o(bJ,"FromNumber");function vJ(e,t,r){if(!Et(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))ot(r,n)&&(r[n]=I0(e.properties[n],t,r[n]));return r}o(vJ,"FromObject");function TJ(e,t,r){if(!Et(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=I0(s,t,l);return r}o(TJ,"FromRecord");function EJ(e,t,r){return I0(Xt(e,t),t,r)}o(EJ,"FromRef");function IJ(e,t,r){return fP(r)}o(IJ,"FromString");function CJ(e,t,r){return Ht(r)||He(r)?Symbol(r):r}o(CJ,"FromSymbol");function SJ(e,t,r){return I0(Xt(e,t),t,r)}o(SJ,"FromThis");function wJ(e,t,r){return st(r)&&!Dr(e.items)?r.map((i,s)=>s<e.items.length?I0(e.items[s],t,i):i):r}o(wJ,"FromTuple");function PJ(e,t,r){return cJ(r)}o(PJ,"FromUndefined");function DJ(e,t,r){for(let n of e.anyOf){let i=I0(n,t,Jt(r));if(St(n,t,i))return i}return r}o(DJ,"FromUnion");function I0(e,t,r){let n=Pn(e,t),i=e;switch(e[te]){case"Array":return fJ(i,n,r);case"BigInt":return dJ(i,n,r);case"Boolean":return mJ(i,n,r);case"Date":return pJ(i,n,r);case"Import":return gJ(i,n,r);case"Integer":return hJ(i,n,r);case"Intersect":return xJ(i,n,r);case"Literal":return _J(i,n,r);case"Null":return yJ(i,n,r);case"Number":return bJ(i,n,r);case"Object":return vJ(i,n,r);case"Record":return TJ(i,n,r);case"Ref":return EJ(i,n,r);case"String":return IJ(i,n,r);case"Symbol":return CJ(i,n,r);case"This":return SJ(i,n,r);case"Tuple":return wJ(i,n,r);case"Undefined":return PJ(i,n,r);case"Union":return DJ(i,n,r);default:return r}}o(I0,"Visit");function u2(...e){return e.length===3?I0(e[0],e[1],e[2]):I0(e[0],[],e[1])}o(u2,"Convert");var If=class extends at{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},U6=class extends at{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function jr(e,t,r){try{return er(e)?e[Ur].Decode(r):r}catch(n){throw new U6(e,t,r,n)}}o(jr,"Default");function RJ(e,t,r,n){return st(n)?jr(e,r,n.map((i,s)=>C0(e.items,t,`${r}/${s}`,i))):jr(e,r,n)}o(RJ,"FromArray");function AJ(e,t,r,n){if(!Et(n)||no(n))return jr(e,r,n);let i=M5(e),s=i.map(f=>f[0]),a={...n};for(let[f,d]of i)f in a&&(a[f]=C0(d,t,`${r}/${f}`,a[f]));if(!er(e.unevaluatedProperties))return jr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=jr(c,`${r}/${f}`,u[f]));return jr(e,r,u)}o(AJ,"FromIntersect");function kJ(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=C0(s,[...t,...i],r,n);return jr(e,r,a)}o(kJ,"FromImport");function NJ(e,t,r,n){return jr(e,r,C0(e.not,t,r,n))}o(NJ,"FromNot");function FJ(e,t,r,n){if(!Et(n))return jr(e,r,n);let i=Oi(e),s={...n};for(let u of i)ot(s,u)&&(Dr(s[u])&&(!Zs(e.properties[u])||Er.IsExactOptionalProperty(s,u))||(s[u]=C0(e.properties[u],t,`${r}/${u}`,s[u])));if(!Br(e.additionalProperties))return jr(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=jr(l,`${r}/${u}`,c[u]));return jr(e,r,c)}o(FJ,"FromObject");function OJ(e,t,r,n){if(!Et(n))return jr(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=C0(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!Br(e.additionalProperties))return jr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=jr(c,`${r}/${f}`,u[f]));return jr(e,r,u)}o(OJ,"FromRecord");function LJ(e,t,r,n){let i=Xt(e,t);return jr(e,r,C0(i,t,r,n))}o(LJ,"FromRef");function MJ(e,t,r,n){let i=Xt(e,t);return jr(e,r,C0(i,t,r,n))}o(MJ,"FromThis");function UJ(e,t,r,n){return st(n)&&st(e.items)?jr(e,r,e.items.map((i,s)=>C0(i,t,`${r}/${s}`,n[s]))):jr(e,r,n)}o(UJ,"FromTuple");function BJ(e,t,r,n){for(let i of e.anyOf){if(!St(i,t,n))continue;let s=C0(i,t,r,n);return jr(e,r,s)}return jr(e,r,n)}o(BJ,"FromUnion");function C0(e,t,r,n){let i=Pn(e,t),s=e;switch(e[te]){case"Array":return RJ(s,i,r,n);case"Import":return kJ(s,i,r,n);case"Intersect":return AJ(s,i,r,n);case"Not":return NJ(s,i,r,n);case"Object":return FJ(s,i,r,n);case"Record":return OJ(s,i,r,n);case"Ref":return LJ(s,i,r,n);case"Symbol":return jr(s,r,n);case"This":return MJ(s,i,r,n);case"Tuple":return UJ(s,i,r,n);case"Union":return BJ(s,i,r,n);default:return jr(s,r,n)}}o(C0,"Visit");function Cf(e,t,r){return C0(e,t,"",r)}o(Cf,"TransformDecode");var Sf=class extends at{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},B6=class extends at{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function jn(e,t,r){try{return er(e)?e[Ur].Encode(r):r}catch(n){throw new B6(e,t,r,n)}}o(jn,"Default");function jJ(e,t,r,n){let i=jn(e,r,n);return st(i)?i.map((s,a)=>S0(e.items,t,`${r}/${a}`,s)):i}o(jJ,"FromArray");function $J(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=jn(e,r,n);return S0(s,[...t,...i],r,a)}o($J,"FromImport");function qJ(e,t,r,n){let i=jn(e,r,n);if(!Et(n)||no(n))return i;let s=M5(e),a=s.map(d=>d[0]),l={...i};for(let[d,p]of s)d in l&&(l[d]=S0(p,t,`${r}/${d}`,l[d]));if(!er(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let d of c)a.includes(d)||(f[d]=jn(u,`${r}/${d}`,f[d]));return f}o(qJ,"FromIntersect");function WJ(e,t,r,n){return jn(e.not,r,jn(e,r,n))}o(WJ,"FromNot");function GJ(e,t,r,n){let i=jn(e,r,n);if(!Et(i))return i;let s=Oi(e),a={...i};for(let f of s)ot(a,f)&&(Dr(a[f])&&(!Zs(e.properties[f])||Er.IsExactOptionalProperty(a,f))||(a[f]=S0(e.properties[f],t,`${r}/${f}`,a[f])));if(!Br(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=jn(c,`${r}/${f}`,u[f]));return u}o(GJ,"FromObject");function HJ(e,t,r,n){let i=jn(e,r,n);if(!Et(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let d of Object.getOwnPropertyNames(n))a.test(d)&&(l[d]=S0(e.patternProperties[s],t,`${r}/${d}`,l[d]));if(!Br(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let d of c)a.test(d)||(f[d]=jn(u,`${r}/${d}`,f[d]));return f}o(HJ,"FromRecord");function zJ(e,t,r,n){let i=Xt(e,t),s=S0(i,t,r,n);return jn(e,r,s)}o(zJ,"FromRef");function VJ(e,t,r,n){let i=Xt(e,t),s=S0(i,t,r,n);return jn(e,r,s)}o(VJ,"FromThis");function KJ(e,t,r,n){let i=jn(e,r,n);return st(e.items)?e.items.map((s,a)=>S0(s,t,`${r}/${a}`,i[a])):[]}o(KJ,"FromTuple");function YJ(e,t,r,n){for(let i of e.anyOf){if(!St(i,t,n))continue;let s=S0(i,t,r,n);return jn(e,r,s)}for(let i of e.anyOf){let s=S0(i,t,r,n);if(St(e,t,s))return jn(e,r,s)}return jn(e,r,n)}o(YJ,"FromUnion");function S0(e,t,r,n){let i=Pn(e,t),s=e;switch(e[te]){case"Array":return jJ(s,i,r,n);case"Import":return $J(s,i,r,n);case"Intersect":return qJ(s,i,r,n);case"Not":return WJ(s,i,r,n);case"Object":return GJ(s,i,r,n);case"Record":return HJ(s,i,r,n);case"Ref":return zJ(s,i,r,n);case"This":return VJ(s,i,r,n);case"Tuple":return KJ(s,i,r,n);case"Union":return YJ(s,i,r,n);default:return jn(s,r,n)}}o(S0,"Visit");function wf(e,t,r){return S0(e,t,"",r)}o(wf,"TransformEncode");function XJ(e,t){return er(e)||bn(e.items,t)}o(XJ,"FromArray");function JJ(e,t){return er(e)||bn(e.items,t)}o(JJ,"FromAsyncIterator");function ZJ(e,t){return er(e)||bn(e.returns,t)||e.parameters.some(r=>bn(r,t))}o(ZJ,"FromConstructor");function QJ(e,t){return er(e)||bn(e.returns,t)||e.parameters.some(r=>bn(r,t))}o(QJ,"FromFunction");function eZ(e,t){return er(e)||er(e.unevaluatedProperties)||e.allOf.some(r=>bn(r,t))}o(eZ,"FromIntersect");function tZ(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return er(e)||bn(n,[...r,...t])}o(tZ,"FromImport");function rZ(e,t){return er(e)||bn(e.items,t)}o(rZ,"FromIterator");function nZ(e,t){return er(e)||bn(e.not,t)}o(nZ,"FromNot");function iZ(e,t){return er(e)||Object.values(e.properties).some(r=>bn(r,t))||Br(e.additionalProperties)&&bn(e.additionalProperties,t)}o(iZ,"FromObject");function oZ(e,t){return er(e)||bn(e.item,t)}o(oZ,"FromPromise");function sZ(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return er(e)||bn(n,t)||Br(e.additionalProperties)&&er(e.additionalProperties)}o(sZ,"FromRecord");function aZ(e,t){return er(e)?!0:bn(Xt(e,t),t)}o(aZ,"FromRef");function lZ(e,t){return er(e)?!0:bn(Xt(e,t),t)}o(lZ,"FromThis");function cZ(e,t){return er(e)||!Dr(e.items)&&e.items.some(r=>bn(r,t))}o(cZ,"FromTuple");function uZ(e,t){return er(e)||e.anyOf.some(r=>bn(r,t))}o(uZ,"FromUnion");function bn(e,t){let r=Pn(e,t),n=e;if(e.$id&&j6.has(e.$id))return!1;switch(e.$id&&j6.add(e.$id),e[te]){case"Array":return XJ(n,r);case"AsyncIterator":return JJ(n,r);case"Constructor":return ZJ(n,r);case"Function":return QJ(n,r);case"Import":return tZ(n,r);case"Intersect":return eZ(n,r);case"Iterator":return rZ(n,r);case"Not":return nZ(n,r);case"Object":return iZ(n,r);case"Promise":return oZ(n,r);case"Record":return sZ(n,r);case"Ref":return aZ(n,r);case"This":return lZ(n,r);case"Tuple":return cZ(n,r);case"Union":return uZ(n,r);default:return er(e)}}o(bn,"Visit");var j6=new Set;function ia(e,t){return j6.clear(),bn(e,t)}o(ia,"HasTransform");function mP(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!St(t,r,n))throw new If(t,n,ts(t,r,n).First());return ia(t,r)?Cf(t,r,n):n}o(mP,"Decode");function oa(e,t){let r=ot(e,"default")?e.default:void 0,n=Xa(r)?r():Jt(r);return Dr(t)?n:Et(t)&&Et(n)?Object.assign(n,t):t}o(oa,"ValueOrDefault");function $6(e){return Za(e)&&"default"in e}o($6,"HasDefaultProperty");function fZ(e,t,r){if(st(r)){for(let i=0;i<r.length;i++)r[i]=bi(e.items,t,r[i]);return r}let n=oa(e,r);if(!st(n))return n;for(let i=0;i<n.length;i++)n[i]=bi(e.items,t,n[i]);return n}o(fZ,"FromArray");function dZ(e,t,r){return hi(r)?r:oa(e,r)}o(dZ,"FromDate");function mZ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return bi(i,[...t,...n],r)}o(mZ,"FromImport");function pZ(e,t,r){let n=oa(e,r);return e.allOf.reduce((i,s)=>{let a=bi(s,t,n);return Et(a)?{...i,...a}:a},{})}o(pZ,"FromIntersect");function gZ(e,t,r){let n=oa(e,r);if(!Et(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=bi(e.properties[s],t,n[s]);Dr(a)||(n[s]=bi(e.properties[s],t,n[s]))}if(!$6(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=bi(e.additionalProperties,t,n[s]));return n}o(gZ,"FromObject");function hZ(e,t,r){let n=oa(e,r);if(!Et(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&$6(a)&&(n[c]=bi(a,t,n[c]));if(!$6(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=bi(i,t,n[c]));return n}o(hZ,"FromRecord");function xZ(e,t,r){return bi(Xt(e,t),t,oa(e,r))}o(xZ,"FromRef");function _Z(e,t,r){return bi(Xt(e,t),t,r)}o(_Z,"FromThis");function yZ(e,t,r){let n=oa(e,r);if(!st(n)||Dr(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=bi(i[a],t,n[a]));return n}o(yZ,"FromTuple");function bZ(e,t,r){let n=oa(e,r);for(let i of e.anyOf){let s=bi(i,t,Jt(n));if(St(i,t,s))return s}return n}o(bZ,"FromUnion");function bi(e,t,r){let n=Pn(e,t),i=e;switch(i[te]){case"Array":return fZ(i,n,r);case"Date":return dZ(i,n,r);case"Import":return mZ(i,n,r);case"Intersect":return pZ(i,n,r);case"Object":return gZ(i,n,r);case"Record":return hZ(i,n,r);case"Ref":return xZ(i,n,r);case"This":return _Z(i,n,r);case"Tuple":return yZ(i,n,r);case"Union":return bZ(i,n,r);default:return oa(i,r)}}o(bi,"Visit");function f2(...e){return e.length===3?bi(e[0],e[1],e[2]):bi(e[0],[],e[1])}o(f2,"Default");var w0={};W0(w0,{Delete:()=>TZ,Format:()=>Y1,Get:()=>IZ,Has:()=>EZ,Set:()=>vZ,ValuePointerRootDeleteError:()=>m2,ValuePointerRootSetError:()=>d2});var d2=class extends at{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},m2=class extends at{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function pP(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(pP,"Escape");function*Y1(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield pP(e.slice(t,r))),t=n+1):r=n;yield pP(e.slice(t))}o(Y1,"Format");function vZ(e,t,r){if(t==="")throw new d2(e,t,r);let[n,i,s]=[null,e,""];for(let a of Y1(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(vZ,"Set");function TZ(e,t){if(t==="")throw new m2(e,t);let[r,n,i]=[null,e,""];for(let s of Y1(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(TZ,"Delete");function EZ(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of Y1(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(EZ,"Has");function IZ(e,t){if(t==="")return e;let r=e;for(let n of Y1(t)){if(r[n]===void 0)return;r=r[n]}return r}o(IZ,"Get");function CZ(e,t){if(!Et(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>wc(e[i],t[i]))}o(CZ,"ObjectType");function SZ(e,t){return hi(t)&&e.getTime()===t.getTime()}o(SZ,"DateType");function wZ(e,t){return!st(t)||e.length!==t.length?!1:e.every((r,n)=>wc(r,t[n]))}o(wZ,"ArrayType");function PZ(e,t){return!ko(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>wc(r,t[n]))}o(PZ,"TypedArrayType");function DZ(e,t){return e===t}o(DZ,"ValueType");function wc(e,t){if(hi(e))return SZ(e,t);if(ko(e))return PZ(e,t);if(st(e))return wZ(e,t);if(Et(e))return CZ(e,t);if(no(e))return DZ(e,t);throw new Error("ValueEquals: Unable to compare value")}o(wc,"Equal");var RZ=rr({type:qt("insert"),path:_i(),value:b0()}),AZ=rr({type:qt("update"),path:_i(),value:b0()}),kZ=rr({type:qt("delete"),path:_i()}),hP=tr([RZ,AZ,kZ]),p2=class extends at{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function g2(e,t){return{type:"update",path:e,value:t}}o(g2,"CreateUpdate");function xP(e,t){return{type:"insert",path:e,value:t}}o(xP,"CreateInsert");function _P(e){return{type:"delete",path:e}}o(_P,"CreateDelete");function gP(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new p2(e,"Cannot diff objects with symbols")}o(gP,"AssertDiffable");function*NZ(e,t,r){if(gP(t),gP(r),!G8(r))return yield g2(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)ot(t,s)||(yield xP(`${e}/${s}`,r[s]));for(let s of n)ot(r,s)&&(wc(t,r)||(yield*h2(`${e}/${s}`,t[s],r[s])));for(let s of n)ot(r,s)||(yield _P(`${e}/${s}`))}o(NZ,"ObjectType");function*FZ(e,t,r){if(!st(r))return yield g2(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*h2(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield xP(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield _P(`${e}/${n}`))}o(FZ,"ArrayType");function*OZ(e,t,r){if(!ko(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield g2(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*h2(`${e}/${n}`,t[n],r[n])}o(OZ,"TypedArrayType");function*LZ(e,t,r){t!==r&&(yield g2(e,r))}o(LZ,"ValueType");function*h2(e,t,r){if(G8(t))return yield*NZ(e,t,r);if(st(t))return yield*FZ(e,t,r);if(ko(t))return yield*OZ(e,t,r);if(no(t))return yield*LZ(e,t,r);throw new p2(t,"Unable to diff value")}o(h2,"Visit");function yP(e,t){return[...h2("",e,t)]}o(yP,"Diff");function MZ(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(MZ,"IsRootUpdate");function UZ(e){return e.length===0}o(UZ,"IsIdentity");function bP(e,t){if(MZ(t))return Jt(t[0].value);if(UZ(t))return Jt(e);let r=Jt(e);for(let n of t)switch(n.type){case"insert":{w0.Set(r,n.path,n.value);break}case"update":{w0.Set(r,n.path,n.value);break}case"delete":{w0.Delete(r,n.path);break}}return r}o(bP,"Patch");function vP(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=ia(t,r)?wf(t,r,n):n;if(!St(t,r,i))throw new Sf(t,i,ts(t,r,i).First());return i}o(vP,"Encode");function x2(e){return Et(e)&&!st(e)}o(x2,"IsStandardObject");var _2=class extends at{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function BZ(e,t,r,n){if(!x2(r))w0.Set(e,t,Jt(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)q6(e,`${t}/${a}`,r[a],n[a])}}o(BZ,"ObjectType");function jZ(e,t,r,n){if(!st(r))w0.Set(e,t,Jt(n));else{for(let i=0;i<n.length;i++)q6(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(jZ,"ArrayType");function $Z(e,t,r,n){if(ko(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else w0.Set(e,t,Jt(n))}o($Z,"TypedArrayType");function qZ(e,t,r,n){r!==n&&w0.Set(e,t,n)}o(qZ,"ValueType");function q6(e,t,r,n){if(st(n))return jZ(e,t,r,n);if(ko(n))return $Z(e,t,r,n);if(x2(n))return BZ(e,t,r,n);if(no(n))return qZ(e,t,r,n)}o(q6,"Visit");function TP(e){return ko(e)||no(e)}o(TP,"IsNonMutableValue");function WZ(e,t){return x2(e)&&st(t)||st(e)&&x2(t)}o(WZ,"IsMismatchedValue");function EP(e,t){if(TP(e)||TP(t))throw new _2("Only object and array types can be mutated at the root level");if(WZ(e,t))throw new _2("Cannot assign due type mismatch of assignable values");q6(e,"",e,t)}o(EP,"Mutate");var y2=class extends at{static{o(this,"ParseError")}constructor(t){super(t)}},W6;(function(e){let t=new Map([["Assert",(s,a,l)=>(s2(s,a,l),l)],["Cast",(s,a,l)=>z1(s,a,l)],["Clean",(s,a,l)=>l2(s,a,l)],["Clone",(s,a,l)=>Jt(l)],["Convert",(s,a,l)=>u2(s,a,l)],["Decode",(s,a,l)=>ia(s,a)?Cf(s,a,l):l],["Default",(s,a,l)=>f2(s,a,l)],["Encode",(s,a,l)=>ia(s,a)?wf(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(W6||(W6={}));var IP=["Clone","Clean","Default","Convert","Assert","Decode"];function GZ(e,t,r,n){return e.reduce((i,s)=>{let a=W6.Get(s);if(Dr(a))throw new y2(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(GZ,"ParseValue");function CP(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?st(e[0])?[e[0],e[1],[],e[2]]:[IP,e[0],e[1],e[2]]:e.length===2?[IP,e[0],[],e[1]]:(()=>{throw new y2("Invalid Arguments")})();return GZ(t,r,n,i)}o(CP,"Parse");var al={};W0(al,{Assert:()=>s2,Cast:()=>z1,Check:()=>St,Clean:()=>l2,Clone:()=>Jt,Convert:()=>u2,Create:()=>jo,Decode:()=>mP,Default:()=>f2,Diff:()=>yP,Edit:()=>hP,Encode:()=>vP,Equal:()=>wc,Errors:()=>ts,Hash:()=>ol,Mutate:()=>EP,Parse:()=>CP,Patch:()=>bP,ValueErrorIterator:()=>sl});var HZ={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},zZ="gpt-4o-copilot",rs=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&zr(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return zZ}parseModelsResponse(t){try{return al.Parse(Uw,t)}catch(r){pt.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([HZ]):await this.fetch()}async fetch(){let t=await U8(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(pt.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}getTokenizerForModel(t){let n=this.getGenericCompletionModels().find(i=>i.modelId===t);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=W1(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&pt.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=Dt(this._ctx,be.DebugOverrideEngine)||Dt(this._ctx,be.DebugOverrideEngineLegacy);if(i)return new ll(i,"override");let s=t?this._ctx.get(qe).customEngine(t):"",a=t?this._ctx.get(qe).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new ll(s,"exp"):new ll(n,"modelpicker"):s?new ll(s,"exp"):this.customModels.length>0?new ll(this.customModels[0],"custommodel"):new ll(r,"default")}},ll=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function Pf(e,t=void 0){let r=e.get(rs),n=r.getCurrentModelRequestInfo(t),i=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:i}}o(Pf,"getEngineRequestInfo");var Vr=class{static{o(this,"FileSystem")}};var WP=Bt(qP());function GP(e){if(e===void 0||e===0)return"";let t=X1(e);if(t==="github/github")return t;let r=_Q(e)?.toLowerCase();return r!==void 0?r:""}o(GP,"getDogFood");function X1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(X1,"tryGetGitHubNWO");function _Q(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(_Q,"tryGetADONWO");function Df(e,t){let r=V0(t);return yQ(e,r)}o(Df,"extractRepoInfoInBackground");var yQ=IQ(bQ,1e4);async function bQ(e,t){let r=b5(t);if(!r)return;let n=await TQ(e,r);if(!n)return;let i=e.get(Vr),s=yn(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=EQ(a)??"",c=vQ(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(bQ,"extractRepoInfo");function vQ(e){let t;try{if(t=(0,WP.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(vQ,"parseRepoUrl");async function TQ(e,t){let r=t+"_add_to_make_longer",n=e.get(Vr);for(;t!=="file:///"&&t.length<r.length;){let i=yn(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=V0(t)}}o(TQ,"getRepoBaseUri");function EQ(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(EQ,"getRepoUrlFromConfigText");var V6=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function IQ(e,t){let r=new xr(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new V6(u)),n.delete(a)}),0}}o(IQ,"computeInBackgroundAndMemoize");var CQ={tokenizerName:"o200k_base"};function SQ(e){return{...CQ,...e}}o(SQ,"cursorContextOptions");function J1(e,t={}){let r=SQ(t),n=ti(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(J1,"getCursorContext");var wQ={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function HP(e){let t=wQ[e.semantics],r=["snippets"].includes(e.semantics)?"these":"this";return{headline:e.relativePath?`Compare ${r} ${t} from ${e.relativePath}:`:`Compare ${r} ${t}:`,snippet:e.snippet}}o(HP,"announceSnippet");var K6=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var Y6=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=AQ.get(t.languageId)??RQ}tokenize(t){return new Set(PQ(t).filter(r=>!this.stopsForLanguage.has(r)))}},zP=new K6(20),Rf=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new Y6(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=zP.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,d]]of this.getWindowsDelineations(i).entries()){if(l){let g=new Set;c.slice(f,d).forEach(h=>h.forEach(_=>g.add(_),g)),a.push(g)}let p=a[u],m=this.similarityScore(p,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<m&&(n[n.length-1].score=m,n[n.length-1].startLine=f,n[n.length-1].endLine=d);continue}n.push({score:m,startLine:f,endLine:d})}return l&&zP.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function PQ(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(PQ,"splitIntoWords");var DQ=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),RQ=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...DQ]),AQ=new Map([]);function X6(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(X6,"virtualNode");function VP(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(VP,"lineNode");function J6(e){return{type:"blank",lineNumber:e,subs:[]}}o(J6,"blankNode");function b2(e){return{type:"top",indentation:-1,subs:e??[]}}o(b2,"topNode");function $n(e){return e.type==="blank"}o($n,"isBlank");function Pc(e){return e.type==="line"}o(Pc,"isLine");function Dc(e){return e.type==="virtual"}o(Dc,"isVirtual");function KP(e,t){return ni(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(KP,"clearLabelsIf");function Rc(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>Rc(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>Rc(r,t)),label:e.label?t(e.label):void 0}}}o(Rc,"mapLabels");function ni(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(ni,"visitTree");function Z6(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),ni(e,s,n),i}o(Z6,"foldTree");function v2(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:b2()}o(v2,"rebuildTree");function NQ(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,d]=s(u+1,r[u]);return[VP(r[u],u,n[u],f),d]}o(i,"parseNode");function s(u,f){let d,p=[],m=u,g;for(;m<n.length&&(n[m]===""||r[m]>f);)if(n[m]==="")g===void 0&&(g=m),m+=1;else{if(g!==void 0){for(let h=g;h<m;h++)p.push(J6(h));g=void 0}[d,m]=i(m),p.push(d)}return g!==void 0&&(m=g),[p,m]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(J6(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return b2(a)}o(NQ,"parseRaw");function Z1(e,t){function r(n){if(Pc(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),ni(e,r,"bottomUp")}o(Z1,"labelLines");function T2(e){function t(r){if(Dc(r)&&r.label===void 0){let n=r.subs.filter(i=>!$n(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),ni(e,t,"bottomUp")}o(T2,"labelVirtualInherited");function Q1(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(Q1,"buildLabelRules");function Q6(e){let r=v2(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&Pc(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(Pc(l)||Dc(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&$n(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(g=>g.label!=="newVirtual"),d=s.subs.slice(0,f),p=s.subs.slice(f),m=p.length>0?[X6(l.indentation,p,"newVirtual")]:[];s.subs=[...d,...m,l]}else s.subs.push(l)}else i.push(l),$n(l)||(s=l)}return n.subs=i,n},"rebuilder"));return KP(e,n=>n==="newVirtual"),r}o(Q6,"combineClosersAndOpeners");function YP(e,t=$n,r){return v2(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let d=X6(l,a,r);s.push(d)}else a.forEach(d=>s.push(d))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let d=i.subs[f],p=t(d);!p&&c&&(u(),a=[]),c=p,a.push(d),$n(d)||(l=l??d.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(YP,"groupBlocks");function Ac(e){return v2(e,o(function(r){return Dc(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Dc(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(Ac,"flattenVirtual");var FQ={opener:/^[[({]/,closer:/^[\])}]/},OQ=Q1(FQ),XP={};function e7(e,t){XP[e]=t}o(e7,"registerLanguageSpecificParser");function em(e,t){let r=NQ(e),n=XP[t??""];return n?n(r):(Z1(r,OQ),Q6(r))}o(em,"parseTree");function E2(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(E2,"getBasicWindowDelineations");var I2=class e extends Rf{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return E2(this.windowLength,t)}_getCursorContextInfo(t){return J1(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return LQ(t,r)}};function LQ(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(LQ,"computeScore");var C2=Bt(JP());var r7={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function ns(e){return e in r7&&e!=="csharp"&&e!=="java"&&e!=="php"&&e!=="c"&&e!=="cpp"}o(ns,"isSupportedLanguageId");function S2(e){if(!(e in r7))throw new Error(`Unrecognized language: ${e}`);return r7[e]}o(S2,"languageIdToWasmLanguage");var t7=new Map;async function MQ(e){let t;try{t=await J5(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new bf(`Could not load tree-sitter-${e}.wasm`,r):r}return C2.default.Language.load(t)}o(MQ,"loadWasmLanguage");function UQ(e){let t=S2(e);if(!t7.has(t)){let r=MQ(t);t7.set(t,r)}return t7.get(t)}o(UQ,"getLanguage");var n7=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function kc(e,t){await C2.default.init({locateFile:o(s=>Bw(s),"locateFile")});let r;try{r=new C2.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new n7(`Could not init Parse for language <${e}>`,s):s}let n=await UQ(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(kc,"parseTreeSitter");function ZP(e){switch(S2(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":case"php":case"cpp":return"}";case"ruby":return"end"}}o(ZP,"getBlockCloseToken");function BQ(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(BQ,"innerQuery");var jQ=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function QP(e){return BQ([jQ],e).length==1}o(QP,"queryPythonIsDocstring");var w2=class e extends Rf{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return E2(this.windowLength,t)}_getCursorContextInfo(t){return J1(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):J1(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return $Q(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await kc(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function $Q(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o($Q,"computeScore");var qQ=0,WQ=60,GQ=4,HQ=1,zQ=20,VQ=1e4,tm={snippetLength:WQ,threshold:qQ,maxTopSnippets:GQ,maxCharPerFile:VQ,maxNumberOfFiles:zQ,maxSnippetsPerFile:HQ,useSubsetMatching:!1};var P2={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function KQ(e,t){return(t.useSubsetMatching?w2.FACTORY(t.snippetLength):I2.FACTORY(t.snippetLength)).to(e)}o(KQ,"getMatcher");async function eD(e,t,r){let n=KQ(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(eD,"getSimilarSnippets");var rm=500,nm=8192-rm,tD=4;var D2=10,R2=15;var YQ={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function im(e){return e=e.toLowerCase(),YQ[e]??e}o(im,"normalizeLanguageId");var i7=class{constructor(t){this.ctx=t;this.cache=new xr(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t,r){let n=t.stringify()+`
`+JSON.stringify(r),i=this.cache.get(n);return i||(i=new o7(()=>this.ctx.get(pc).fetchExperiments(this.ctx,r,t.toHeaders()),1e3*60*60),this.cache.set(n,i)),i.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},o7=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function JQ(e){return"uri"in e}o(JQ,"isCompletionsFiltersInfo");var qe=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new i7(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=Qe.createAndMarkAsIssued(),n=void 0){if(r instanceof om)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=t&&JQ(t)?Df(this.ctx,t.uri):void 0,s=X1(i)??"",a=GP(i)??"",l=t?.languageId??"",c=Pf(this.ctx).modelId;n??=await this.ctx.get(Wr).getToken();let u=ZE(n),f=n.getTokenValue("ft")??"",d=n.getTokenValue("ol")??"",p=n.getTokenValue("cml")??"",m=n.getTokenValue("tid")??"",g=n.endpoints,h={"X-Copilot-Repository":s,"X-Copilot-FileType":l,"X-Copilot-UserKind":u,"X-Copilot-Dogfood":a,"X-Copilot-Engine":c,"X-Copilot-CustomModel":f,"X-Copilot-Orgs":d,"X-Copilot-CustomModelNames":p,"X-Copilot-CopilotTrackingId":m},_=this.getGranularityDirectory(),x=this.makeFilterSettings(h),y=_.extendFilters(x),b=await this.getExpConfig(y.newFilterSettings,g);_.update(x,+(b.variables.copilotbycallbuckets??NaN),+(b.variables.copilottimeperiodsizeinh??NaN));let v=_.extendFilters(x),I=v.newFilterSettings,D=await this.getExpConfig(I,g),H=new Promise(V=>setTimeout(V,e.upcomingDynamicFilterCheckDelayMs));for(let V of v.otherFilterSettingsToPrefetch)H=H.then(async()=>{await new Promise($=>setTimeout($,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(V,g)});return this.prepareForUpcomingFilters(I,g),new om(r.properties,r.measurements,r.issuedTime,{filters:I,exp:D})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(an).machineId;this.granularityDirectory=new g5(t,this.ctx.get(mc))}return this.granularityDirectory}makeFilterSettings(t){return new gc({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t,r){try{return this.assignments.fetchExpConfig(t,r)}catch(n){return c0.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(t,r){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[n,i]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(n,i()),r)}stringify(){let t=this.assignments.getCachedExpConfig(new gc({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=vC(this.ctx),n=await this.getExpConfig(t,r);return{filters:t,exp:n}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??R2}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??D2}cppHeadersEnableSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(t){return t.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??nm+rm}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(t){return t.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(t){return t.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!1}longLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??7}shortLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}enableMultilineAfterAccept(t){return t.filtersAndExp.exp.variables.copilotmultilineafteraccept??!1}completionsElisionStrategy(t){switch(t.filtersAndExp.exp.variables.copilotcompletionselisionstrategy??""){case"elidableText":return"elidableText";case"elidableTextWithoutChunks":return"elidableTextWithoutChunks";default:return"wishlist"}}approximateElision(t){return t.filtersAndExp.exp.variables.copilotapproximateelision??!1}beforeCursorLines(t){return t.filtersAndExp.exp.variables.copilotbeforecursorlines??60}enableNESXTab(t){return t.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(t){return t.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(t){return t.filtersAndExp.exp.variables.copilotcompletionsdelay??0}};var is=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},ii=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return sm.languageIds.has(t)||am.languageIds.has(t)||lm.languageIds.has(t)||cm.languageIds.has(t)||um.languageIds.has(t)||fm.languageIds.has(t)||dm.languageIds.has(t)||mm.languageIds.has(t)}static create(t,r,n,i){if(sm.languageIds.has(t))return new sm(t,r,n,i);if(am.languageIds.has(t))return new am(t,r,n,i);if(lm.languageIds.has(t))return new lm(t,r,n,i);if(fm.languageIds.has(t))return new fm(t,r,n,i);if(cm.languageIds.has(t))return new cm(t,r,n,i);if(um.languageIds.has(t))return new um(t,r,n,i);if(dm.languageIds.has(t))return new dm(t,r,n,i);if(mm.languageIds.has(t))return new mm(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await kc(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},s7=class e extends is{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},sm=class extends ii{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new s7(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},a7=class e extends is{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},am=class extends ii{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new a7(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},l7=class e extends is{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},lm=class extends ii{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new l7(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},c7=class e extends is{static{o(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},cm=class extends ii{static{o(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(t){return new c7(t)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},u7=class e extends is{static{o(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},um=class extends ii{static{o(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(t){return new u7(t)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},f7=class e extends is{static{o(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},fm=class extends ii{static{o(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(t){return new f7(t)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},d7=class e extends is{static{o(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},dm=class extends ii{static{o(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(t){return new d7(t)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},m7=class e extends is{static{o(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},mm=class extends ii{static{o(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(t){return new m7(t)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};var Nc={};W0(Nc,{activationEvents:()=>xee,badges:()=>hee,browser:()=>_ee,bugs:()=>lee,build:()=>ree,buildType:()=>nee,categories:()=>pee,contributes:()=>p7,default:()=>Cee,dependencies:()=>Eee,description:()=>eee,devDependencies:()=>Tee,displayName:()=>QQ,enabledApiProposals:()=>bee,engines:()=>mee,extensionPack:()=>dee,homepage:()=>see,icon:()=>uee,keywords:()=>gee,license:()=>aee,main:()=>yee,name:()=>ZQ,overrides:()=>Iee,preview:()=>oee,pricing:()=>fee,publisher:()=>iee,qna:()=>cee,scripts:()=>vee,version:()=>tee});var ZQ="copilot",QQ="GitHub Copilot",eee="Your AI pair programmer",tee="1.338.0",ree="1645",nee="prod",iee="GitHub",oee=!1,see="https://github.com/features/copilot?editor=vscode",aee="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",lee={url:"https://github.com/microsoft/vscode-copilot-release/issues"},cee="https://github.com/github-community/community/discussions/categories/copilot",uee="assets/Copilot-App-Icon.png",fee="Trial",dee=["GitHub.copilot-chat","GitHub.copilot"],mee={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},pee=["AI","Chat","Programming Languages","Machine Learning"],gee=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],hee=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],xee=["onStartupFinished"],_ee="./dist/web",yee="./dist/extension",bee=["inlineCompletionsAdditions"],p7={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},vee={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Tee={"@datadog/datadog-ci":"^3.5.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.1",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.2",electron:"^28.1.4",esbuild:"^0.25.4","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},Eee={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.11.1","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Iee={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},Cee={name:ZQ,displayName:QQ,description:eee,version:tee,build:ree,buildType:nee,publisher:iee,preview:oee,homepage:see,license:aee,bugs:lee,qna:cee,icon:uee,pricing:fee,extensionPack:dee,engines:mee,categories:pee,keywords:gee,badges:hee,activationEvents:xee,browser:_ee,main:yee,enabledApiProposals:bee,contributes:p7,scripts:vee,devDependencies:Tee,dependencies:Eee,overrides:Iee};var be={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",CompletionsDelay:"internal.completionsDelay",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",MultilineAfterAccept:"internal.multilineAfterAccept",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt"};function iD(e){return["server","parsingandserver"].includes(e)}o(iD,"shouldDoServerTrimming");var Fc=class{static{o(this,"BlockModeConfig")}},A2=class extends Fc{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(qe).overrideBlockMode(n);if(i)return rD(i,r);let s=t.get(qe).enableProgressiveReveal(n);return Dt(t,be.AlwaysRequestMultiline)??s?rD("moremultiline",r):r=="ruby"?"parsing":ns(r)?"parsingandserver":"server"}};function See(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(See,"blockModeRequiresTreeSitter");function rD(e,t){return e==="moremultiline"&&ii.isSupported(t)?e:See(e)&&!ns(t)?"server":e}o(rD,"toApplicableBlockMode");var sa=class{static{o(this,"ConfigProvider")}};function wee(e){return e?.type==="object"&&"properties"in e}o(wee,"isContributesObject");function g7(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(g7,"getConfigKeyRecursively");function oD(e){if(Af.has(e))return Af.get(e);throw new Error(`Missing config default value: ${wr}.${e}`)}o(oD,"getConfigDefaultForKey");function sD(e){return Af.get(e)}o(sD,"getOptionalConfigDefaultForKey");var Af=new Map([[be.DebugOverrideCppHeadersEnableSwitch,!1],[be.RelatedFilesVSCodeCSharp,!1],[be.RelatedFilesVSCodeTypeScript,!1],[be.RelatedFilesVSCode,!1],[be.IncludeNeighboringFiles,!1],[be.ExcludeRelatedFiles,!1],[be.ContextProviders,[]],[be.DebugUseEditorFetcher,null],[be.DebugUseElectronFetcher,null],[be.DebugOverrideLogLevels,{}],[be.DebugSnippyOverrideUrl,""],[be.FetchStrategy,"auto"],[be.UseSubsetMatching,null],[be.ContextProviderTimeBudget,void 0],[be.DebugOverrideCapiUrl,""],[be.DebugTestOverrideCapiUrl,""],[be.DebugOverrideProxyUrl,""],[be.DebugTestOverrideProxyUrl,""],[be.DebugOverrideEngine,""],[be.UseAsyncCompletions,void 0],[be.EnableSpeculativeRequests,void 0],[be.AlwaysRequestMultiline,void 0],[be.ModelAlwaysTerminatesSingleline,void 0],[be.TrimCompletionsAggressively,void 0],[be.VSCodeDebounceThreshold,void 0],[be.MultilineAfterAccept,void 0],[be.NESXTab,void 0],[be.UseWorkspaceContextCoordinator,void 0],[be.CompletionsDelay,void 0],[be.UseSplitContextPrompt,void 0],[be.ShowEditorCompletions,void 0],[be.DelayCompletions,void 0],[be.FilterCompletions,void 0]]);for(let e of Object.values(be)){let t=p7.configuration[0],r=[],n=`${wr}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(wee(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(Af.has(e))throw new Error(`Duplicate config default value ${wr}.${e}`);Af.set(e,i.default)}}if(!Af.has(e))throw new Error(`Missing config default value ${wr}.${e}`)}function Dt(e,t){return e.get(sa).getConfig(t)}o(Dt,"getConfig");function aD(e){return e.get(sa).dumpForTelemetry()}o(aD,"dumpForTelemetry");var vn=class{constructor(){this.packageJson=Nc}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function L8(e){return e.get(vn).isProduction()}o(L8,"isProduction");function lD(e){return e.get(vn).getBuildType()==="dev"}o(lD,"isDevBuild");function gm(e){return e.get(vn).getBuildType()}o(gm,"getBuildType");function cD(e){return e.get(vn).getBuild()}o(cD,"getBuild");function hm(e){return e.get(vn).getVersion()}o(hm,"getVersion");var an=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function os({name:e,version:t}){return`${e}/${t}`}o(os,"formatNameAndVersion");var lr=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Gs="2025-05-01";function Vu(e){let t=e.get(lr);return{"Editor-Version":os(t.getEditorInfo()),"Editor-Plugin-Version":os(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":hm(e)}}o(Vu,"editorVersionHeaders");var nD="Iv1.b507a08c87ecfe98",pm=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??nD}fallbackAppId(){return nD}};var Bi=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){zr(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var k2=Bt(b1()),N2=Bt(hc());var Pee=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Dee(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(Pee),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(Dee,"buildExceptionDetail");function Ree(e,t){let r=e.get(lr),n=r.getEditorInfo(),i=e.get(Bi),s={"#editor":n.devName??n.name,"#editor_version":os({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":os(r.getEditorPluginInfo()),"#session_id":e.get(an).sessionId,"#machine_id":e.get(an).machineId,"#architecture":N2.arch(),"#os_platform":N2.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(Ree,"buildContext");function fD(e,t){let r=e.get(vn),n=e.get(lr).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:Ree(e,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let f=Dee(c);s.exception_detail.unshift(f),a.unshift([c,f]),l+=1,c=c.cause}let u=[];for(let[f,d]of a)if(d.stacktrace&&d.stacktrace.length>0){u.push(`${d.type}: ${f.code??""}`);let p=[...d.stacktrace].reverse();for(let m of p)if(m.filename?.startsWith("/github-copilot/"))return s;for(let m of p)if(m.in_app){u.push(`${m.filename?.replace(/^\.\//,"")}:${m.lineno}:${m.colno}`);break}u.push(`${p[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,k2.SHA256)(k2.enc.Utf16.parse(u.join(`
`))).toString()),s}o(fD,"buildPayload");var xm=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};var Oc=class{constructor(t=5){this.perTenMinutes=t;this.cache=new xr}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};var ji=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var pD=Bt(hc()),gD=Bt(Xu());function _m(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(_m,"redactPaths");var kee=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Nee=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function x7(e){if(kee.has(e))return e;for(let t of Nee)if(t.test(e))return e;return _m(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(x7,"redactMessage");function F2(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(F2,"escapeForRegExp");var Fee=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+F2((0,pD.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function h7(e){return e.replace(Fee,"~")}o(h7,"redactHomeDir");var hD="[\\\\/]?([^:)]*)(?=:\\d)",dD=new RegExp(F2(gD.sep),"g"),mD=new RegExp(F2("".replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+hD,"gi");function _7(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(mD.test(l))i.stack+=`
${_m(l.replace(mD,(c,u)=>"./"+u.replace(dD,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${_m(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let d=new RegExp(F2(f.replace(/[\\/]$/,""))+hD,"gi");if(d.test(l)){i.stack+=`
${_m(l.replace(d,(p,m)=>u+m.replace(dD,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${h7(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=h7(s));return e.cause instanceof Error&&(i.cause=_7(e.cause,t,r,n)),i}o(_7,"cloneError");function xD(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(xD,"errorMessageWithoutPath");function _D(e,t){return _7(e,o(function(n){return h7(xD(n))},"prepareMessage"),!0,t)}o(_D,"prepareErrorForRestrictedTelemetry");function yD(e,t,r=!1){return _7(e,o(function(i){if(r)return x7(xD(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=_m(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(yD,"redactError");var y7=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=ia(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return ts(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new If(this.schema,t,this.Errors(t).First());return this.hasTransform?Cf(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?wf(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Sf(this.schema,t,this.Errors(t).First());return r}},aa;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(aa||(aa={}));var O2;(function(e){function t(s){return s.length===0?!1:aa.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(aa.IsAlpha(l)||aa.IsNumeric(l)||aa.DollarSign(l)||aa.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(O2||(O2={}));var b7;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);aa.IsNumeric(s)||aa.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(b7||(b7={}));var v7;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(v7||(v7={}));var T7=class extends at{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},L2=class extends at{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},Lc;(function(e){function t(a,l,c){return Er.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${O2.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Er.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Er.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Er.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Er.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(Lc||(Lc={}));var cl;(function(e){function t(L){return L[te]==="Any"||L[te]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(L,ne,B){yield"true"}o(r,"FromAny");function*n(L,ne,B){yield"true"}o(n,"FromArgument");function*i(L,ne,B){yield`Array.isArray(${B})`;let[ge,le]=[he("value","any"),he("acc","number")];He(L.maxItems)&&(yield`${B}.length <= ${L.maxItems}`),He(L.minItems)&&(yield`${B}.length >= ${L.minItems}`);let q=M(L.items,ne,"value");if(yield`${B}.every((${ge}) => ${q})`,Ar(L.contains)||He(L.minContains)||He(L.maxContains)){let re=Ar(L.contains)?L.contains:bt(),xe=M(re,ne,"value"),ue=He(L.minContains)?[`(count >= ${L.minContains})`]:[],de=He(L.maxContains)?[`(count <= ${L.maxContains})`]:[],Ee=`const count = value.reduce((${le}, ${ge}) => ${xe} ? acc + 1 : acc, 0)`,we=["(count > 0)",...ue,...de].join(" && ");yield`((${ge}) => { ${Ee}; return ${we}})(${B})`}L.uniqueItems===!0&&(yield`((${ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${B})`)}o(i,"FromArray");function*s(L,ne,B){yield`(typeof value === 'object' && Symbol.asyncIterator in ${B})`}o(s,"FromAsyncIterator");function*a(L,ne,B){yield`(typeof ${B} === 'bigint')`,Un(L.exclusiveMaximum)&&(yield`${B} < BigInt(${L.exclusiveMaximum})`),Un(L.exclusiveMinimum)&&(yield`${B} > BigInt(${L.exclusiveMinimum})`),Un(L.maximum)&&(yield`${B} <= BigInt(${L.maximum})`),Un(L.minimum)&&(yield`${B} >= BigInt(${L.minimum})`),Un(L.multipleOf)&&(yield`(${B} % BigInt(${L.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(L,ne,B){yield`(typeof ${B} === 'boolean')`}o(l,"FromBoolean");function*c(L,ne,B){yield*N(L.returns,ne,`${B}.prototype`)}o(c,"FromConstructor");function*u(L,ne,B){yield`(${B} instanceof Date) && Number.isFinite(${B}.getTime())`,He(L.exclusiveMaximumTimestamp)&&(yield`${B}.getTime() < ${L.exclusiveMaximumTimestamp}`),He(L.exclusiveMinimumTimestamp)&&(yield`${B}.getTime() > ${L.exclusiveMinimumTimestamp}`),He(L.maximumTimestamp)&&(yield`${B}.getTime() <= ${L.maximumTimestamp}`),He(L.minimumTimestamp)&&(yield`${B}.getTime() >= ${L.minimumTimestamp}`),He(L.multipleOfTimestamp)&&(yield`(${B}.getTime() % ${L.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(L,ne,B){yield`(typeof ${B} === 'function')`}o(f,"FromFunction");function*d(L,ne,B){let ge=globalThis.Object.getOwnPropertyNames(L.$defs).reduce((le,q)=>[...le,L.$defs[q]],[]);yield*N(Mo(L.$ref),[...ne,...ge],B)}o(d,"FromImport");function*p(L,ne,B){yield`Number.isInteger(${B})`,He(L.exclusiveMaximum)&&(yield`${B} < ${L.exclusiveMaximum}`),He(L.exclusiveMinimum)&&(yield`${B} > ${L.exclusiveMinimum}`),He(L.maximum)&&(yield`${B} <= ${L.maximum}`),He(L.minimum)&&(yield`${B} >= ${L.minimum}`),He(L.multipleOf)&&(yield`(${B} % ${L.multipleOf}) === 0`)}o(p,"FromInteger");function*m(L,ne,B){let ge=L.allOf.map(le=>M(le,ne,B)).join(" && ");if(L.unevaluatedProperties===!1){let le=se(`${new RegExp(ta(L))};`),q=`Object.getOwnPropertyNames(${B}).every(key => ${le}.test(key))`;yield`(${ge} && ${q})`}else if(Ar(L.unevaluatedProperties)){let le=se(`${new RegExp(ta(L))};`),q=`Object.getOwnPropertyNames(${B}).every(key => ${le}.test(key) || ${M(L.unevaluatedProperties,ne,`${B}[key]`)})`;yield`(${ge} && ${q})`}else yield`(${ge})`}o(m,"FromIntersect");function*g(L,ne,B){yield`(typeof value === 'object' && Symbol.iterator in ${B})`}o(g,"FromIterator");function*h(L,ne,B){typeof L.const=="number"||typeof L.const=="boolean"?yield`(${B} === ${L.const})`:yield`(${B} === '${v7.Escape(L.const)}')`}o(h,"FromLiteral");function*_(L,ne,B){yield"false"}o(_,"FromNever");function*x(L,ne,B){yield`(!${M(L.not,ne,B)})`}o(x,"FromNot");function*y(L,ne,B){yield`(${B} === null)`}o(y,"FromNull");function*b(L,ne,B){yield Lc.IsNumberLike(B),He(L.exclusiveMaximum)&&(yield`${B} < ${L.exclusiveMaximum}`),He(L.exclusiveMinimum)&&(yield`${B} > ${L.exclusiveMinimum}`),He(L.maximum)&&(yield`${B} <= ${L.maximum}`),He(L.minimum)&&(yield`${B} >= ${L.minimum}`),He(L.multipleOf)&&(yield`(${B} % ${L.multipleOf}) === 0`)}o(b,"FromNumber");function*v(L,ne,B){yield Lc.IsObjectLike(B),He(L.minProperties)&&(yield`Object.getOwnPropertyNames(${B}).length >= ${L.minProperties}`),He(L.maxProperties)&&(yield`Object.getOwnPropertyNames(${B}).length <= ${L.maxProperties}`);let ge=Object.getOwnPropertyNames(L.properties);for(let le of ge){let q=O2.Encode(B,le),re=L.properties[le];if(L.required&&L.required.includes(le))yield*N(re,ne,q),(ra(re)||t(re))&&(yield`('${le}' in ${B})`);else{let xe=M(re,ne,q);yield Lc.IsExactOptionalProperty(B,le,xe)}}if(L.additionalProperties===!1)if(L.required&&L.required.length===ge.length)yield`Object.getOwnPropertyNames(${B}).length === ${ge.length}`;else{let le=`[${ge.map(q=>`'${q}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${B}).every(key => ${le}.includes(key))`}if(typeof L.additionalProperties=="object"){let le=M(L.additionalProperties,ne,`${B}[key]`),q=`[${ge.map(re=>`'${re}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${B}).every(key => ${q}.includes(key) || ${le}))`}}o(v,"FromObject");function*I(L,ne,B){yield`${B} instanceof Promise`}o(I,"FromPromise");function*D(L,ne,B){yield Lc.IsRecordLike(B),He(L.minProperties)&&(yield`Object.getOwnPropertyNames(${B}).length >= ${L.minProperties}`),He(L.maxProperties)&&(yield`Object.getOwnPropertyNames(${B}).length <= ${L.maxProperties}`);let[ge,le]=Object.entries(L.patternProperties)[0],q=se(`${new RegExp(ge)}`),re=M(le,ne,"value"),xe=Ar(L.additionalProperties)?M(L.additionalProperties,ne,B):L.additionalProperties===!1?"false":"true",ue=`(${q}.test(key) ? ${re} : ${xe})`;yield`(Object.entries(${B}).every(([key, value]) => ${ue}))`}o(D,"FromRecord");function*H(L,ne,B){let ge=Xt(L,ne);if(F.functions.has(L.$ref))return yield`${G(L.$ref)}(${B})`;yield*N(ge,ne,B)}o(H,"FromRef");function*V(L,ne,B){let ge=se(`${new RegExp(L.source,L.flags)};`);yield`(typeof ${B} === 'string')`,He(L.maxLength)&&(yield`${B}.length <= ${L.maxLength}`),He(L.minLength)&&(yield`${B}.length >= ${L.minLength}`),yield`${ge}.test(${B})`}o(V,"FromRegExp");function*$(L,ne,B){yield`(typeof ${B} === 'string')`,He(L.maxLength)&&(yield`${B}.length <= ${L.maxLength}`),He(L.minLength)&&(yield`${B}.length >= ${L.minLength}`),L.pattern!==void 0&&(yield`${se(`${new RegExp(L.pattern)};`)}.test(${B})`),L.format!==void 0&&(yield`format('${L.format}', ${B})`)}o($,"FromString");function*Y(L,ne,B){yield`(typeof ${B} === 'symbol')`}o(Y,"FromSymbol");function*P(L,ne,B){yield`(typeof ${B} === 'string')`,yield`${se(`${new RegExp(L.pattern)};`)}.test(${B})`}o(P,"FromTemplateLiteral");function*w(L,ne,B){yield`${G(L.$ref)}(${B})`}o(w,"FromThis");function*z(L,ne,B){if(yield`Array.isArray(${B})`,L.items===void 0)return yield`${B}.length === 0`;yield`(${B}.length === ${L.maxItems})`;for(let ge=0;ge<L.items.length;ge++)yield`${M(L.items[ge],ne,`${B}[${ge}]`)}`}o(z,"FromTuple");function*k(L,ne,B){yield`${B} === undefined`}o(k,"FromUndefined");function*T(L,ne,B){yield`(${L.anyOf.map(le=>M(le,ne,B)).join(" || ")})`}o(T,"FromUnion");function*E(L,ne,B){yield`${B} instanceof Uint8Array`,He(L.maxByteLength)&&(yield`(${B}.length <= ${L.maxByteLength})`),He(L.minByteLength)&&(yield`(${B}.length >= ${L.minByteLength})`)}o(E,"FromUint8Array");function*R(L,ne,B){yield"true"}o(R,"FromUnknown");function*S(L,ne,B){yield Lc.IsVoidLike(B)}o(S,"FromVoid");function*A(L,ne,B){let ge=F.instances.size;F.instances.set(ge,L),yield`kind('${L[te]}', ${ge}, ${B})`}o(A,"FromKind");function*N(L,ne,B,ge=!0){let le=Ht(L.$id)?[...ne,L]:ne,q=L;if(ge&&Ht(L.$id)){let re=G(L.$id);if(F.functions.has(re))return yield`${re}(${B})`;{F.functions.set(re,"<deferred>");let xe=ye(re,L,ne,"value",!1);return F.functions.set(re,xe),yield`${re}(${B})`}}switch(q[te]){case"Any":return yield*r(q,le,B);case"Argument":return yield*n(q,le,B);case"Array":return yield*i(q,le,B);case"AsyncIterator":return yield*s(q,le,B);case"BigInt":return yield*a(q,le,B);case"Boolean":return yield*l(q,le,B);case"Constructor":return yield*c(q,le,B);case"Date":return yield*u(q,le,B);case"Function":return yield*f(q,le,B);case"Import":return yield*d(q,le,B);case"Integer":return yield*p(q,le,B);case"Intersect":return yield*m(q,le,B);case"Iterator":return yield*g(q,le,B);case"Literal":return yield*h(q,le,B);case"Never":return yield*_(q,le,B);case"Not":return yield*x(q,le,B);case"Null":return yield*y(q,le,B);case"Number":return yield*b(q,le,B);case"Object":return yield*v(q,le,B);case"Promise":return yield*I(q,le,B);case"Record":return yield*D(q,le,B);case"Ref":return yield*H(q,le,B);case"RegExp":return yield*V(q,le,B);case"String":return yield*$(q,le,B);case"Symbol":return yield*Y(q,le,B);case"TemplateLiteral":return yield*P(q,le,B);case"This":return yield*w(q,le,B);case"Tuple":return yield*z(q,le,B);case"Undefined":return yield*k(q,le,B);case"Union":return yield*T(q,le,B);case"Uint8Array":return yield*E(q,le,B);case"Unknown":return yield*R(q,le,B);case"Void":return yield*S(q,le,B);default:if(!xi.Has(q[te]))throw new T7(L);return yield*A(q,le,B)}}o(N,"Visit");let F={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function M(L,ne,B,ge=!0){return`(${[...N(L,ne,B,ge)].join(" && ")})`}o(M,"CreateExpression");function G(L){return`check_${b7.Encode(L)}`}o(G,"CreateFunctionName");function se(L){let ne=`local_${F.variables.size}`;return F.variables.set(ne,`const ${ne} = ${L}`),ne}o(se,"CreateVariable");function ye(L,ne,B,ge,le=!0){let[q,re]=[`
`,Ee=>"".padStart(Ee," ")],xe=he("value","any"),ue=Ue("boolean"),de=[...N(ne,B,ge,le)].map(Ee=>`${re(4)}${Ee}`).join(` &&${q}`);return`function ${L}(${xe})${ue} {${q}${re(2)}return (${q}${de}${q}${re(2)})
}`}o(ye,"CreateFunction");function he(L,ne){let B=F.language==="typescript"?`: ${ne}`:"";return`${L}${B}`}o(he,"CreateParameter");function Ue(L){return F.language==="typescript"?`: ${L}`:""}o(Ue,"CreateReturns");function ze(L,ne,B){let ge=ye("check",L,ne,"value"),le=he("value","any"),q=Ue("boolean"),re=[...F.functions.values()],xe=[...F.variables.values()],ue=Ht(L.$id)?`return function check(${le})${q} {
  return ${G(L.$id)}(value)
}`:`return ${ge}`;return[...xe,...re,ue].join(`
`)}o(ze,"Build");function Ve(...L){let ne={language:"javascript"},[B,ge,le]=L.length===2&&st(L[1])?[L[0],L[1],ne]:L.length===2&&!st(L[1])?[L[0],[],L[1]]:L.length===3?[L[0],L[1],L[2]]:L.length===1?[L[0],[],ne]:[null,[],ne];if(F.language=le.language,F.variables.clear(),F.functions.clear(),F.instances.clear(),!Ar(B))throw new L2(B);for(let q of ge)if(!Ar(q))throw new L2(q);return ze(B,ge,le)}o(Ve,"Code"),e.Code=Ve;function Ze(L,ne=[]){let B=Ve(L,ne,{language:"javascript"}),ge=globalThis.Function("kind","format","hash",B),le=new Map(F.instances);function q(de,Ee,we){if(!xi.Has(de)||!le.has(Ee))return!1;let Ne=xi.Get(de),$e=le.get(Ee);return Ne($e,we)}o(q,"typeRegistryFunction");function re(de,Ee){return y0.Has(de)?y0.Get(de)(Ee):!1}o(re,"formatRegistryFunction");function xe(de){return ol(de)}o(xe,"hashFunction");let ue=ge(q,re,xe);return new y7(L,ne,ue,B)}o(Ze,"Compile"),e.Compile=Ze})(cl||(cl={}));var Ph=Bt(b1());var qn=[];for(let e=0;e<256;++e)qn.push((e+256).toString(16).slice(1));function bD(e,t=0){return(qn[e[t+0]]+qn[e[t+1]]+qn[e[t+2]]+qn[e[t+3]]+"-"+qn[e[t+4]]+qn[e[t+5]]+"-"+qn[e[t+6]]+qn[e[t+7]]+"-"+qn[e[t+8]]+qn[e[t+9]]+"-"+qn[e[t+10]]+qn[e[t+11]]+qn[e[t+12]]+qn[e[t+13]]+qn[e[t+14]]+qn[e[t+15]]).toLowerCase()}o(bD,"unsafeStringify");var E7,Oee=new Uint8Array(16);function I7(){if(!E7){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");E7=crypto.getRandomValues.bind(crypto)}return E7(Oee)}o(I7,"rng");var Lee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C7={randomUUID:Lee};function Mee(e,t,r){if(C7.randomUUID&&!t&&!e)return C7.randomUUID();e=e||{};let n=e.random??e.rng?.()??I7();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return bD(n)}o(Mee,"v4");var vi=Mee;var Dh=Bt(Ti());function rd(e){return e===1}o(rd,"isRestricted");var Fte=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],Lm=8192,Ote=21;var po=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return rd(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(Ah(t))return this.reporterRestricted;if(Ku(t))return new xm}getFTReporter(t){if(zk(t))return this.reporterFT;if(Ku(t))return new xm}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},Lte=j.Object({},{additionalProperties:j.String()}),Mte=j.Object({meanLogProb:j.Optional(j.Number()),meanAlternativeLogProb:j.Optional(j.Number())},{additionalProperties:j.Number()}),Ute=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Bte(e){return Ute.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Bte,"isOomError");function jte(e){return D8(e)?"network":Bte(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(jte,"getErrorType");var Qe=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=cl.Compile(Lte)}static{this.validateTelemetryMeasurements=cl.Compile(Mte)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},Tn())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Tn())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(qe).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=os(t.get(lr).getEditorInfo()),this.properties.editor_plugin_version=os(t.get(lr).getEditorPluginInfo());let r=t.get(an);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${hm(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(lr);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=os(n.getEditorInfo());let i=t.get(Mn);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=aD(t);r["copilot.build"]=cD(t),r["copilot.buildType"]=gm(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(rd(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>Lm){let a=0,l=0;for(;s>0&&l<Ote;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+Lm;s<Lm&&(u=a+s),r[c]=i.slice(a,u),s-=Lm,a+=Lm}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Wte(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(Ku(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return R0(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),rd(r)&&R0(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,Vk(t))}},om=class e extends Qe{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new gc({}),exp:c0.createEmptyConfig()})}};function Mm(e,t,r,n){e.get(po).getReporter(e,t)?.sendTelemetryEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Mm,"sendTelemetryEvent");function $te(e,t,r,n){e.get(po).getReporter(e,t)?.sendTelemetryErrorEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o($te,"sendTelemetryErrorEvent");function qte(e,t,r,n){e.get(po).getFTReporter(e)?.sendTelemetryEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(qte,"sendFTTelemetryEvent");function Rh(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(Rh,"telemetrizePromptLength");function Tn(){return performance.now()}o(Tn,"now");function Wte(e){return Math.floor(e/1e3)}o(Wte,"nowSeconds");function Ah(e){return e.get(Bi).optedIn}o(Ah,"shouldSendRestricted");function zk(e){return e.get(Bi).ftFlag!==""}o(zk,"shouldSendFinetuningTelemetry");function Se(e,t,r,n){return e.get(ji).register(Gte(e,t,Tn(),r?.extendedBy(),n))}o(Se,"telemetry");async function Gte(e,t,r,n,i=0){let s=n||Qe.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!rd(i)||Ah(e))&&Mm(e,i,t,s),rd(i)&&Fte.includes(t)&&zk(e)&&qte(e,i,t,s)}o(Gte,"_telemetry");function u5(e,t){return e.get(ji).register(Hte(e,t,Tn()))}o(u5,"telemetryExpProblem");async function Hte(e,t,r){let n="expProblem",i=Qe.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),Mm(e,0,n,i)}o(Hte,"_telemetryExpProblem");function ey(e,t,r,n){return e.get(ji).register(zte(e,t,r,n))}o(ey,"telemetryRaw");async function zte(e,t,r,n){let i={...r,...Vk(e)};Mm(e,0,t,{properties:i,measurements:n})}o(zte,"_telemetryRaw");function Vk(e){let t=e.get(lr),r={unique_id:vi(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:os(t.getEditorInfo())},n=e.get(Bi);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(Vk,"createRequiredProperties");var Q_=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,Ph.SHA256)(Ph.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function H0(e,t,r,n,i){return e.get(ji).register(Kk(e,t,Tn(),r,{...n},i))}o(H0,"telemetryException");async function Kk(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||G0(a)||a instanceof Wa||a instanceof Dh.ConnectionError||a instanceof Dh.ResponseError)return}else{if(a=new Q_(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let h=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(h[0]??"")&&h.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(h[0]??"")&&h.shift(),a.stack=`${a}
${h.join(`
`)}`}}let l=e.get(lr).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=Ah(e),f=yD(a,c,u),d=jte(a),p=d==="exception",m=Qe.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:f.stack||f.toString(),message:f.message,...i});if(await m.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let h of s.exception_detail)h.value&&(u?h.value=x7(h.value):h.value="[redacted]");if(s??=fD(e,f),s.context={...s.context,"copilot_event.unique_id":m.properties.unique_id,"#restricted_telemetry":u?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(m.properties.errno=s.rollup_id),s.created_at=new Date(m.issuedTime).toISOString(),u){let h=_D(a,c),_=Qe.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:h.stack||h.toString(),message:h.message,...i});s.rollup_id!=="auto"&&(_.properties.errno=s.rollup_id),await _.makeReadyForSending(e,1,"IncludeExp",r),_.properties.unique_id=m.properties.unique_id,m.properties.restricted_unique_id=_.properties.unique_id,Mm(e,1,`error.${d}`,_)}let g=s.rollup_id==="auto"?a.stack??"":s.rollup_id;p&&!e.get(Oc).isThrottled(g)&&(m.properties.failbot_payload=JSON.stringify(s)),Mm(e,0,`error.${d}`,m)}o(Kk,"_telemetryException");function yl(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await Kk(e,a,Tn(),r,n)}},"wrapped");return(...s)=>e.get(ji).register(i(...s))}o(yl,"telemetryCatch");function R0(e,t,r,n){return e.get(ji).register(Vte(e,t,Tn(),r?.extendedBy(),n))}o(R0,"telemetryError");async function Vte(e,t,r,n,i=0){if(rd(i)&&!Ah(e))return;let s=n||Qe.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),$te(e,i,t,s)}o(Vte,"_telemetryError");function Yk(e,t,r,n,i){let s=Qe.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Se(e,"engine.completion",s,1)}o(Yk,"logEngineCompletion");function Xk(e,t,r){let n={};if(t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix)}:n={promptJson:JSON.stringify(t.prefix)},t.context){let s=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};s.context=t.context,n["request.option.extra"]=JSON.stringify(s)}let i=r.extendedBy(n);return Se(e,"engine.prompt",i,1)}o(Xk,"logEnginePrompt");var Jk=Bt(Ti()),nwe=j.Object({accessToken:j.Optional(j.String({minLength:1})),handle:j.Optional(j.String({minLength:1})),githubAppId:j.Optional(j.String({minLength:1}))}),Yte;(r=>(r.method="github/didChangeAuth",r.type=new Jk.ProtocolNotificationType(r.method)))(Yte||={});var Zk=Bt(Ti()),Xte;(r=>(r.method="copilot/ipCodeCitation",r.type=new Zk.NotificationType(r.method)))(Xte||={});var Qk=Bt(Ti()),Jte;(r=>(r.method="context/update",r.type=new Qk.ProtocolRequestType(r.method)))(Jte||={});var Qt=Bt(Ti()),Zte=j.String(),Qte=j.Object({uri:Zte}),qc=j.Intersect([Qte,j.Object({version:j.Optional(j.Integer())})]),fwe=j.Required(qc),bl=j.Object({line:j.Integer({minimum:0}),character:j.Integer({minimum:0})}),eN=j.Object({start:bl,end:bl}),ty=j.Union([j.Integer(),j.String()]),dwe=j.Object({isCancellationRequested:j.Boolean(),onCancellationRequested:j.Any()});var tN=Bt(Ti()),ere;(r=>(r.method="textDocument/didFocus",r.type=new tN.ProtocolNotificationType(r.method)))(ere||={});var tre=j.Object({didChangeFeatureFlags:j.Boolean(),fetch:j.Boolean(),ipCodeCitation:j.Boolean(),redirectedTelemetry:j.Boolean(),related:j.Boolean(),token:j.Boolean(),watchedFiles:j.Boolean(),showPanelMessage:j.Boolean()}),rre=j.Object({name:j.String(),version:j.String(),readableName:j.Optional(j.String())}),rN=j.Object({name:j.String(),version:j.Optional(j.String()),readableName:j.Optional(j.String())}),xwe=j.Object({editorInfo:j.Optional(rN),editorPluginInfo:j.Optional(rN),relatedPluginInfo:j.Optional(j.Array(rre)),copilotIntegrationId:j.Optional(j.String()),copilotCapabilities:j.Optional(j.Partial(tre)),githubAppId:j.Optional(j.String())});var Um=Bt(Ti());var nN=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(nN||{}),nre=j.Enum(nN),ire=j.Object({triggerKind:nre,selectedCompletionInfo:j.Optional(j.Object({text:j.String(),range:eN,tooltipSignature:j.Optional(j.String())}))}),iN=j.Object({textDocument:qc,position:bl,formattingOptions:j.Optional(j.Object({tabSize:j.Optional(j.Union([j.Integer({minimum:1}),j.String()])),insertSpaces:j.Optional(j.Union([j.Boolean(),j.String()]))})),context:ire,data:j.Optional(j.Unknown())}),ore;(r=>(r.method="textDocument/inlineCompletion",r.type=new Um.ProtocolRequestType(r.method)))(ore||={});var oN=j.Object({command:j.Object({arguments:j.Tuple([j.String({minLength:1})])})}),Twe=j.Object({item:oN}),sre;(r=>(r.method="textDocument/didShowCompletion",r.type=new Um.ProtocolNotificationType(r.method)))(sre||={});var Ewe=j.Object({item:oN,acceptedLength:j.Integer({minimum:1})}),are;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new Um.ProtocolNotificationType(r.method)))(are||={});var sN=Bt(Ti()),lre;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new sN.ProtocolRequestType(r.method)))(lre||={});var aN=Bt(Ti()),Dwe=j.Object({textDocument:qc,position:bl}),cre=j.Object({command:j.Object({arguments:j.Tuple([j.String({minLength:1})])})}),Rwe=j.Object({item:cre}),ure;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new aN.ProtocolNotificationType(r.method)))(ure||={});var kh=Bt(Ti());var Lwe=j.Object({textDocument:qc,position:bl,partialResultToken:j.Optional(ty),workDoneToken:j.Optional(ty)}),fre;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new kh.ProtocolRequestType(n.method),n.partialResult=new kh.ProgressType))(fre||={});var lN=Bt(Ti()),dre;(r=>(r.method="copilot/related",r.type=new lN.ProtocolRequestType(r.method)))(dre||={});var cN=Bt(Ti()),mre;(r=>(r.method="statusNotification",r.type=new cN.ProtocolNotificationType(r.method)))(mre||={});var bN=Bt(ny());var vl=class{static{o(this,"CopilotTokenNotifier")}#e=new bN.default;#t;constructor(){this.#e.setMaxListeners(20)}get lastToken(){return this.#t}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.emit("CopilotToken",t)}emit(t,...r){return this.#e.emit(t,...r)}on(t,r,n){let i=yl(t,n,`event.${r}`);return this.#e.on(r,i),Qt.Disposable.create(()=>this.#e.off(r,i))}};function zr(e,t){return e.get(vl).on(e,"CopilotToken",t)}o(zr,"onCopilotToken");function vN(e,t){return e.get(vl).emitToken(t)}o(vN,"emitCopilotToken");function EC(e){return e.get(vl).lastToken}o(EC,"getLastCopilotToken");var Oh=class{constructor(t){this.userInfo=t}static{o(this,"CopilotUserInfoWrapper")}get sku(){return this.userInfo?.access_type_sku}get isFreeUser(){return this.sku==="free_limited_copilot"}get copilotPlan(){if(this.isFreeUser)return"free";let t=this.userInfo?.copilot_plan;switch(t){case"individual":case"individual_pro":case"business":case"enterprise":return t;default:return"individual"}}get quotaInfo(){return{quota_snapshots:this.userInfo?.quota_snapshots,quota_reset_date:this.userInfo?.quota_reset_date}}get raw(){return this.userInfo}};var ua=class{static{o(this,"UrlOpener")}};var bre=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],TN="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",EN="https://gh.io/copilot-network-errors",ds=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&bre.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Ct("certificates").error(t,`${TN} Please visit ${EN} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(Ai).showWarningMessage(TN,n).then(i=>{if(i?.title===n.title)return t.get(ua).open(EN)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};function Tl(){return typeof process>"u"}o(Tl,"isWeb");var iy=class extends Ws{static{o(this,"ProxiedResponseError")}constructor(t){super(t,`HTTP ${t.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function Wc(e,t,r,n={}){n={...n,headers:{Authorization:`Bearer ${t.accessToken}`,...Tl()?{}:Vu(e),...n.headers}};let i=await e.get(Mn).fetch(new URL(r,t.apiUrl).href,n);if(i.status>=500)throw new Ws(i);if(!i.headers.get("x-github-request-id"))throw new iy(i);return i}o(Wc,"apiFetch");var fa=new Ct("auth"),CN=60;function Bm(e){let t=e.serverUrl?.match(/^https?:\/\//)?e.serverUrl:"",r=e.apiUrl?.match(/^https?:\/\//)?e.apiUrl:"";return t?r||=t.replace("://","://api."):r?.includes("://api.")&&(t||=r.replace("://api.","://")),(!t||!r)&&(t="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:t}}o(Bm,"fillGitHubUrls");function Lh(){return Math.floor(Date.now()/1e3)}o(Lh,"nowSeconds");async function SN(e,t){let r=Qe.createAndMarkAsIssued({},{});Se(e,"auth.new_login");let n=await vre(e,t),i=await n.json(),s=i.user_notification;if(IN(e,s,t),n.status===401){let f="Failed to get copilot token due to 401 status. Please sign out and try again.";return fa.info(e,f),R0(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:f,envelope:i}}if(!n.ok||!i.token){fa.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),R0(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let f=i.error_details;return f?.notification_id!=="not_signed_up"&&IN(e,f,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...f}}let a=i.expires_at;i.expires_at=Lh()+i.refresh_in+CN;let l=await Tre(e,t),c;l.ok&&(c=await l.json());let u=new oy(i,c);return vN(e,u),Se(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:Lh()})),{kind:"success",copilotToken:u}}o(SN,"authFromGitHubSession");async function vre(e,t){let r={"X-GitHub-Api-Version":Gs},n=t.devOverride?.copilotTokenUrl??"copilot_internal/v2/token";try{return await Wc(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(ds).notifyUser(e,i),i}}o(vre,"fetchCopilotToken");async function Tre(e,t){let r={"X-GitHub-Api-Version":Gs},n=t.devOverride?.copilotUserInfoUrl??"copilot_internal/user";try{return await Wc(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(ds).notifyUser(e,i),i}}o(Tre,"fetchCopilotUserInfo");function IN(e,t,r){t&&e.get(Ai).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(lr).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(ua).open(l)}t.notification_id&&s&&await Ere(e,t.notification_id,r)}).catch(n=>{fa.exception(e,n,"copilotToken.notification")})}o(IN,"notifyUser");async function Ere(e,t,r){let n=r.devOverride?.notificationUrl??"copilot_internal/notification",i=await Wc(e,r,n,{method:"POST",headers:{"X-GitHub-Api-Version":Gs},body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&fa.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(Ere,"sendNotificationResultToGitHub");var oy=class{constructor(t,r){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token),this.userInfo=new Oh(r)}static{o(this,"CopilotToken")}get endpoints(){return this.envelope.endpoints??C1}needsRefresh(){return(this.envelope.expires_at-CN)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return C8(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}getTokenValues(){return Object.fromEntries(this.tokenMap)}};function ma(e,t){return e||t}o(ma,"_pureAssign");function Fn(e,t){return e[t]}o(Fn,"_pureRef");var Hi=void 0,mn=null,yy="",Gh="function",$m="object",da="prototype",xy="__proto__",Gc="undefined",jh="constructor",by="Symbol",Ire="_polyfill",od="length",$h="name",li="call",Hh="toString",Wo=ma(Object),vy=Fn(Wo,da),kN=ma(String),ad=Fn(kN,da),zh=ma(Math),NN=ma(Array),Vh=Fn(NN,da),El=Fn(Vh,"slice");function Nn(e,t){try{return{v:e.apply(this,t)}}catch(r){return{e:r}}}o(Nn,"safe");function Cre(e,t){var r=Nn(e);return r.e?t:r.v}o(Cre,"safeGet");var sy;function Kh(e){return function(t){return typeof t===e}}o(Kh,"_createIs");function FN(e){var t="[object "+e+"]";return function(r){return!!(r&&Yh(r)===t)}}o(FN,"_createObjIs");function Yh(e){return vy[Hh].call(e)}o(Yh,"objToString");function nr(e){return typeof e===Gc||e===Gc}o(nr,"isUndefined");function Sre(e){return!Xh(e)}o(Sre,"isStrictUndefined");function Fe(e){return e===mn||nr(e)}o(Fe,"isNullOrUndefined");function wre(e){return e===mn||!Xh(e)}o(wre,"isStrictNullOrUndefined");function Xh(e){return!!e||e!==Hi}o(Xh,"isDefined");function Pre(e){return!sy&&(sy=["string","number","boolean",Gc,"symbol","bigint"]),e!==$m&&sy.indexOf(e)!==-1}o(Pre,"isPrimitiveType");var Vt=Kh("string"),dt=Kh(Gh);function ci(e){return!e&&Fe(e)?!1:!!e&&typeof e===$m}o(ci,"isObject");var et=Fn(NN,"isArray"),ON=FN("Date"),pa=Kh("number"),qm=Kh("boolean");var Wm=FN("Error");function ho(e){return!!(e&&e.then&&dt(e.then))}o(ho,"isPromiseLike");function Il(e){return!(!e||Cre(function(){return!(e&&0+e)},!e))}o(Il,"isTruthy");var Jh=Fn(Wo,"getOwnPropertyDescriptor");function zi(e,t){return!!e&&vy.hasOwnProperty[li](e,t)}o(zi,"objHasOwnProperty");var ms=ma(Fn(Wo,"hasOwn"),Dre);function Dre(e,t){return zi(e,t)||!!Jh(e,t)}o(Dre,"polyObjHasOwn");function ht(e,t,r){if(e&&ci(e)){for(var n in e)if(ms(e,n)&&t[li](r||e,n,e[n])===-1)break}}o(ht,"objForEachKey");var Mh={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Rre(e){var t={};if(t[Mh.c]=!0,t[Mh.e]=!0,e.l){t.get=function(){return e.l.v};var r=Jh(e.l,"v");r&&r.set&&(t.set=function(n){e.l.v=n})}return ht(e,function(n,i){t[Mh[n]]=Sre(i)?t[Mh[n]]:i}),t}o(Rre,"_createProp");var go=Fn(Wo,"defineProperty"),LN=Fn(Wo,"defineProperties");function fr(e,t,r){return go(e,t,Rre(r))}o(fr,"objDefine");function MN(e,t,r,n,i){var s={};return ht(e,function(a,l){qh(s,a,t?l:a),qh(s,l,r?l:a)}),n?n(s):s}o(MN,"_createKeyValueMap");function qh(e,t,r,n){go(e,t,{value:r,enumerable:!0,writable:!1})}o(qh,"_assignMapValue");var pn=ma(kN),Are="[object Error]";function Je(e,t){var r=yy,n=vy[Hh][li](e);n===Are&&(e={stack:pn(e.stack),message:pn(e.message),name:pn(e.name)});try{r=JSON.stringify(e,mn,t?typeof t=="number"?t:4:Hi),r=(r?r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):mn)||pn(e)}catch(i){r=" - "+Je(i,t)}return n+": "+r}o(Je,"dumpObj");function Vi(e){throw new Error(e)}o(Vi,"throwError");function ui(e){throw new TypeError(e)}o(ui,"throwTypeError");var UN=Fn(Wo,"freeze");function kre(e){return e}o(kre,"_doNothing");function Nre(e){return e[xy]||mn}o(Nre,"_getProto");var ld=Fn(Wo,"assign"),Go=Fn(Wo,"keys");function Hc(e){return UN&&ht(e,function(t,r){(et(r)||ci(r))&&Hc(r)}),xo(e)}o(Hc,"objDeepFreeze");var xo=ma(UN,kre);var _y=ma(Fn(Wo,"getPrototypeOf"),Nre);function BN(e){return MN(e,1,0,xo)}o(BN,"createEnum");function Fre(e){return MN(e,0,0,xo)}o(Fre,"createEnumKeyMap");function Ore(e){var t={};return ht(e,function(r,n){qh(t,r,n[1]),qh(t,n[0],n[1])}),xo(t)}o(Ore,"createSimpleMap");function jN(e){return Ore(e)}o(jN,"createTypeMap");var $N=Fre({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),wN="__tsUtils$gblCfg",ay;function qN(){var e;return typeof globalThis!==Gc&&(e=globalThis),!e&&typeof self!==Gc&&(e=self),!e&&typeof window!==Gc&&(e=window),!e&&typeof global!==Gc&&(e=global),e}o(qN,"_getGlobalValue");function WN(){if(!ay){var e=Nn(qN).v||{};ay=e[wN]=e[wN]||{}}return ay}o(WN,"_getGlobalConfig");var cd=Zh;function Zh(e,t,r){var n=t?t[e]:mn;return function(i){var s=(i?i[e]:mn)||n;if(s||r){var a=arguments;return(s||r).apply(i,s?El[li](a,1):a)}ui('"'+pn(e)+'" not defined for '+Je(i))}}o(Zh,"_unwrapFunctionWithPoly");function Lre(e){return function(t){return t[e]}}o(Lre,"_unwrapProp");var GN=Fn(zh,"min"),zc=Fn(zh,"max"),PN=cd("slice",ad),Ho=cd("substring",ad),HN=Zh("substr",ad,Mre);function Mre(e,t,r){return Fe(e)&&ui("Invalid "+Je(e)),r<0?yy:(t=t||0,t<0&&(t=zc(t+e[od],0)),nr(r)?PN(e,t):PN(e,t,t+r))}o(Mre,"polyStrSubstr");function Ty(e,t){return Ho(e,0,t)}o(Ty,"strLeft");var DN="_urid",ly;function Ure(){if(!ly){var e=WN();ly=e.gblSym=e.gblSym||{k:{},s:{}}}return ly}o(Ure,"_globalSymbolRegistry");var Uh;function Ey(e){var t={description:pn(e),toString:o(function(){return by+"("+e+")"},"toString")};return t[Ire]=!0,t}o(Ey,"polyNewSymbol");function Bre(e){var t=Ure();if(!ms(t.k,e)){var r=Ey(e),n=Go(t.s).length;r[DN]=function(){return n+"_"+r[Hh]()},t.k[e]=r,t.s[r[DN]()]=pn(e)}return t.k[e]}o(Bre,"polySymbolFor");function jre(e){!Uh&&(Uh={});var t,r=$N[e];return r&&(t=Uh[r]=Uh[r]||Ey(by+"."+r)),t}o(jre,"polyGetKnownSymbol");var kn;function Vc(){kn=WN()}o(Vc,"_initTestHooks");function zN(e){var t={};return!kn&&Vc(),t.b=kn.lzy,go(t,"v",{configurable:!0,get:o(function(){var r=e();return kn.lzy||go(t,"v",{value:r}),t.b=kn.lzy,r},"get")}),t}o(zN,"getLazy");function zo(e){return go({toJSON:o(function(){return e},"toJSON")},"v",{value:e})}o(zo,"createCachedValue");var VN="window",jm;function Qh(e,t){var r;return function(){return!kn&&Vc(),(!r||kn.lzy)&&(r=zo(Nn(e,t).v)),r.v}}o(Qh,"_getGlobalInstFn");function _o(e){return!kn&&Vc(),(!jm||e===!1||kn.lzy)&&(jm=zo(Nn(qN).v||mn)),jm.v}o(_o,"getGlobal");function Nr(e,t){var r;if(!jm||t===!1?r=_o(t):r=jm.v,r&&r[e])return r[e];if(e===VN)try{return window}catch{}return mn}o(Nr,"getInst");function Iy(){return!!yo()}o(Iy,"hasDocument");var yo=Qh(Nr,["document"]);function KN(){return!!Ki()}o(KN,"hasWindow");var Ki=Qh(Nr,[VN]);function Cy(){return!!Vo()}o(Cy,"hasNavigator");var Vo=Qh(Nr,["navigator"]);var YN=Qh(function(){return!!Nn(function(){return process&&(process.versions||{}).node}).v});var sd,cy;function e4(){return sd=zo(Nn(Nr,[by]).v),sd}o(e4,"_initSymbol");function $re(e){var t=(kn.lzy?0:sd)||e4();return t.v?t.v[e]:Hi}o($re,"_getSymbolKey");function XN(){return!!qre()}o(XN,"hasSymbol");function qre(){return!kn&&Vc(),((kn.lzy?0:sd)||e4()).v}o(qre,"getSymbol");function Gm(e,t){var r=$N[e];!kn&&Vc();var n=(kn.lzy?0:sd)||e4();return n.v?n.v[r||e]:t?Hi:jre(e)}o(Gm,"getKnownSymbol");function ud(e,t){!kn&&Vc();var r=(kn.lzy?0:sd)||e4();return r.v?r.v(e):t?mn:Ey(e)}o(ud,"newSymbol");function t4(e){return!kn&&Vc(),cy=(kn.lzy?0:cy)||zo(Nn($re,["for"]).v),(cy.v||Bre)(e)}o(t4,"symbolFor");function Wh(e){return!!e&&dt(e.next)}o(Wh,"isIterator");function Sy(e){return!wre(e)&&dt(e[Gm(3)])}o(Sy,"isIterable");var Bh;function r4(e,t,r){if(e&&(Wh(e)||(!Bh&&(Bh=zo(Gm(3))),e=e[Bh.v]?e[Bh.v]():mn),Wh(e))){var n=Hi,i=Hi;try{for(var s=0;!(i=e.next()).done&&t[li](r||e,i.value,s,e)!==-1;)s++}catch(a){n={e:a},e.throw&&(i=mn,e.throw(n))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(n)throw n.e}}}}o(r4,"iterForOf");function id(e,t,r){return e.apply(t,r)}o(id,"fnApply");function ga(e,t){return!nr(t)&&e&&(et(t)?id(e.push,e,t):Wh(t)||Sy(t)?r4(t,function(r){e.push(r)}):e.push(t)),e}o(ga,"arrAppend");function ke(e,t,r){if(e)for(var n=e[od]>>>0,i=0;i<n&&!(i in e&&t[li](r||e,e[i],i,e)===-1);i++);}o(ke,"arrForEach");var nn=cd("indexOf",Vh);var Kc=cd("map",Vh);function fd(e,t,r){return((e?e.slice:mn)||El).apply(e,El[li](arguments,1))}o(fd,"arrSlice");var wy=cd("reduce",Vh);var ps=ma(Fn(Wo,"create"),Wre);function Wre(e){if(!e)return{};var t=typeof e;t!==$m&&t!==Gh&&ui("Prototype must be an Object or function: "+Je(e));function r(){}return o(r,"tempFunc"),r[da]=e,new r}o(Wre,"polyObjCreate");var uy;function JN(e,t){var r=Wo.setPrototypeOf||function(n,i){var s;!uy&&(uy=zo((s={},s[xy]=[],s instanceof Array))),uy.v?n[xy]=i:ht(i,function(a,l){return n[a]=l})};return r(e,t)}o(JN,"objSetPrototypeOf");function Gre(e,t,r){Nn(fr,[t,$h,{v:e,c:!0,e:!1}]),t=JN(t,r);function n(){this[jh]=t,Nn(fr,[this,$h,{v:e,c:!0,e:!1}])}return o(n,"__"),t[da]=r===mn?ps(r):(n[da]=r[da],new n),t}o(Gre,"_createCustomError");function RN(e,t){t&&(e[$h]=t)}o(RN,"_setName");function Py(e,t,r){var n=r||Error,i=n[da][$h],s=Error.captureStackTrace;return Gre(e,function(){var a=this,l=arguments;try{Nn(RN,[n,e]);var c=id(n,a,El[li](l))||a;if(c!==a){var u=_y(a);u!==_y(c)&&JN(c,u)}return s&&s(c,a[jh]),t&&t(c,l),c}finally{Nn(RN,[n,i])}},n)}o(Py,"createCustomError");function bo(){return(Date.now||Hre)()}o(bo,"utcNow");function Hre(){return new Date().getTime()}o(Hre,"polyUtcNow");function zre(e){return o(function(r){return Fe(r)&&ui("strTrim called ["+Je(r)+"]"),r&&r.replace&&(r=r.replace(e,yy)),r},"_doTrim")}o(zre,"_createTrimFn");var Vre=zre(/^\s+|(?=\s)\s+$/g);var hr=Zh("trim",ad,Vre);var ha=Fn(zh,"floor");var fy,dy,my;function zn(e){if(!e||typeof e!==$m)return!1;my||(my=KN()?Ki():!0);var t=!1;if(e!==my){dy||(fy=Function[da][Hh],dy=fy[li](Wo));try{var r=_y(e);t=!r,t||(zi(r,jh)&&(r=r[jh]),t=!!(r&&typeof r===Gh&&fy[li](r)===dy))}catch{}}return t}o(zn,"isPlainObject");function Kre(e){return e.value&&QN(e),!0}o(Kre,"_defaultDeepCopyHandler");var AN=[Zre,QN,ene,Qre];function Yre(e,t,r,n){var i;return ke(e,function(s){if(s.k===t)return i=s,-1}),i||(i={k:t,v:t},e.push(i),n(i)),i.v}o(Yre,"_getSetVisited");function Dy(e,t,r,n){var i=r.handler,s=r.path?n?r.path.concat(n):r.path:[],a={handler:r.handler,src:r.src,path:s},l=typeof t,c=!1,u=t===mn;u||(t&&l===$m?c=zn(t):u=Pre(l));var f={type:l,isPrim:u,isPlain:c,value:t,result:t,path:s,origin:r.src,copy:o(function(d,p){return Dy(e,d,p?a:r,p)},"copy"),copyTo:o(function(d,p){return ZN(e,d,p,a)},"copyTo")};return f.isPrim?i&&i[li](r,f)?f.result:t:Yre(e,t,s,function(d){fr(f,"result",{g:o(function(){return d.v},"g"),s:o(function(g){d.v=g},"s")});for(var p=0,m=i;!(m||(p<AN.length?AN[p++]:Kre))[li](r,f);)m=mn})}o(Dy,"_deepCopy");function ZN(e,t,r,n){if(!Fe(r))for(var i in r)t[i]=Dy(e,r[i],n,i);return t}o(ZN,"_copyProps");function Xre(e,t,r){var n={handler:r,src:t,path:[]};return ZN([],e,t,n)}o(Xre,"objCopyProps");function Jre(e,t){var r={handler:t,src:e};return Dy([],e,r)}o(Jre,"objDeepCopy");function Zre(e){var t=e.value;if(et(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1}o(Zre,"arrayDeepCopyHandler");function Qre(e){var t=e.value;return ON(t)?(e.result=new Date(t.getTime()),!0):!1}o(Qre,"dateDeepCopyHandler");function ene(e){return e.type===Gh}o(ene,"functionDeepCopyHandler");function QN(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}o(QN,"plainObjDeepCopyHandler");function tne(e,t){return ke(t,function(r){Xre(e,r)}),e}o(tne,"_doExtend");function Ry(e,t,r,n,i,s,a){return tne(Jre(e)||{},El[li](arguments))}o(Ry,"deepExtend");var Ay=Lre(od);var eF=Fn(zh,"round");var Hm=Zh("endsWith",ad,rne);function rne(e,t,r){Vt(e)||ui("'"+Je(e)+"' is not a string");var n=Vt(t)?t:pn(t),i=!nr(r)&&r<e[od]?r:e[od];return Ho(e,i-n[od],i)===n}o(rne,"polyStrEndsWith");var gs=cd("indexOf",ad);var py="ref",gy="unref",hy="hasRef",nne="enabled";function ine(e,t,r){var n=!0,i=e?t(mn):mn,s;function a(){return n=!1,i&&i[gy]&&i[gy](),s}o(a,"_unref");function l(){i&&r(i),i=mn}o(l,"_cancel");function c(){return i=t(i),n||a(),s}o(c,"_refresh");function u(f){!f&&i&&l(),f&&!i&&c()}return o(u,"_setEnabled"),s={cancel:l,refresh:c},s[hy]=function(){return i&&i[hy]?i[hy]():n},s[py]=function(){return n=!0,i&&i[py]&&i[py](),s},s[gy]=a,s=go(s,nne,{get:o(function(){return!!i},"get"),set:u}),{h:s,dn:o(function(){i=mn},"dn")}}o(ine,"_createTimerHandler");function tF(e,t,r){var n=et(t),i=n?t.length:0,s=(i>0?t[0]:n?Hi:t)||setTimeout,a=(i>1?t[1]:Hi)||clearTimeout,l=r[0];r[0]=function(){c.dn(),id(l,Hi,El[li](arguments))};var c=ine(e,function(u){if(u){if(u.refresh)return u.refresh(),u;id(a,Hi,[u])}return id(s,Hi,r)},function(u){id(a,Hi,[u])});return c.h}o(tF,"_createTimeoutWith");function vo(e,t){return tF(!0,Hi,El[li](arguments))}o(vo,"scheduleTimeout");function rF(e,t){return tF(!1,Hi,El[li](arguments))}o(rF,"createTimeout");var Yc=BN,ky=jN;var A0=Yc({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});var k0="toLowerCase",Be="length",dd="warnToConsole",xa="throwInternal",hs="watch",Cl="apply",vt="push",xs="splice",Fr="logger",_a="cancel",ya="initialize",_s="identifier",md="removeNotificationListener",pd="addNotificationListener",Yi="isInitialized",Xc="value",zm="getNotifyMgr",Sl="getPlugin",To="name",En="processNext",n4="getProcessTelContext",wl="enabled",Ny="stopPollingInternalLogs",Ko="unload",Vm="onComplete",i4="version",o4="loggingLevelConsole",ys="createNew",Eo="teardown",gd="messageId",bs="message",Xi="diagLog",Pl="_doTeardown",Jc="update",Io="getNext",Dl="setNextPlugin",Km="userAgent",N0="split",F0="replace",ba="type",Fy="evtName",Zc="status",Oy="getAllResponseHeaders",Ym="isChildEvt",Rl="data",Qc="getCtx",O0="setCtx",Ly="itemsReceived",hd="urlString",s4="headers",eu="timeout",a4="traceFlags";var My;function nF(e,t){My||(My=Py("AggregationError",function(n,i){i[Be]>1&&(n.errors=i[1])}));var r=e||"One or more errors occurred.";throw ke(t,function(n,i){r+=`
`.concat(i," > ").concat(Je(n))}),new My(r,t||[])}o(nF,"throwAggregationError");var l4="function",Xm="object",Jm="undefined",va="prototype";var xd=Object,Uy=xd[va];var QPe=(_o()||{}).Symbol,eDe=(_o()||{}).Reflect;var iF="hasOwnProperty",sne=o(function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Uy[iF].call(t,i)&&(e[i]=t[i])}return e},"__objAssignFnImpl"),Yo=ld||sne,By=o(function(e,t){return By=xd.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[iF](i)&&(r[i]=n[i])},By(e,t)},"extendStaticsFn");function vs(e,t){typeof t!==l4&&t!==null&&ui("Class extends value "+String(t)+" is not a constructor or null"),By(e,t);function r(){this.constructor=e}o(r,"__"),e[va]=t===null?ps(t):(r[va]=t[va],new r)}o(vs,"__extendsFn");function c4(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}o(c4,"__spreadArrayFn");var u4;var p4="constructor",Ta="prototype",g4="function",h4="_dynInstFuncs",qy="_isDynProxy",_d="_dynClass",ane="_dynCls$",Wy="_dynInstChk",Zm=Wy,cF="_dfOpts",oF="_unknown_",zy="__proto__",f4="_dyn"+zy,sF="__dynProto$Gbl",jy="_dynInstProto",d4="useBaseInst",Gy="setInstFuncs",Vy=Object,Qm=Vy.getPrototypeOf,aF=Vy.getOwnPropertyNames,lF=_o(),Hy=lF[sF]||(lF[sF]={o:(u4={},u4[Gy]=!0,u4[d4]=!0,u4),n:1e3});function m4(e){return e&&(e===Vy[Ta]||e===Array[Ta])}o(m4,"_isObjectOrArrayPrototype");function Ky(e){return m4(e)||e===Function[Ta]}o(Ky,"_isObjectArrayOrFunctionPrototype");function tu(e){var t;if(e){if(Qm)return Qm(e);var r=e[zy]||e[Ta]||(e[p4]?e[p4][Ta]:null);t=e[f4]||r,zi(e,f4)||(delete e[jy],t=e[f4]=e[jy]||e[f4],e[jy]=r)}return t}o(tu,"_getObjProto");function x4(e,t){var r=[];if(aF)r=aF(e);else for(var n in e)typeof n=="string"&&zi(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}o(x4,"_forEachProp");function Yy(e,t,r){return t!==p4&&typeof e[t]===g4&&(r||zi(e,t))&&t!==zy&&t!==Ta}o(Yy,"_isDynamicCandidate");function _4(e){ui("DynamicProto: "+e)}o(_4,"_throwTypeError");function lne(e){var t=ps(null);return x4(e,function(r){!t[r]&&Yy(e,r,!1)&&(t[r]=e[r])}),t}o(lne,"_getInstanceFuncs");function Xy(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}o(Xy,"_hasVisited");function cne(e,t,r,n){function i(c,u,f){var d=u[f];if(d[qy]&&n){var p=c[h4]||{};p[Zm]!==!1&&(d=(p[u[_d]]||{})[f]||d)}return function(){return d.apply(c,arguments)}}o(i,"_instFuncProxy");var s=ps(null);x4(r,function(c){s[c]=i(t,r,c)});for(var a=tu(e),l=[];a&&!Ky(a)&&!Xy(l,a);)x4(a,function(c){!s[c]&&Yy(a,c,!Qm)&&(s[c]=i(t,a,c))}),l.push(a),a=tu(a);return s}o(cne,"_getBaseFuncs");function une(e,t,r,n){var i=null;if(e&&zi(r,_d)){var s=e[h4]||ps(null);if(i=(s[r[_d]]||ps(null))[t],i||_4("Missing ["+t+"] "+g4),!i[Wy]&&s[Zm]!==!1){for(var a=!zi(e,t),l=tu(e),c=[];a&&l&&!Ky(l)&&!Xy(c,l);){var u=l[t];if(u){a=u===n;break}c.push(l),l=tu(l)}try{a&&(e[t]=i),i[Wy]=1}catch{s[Zm]=!1}}}return i}o(une,"_getInstFunc");function fne(e,t,r){var n=t[e];return n===r&&(n=tu(t)[e]),typeof n!==g4&&_4("["+e+"] is not a "+g4),n}o(fne,"_getProtoFunc");function dne(e,t,r,n,i){function s(c,u){var f=o(function(){var d=une(this,u,c,f)||fne(u,c,f);return d.apply(this,arguments)},"dynProtoProxy");return f[qy]=1,f}if(o(s,"_createDynamicPrototype"),!m4(e)){var a=r[h4]=r[h4]||ps(null);if(!m4(a)){var l=a[t]=a[t]||ps(null);a[Zm]!==!1&&(a[Zm]=!!i),m4(l)||x4(r,function(c){Yy(r,c,!1)&&r[c]!==n[c]&&(l[c]=r[c],delete r[c],(!zi(e,c)||e[c]&&!e[c][qy])&&(e[c]=s(e,c)))})}}}o(dne,"_populatePrototype");function mne(e,t){if(Qm){for(var r=[],n=tu(t);n&&!Ky(n)&&!Xy(r,n);){if(n===e)return!0;r.push(n),n=tu(n)}return!1}return!0}o(mne,"_checkPrototype");function $y(e,t){return zi(e,Ta)?e.name||t||oF:((e||{})[p4]||{}).name||t||oF}o($y,"_getObjName");function Tr(e,t,r,n){zi(e,Ta)||_4("theClass is an invalid class definition.");var i=e[Ta];mne(i,t)||_4("["+$y(e)+"] not in hierarchy of ["+$y(t)+"]");var s=null;zi(i,_d)?s=i[_d]:(s=ane+$y(e,"_")+"$"+Hy.n,Hy.n++,i[_d]=s);var a=Tr[cF],l=!!a[d4];l&&n&&n[d4]!==void 0&&(l=!!n[d4]);var c=lne(t),u=cne(i,t,c,l);r(t,u);var f=!!Qm&&!!a[Gy];f&&n&&(f=!!n[Gy]),dne(i,s,t,c,f!==!1)}o(Tr,"dynamicProto");Tr[cF]=Hy.o;var b4="Promise";var ib="rejected";function Co(e,t){return mF(e,function(r){return t?t({status:"fulfilled",rejected:!1,value:r}):r},function(r){return t?t({status:ib,rejected:!0,reason:r}):r})}o(Co,"doAwaitResponse");function mF(e,t,r,n){var i=e;try{if(ho(e))(t||r)&&(i=e.then(t,r));else try{t&&(i=t(e))}catch(s){if(r)i=r(s);else throw s}}finally{n&&pne(i,n)}return i}o(mF,"doAwait");function pne(e,t){var r=e;return t&&(ho(e)?e.finally?r=e.finally(t):r=e.then(function(n){return t(),n},function(n){throw t(),n}):t()),r}o(pne,"doFinally");var Jy,Zy,Qy,uF=!1;function gne(e,t,r,n){Jy=Jy||{toString:o(function(){return"[[PromiseState]]"},"toString")},Zy=Zy||{toString:o(function(){return"[[PromiseResult]]"},"toString")},Qy=Qy||{toString:o(function(){return"[[PromiseIsHandled]]"},"toString")};var i={};i[Jy]={get:t},i[Zy]={get:r},i[Qy]={get:n},LN(e,i)}o(gne,"_addDebugState$1");var pF=["pending","resolving","resolved",ib],fF="dispatchEvent",y4;function hne(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}o(hne,"_hasInitEventFn");function xne(e,t,r,n){var i=yo();!y4&&(y4=zo(!!Nn(hne,[i]).v));var s=y4.v?i.createEvent("Event"):n?new Event(t):{};if(r&&r(s),y4.v&&s.initEvent(t,!1,!0),s&&e[fF])e[fF](s);else{var a=e["on"+t];if(a)a(s);else{var l=Nr("console");l&&(l.error||l.log)(t,Je(s))}}}o(xne,"emitEvent");var gF="unhandledRejection",_ne=gF.toLowerCase(),ep=[],yne=0,bne=10;var eb;function dF(e){return dt(e)?e.toString():Je(e)}o(dF,"dumpFnObj");function hF(e,t,r){var n=fd(arguments,3),i=0,s=!1,a,l=[],c=yne++,u=ep.length>0?ep[ep.length-1]:void 0,f=!1,d=null,p;function m(I,D){try{ep.push(c),f=!0,d&&d.cancel(),d=null;var H=e(function(V,$){l.push(function(){try{var Y=i===2?I:D,P=nr(Y)?a:dt(Y)?Y(a):Y;ho(P)?P.then(V,$):Y?V(P):i===3?$(P):V(P)}catch(w){$(w)}}),s&&x()},n);return H}finally{ep.pop()}}o(m,"_then");function g(I){return m(void 0,I)}o(g,"_catch");function h(I){var D=I,H=I;return dt(I)&&(D=o(function(V){return I&&I(),V},"thenFinally"),H=o(function(V){throw I&&I(),V},"catchFinally")),m(D,H)}o(h,"_finally");function _(){return pF[i]}o(_,"_strState");function x(){if(l.length>0){var I=l.slice();l=[],f=!0,d&&d.cancel(),d=null,t(I)}}o(x,"_processQueue");function y(I,D){return function(H){if(i===D){if(I===2&&ho(H)){i=1,H.then(y(2,1),y(3,1));return}i=I,s=!0,a=H,x(),!f&&I===3&&!d&&(d=vo(b,bne))}}}o(y,"_createSettleIfFn");function b(){if(!f)if(f=!0,YN())process.emit(gF,a,p);else{var I=Ki()||_o();!eb&&(eb=zo(Nn(Nr,[b4+"RejectionEvent"]).v)),xne(I,_ne,function(D){return fr(D,"promise",{g:o(function(){return p},"g")}),D.reason=a,D},!!eb.v)}}o(b,"_notifyUnhandledRejection"),p={then:m,catch:g,finally:h},go(p,"state",{get:_}),uF&&gne(p,_,function(){return Yh(a)},function(){return f}),XN()&&(p[Gm(11)]="IPromise");function v(){return"IPromise"+(uF?"["+c+(nr(u)?"":":"+u)+"]":"")+" "+_()+(s?" - "+dF(a):"")}return o(v,"_toString"),p.toString=v,o(function(){dt(r)||ui(b4+": executor is not a function - "+dF(r));var D=y(3,0);try{r.call(p,y(2,0),D)}catch(H){D(H)}},"_initialize")(),p}o(hF,"_createPromise");function vne(e){return function(t){var r=fd(arguments,1);return e(function(n,i){try{var s=[],a=1;r4(t,function(l,c){l&&(a++,mF(l,function(u){s[c]=u,--a===0&&n(s)},i))}),a--,a===0&&n(s)}catch(l){i(l)}},r)}}o(vne,"_createAllPromise");function Tne(e){return zo(function(t){var r=fd(arguments,1);return e(function(n,i){var s=[],a=1;function l(c,u){a++,Co(c,function(f){f.rejected?s[u]={status:ib,reason:f.reason}:s[u]={status:"fulfilled",value:f.value},--a===0&&n(s)})}o(l,"processItem");try{et(t)?ke(t,l):Sy(t)?r4(t,l):ui("Input is not an iterable"),a--,a===0&&n(s)}catch(c){i(c)}},r)})}o(Tne,"_createAllSettledPromise");function xF(e){ke(e,function(t){try{t()}catch{}})}o(xF,"syncItemProcessor");function Ene(e){var t=pa(e)?e:0;return function(r){vo(function(){xF(r)},t)}}o(Ene,"timeoutItemProcessor");function _F(e,t){return hF(_F,Ene(t),e,t)}o(_F,"createAsyncPromise");var tb;function Ine(e,t){!tb&&(tb=zo(Nn(Nr,[b4]).v||null));var r=tb.v;if(!r)return _F(e);dt(e)||ui(b4+": executor is not a function - "+Je(e));var n=0;function i(){return pF[n]}o(i,"_strState");var s=new r(function(a,l){function c(f){n=2,a(f)}o(c,"_resolve");function u(f){n=3,l(f)}o(u,"_reject"),e(c,u)});return go(s,"state",{get:i}),s}o(Ine,"createNativePromise");var rb;function tp(e){return hF(tp,xF,e)}o(tp,"createSyncPromise");function yF(e,t){return!rb&&(rb=Tne(tp)),rb.v(e,t)}o(yF,"createSyncAllSettledPromise");var nb;function Ts(e,t){return!nb&&(nb=zo(Ine)),nb.v.call(this,e,t)}o(Ts,"createPromise");var bF=vne(Ts);var DDe=Gm(11);var So=void 0,yt="",ru="channels",Qr="core",v4="createPerfMgr",rp="disabled",Ea="extensionConfig",nu="extensions",Ji="processTelemetry",iu="priority",yd="eventsSent",Al="eventsDiscarded",bd="eventsSendRequest",Es="perfEvent",T4="offlineEventsStored",E4="offlineBatchSent",I4="offlineBatchDrop",vd="getPerfMgr",C4="domain",S4="path",vF="Not dynamic - ";var Cne="getPrototypeOf",Sne=/-([a-z])/g,wne=/([^\w\d_$])/g,Pne=/^(\d+[\w\d_$])/,MDe=Object[Cne];function kl(e){return!Fe(e)}o(kl,"isNotNullOrUndefined");function np(e){var t=e;return t&&Vt(t)&&(t=t[F0](Sne,function(r,n){return n.toUpperCase()}),t=t[F0](wne,"_"),t=t[F0](Pne,function(r,n){return"_"+n})),t}o(np,"normalizeJsName");function In(e,t){return e&&t?gs(e,t)!==-1:!1}o(In,"strContains");function Nl(e){return e&&e.toISOString()||""}o(Nl,"toISOString");function on(e){return Wm(e)?e[To]:yt}o(on,"getExceptionName");function Is(e,t,r,n,i){var s=r;return e&&(s=e[t],s!==r&&(!i||i(s))&&(!n||n(r))&&(s=r,e[t]=s)),s}o(Is,"setValue");function ob(e,t,r){var n;return e?(n=e[t],!n&&Fe(n)&&(n=nr(r)?{}:r,e[t]=n)):n=nr(r)?{}:r,n}o(ob,"getSetValue");function Dne(e,t){var r=null,n=null;return dt(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t][Cl](n,i)}}o(Dne,"_createProxyFunction");function ou(e,t,r,n,i){e&&t&&r&&(i!==!1||nr(e[t]))&&(e[t]=Dne(r,n))}o(ou,"proxyFunctionAs");function su(e,t,r,n){return e&&t&&ci(e)&&et(r)&&ke(r,function(i){Vt(i)&&ou(e,i,t,i,n)}),e}o(su,"proxyFunctions");function sb(e){return function(){function t(){var r=this;e&&ht(e,function(n,i){r[n]=i})}return o(t,"class_1"),t}()}o(sb,"createClassFromInterface");function P4(e){return e&&ld&&(e=xd(ld({},e))),e}o(P4,"optimizeObject");function D4(e,t,r,n,i,s){var a=arguments,l=a[0]||{},c=a[Be],u=!1,f=1;for(c>0&&qm(l)&&(u=l,l=a[f]||{},f++),ci(l)||(l={});f<c;f++){var d=a[f],p=et(d),m=ci(d);for(var g in d){var h=p&&g in d||m&&ms(d,g);if(h){var _=d[g],x=void 0;if(u&&_&&((x=et(_))||zn(_))){var y=l[g];x?et(y)||(y=[]):zn(y)||(y={}),_=D4(u,y,_)}_!==void 0&&(l[g]=_)}}}return l}o(D4,"objExtend");function Td(e){try{return e.responseText}catch{}return null}o(Td,"getResponseText");function ip(e,t){return e?"XDomainRequest,Response:"+Td(e)||"":t}o(ip,"formatErrorMessageXdr");function au(e,t){return e?"XMLHttpRequest,Status:"+e[Zc]+",Response:"+Td(e)||e.response||"":t}o(au,"formatErrorMessageXhr");function R4(e,t){return t&&(pa(t)?e=[t].concat(e):et(t)&&(e=t.concat(e))),e}o(R4,"prependTransports");var Rne="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",TF="withCredentials",Ane="timeout";function ab(e,t,r,n,i,s){n===void 0&&(n=!1),i===void 0&&(i=!1);function a(c,u,f){try{c[u]=f}catch{}}o(a,"_wrapSetXhrProp");var l=new XMLHttpRequest;return n&&a(l,Rne,n),r&&a(l,TF,r),l.open(e,t,!i),r&&a(l,TF,r),!i&&s&&a(l,Ane,s),l}o(ab,"openXhr");function EF(e){var t={};if(Vt(e)){var r=hr(e)[N0](/[\r\n]+/);ke(r,function(n){if(n){var i=n.indexOf(": ");if(i!==-1){var s=hr(n.substring(0,i))[k0](),a=hr(n.substring(i+1));t[s]=a}else t[hr(n)]=1}})}return t}o(EF,"convertAllHeadersToMap");function w4(e,t,r){if(!e[r]&&t&&t.getResponseHeader){var n=t.getResponseHeader(r);n&&(e[r]=hr(n))}return e}o(w4,"_appendHeader");var kne="kill-duration",Nne="kill-duration-seconds",Fne="time-delta-millis";function op(e,t){var r={};return e[Oy]?r=EF(e[Oy]()):t&&(r=w4(r,e,Fne),r=w4(r,e,kne),r=w4(r,e,Nne)),r}o(op,"_getAllResponseHeaders");var One="documentMode",Lne="location",Mne="console",CF="JSON",Une="crypto",Bne="msCrypto";var fb="msie",db="trident/",SF="XMLHttpRequest",lb=null,cb=null,jne=!1,Ed=null,ub=null;function wF(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[va];n&&(r=t in n)}}catch{}if(!r)try{var i=new e;r=!nr(i[t])}catch{}}return r}o(wF,"_hasProperty");function sp(e){if(e&&jne){var t=Nr("__mockLocation");if(t)return t}return typeof location===Xm&&location?location:Nr(Lne)}o(sp,"getLocation");function mb(){return typeof console!==Jm?console:Nr(Mne)}o(mb,"getConsole");function Fl(){return!!(typeof JSON===Xm&&JSON||Nr(CF)!==null)}o(Fl,"hasJSON");function Ei(){return Fl()?JSON||Nr(CF):null}o(Ei,"getJSON");function pb(){return Nr(Une)}o(pb,"getCrypto");function gb(){return Nr(Bne)}o(gb,"getMsCrypto");function Id(){var e=Vo();if(e&&(e[Km]!==cb||lb===null)){cb=e[Km];var t=(cb||yt)[k0]();lb=In(t,fb)||In(t,db)}return lb}o(Id,"isIE");function hb(e){if(e===void 0&&(e=null),!e){var t=Vo()||{};e=t?(t.userAgent||yt)[k0]():yt}var r=(e||yt)[k0]();if(In(r,fb)){var n=yo()||{};return zc(parseInt(r[N0](fb)[1]),n[One]||0)}else if(In(r,db)){var i=parseInt(r[N0](db)[1]);if(i)return i+4}return null}o(hb,"getIEVersion");function Ol(e){return(ub===null||e===!1)&&(ub=Cy()&&!!Vo().sendBeacon),ub}o(Ol,"isBeaconsSupported");function ap(e){var t=!1;try{t=!!Nr("fetch");var r=Nr("Request");t&&e&&r&&(t=wF(r,"keepalive"))}catch{}return t}o(ap,"isFetchSupported");function xb(){return Ed===null&&(Ed=typeof XDomainRequest!==Jm,Ed&&A4()&&(Ed=Ed&&!wF(Nr(SF),"withCredentials"))),Ed}o(xb,"useXDomainRequest");function A4(){var e=!1;try{var t=Nr(SF);e=!!t}catch{}return e}o(A4,"isXhrSupported");var DF=4294967296,lu=4294967295,RF=123456789,AF=987654321,kF=!1,lp=RF,cp=AF;function $ne(e){e<0&&(e>>>=0),lp=RF+e&lu,cp=AF-e&lu,kF=!0}o($ne,"_mwcSeed");function qne(){try{var e=bo()&2147483647;$ne((Math.random()*DF^e)+e)}catch{}}o(qne,"_autoSeedMwc");function PF(e){var t=0,r=pb()||gb();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&lu),t===0&&Id()&&(kF||qne(),t=Wne()&lu),t===0&&(t=ha(DF*Math.random()|0)),e||(t>>>=0),t}o(PF,"random32");function Wne(e){cp=36969*(cp&65535)+(cp>>16)&lu,lp=18e3*(lp&65535)+(lp>>16)&lu;var t=(cp<<16)+(lp&65535)>>>0&lu|0;return e||(t>>>=0),t}o(Wne,"mwcRandom32");function NF(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=PF()>>>0,n=0,i=yt;i[Be]<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(PF()<<2&4294967295|r&3)>>>0,n=0);return i}o(NF,"newId");var FF="3.3.6",Gne="."+NF(6),Hne=0;function OF(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}o(OF,"_canAcceptData");function zne(e,t){var r=t[e.id];if(!r){r={};try{OF(t)&&fr(t,e.id,{e:!1,v:r})}catch{}}return r}o(zne,"_getCache");function wo(e,t){return t===void 0&&(t=!1),np(e+Hne+++(t?"."+FF:yt)+Gne)}o(wo,"createUniqueNamespace");function k4(e){var t={id:wo("_aiData-"+(e||yt)+"."+FF),accept:o(function(r){return OF(r)},"accept"),get:o(function(r,n,i,s){var a=r[t.id];return a?a[np(n)]:(s&&(a=zne(t,r),a[np(n)]=i),i)},"get"),kill:o(function(r,n){if(r&&r[n])try{delete r[n]}catch{}},"kill")};return t}o(k4,"createElmNodeData");function N4(e){return e&&ci(e)&&(e.isVal||e.fb||ms(e,"v")||ms(e,"mrg")||ms(e,"ref")||e.set)}o(N4,"_isConfigDefaults");function LF(e,t,r){var n,i=r.dfVal||Xh;if(t&&r.fb){var s=r.fb;et(s)||(s=[s]);for(var a=0;a<s[Be];a++){var l=s[a],c=t[l];if(i(c)?n=c:e&&(c=e.cfg[l],i(c)&&(n=c),e.set(e.cfg,pn(l),c)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}o(LF,"_getDefault");function _b(e,t,r){var n=r;if(r&&N4(r)&&(n=LF(e,t,r)),n){N4(n)&&(n=_b(e,t,n));var i;et(n)?(i=[],i[Be]=n[Be]):zn(n)&&(i={}),i&&(ht(n,function(s,a){a&&N4(a)&&(a=_b(e,t,a)),i[s]=a}),n=i)}return n}o(_b,"_resolveDefaultValue");function up(e,t,r,n){var i,s,a,l=n,c,u,f,d;N4(l)?(i=l.isVal,s=l.set,f=l.rdOnly,d=l.blkVal,c=l.mrg,u=l.ref,!u&&nr(u)&&(u=!!c),a=LF(e,t,l)):a=n,d&&e.blkVal(t,r);var p,m=!0,g=t[r];(g||!Fe(g))&&(p=g,m=!1,i&&p!==a&&!i(p)&&(p=a,m=!0),s&&(p=s(p,a,t),m=p===a)),m?a?p=_b(e,t,a):p=a:(zn(p)||et(a))&&c&&a&&(zn(a)||et(a))&&ht(a,function(h,_){up(e,p,h,_)}),e.set(t,r,p),u&&e.ref(t,r),f&&e.rdOnly(t,r)}o(up,"_applyDefaultValue");var Cs=t4("[[ai_dynCfg_1]]"),MF=t4("[[ai_blkDynCfg_1]]"),Vne=t4("[[ai_frcDynCfg_1]]");function yb(e){if(e){var t;if(et(e)?(t=[],t[Be]=e[Be]):zn(e)&&(t={}),t)return ht(e,function(r,n){t[r]=yb(n)}),t}return e}o(yb,"_cfgDeepCopy");function UF(e){if(e){var t=e[Cs]||e;if(t.cfg&&(t.cfg===e||t.cfg[Cs]===t))return t}return null}o(UF,"getDynamicConfigHandler");function BF(e){if(e&&(zn(e)||et(e)))try{e[MF]=!0}catch{}return e}o(BF,"blockDynamicConversion");function F4(e,t,r){var n=!1;return r&&!e[t.blkVal]&&(n=r[Vne],!n&&!r[MF]&&(n=zn(r)||et(r))),n}o(F4,"_canMakeDynamic");function O4(e){ui("InvalidAccess:"+e)}o(O4,"throwInvalidAccess");var Kne=["push","pop","shift","unshift","splice"],Cd=o(function(e,t,r,n){e&&e[xa](3,108,"".concat(r," [").concat(t,"] failed - ")+Je(n))},"_throwDynamicError");function Yne(e,t,r){et(t)&&ke(Kne,function(n){var i=t[n];t[n]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=i[Cl](this,s);return fp(e,t,r,"Patching"),l}})}o(Yne,"_patchArray");function L4(e,t){var r=Jh(e,t);return r&&r.get}o(L4,"_getOwnPropGetter");function Xne(e,t,r,n){var i={n:r,h:[],trk:o(function(u){u&&u.fn&&(nn(i.h,u)===-1&&i.h[vt](u),e.trk(u,i))},"trk"),clr:o(function(u){var f=nn(i.h,u);f!==-1&&i.h[xs](f,1)},"clr")},s=!0,a=!1;function l(){s&&(a=a||F4(l,e,n),n&&!n[Cs]&&a&&(n=fp(e,n,r,"Converting")),s=!1);var u=e.act;return u&&i.trk(u),n}o(l,"_getProperty"),l[e.prop]={chng:o(function(){e.add(i)},"chng")};function c(u){if(n!==u){l[e.ro]&&!e.upd&&O4("["+r+"] is read-only:"+Je(t)),s&&(a=a||F4(l,e,n),s=!1);var f=a&&l[e.rf];if(a)if(f){ht(n,function(p){n[p]=u?u[p]:So});try{ht(u,function(p,m){dp(e,n,p,m)}),u=n}catch(p){Cd((e.hdlr||{})[Fr],r,"Assigning",p),a=!1}}else n&&n[Cs]&&ht(n,function(p){var m=L4(n,p);if(m){var g=m[e.prop];g&&g.chng()}});if(u!==n){var d=u&&F4(l,e,u);!f&&d&&(u=fp(e,u,r,"Converting")),n=u,a=d}e.add(i)}}o(c,"_setProperty"),fr(t,i.n,{g:l,s:c})}o(Xne,"_createDynamicProperty");function dp(e,t,r,n){if(t){var i=L4(t,r),s=i&&!!i[e.prop];s?t[r]=n:Xne(e,t,r,n)}return t}o(dp,"_setDynamicProperty");function M4(e,t,r,n){if(t){var i=L4(t,r),s=i&&!!i[e.prop],a=n&&n[0],l=n&&n[1],c=n&&n[2];if(!s){if(c)try{BF(t)}catch(u){Cd((e.hdlr||{})[Fr],r,"Blocking",u)}try{dp(e,t,r,t[r]),i=L4(t,r)}catch(u){Cd((e.hdlr||{})[Fr],r,"State",u)}}a&&(i[e.rf]=a),l&&(i[e.ro]=l),c&&(i[e.blkVal]=!0)}return t}o(M4,"_setDynamicPropertyState");function fp(e,t,r,n){try{ht(t,function(i,s){dp(e,t,i,s)}),t[Cs]||(go(t,Cs,{get:o(function(){return e.hdlr},"get")}),Yne(e,t,r))}catch(i){Cd((e.hdlr||{})[Fr],r,n,i)}return t}o(fp,"_makeDynamicObject");var mp="[[ai_",pp="]]";function jF(e){var t=ud(mp+"get"+e.uid+pp),r=ud(mp+"ro"+e.uid+pp),n=ud(mp+"rf"+e.uid+pp),i=ud(mp+"blkVal"+e.uid+pp),s=ud(mp+"dtl"+e.uid+pp),a=null,l=null,c;function u(m,g){var h=c.act;try{c.act=m,m&&m[s]&&(ke(m[s],function(x){x.clr(m)}),m[s]=[]),g({cfg:e.cfg,set:e.set.bind(e),setDf:e.setDf.bind(e),ref:e.ref.bind(e),rdOnly:e.rdOnly.bind(e)})}catch(x){var _=e[Fr];throw _&&_[xa](1,107,Je(x)),x}finally{c.act=h||null}}o(u,"_useHandler");function f(){if(a){var m=a;a=null,l&&l[_a](),l=null;var g=[];if(ke(m,function(h){if(h&&(h[s]&&(ke(h[s],function(_){_.clr(h)}),h[s]=null),h.fn))try{u(h,h.fn)}catch(_){g[vt](_)}}),a)try{f()}catch(h){g[vt](h)}g[Be]>0&&nF("Watcher error(s): ",g)}}o(f,"_notifyWatchers");function d(m){if(m&&m.h[Be]>0){a||(a=[]),l||(l=vo(function(){l=null,f()},0));for(var g=0;g<m.h[Be];g++){var h=m.h[g];h&&nn(a,h)===-1&&a[vt](h)}}}o(d,"_addWatcher");function p(m,g){if(m){var h=m[s]=m[s]||[];nn(h,g)===-1&&h[vt](g)}}return o(p,"_trackHandler"),c={prop:t,ro:r,rf:n,blkVal:i,hdlr:e,add:d,notify:f,use:u,trk:p},c}o(jF,"_createState");function Jne(e,t){var r={fn:t,rm:o(function(){r.fn=null,e=null,t=null},"rm")};return fr(r,"toJSON",{v:o(function(){return"WatcherHandler"+(r.fn?"":"[X]")},"v")}),e.use(r,t),r}o(Jne,"_createAndUseHandler");function Zne(e,t,r){var n=UF(t);if(n)return n;var i=wo("dyncfg",!0),s=t&&r!==!1?t:yb(t),a;function l(){a.notify()}o(l,"_notifyWatchers");function c(_,x,y){try{_=dp(a,_,x,y)}catch(b){Cd(e,x,"Setting value",b)}return _[x]}o(c,"_setValue");function u(_){return Jne(a,_)}o(u,"_watch");function f(_,x){a.use(null,function(y){var b=a.upd;try{nr(x)||(a.upd=x),_(y)}finally{a.upd=b}})}o(f,"_block");function d(_,x){var y;return M4(a,_,x,(y={},y[0]=!0,y))[x]}o(d,"_ref");function p(_,x){var y;return M4(a,_,x,(y={},y[1]=!0,y))[x]}o(p,"_rdOnly");function m(_,x){var y;return M4(a,_,x,(y={},y[2]=!0,y))[x]}o(m,"_blkPropValue");function g(_,x){return x&&ht(x,function(y,b){up(h,_,y,b)}),_}o(g,"_applyDefaults");var h={uid:null,cfg:s,logger:e,notify:l,set:c,setDf:g,watch:u,ref:d,rdOnly:p,blkVal:m,_block:f};return fr(h,"uid",{c:!1,e:!1,w:!1,v:i}),a=jF(h),fp(a,s,"config","Creating"),h}o(Zne,"_createDynamicHandler");function Qne(e,t){e?(e[dd](t),e[xa](2,108,t)):O4(t)}o(Qne,"_logInvalidAccess");function gn(e,t,r,n){var i=Zne(r,e||{},n);return t&&i.setDf(i.cfg,t),i}o(gn,"createDynamicConfig");function Xo(e,t,r){var n=e[Cs]||e;return n.cfg&&(n.cfg===e||n.cfg[Cs]===n)?n[hs](t):(Qne(r,vF+Je(e)),gn(e,null,r)[hs](t))}o(Xo,"onConfigChange");function Ia(e,t){if(e&&e[Ko])return e[Ko](t)}o(Ia,"runTargetUnload");function U4(e,t,r){var n;return r||(n=Ts(function(i){r=i})),e&&Ay(e)>0?Co(Ia(e[0],t),function(){U4(fd(e,1),t,r)}):r(),n}o(U4,"doUnloadAll");var $F=500,bb="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function eie(e,t,r){return!e&&Fe(e)?t:qm(e)?e:pn(e)[k0]()==="true"}o(eie,"_stringToBoolOrDefault");function vb(e){return{mrg:!0,v:e}}o(vb,"cfgDfMerge");function Sd(e,t,r){return{fb:r,isVal:e,v:t}}o(Sd,"cfgDfValidate");function Jo(e,t){return{fb:t,set:eie,v:!!e}}o(Jo,"cfgDfBoolean");var Tb=[yd,Al,bd,Es],j4=null,B4;function tie(e,t){return function(){var r=arguments,n=Eb(t);if(n){var i=n.listener;i&&i[e]&&i[e][Cl](i,r)}}}o(tie,"_listenerProxyFunc");function rie(){var e=Nr("Microsoft");return e&&(j4=e.ApplicationInsights),j4}o(rie,"_getExtensionNamespace");function Eb(e){var t=j4;return!t&&e.disableDbgExt!==!0&&(t=j4||rie()),t?t.ChromeDbgExt:null}o(Eb,"getDebugExt");function qF(e){if(!B4){B4={};for(var t=0;t<Tb[Be];t++)B4[Tb[t]]=tie(Tb[t],e)}return B4}o(qF,"getDebugListener");var wd,GF="warnToConsole",nie="AI (Internal): ",iie="AI: ",oie="AITR_",sie={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},aie=(wd={},wd[0]=null,wd[1]="errorToConsole",wd[2]=GF,wd[3]="debugToConsole",wd);function WF(e){return e?'"'+e[F0](/\"/g,yt)+'"':yt}o(WF,"_sanitizeDiagnosticText");function Ib(e,t){var r=mb();if(r){var n="log";r[e]&&(n=e),dt(r[n])&&r[n](t)}}o(Ib,"_logToConsole");var gp=function(){function e(t,r,n,i){n===void 0&&(n=!1);var s=this;s[gd]=t,s[bs]=(n?iie:nie)+t;var a=yt;Fl()&&(a=Ei().stringify(i));var l=(r?" message:"+WF(r):yt)+(i?" props:"+WF(a):yt);s[bs]+=l}return o(e,"_InternalLogMessage"),e.dataType="MessageData",e}();function cu(e,t){return(e||{})[Fr]||new Pd(t)}o(cu,"safeGetLogger");var Pd=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,s,a,l,c;Tr(e,this,function(u){c=d(t||{}),u.consoleLoggingLevel=function(){return i},u[xa]=function(g,h,_,x,y){y===void 0&&(y=!1);var b=new gp(h,_,y,x);if(l)throw Je(b);var v=aie[g]||GF;if(nr(b[bs]))m("throw"+(g===1?"Critical":"Warning"),b);else{if(y){var I=+b[gd];!n[I]&&i>=g&&(u[v](b[bs]),n[I]=!0)}else i>=g&&u[v](b[bs]);f(g,b)}},u.debugToConsole=function(g){Ib("debug",g),m("warning",g)},u[dd]=function(g){Ib("warn",g),m("warning",g)},u.errorToConsole=function(g){Ib("error",g),m("error",g)},u.resetInternalMessageCount=function(){r=0,n={}},u.logInternalMessage=f,u[Ko]=function(g){c&&c.rm(),c=null};function f(g,h){if(!p()){var _=!0,x=oie+h[gd];if(n[x]?_=!1:n[x]=!0,_&&(g<=s&&(u.queue[vt](h),r++,m(g===1?"error":"warn",h)),r===a)){var y="Internal events throttle limit per PageView reached for this app.",b=new gp(23,y,!1);u.queue[vt](b),g===1?u.errorToConsole(y):u[dd](y)}}}o(f,"_logInternalMessage");function d(g){return Xo(gn(g,sie,u).cfg,function(h){var _=h.cfg;i=_[o4],s=_.loggingLevelTelemetry,a=_.maxMessageLimit,l=_.enableDebug})}o(d,"_setDefaultsFromConfig");function p(){return r>=a}o(p,"_areInternalMessagesThrottled");function m(g,h){var _=Eb(t||{});_&&_[Xi]&&_[Xi](g,h)}o(m,"_debugExtMsg")})}return o(e,"DiagnosticLogger"),e.__ieDyn=1,e}();function HF(e){return e||new Pd}o(HF,"_getLogger");function Ie(e,t,r,n,i,s){s===void 0&&(s=!1),HF(e)[xa](t,r,n,i,s)}o(Ie,"_throwInternal");function Ca(e,t){HF(e)[dd](t)}o(Ca,"_warnToConsole");var Cb,uu,zF="toGMTString",VF="toUTCString",Db="cookie",Sb="expires",KF="isCookieUseDisabled",Pb="disableCookiesUsage",YF="_ckMgr",$4=null,wb=null,XF=null,Ss,JF={},ZF={},lie=(Cb={cookieCfg:vb((uu={},uu[C4]={fb:"cookieDomain",dfVal:kl},uu.path={fb:"cookiePath",dfVal:kl},uu.enabled=So,uu.ignoreCookies=So,uu.blockedCookies=So,uu)),cookieDomain:So,cookiePath:So},Cb[Pb]=So,Cb);function Rb(){!Ss&&(Ss=zN(function(){return yo()}))}o(Rb,"_getDoc");function q4(e){return e?e.isEnabled():!0}o(q4,"_isMgrEnabled");function iO(e,t){return t&&e&&et(e.ignoreCookies)?nn(e.ignoreCookies,t)!==-1:!1}o(iO,"_isIgnoredCookie");function cie(e,t){return t&&e&&et(e.blockedCookies)&&nn(e.blockedCookies,t)!==-1?!0:iO(e,t)}o(cie,"_isBlockedCookie");function QF(e,t){var r=t[wl];if(Fe(r)){var n=void 0;nr(e[KF])||(n=!e[KF]),nr(e[Pb])||(n=!e[Pb]),r=n}return r}o(QF,"_isCfgEnabled");function oO(e,t){var r,n,i,s,a,l,c,u;e=gn(e||ZF,null,t).cfg,s=Xo(e,function(d){d.setDf(d.cfg,lie),r=d.ref(d.cfg,"cookieCfg"),n=r[S4]||"/",i=r[C4],a=QF(e,r)!==!1,l=r.getCookie||uie,c=r.setCookie||nO,u=r.delCookie||nO},t);var f={isEnabled:o(function(){var d=QF(e,r)!==!1&&a&&eO(t),p=ZF[YF];return d&&p&&f!==p&&(d=q4(p)),d},"isEnabled"),setEnabled:o(function(d){a=d!==!1,r[wl]=d},"setEnabled"),set:o(function(d,p,m,g,h){var _=!1;if(q4(f)&&!cie(r,d)){var x={},y=hr(p||yt),b=gs(y,";");if(b!==-1&&(y=hr(Ty(p,b)),x=sO(Ho(p,b+1))),Is(x,C4,g||i,Il,nr),!Fe(m)){var v=Id();if(nr(x[Sb])){var I=bo(),D=I+m*1e3;if(D>0){var H=new Date;H.setTime(D),Is(x,Sb,tO(H,v?zF:VF)||tO(H,v?zF:VF)||yt,Il)}}v||Is(x,"max-age",yt+m,null,nr)}var V=sp();V&&V.protocol==="https:"&&(Is(x,"secure",null,null,nr),wb===null&&(wb=!fie((Vo()||{})[Km])),wb&&Is(x,"SameSite","None",null,nr)),Is(x,S4,h||n,null,nr),c(d,rO(y,x)),_=!0}return _},"set"),get:o(function(d){var p=yt;return q4(f)&&!iO(r,d)&&(p=l(d)),p},"get"),del:o(function(d,p){var m=!1;return q4(f)&&(m=f.purge(d,p)),m},"del"),purge:o(function(d,p){var m,g=!1;if(eO(t)){var h=(m={},m[S4]=p||"/",m[Sb]="Thu, 01 Jan 1970 00:00:01 GMT",m);Id()||(h["max-age"]="0"),u(d,rO(yt,h)),g=!0}return g},"purge"),unload:o(function(d){s&&s.rm(),s=null},"unload")};return f[YF]=f,f}o(oO,"createCookieMgr");function eO(e){if($4===null){$4=!1,!Ss&&Rb();try{var t=Ss.v||{};$4=t[Db]!==void 0}catch(r){Ie(e,2,68,"Cannot access document.cookie - "+on(r),{exception:Je(r)})}}return $4}o(eO,"areCookiesSupported");function sO(e){var t={};if(e&&e[Be]){var r=hr(e)[N0](";");ke(r,function(n){if(n=hr(n||yt),n){var i=gs(n,"=");i===-1?t[n]=null:t[hr(Ty(n,i))]=hr(Ho(n,i+1))}})}return t}o(sO,"_extractParts");function tO(e,t){return dt(e[t])?e[t]():null}o(tO,"_formatDate");function rO(e,t){var r=e||yt;return ht(t,function(n,i){r+="; "+n+(Fe(i)?yt:"="+i)}),r}o(rO,"_formatCookieValue");function uie(e){var t=yt;if(!Ss&&Rb(),Ss.v){var r=Ss.v[Db]||yt;XF!==r&&(JF=sO(r),XF=r),t=hr(JF[e]||yt)}return t}o(uie,"_getCookieValue");function nO(e,t){!Ss&&Rb(),Ss.v&&(Ss.v[Db]=e+"="+t)}o(nO,"_setCookieValue");function fie(e){return Vt(e)?!!(In(e,"CPU iPhone OS 12")||In(e,"iPad; CPU OS 12")||In(e,"Macintosh; Intel Mac OS X 10_14")&&In(e,"Version/")&&In(e,"Safari")||In(e,"Macintosh; Intel Mac OS X 10_14")&&Hm(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||In(e,"Chrome/5")||In(e,"Chrome/6")||In(e,"UnrealEngine")&&!In(e,"Chrome")||In(e,"UCBrowser/12")||In(e,"UCBrowser/11")):!1}o(fie,"uaDisallowsSameSiteNone");var die={perfEvtsSendAll:!1};function mie(e){e.h=null;var t=e.cb;e.cb=[],ke(t,function(r){Nn(r.fn,[r.arg])})}o(mie,"_runScheduledListeners");function Ll(e,t,r,n){ke(e,function(i){i&&i[t]&&(r?(r.cb[vt]({fn:n,arg:i}),r.h=r.h||vo(mie,0,r)):Nn(n,[i]))})}o(Ll,"_runListeners");var aO=function(){function e(t){this.listeners=[];var r,n,i=[],s={h:null,cb:[]},a=gn(t,die);n=a[hs](function(l){r=!!l.cfg.perfEvtsSendAll}),Tr(e,this,function(l){fr(l,"listeners",{g:o(function(){return i},"g")}),l[pd]=function(c){i[vt](c)},l[md]=function(c){for(var u=nn(i,c);u>-1;)i[xs](u,1),u=nn(i,c)},l[yd]=function(c){Ll(i,yd,s,function(u){u[yd](c)})},l[Al]=function(c,u){Ll(i,Al,s,function(f){f[Al](c,u)})},l[bd]=function(c,u){Ll(i,bd,u?s:null,function(f){f[bd](c,u)})},l[Es]=function(c){c&&(r||!c[Ym]())&&Ll(i,Es,null,function(u){c.isAsync?vo(function(){return u[Es](c)},0):u[Es](c)})},l[T4]=function(c){c&&c[Be]&&Ll(i,T4,s,function(u){u[T4](c)})},l[E4]=function(c){c&&c[Rl]&&Ll(i,E4,s,function(u){u[E4](c)})},l[I4]=function(c,u){if(c>0){var f=u||0;Ll(i,I4,s,function(d){d[I4](c,f)})}},l[Ko]=function(c){var u=o(function(){n&&n.rm(),n=null,i=[],s.h&&s.h[_a](),s.h=null,s.cb=[]},"_finishUnload"),f;if(Ll(i,"unload",null,function(d){var p=d[Ko](c);p&&(f||(f=[]),f[vt](p))}),f)return Ts(function(d){return Co(bF(f),function(){u(),d()})});u()}})}return o(e,"NotificationManager"),e.__ieDyn=1,e}();var Dd="ctx",kb="ParentContextKey",hp="ChildrenContextKey",pie=null,W4=function(){function e(t,r,n){var i=this;if(i.start=bo(),i[To]=t,i.isAsync=n,i[Ym]=function(){return!1},dt(r)){var s;fr(i,"payload",{g:o(function(){return!s&&dt(r)&&(s=r(),r=null),s},"g")})}i[Qc]=function(a){return a?a===e[kb]||a===e[hp]?i[a]:(i[Dd]||{})[a]:null},i[O0]=function(a,l){if(a)if(a===e[kb])i[a]||(i[Ym]=function(){return!0}),i[a]=l;else if(a===e[hp])i[a]=l;else{var c=i[Dd]=i[Dd]||{};c[a]=l}},i.complete=function(){var a=0,l=i[Qc](e[hp]);if(et(l))for(var c=0;c<l[Be];c++){var u=l[c];u&&(a+=u.time)}i.time=bo()-i.start,i.exTime=i.time-a,i.complete=function(){}}}return o(e,"PerfEvent"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var lO=function(){function e(t){this.ctx={},Tr(e,this,function(r){r.create=function(n,i,s){return new W4(n,i,s)},r.fire=function(n){n&&(n.complete(),t&&dt(t[Es])&&t[Es](n))},r[O0]=function(n,i){if(n){var s=r[Dd]=r[Dd]||{};s[n]=i}},r[Qc]=function(n){return(r[Dd]||{})[n]}})}return o(e,"PerfManager"),e.__ieDyn=1,e}();var Ab="CoreUtils.doPerf";function G4(e,t,r,n,i){if(e){var s=e;if(s[vd]&&(s=s[vd]()),s){var a=void 0,l=s[Qc](Ab);try{if(a=s.create(t(),n,i),a){if(l&&a[O0]&&(a[O0](W4[kb],l),l[Qc]&&l[O0])){var c=l[Qc](W4[hp]);c||(c=[],l[O0](W4[hp],c)),c[vt](a)}return s[O0](Ab,a),r(a)}}catch(u){a&&a[O0]&&a[O0]("exception",u)}finally{a&&s.fire(a),s[O0](Ab,l)}}}return r()}o(G4,"doPerf");function cO(){return pie}o(cO,"getGblPerfMgr");var gie="00000000000000000000000000000000",hie="0000000000000000";function uO(e,t,r){return e&&e[Be]===t&&e!==r?!!e.match(/^[\da-f]*$/i):!1}o(uO,"_isValid");function Nb(e){return uO(e,32,gie)}o(Nb,"isValidTraceId");function Fb(e){return uO(e,16,hie)}o(Fb,"isValidSpanId");var xie=k4("plugin");function Sa(e){return xie.get(e,"state",{},!0)}o(Sa,"_getPluginState");function Ob(e,t){for(var r=[],n=null,i=e[Io](),s;i;){var a=i[Sl]();if(a){n&&n[Dl]&&a[Ji]&&n[Dl](a),s=Sa(a);var l=!!s[Yi];a[Yi]&&(l=a[Yi]()),l||r[vt](a),n=a,i=i[Io]()}}ke(r,function(c){var u=e[Qr]();c[ya](e.getCfg(),u,t,e[Io]()),s=Sa(c),!c[Qr]&&!s[Qr]&&(s[Qr]=u),s[Yi]=!0,delete s[Eo]})}o(Ob,"initializePlugins");function H4(e){return e.sort(function(t,r){var n=0;if(r){var i=r[Ji];t[Ji]?n=i?t[iu]-r[iu]:1:i&&(n=-1)}else n=t?1:-1;return n})}o(H4,"sortPlugins");function fO(e){var t={};return{getName:o(function(){return t[To]},"getName"),setName:o(function(r){e&&e.setName(r),t[To]=r},"setName"),getTraceId:o(function(){return t.traceId},"getTraceId"),setTraceId:o(function(r){e&&e.setTraceId(r),Nb(r)&&(t.traceId=r)},"setTraceId"),getSpanId:o(function(){return t.spanId},"getSpanId"),setSpanId:o(function(r){e&&e.setSpanId(r),Fb(r)&&(t.spanId=r)},"setSpanId"),getTraceFlags:o(function(){return t[a4]},"getTraceFlags"),setTraceFlags:o(function(r){e&&e.setTraceFlags(r),t[a4]=r},"setTraceFlags")}}o(fO,"createDistributedTraceContext");var _ie="TelemetryPluginChain",dO="_hasRun",mO="_getTelCtx",pO=0;function yie(e,t,r){for(;e;){if(e[Sl]()===r)return e;e=e[Io]()}return Ml([r],t.config||{},t)}o(yie,"_getNextProxyStart");function Lb(e,t,r,n){var i=null,s=[];t||(t=gn({},null,r[Fr])),n!==null&&(i=n?yie(e,r,n):e);var a={_next:c,ctx:{core:o(function(){return r},"core"),diagLog:o(function(){return cu(r,t.cfg)},"diagLog"),getCfg:o(function(){return t.cfg},"getCfg"),getExtCfg:f,getConfig:d,hasNext:o(function(){return!!i},"hasNext"),getNext:o(function(){return i},"getNext"),setNext:o(function(m){i=m},"setNext"),iterate:p,onComplete:l}};function l(m,g){for(var h=[],_=2;_<arguments.length;_++)h[_-2]=arguments[_];m&&s[vt]({func:m,self:nr(g)?a.ctx:g,args:h})}o(l,"_addOnComplete");function c(){var m=i;if(i=m?m[Io]():null,!m){var g=s;g&&g[Be]>0&&(ke(g,function(h){try{h.func.call(h.self,h.args)}catch(_){Ie(r[Fr],2,73,"Unexpected Exception during onComplete - "+Je(_))}}),s=[])}return m}o(c,"_moveNext");function u(m,g){var h=null,_=t.cfg;if(_&&m){var x=_[Ea];!x&&g&&(x={}),_[Ea]=x,x=t.ref(_,Ea),x&&(h=x[m],!h&&g&&(h={}),x[m]=h,h=t.ref(x,m))}return h}o(u,"_getExtCfg");function f(m,g){var h=u(m,!0);return g&&ht(g,function(_,x){if(Fe(h[_])){var y=t.cfg[_];(y||!Fe(y))&&(h[_]=y)}up(t,h,_,x)}),t.setDf(h,g)}o(f,"_resolveExtCfg");function d(m,g,h){h===void 0&&(h=!1);var _,x=u(m,!1),y=t.cfg;return x&&(x[g]||!Fe(x[g]))?_=x[g]:(y[g]||!Fe(y[g]))&&(_=y[g]),_||!Fe(_)?_:h}o(d,"_getConfig");function p(m){for(var g;g=a._next();){var h=g[Sl]();h&&m(h)}}return o(p,"_iterateChain"),a}o(Lb,"_createInternalContext");function L0(e,t,r,n){var i=gn(t),s=Lb(e,i,r,n),a=s.ctx;function l(u){var f=s._next();return f&&f[Ji](u,a),!f}o(l,"_processNext");function c(u,f){return u===void 0&&(u=null),et(u)&&(u=Ml(u,i.cfg,r,f)),L0(u||a[Io](),i.cfg,r,f)}return o(c,"_createNew"),a[En]=l,a[ys]=c,a}o(L0,"createProcessTelemetryContext");function Rd(e,t,r){var n=gn(t.config),i=Lb(e,n,t,r),s=i.ctx;function a(c){var u=i._next();return u&&u[Ko](s,c),!u}o(a,"_processNext");function l(c,u){return c===void 0&&(c=null),et(c)&&(c=Ml(c,n.cfg,t,u)),Rd(c||s[Io](),t,u)}return o(l,"_createNew"),s[En]=a,s[ys]=l,s}o(Rd,"createProcessTelemetryUnloadContext");function xp(e,t,r){var n=gn(t.config),i=Lb(e,n,t,r),s=i.ctx;function a(c){return s.iterate(function(u){dt(u[Jc])&&u[Jc](s,c)})}o(a,"_processNext");function l(c,u){return c===void 0&&(c=null),et(c)&&(c=Ml(c,n.cfg,t,u)),xp(c||s[Io](),t,u)}return o(l,"_createNew"),s[En]=a,s[ys]=l,s}o(xp,"createProcessTelemetryUpdateContext");function Ml(e,t,r,n){var i=null,s=!n;if(et(e)&&e[Be]>0){var a=null;ke(e,function(l){if(!s&&n===l&&(s=!0),s&&l&&dt(l[Ji])){var c=bie(l,t,r);i||(i=c),a&&a._setNext(c),a=c}})}return n&&!i?Ml([n],t,r):i}o(Ml,"createTelemetryProxyChain");function bie(e,t,r){var n=null,i=dt(e[Ji]),s=dt(e[Dl]),a;e?a=e[_s]+"-"+e[iu]+"-"+pO++:a="Unknown-0-"+pO++;var l={getPlugin:o(function(){return e},"getPlugin"),getNext:o(function(){return n},"getNext"),processTelemetry:f,unload:d,update:p,_id:a,_setNext:o(function(m){n=m},"_setNext")};function c(){var m;return e&&dt(e[mO])&&(m=e[mO]()),m||(m=L0(l,t,r)),m}o(c,"_getTelCtx");function u(m,g,h,_,x){var y=!1,b=e?e[_s]:_ie,v=m[dO];return v||(v=m[dO]={}),m.setNext(n),e&&G4(m[Qr](),function(){return b+":"+h},function(){v[a]=!0;try{var I=n?n._id:yt;I&&(v[I]=!1),y=g(m)}catch(H){var D=n?v[n._id]:!0;D&&(y=!0),(!n||!D)&&Ie(m[Xi](),1,73,"Plugin ["+b+"] failed during "+h+" - "+Je(H)+", run flags: "+Je(v))}},_,x),y}o(u,"_processChain");function f(m,g){g=g||c();function h(_){if(!e||!i)return!1;var x=Sa(e);return x[Eo]||x[rp]?!1:(s&&e[Dl](n),e[Ji](m,_),!0)}o(h,"_callProcessTelemetry"),u(g,h,"processTelemetry",function(){return{item:m}},!m.sync)||g[En](m)}o(f,"_processTelemetry");function d(m,g){function h(){var _=!1;if(e){var x=Sa(e),y=e[Qr]||x[Qr];e&&(!y||y===m.core())&&!x[Eo]&&(x[Qr]=null,x[Eo]=!0,x[Yi]=!1,e[Eo]&&e[Eo](m,g)===!0&&(_=!0))}return _}o(h,"_callTeardown"),u(m,h,"unload",function(){},g.isAsync)||m[En](g)}o(d,"_unloadPlugin");function p(m,g){function h(){var _=!1;if(e){var x=Sa(e),y=e[Qr]||x[Qr];e&&(!y||y===m.core())&&!x[Eo]&&e[Jc]&&e[Jc](m,g)===!0&&(_=!0)}return _}o(h,"_callUpdate"),u(m,h,"update",function(){},!1)||m[En](g)}return o(p,"_updatePlugin"),xo(l)}o(bie,"createTelemetryPluginProxy");var vie=function(){function e(t,r,n,i){var s=this,a=L0(t,r,n,i);su(s,a,Go(a))}return o(e,"ProcessTelemetryContext"),e}();function z4(){var e=[];function t(n){n&&e[vt](n)}o(t,"_addHandler");function r(n,i){ke(e,function(s){try{s(n,i)}catch(a){Ie(n[Xi](),2,73,"Unexpected error calling unload handler - "+Je(a))}}),e=[]}return o(r,"_runHandlers"),{add:t,run:r}}o(z4,"createUnloadHandlerContainer");var V4,K4;function Y4(){var e=[];function t(n){var i=e;e=[],ke(i,function(s){try{(s.rm||s.remove).call(s)}catch(a){Ie(n,2,73,"Unloading:"+Je(a))}}),V4&&i[Be]>V4&&(K4?K4("doUnload",i):Ie(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}o(t,"_doUnload");function r(n){n&&(ga(e,n),V4&&e[Be]>V4&&(K4?K4("Add",e):Ie(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return o(r,"_addHook"),{run:t,add:r}}o(Y4,"createUnloadHookContainer");var Mb,Ul="getPlugin",Tie=(Mb={},Mb[Ea]={isVal:kl,v:{}},Mb),_p=function(){function e(){var t=this,r,n,i,s,a;u(),Tr(e,t,function(f){f[ya]=function(d,p,m,g){c(d,p,g),r=!0},f[Eo]=function(d,p){var m=f[Qr];if(!m||d&&m!==d[Qr]())return;var g,h=!1,_=d||Rd(null,m,i&&i[Ul]?i[Ul]():i),x=p||{reason:0,isAsync:!1};function y(){h||(h=!0,s.run(_,p),a.run(_[Xi]()),g===!0&&_[En](x),u())}return o(y,"_unloadCallback"),!f[Pl]||f[Pl](_,x,y)!==!0?y():g=!0,g},f[Jc]=function(d,p){var m=f[Qr];if(!m||d&&m!==d[Qr]())return;var g,h=!1,_=d||xp(null,m,i&&i[Ul]?i[Ul]():i),x=p||{reason:0};function y(){h||(h=!0,c(_.getCfg(),_.core(),_[Io]()))}return o(y,"_updateCallback"),!f._doUpdate||f._doUpdate(_,x,y)!==!0?y():g=!0,g},ou(f,"_addUnloadCb",function(){return s},"add"),ou(f,"_addHook",function(){return a},"add"),fr(f,"_unloadHooks",{g:o(function(){return a},"g")})}),t[Xi]=function(f){return l(f)[Xi]()},t[Yi]=function(){return r},t.setInitialized=function(f){r=f},t[Dl]=function(f){i=f},t[En]=function(f,d){d?d[En](f):i&&dt(i[Ji])&&i[Ji](f,null)},t._getTelCtx=l;function l(f){f===void 0&&(f=null);var d=f;if(!d){var p=n||L0(null,{},t[Qr]);i&&i[Ul]?d=p[ys](null,i[Ul]):d=p[ys](null,i)}return d}o(l,"_getTelCtx");function c(f,d,p){gn(f,Tie,cu(d)),!p&&d&&(p=d[n4]()[Io]());var m=i;i&&i[Ul]&&(m=i[Ul]()),t[Qr]=d,n=L0(p,f,d,m)}o(c,"_setDefaults");function u(){r=!1,t[Qr]=null,n=null,i=null,a=Y4(),s=z4()}o(u,"_initDefaults")}return o(e,"BaseTelemetryPlugin"),e.__ieDyn=1,e}();function Eie(e,t,r){var n={id:t,fn:r};ga(e,n);var i={remove:o(function(){ke(e,function(s,a){if(s.id===n.id)return e[xs](a,1),-1})},"remove")};return i}o(Eie,"_addInitializer");function Iie(e,t,r){for(var n=!1,i=e[Be],s=0;s<i;++s){var a=e[s];if(a)try{if(a.fn[Cl](null,[t])===!1){n=!0;break}}catch(l){Ie(r,2,64,"Telemetry initializer failed: "+on(l),{exception:Je(l)},!0)}}return!n}o(Iie,"_runInitializers");var gO=function(e){vs(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;s(),Tr(t,r,function(a,l){a.addTelemetryInitializer=function(c){return Eie(i,n++,c)},a[Ji]=function(c,u){Iie(i,c,u?u[Xi]():a[Xi]())&&a[En](c,u)},a[Pl]=function(){s()}});function s(){n=0,i=[]}return o(s,"_initDefaults"),r}return o(t,"TelemetryInitializerPlugin"),t.__ieDyn=1,t}(_p);var Bl,yO="Plugins must provide initialize method",Cie="_notificationManager",hO="SDK is still unloading...",Sie="SDK is not initialized",wie=100,Pie=5e4,Ub=Hc((Bl={cookieCfg:{}},Bl[nu]={rdOnly:!0,ref:!0,v:[]},Bl[ru]={rdOnly:!0,ref:!0,v:[]},Bl[Ea]={ref:!0,v:{}},Bl[v4]=So,Bl.loggingLevelConsole=0,Bl.diagnosticLogInterval=So,Bl));function Die(e,t){return new lO(t)}o(Die,"_createPerfManager");function Rie(e,t,r){var n=[],i=[],s={};return ke(r,function(a){(Fe(a)||Fe(a[ya]))&&Vi(yO);var l=a[iu],c=a[_s];a&&l&&(Fe(s[l])?s[l]=c:Ca(e,"Two extensions have same priority #"+l+" - "+s[l]+", "+c)),!l||l<t?n[vt](a):i[vt](a)}),{core:n,channels:i}}o(Rie,"_validateExtensions");function xO(e,t){var r=!1;return ke(t,function(n){if(n===e)return r=!0,-1}),r}o(xO,"_isPluginPresent");function Bb(e,t,r,n){r&&ht(r,function(i,s){n&&zn(s)&&zn(t[i])&&Bb(e,t[i],s,n),n&&zn(s)&&zn(t[i])?Bb(e,t[i],s,n):e.set(t,i,s)})}o(Bb,"_deepMergeConfig");function _O(e,t){var r=null,n=-1;return ke(e,function(i,s){if(i.w===t)return r=i,n=s,-1}),{i:n,l:r}}o(_O,"_findWatcher");function Aie(e,t){var r=_O(e,t).l;return r||(r={w:t,rm:o(function(){var n=_O(e,t);n.i!==-1&&e[xs](n.i,1)},"rm")},e[vt](r)),r}o(Aie,"_addDelayedCfgListener");function kie(e,t,r){ke(t,function(n){var i=Xo(e,n.w,r);delete n.w,n.rm=function(){i.rm()}})}o(kie,"_registerDelayedCfgListener");function Nie(e,t,r,n){return t.add(e[hs](function(i){var s=i.cfg.disableDbgExt;s===!0&&n&&(r[md](n),n=null),r&&!n&&s!==!0&&(n=qF(i.cfg),r[pd](n))})),n}o(Nie,"_initDebugListener");function Fie(e){return fr({rm:o(function(){e.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"},"v")})}o(Fie,"_createUnloadHook");var jb=function(){function e(){var t,r,n,i,s,a,l,c,u,f,d,p,m,g,h,_,x,y,b,v,I,D,H,V,$,Y,P,w,z,k,T,E,R;Tr(e,this,function(S){G(),S._getDbgPlgTargets=function(){return[H,i]},S[Yi]=function(){return r},S.activeStatus=function(){return Y},S._setPendingStatus=function(){Y=3},S[ya]=function(q,re,xe,ue){m&&Vi(hO),S[Yi]()&&Vi("Core cannot be initialized more than once"),t=gn(q,Ub,xe||S[Fr],!1),q=t.cfg,le(t[hs](function(we){var Ne=we.cfg,$e=Y===3;if(!$e){w=Ne.initInMemoMaxSize||wie;var Ke=Ne.instrumentationKey,tt=Ne.endpointUrl;if(Fe(Ke)){I=null,Y=A0.INACTIVE;var rt="Please provide instrumentation key";r?(Ie(n,1,100,rt),N()):Vi(rt);return}var lt=[];if(ho(Ke)?(lt[vt](Ke),I=null):I=Ke,ho(tt)?(lt[vt](tt),P=null):P=tt,lt[Be]){z=!1,Y=3;var O=kl(Ne.initTimeOut)?Ne.initTimeOut:Pie,Z=yF(lt);k=vo(function(){k=null,z||A()},O),Co(Z,function(pe){try{if(z)return;if(!pe.rejected){var Re=pe[Xc];if(Re&&Re[Be]){var Me=Re[0];if(I=Me&&Me[Xc],Re[Be]>1){var je=Re[1];P=je&&je[Xc]}}I&&(q.instrumentationKey=I,q.endpointUrl=P)}A()}catch{z||A()}})}else A();var fe=we.ref(we.cfg,Ea);ht(fe,function(pe){we.ref(fe,pe)})}})),s=ue,b=Nie(t,y,s&&S[zm](),b),L(),S[Fr]=xe;var de=q[nu];if(f=[],f[vt].apply(f,c4(c4([],re,!1),de,!1)),d=q[ru],ye(null),(!p||p[Be]===0)&&Vi("No "+ru+" available"),d&&d[Be]>1){var Ee=S[Sl]("TeeChannelController");(!Ee||!Ee.plugin)&&Ie(n,1,28,"TeeChannel required")}kie(q,D,n),D=null,r=!0,Y===A0.ACTIVE&&N()},S.getChannels=function(){var q=[];return p&&ke(p,function(re){q[vt](re)}),xo(q)},S.track=function(q){G4(S[vd](),function(){return"AppInsightsCore:track"},function(){q===null&&(ge(q),Vi("Invalid telemetry item")),!q[To]&&Fe(q[To])&&(ge(q),Vi("telemetry name required")),q.iKey=q.iKey||I,q.time=q.time||Nl(new Date),q.ver=q.ver||"4.0",!m&&S[Yi]()&&Y===A0.ACTIVE?se()[En](q):Y!==A0.INACTIVE&&i[Be]<=w&&i[vt](q)},function(){return{item:q}},!q.sync)},S[n4]=se,S[zm]=function(){return s||(s=new aO(t.cfg),S[Cie]=s),s},S[pd]=function(q){S.getNotifyMgr()[pd](q)},S[md]=function(q){s&&s[md](q)},S.getCookieMgr=function(){return c||(c=oO(t.cfg,S[Fr])),c},S.setCookieMgr=function(q){c!==q&&(Ia(c,!1),c=q)},S[vd]=function(){return a||l||cO()},S.setPerfMgr=function(q){a=q},S.eventCnt=function(){return i[Be]},S.releaseQueue=function(){if(r&&i[Be]>0){var q=i;i=[],Y===2?ke(q,function(re){re.iKey=re.iKey||I,se()[En](re)}):Ie(n,2,20,"core init status is not active")}},S.pollInternalLogs=function(q){return h=q||null,R=!1,T&&T[_a](),F(!0)};function A(){z=!0,Fe(I)?(Y=A0.INACTIVE,Ie(n,1,112,"ikey can't be resolved from promises")):Y=A0.ACTIVE,N()}o(A,"_setStatus");function N(){r&&(S.releaseQueue(),S.pollInternalLogs())}o(N,"_releaseQueues");function F(q){if((!T||!T[wl])&&!R){var re=q||n&&n.queue[Be]>0;re&&(E||(E=!0,le(t[hs](function(xe){var ue=xe.cfg.diagnosticLogInterval;(!ue||!(ue>0))&&(ue=1e4);var de=!1;T&&(de=T[wl],T[_a]()),T=rF(Ve,ue),T.unref(),T[wl]=de}))),T[wl]=!0)}return T}o(F,"_startLogPoller"),S[Ny]=function(){R=!0,T&&T[_a](),Ve()},su(S,function(){return g},["addTelemetryInitializer"]),S[Ko]=function(q,re,xe){q===void 0&&(q=!0),r||Vi(Sie),m&&Vi(hO);var ue={reason:50,isAsync:q,flushComplete:!1},de;q&&!re&&(de=Ts(function(Ne){re=Ne}));var Ee=Rd(Ue(),S);Ee[Vm](function(){y.run(S[Fr]),U4([c,s,n],q,function(){G(),re&&re(ue)})},S);function we(Ne){ue.flushComplete=Ne,m=!0,x.run(Ee,ue),S[Ny](),Ee[En](ue)}return o(we,"_doUnload"),Ve(),Ze(q,we,6,xe)||we(!1),de},S[Sl]=he,S.addPlugin=function(q,re,xe,ue){if(!q){ue&&ue(!1),B(yO);return}var de=he(q[_s]);if(de&&!re){ue&&ue(!1),B("Plugin ["+q[_s]+"] is already loaded!");return}var Ee={reason:16};function we(Ke){f[vt](q),Ee.added=[q],ye(Ee),ue&&ue(!0)}if(o(we,"_addPlugin"),de){var Ne=[de.plugin],$e={reason:2,isAsync:!!xe};ze(Ne,$e,function(Ke){Ke?(Ee.removed=Ne,Ee.reason|=32,we(!0)):ue&&ue(!1)})}else we(!1)},S.updateCfg=function(q,re){re===void 0&&(re=!0);var xe;if(S[Yi]()){xe={reason:1,cfg:t.cfg,oldCfg:Ry({},t.cfg),newConfig:Ry({},q),merge:re},q=xe.newConfig;var ue=t.cfg;q[nu]=ue[nu],q[ru]=ue[ru]}t._block(function(de){var Ee=de.cfg;Bb(de,Ee,q,re),re||ht(Ee,function(we){ms(q,we)||de.set(Ee,we,So)}),de.setDf(Ee,Ub)},!0),t.notify(),xe&&ne(xe)},S.evtNamespace=function(){return _},S.flush=Ze,S.getTraceCtx=function(q){return v||(v=fO()),v},S.setTraceCtx=function(q){v=q||null},S.addUnloadHook=le,ou(S,"addUnloadCb",function(){return x},"add"),S.onCfgChange=function(q){var re;return r?re=Xo(t.cfg,q,S[Fr]):re=Aie(D,q),Fie(re)},S.getWParam=function(){return Iy()||t.cfg.enableWParam?0:-1};function M(){var q={};V=[];var re=o(function(xe){xe&&ke(xe,function(ue){if(ue[_s]&&ue[i4]&&!q[ue.identifier]){var de=ue[_s]+"="+ue[i4];V[vt](de),q[ue.identifier]=ue}})},"_addPluginVersions");re(p),d&&ke(d,function(xe){re(xe)}),re(f)}o(M,"_setPluginVersions");function G(){r=!1,t=gn({},Ub,S[Fr]),t.cfg[o4]=1,fr(S,"config",{g:o(function(){return t.cfg},"g"),s:o(function(re){S.updateCfg(re,!1)},"s")}),fr(S,"pluginVersionStringArr",{g:o(function(){return V||M(),V},"g")}),fr(S,"pluginVersionString",{g:o(function(){return $||(V||M(),$=V.join(";")),$||yt},"g")}),fr(S,"logger",{g:o(function(){return n||(n=new Pd(t.cfg),t[Fr]=n),n},"g"),s:o(function(re){t[Fr]=re,n!==re&&(Ia(n,!1),n=re)},"s")}),S[Fr]=new Pd(t.cfg),H=[];var q=S.config[nu]||[];q.splice(0,q[Be]),ga(q,H),g=new gO,i=[],Ia(s,!1),s=null,a=null,l=null,Ia(c,!1),c=null,u=null,f=[],d=null,p=null,m=!1,h=null,_=wo("AIBaseCore",!0),x=z4(),v=null,I=null,y=Y4(),D=[],$=null,V=null,R=!1,T=null,E=!1,Y=0,P=null,w=null,z=!1,k=null}o(G,"_initDefaults");function se(){var q=L0(Ue(),t.cfg,S);return q[Vm](F),q}o(se,"_createTelCtx");function ye(q){var re=Rie(S[Fr],$F,f);u=null,$=null,V=null,p=(d||[])[0]||[],p=H4(ga(p,re[ru]));var xe=ga(H4(re[Qr]),p);H=xo(xe);var ue=S.config[nu]||[];ue.splice(0,ue[Be]),ga(ue,H);var de=se();p&&p[Be]>0&&Ob(de[ys](p),xe),Ob(de,xe),q&&ne(q)}o(ye,"_initPluginChain");function he(q){var re=null,xe=null,ue=[];return ke(H,function(de){if(de[_s]===q&&de!==g)return xe=de,-1;de.getChannel&&ue[vt](de)}),!xe&&ue[Be]>0&&ke(ue,function(de){if(xe=de.getChannel(q),!xe)return-1}),xe&&(re={plugin:xe,setEnabled:o(function(de){Sa(xe)[rp]=!de},"setEnabled"),isEnabled:o(function(){var de=Sa(xe);return!de[Eo]&&!de[rp]},"isEnabled"),remove:o(function(de,Ee){de===void 0&&(de=!0);var we=[xe],Ne={reason:1,isAsync:de};ze(we,Ne,function($e){$e&&ye({reason:32,removed:we}),Ee&&Ee($e)})},"remove")}),re}o(he,"_getPlugin");function Ue(){if(!u){var q=(H||[]).slice();nn(q,g)===-1&&q[vt](g),u=Ml(H4(q),t.cfg,S)}return u}o(Ue,"_getPluginChain");function ze(q,re,xe){if(q&&q[Be]>0){var ue=Ml(q,t.cfg,S),de=Rd(ue,S);de[Vm](function(){var Ee=!1,we=[];ke(f,function($e,Ke){xO($e,q)?Ee=!0:we[vt]($e)}),f=we,$=null,V=null;var Ne=[];d&&(ke(d,function($e,Ke){var tt=[];ke($e,function(rt){xO(rt,q)?Ee=!0:tt[vt](rt)}),Ne[vt](tt)}),d=Ne),xe&&xe(Ee),F()}),de[En](re)}else xe(!1)}o(ze,"_removePlugins");function Ve(){if(n&&n.queue){var q=n.queue.slice(0);n.queue[Be]=0,ke(q,function(re){var xe={name:h||"InternalMessageId: "+re[gd],iKey:I,time:Nl(new Date),baseType:gp.dataType,baseData:{message:re[bs]}};S.track(xe)})}}o(Ve,"_flushInternalLogs");function Ze(q,re,xe,ue){var de=1,Ee=!1,we=null;ue=ue||5e3;function Ne(){de--,Ee&&de===0&&(we&&we[_a](),we=null,re&&re(Ee),re=null)}if(o(Ne,"doCallback"),p&&p[Be]>0){var $e=se()[ys](p);$e.iterate(function(Ke){if(Ke.flush){de++;var tt=!1;Ke.flush(q,function(){tt=!0,Ne()},xe)||tt||(q&&we==null?we=vo(function(){we=null,Ne()},ue):Ne())}})}return Ee=!0,Ne(),!0}o(Ze,"_flushChannels");function L(){var q;le(t[hs](function(re){var xe=re.cfg.enablePerfMgr;if(xe){var ue=re.cfg[v4];(q!==ue||!q)&&(ue||(ue=Die),ob(re.cfg,v4,ue),q=ue,l=null),!a&&!l&&dt(ue)&&(l=ue(S,S[zm]()))}else l=null,q=null}))}o(L,"_initPerfManager");function ne(q){var re=xp(Ue(),S);re[Vm](F),(!S._updateHook||S._updateHook(re,q)!==!0)&&re[En](q)}o(ne,"_doUpdate");function B(q){var re=S[Fr];re?(Ie(re,2,73,q),F()):Vi(q)}o(B,"_logOrThrowError");function ge(q){var re=S[zm]();re&&re[Al]([q],2)}o(ge,"_notifyInvalidEvent");function le(q){y.add(q)}o(le,"_addUnloadHook")})}return o(e,"AppInsightsCore"),e.__ieDyn=1,e}();function yp(e,t){try{if(e&&e!==""){var r=Ei().parse(e);if(r&&r[Ly]&&r[Ly]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[Be])return r}}catch(n){Ie(t,1,43,"Cannot parse the response. "+(n[To]||Je(n)),{response:e})}return null}o(yp,"parseResponse");var ws="",Oie="NoResponseBody",bO="&"+Oie+"=true",$b="POST",qb=function(){function e(){var t=0,r,n,i,s,a,l,c,u,f,d,p,m,g,h;Tr(e,this,function(_,x){var y=!0;z(),_[ya]=function(k,T){i=T,n&&Ie(i,1,28,"Sender is already initialized"),_.SetConfig(k),n=!0},_._getDbgPlgTargets=function(){return[n,s,l,r]},_.SetConfig=function(k){try{if(a=k.senderOnCompleteCallBack||{},l=!!k.disableCredentials,c=k.fetchCredentials,s=!!k.isOneDs,r=!!k.enableSendPromise,f=!!k.disableXhr,d=!!k.disableBeacon,p=!!k.disableBeaconSync,h=k.timeWrapper,g=!!k.addNoResponse,m=!!k.disableFetchKeepAlive,u={sendPOST:Y},s||(y=!1),l){var T=sp();T&&T.protocol&&T.protocol[k0]()==="file:"&&(y=!1)}return!0}catch{}return!1},_.getSyncFetchPayload=function(){return t},_.getSenderInst=function(k,T){return k&&k[Be]?D(k,T):null},_.getFallbackInst=function(){return u},_[Pl]=function(k,T){z()};function b(k,T){H(T,200,{},k)}o(b,"_onSuccess");function v(k,T){Ie(i,2,26,"Failed to send telemetry.",{message:k}),H(T,400,{})}o(v,"_onError");function I(k){v("No endpoint url is provided for the batch",k)}o(I,"_onNoPayloadUrl");function D(k,T){for(var E=0,R=null,S=0;R==null&&S<k[Be];)E=k[S],!f&&E===1?xb()?R=w:A4()&&(R=Y):E===2&&ap(T)&&(!T||!m)?R=P:E===3&&Ol()&&(T?!p:!d)&&(R=$),S++;return R?{_transport:E,_isSync:T,sendPOST:R}:null}o(D,"_getSenderInterface");function H(k,T,E,R){try{k&&k(T,E,R)}catch{}}o(H,"_doOnComplete");function V(k,T){var E=Vo(),R=k[hd];if(!R)return I(T),!0;R=k[hd]+(g?bO:ws);var S=k[Rl],A=s?S:new Blob([S],{type:"text/plain;charset=UTF-8"}),N=E.sendBeacon(R,A);return N}o(V,"_doBeaconSend");function $(k,T,E){var R=k[Rl];try{if(R)if(V(k,T))b(ws,T);else{var S=a&&a.beaconOnRetry;S&&dt(S)?S(k,T,V):(u&&u.sendPOST(k,T,!0),Ie(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(A){s&&Ca(i,"Failed to send telemetry using sendBeacon API. Ex:"+Je(A)),H(T,s?0:400,{},ws)}}o($,"_beaconSender");function Y(k,T,E){var R,S,A,N=k[s4]||{};!E&&r&&(R=Ts(function(se,ye){S=se,A=ye})),s&&E&&k.disableXhrSync&&(E=!1);var F=k[hd];if(!F){I(T),S&&S(!1);return}var M=ab($b,F,y,!0,E,k[eu]);s||M.setRequestHeader("Content-type","application/json"),ke(Go(N),function(se){M.setRequestHeader(se,N[se])}),M.onreadystatechange=function(){s||(G(M),M.readyState===4&&S&&S(!0))},M.onload=function(){s&&G(M)};function G(se){var ye=a&&a.xhrOnComplete,he=ye&&dt(ye);if(he)ye(se,T,k);else{var Ue=Td(se);H(T,se[Zc],op(se,s),Ue)}}return o(G,"_doOnReadyFunc"),M.onerror=function(se){H(T,s?M[Zc]:400,op(M,s),s?ws:au(M)),A&&A(se)},M.ontimeout=function(){H(T,s?M[Zc]:500,op(M,s),s?ws:au(M)),S&&S(!1)},M.send(k[Rl]),R}o(Y,"_xhrSender");function P(k,T,E){var R,S=k[hd],A=k[Rl],N=s?A:new Blob([A],{type:"application/json"}),F,M,G,se=new Headers,ye=A[Be],he=!1,Ue=!1,ze=k[s4]||{},Ve=(R={method:$b,body:N},R[bb]=!0,R);k.headers&&Go(k.headers)[Be]>0&&(ke(Go(ze),function(B){se.append(B,ze[B])}),Ve[s4]=se),c?Ve.credentials=c:y&&s&&(Ve.credentials="include"),E&&(Ve.keepalive=!0,t+=ye,s?k._sendReason===2&&(he=!0,g&&(S+=bO)):he=!0);var Ze=new Request(S,Ve);try{Ze[bb]=!0}catch{}if(!E&&r&&(F=Ts(function(B,ge){M=B,G=ge})),!S){I(T),M&&M(!1);return}function L(B){H(T,s?0:400,{},s?ws:B)}o(L,"_handleError");function ne(B,ge,le){var q=B[Zc],re=a.fetchOnComplete;re&&dt(re)?re(B,T,le||ws,ge):H(T,q,{},le||ws)}o(ne,"_onFetchComplete");try{Co(fetch(s?S:Ze,s?Ve:null),function(B){if(E&&(t-=ye,ye=0),!Ue)if(Ue=!0,B.rejected)L(B.reason&&B.reason[bs]),G&&G(B.reason);else{var ge=B[Xc];try{!s&&!ge.ok?(L(ge.statusText),M&&M(!1)):s&&!ge.body?(ne(ge,null,ws),M&&M(!0)):Co(ge.text(),function(le){ne(ge,k,le[Xc]),M&&M(!0)})}catch(le){L(Je(le)),G&&G(le)}}})}catch(B){Ue||(L(Je(B)),G&&G(B))}return he&&!Ue&&(Ue=!0,H(T,200,{}),M&&M(!0)),s&&!Ue&&k[eu]>0&&h&&h.set(function(){Ue||(Ue=!0,H(T,500,{}),M&&M(!0))},k[eu]),F}o(P,"_doFetchSender");function w(k,T,E){var R=Ki(),S=new XDomainRequest,A=k[Rl];S.onload=function(){var se=Td(S),ye=a&&a.xdrOnComplete;ye&&dt(ye)?ye(S,T,k):H(T,200,{},se)},S.onerror=function(){H(T,400,{},s?ws:ip(S))},S.ontimeout=function(){H(T,500,{})},S.onprogress=function(){};var N=R&&R.location&&R.location.protocol||"",F=k[hd];if(!F){I(T);return}if(!s&&F.lastIndexOf(N,0)!==0){var M="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Ie(i,2,40,". "+M),v(M,T);return}var G=s?F:F[F0](/^(https?:)/,"");S.open($b,G),k[eu]&&(S[eu]=k[eu]),S.send(A),s&&E?h&&h.set(function(){S.send(A)},0):S.send(A)}o(w,"_xdrSender");function z(){t=0,n=!1,r=!1,i=null,s=null,a=null,l=null,c=null,u=null,f=!1,d=!1,p=!1,m=!1,g=!1,h=null}o(z,"_initDefaults")})}return o(e,"SenderPostManager"),e.__ieDyn=1,e}();var wO="on",vO="attachEvent",TO="addEventListener",EO="detachEvent",IO="removeEventListener",Wb="events";var _Ne=wo("aiEvtPageHide"),yNe=wo("aiEvtPageShow"),Lie=/\.[\.]+/g,Mie=/[\.]+$/,Uie=1,X4=k4("events"),Bie=/^([^.]*)(?:\.(.+)|)/;function CO(e){return e&&e[F0]?e[F0](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,yt):e}o(CO,"_normalizeNamespace");function Gb(e,t){if(t){var r=yt;et(t)?(r=yt,ke(t,function(i){i=CO(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=CO(t),r&&(r[0]!=="."&&(r="."+r),e=(e||yt)+r)}var n=Bie.exec(e||yt)||[];return{type:n[1],ns:(n[2]||yt).replace(Lie,".").replace(Mie,yt)[N0](".").sort().join(".")}}o(Gb,"_getEvtNamespace");function PO(e,t,r){r===void 0&&(r=!0);var n=X4.get(e,Wb,{},r),i=n[t];return i||(i=n[t]=[]),i}o(PO,"_getRegisteredEvents");function DO(e,t,r,n){e&&t&&t[ba]&&(e[IO]?e[IO](t[ba],r,n):e[EO]&&e[EO](wO+t[ba],r))}o(DO,"_doDetach");function jie(e,t,r,n){var i=!1;return e&&t&&t[ba]&&r&&(e[TO]?(e[TO](t[ba],r,n),i=!0):e[vO]&&(e[vO](wO+t[ba],r),i=!0)),i}o(jie,"_doAttach");function SO(e,t,r,n){for(var i=t[Be];i--;){var s=t[i];s&&(!r.ns||r.ns===s[Fy].ns)&&(!n||n(s))&&(DO(e,s[Fy],s.handler,s.capture),t[xs](i,1))}}o(SO,"_doUnregister");function $ie(e,t,r){if(t[ba])SO(e,PO(e,t[ba]),t,r);else{var n=X4.get(e,Wb,{});ht(n,function(i,s){SO(e,s,t,r)}),Go(n)[Be]===0&&X4.kill(e,Wb)}}o($ie,"_unregisterEvents");function bp(e,t){var r;return t?(et(t)?r=[e].concat(t):r=[e,t],r=Gb("xx",r).ns[N0](".")):r=e,r}o(bp,"mergeEvtNamespace");function J4(e,t,r,n,i){i===void 0&&(i=!1);var s=!1;if(e)try{var a=Gb(t,n);if(s=jie(e,a,r,i),s&&X4.accept(e)){var l={guid:Uie++,evtName:a,handler:r,capture:i};PO(e,a.type)[vt](l)}}catch{}return s}o(J4,"eventOn");function Hb(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var s=Gb(t,n),a=!1;$ie(e,s,function(l){return s.ns&&!r||l.handler===r?(a=!0,!0):!1}),a||DO(e,s,r,i)}catch{}}o(Hb,"eventOff");var vp="sampleRate",Tp="ProcessLegacy",Z4="http.method",fu="https://dc.services.visualstudio.com",Ps="/v2/track",fi="not_specified";var Q4=ky({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});var du="split",mt="length",mu="toLowerCase",jl="ingestionendpoint",$l="toString",zb="removeItem",Ad="message",RO="count";var Ep="stringify",Ip="pathname",pu="match";var di="name";var Vn="properties",mi="measurements",Cp="sizeInBytes",Sp="typeName",kd="exceptions",gu="severityLevel",e3="problemGroup",hu="parsedStack",wp="hasFullStack",Pp="assembly",Ds="fileName",xu="line",Nd="aiDataContract",_u="duration";function Vb(e,t,r){var n=t[mt],i=AO(e,t);if(i[mt]!==n){for(var s=0,a=i;r[a]!==void 0;)s++,a=Ho(i,0,147)+kO(s);i=a}return i}o(Vb,"dataSanitizeKeyAndAddUniqueness");function AO(e,t){var r;return t&&(t=hr(pn(t)),t[mt]>150&&(r=Ho(t,0,150),Ie(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),r||t}o(AO,"dataSanitizeKey");function Sr(e,t,r){r===void 0&&(r=1024);var n;return t&&(r=r||1024,t=hr(pn(t)),t[mt]>r&&(n=Ho(t,0,r),Ie(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}o(Sr,"dataSanitizeString");function yu(e,t){return Xb(e,t,2048,66)}o(yu,"dataSanitizeUrl");function Dp(e,t){var r;return t&&t[mt]>32768&&(r=Ho(t,0,32768),Ie(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}o(Dp,"dataSanitizeMessage");function Kb(e,t){var r;if(t){var n=""+t;n[mt]>32768&&(r=Ho(n,0,32768),Ie(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}o(Kb,"dataSanitizeException");function Ii(e,t){if(t){var r={};ht(t,function(n,i){if(ci(i)&&Fl())try{i=Ei()[Ep](i)}catch(s){Ie(e,2,49,"custom property is not valid",{exception:s},!0)}i=Sr(e,i,8192),n=Vb(e,n,r),r[n]=i}),t=r}return t}o(Ii,"dataSanitizeProperties");function Ci(e,t){if(t){var r={};ht(t,function(n,i){n=Vb(e,n,r),r[n]=i}),t=r}return t}o(Ci,"dataSanitizeMeasurements");function Yb(e,t){return t&&Xb(e,t,128,69)[$l]()}o(Yb,"dataSanitizeId");function Xb(e,t,r,n){var i;return t&&(t=hr(pn(t)),t[mt]>r&&(i=Ho(t,0,r),Ie(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0))),i||t}o(Xb,"dataSanitizeInput");function kO(e){var t="00"+e;return HN(t,t[mt]-3)}o(kO,"dsPadNumber");var NO=yo()||{},FO=0,qie=[null,null,null,null,null];function OO(e){var t=FO,r=qie,n=r[t];return NO.createElement?r[t]||(n=r[t]=NO.createElement("a")):n={host:Wie(e,!0)},n.href=e,t++,t>=r[mt]&&(t=0),FO=t,n}o(OO,"urlParseUrl");function Wie(e,t){var r=LO(e,t)||"";if(r){var n=r[pu](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[mt]>3&&Vt(n[2])&&n[2][mt]>0)return n[2]+(n[3]||"")}return r}o(Wie,"urlParseHost");function LO(e,t){var r=null;if(e){var n=e[pu](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[mt]>2&&Vt(n[2])&&n[2][mt]>0&&(r=n[2]||"",t&&n[mt]>2)){var i=(n[1]||"")[mu](),s=n[3]||"";(i==="http"&&s===":80"||i==="https"&&s===":443")&&(s=""),r+=s}}return r}o(LO,"urlParseFullHost");var Gie=[fu+Ps,"https://breeze.aimon.applicationinsights.io"+Ps,"https://dc-int.services.visualstudio.com"+Ps];function t3(e){return nn(Gie,e[mu]())!==-1}o(t3,"isInternalApplicationInsightsEndpoint");function MO(e,t,r,n){var i,s=n,a=n;if(t&&t[mt]>0){var l=OO(t);if(i=l.host,!s)if(l[Ip]!=null){var c=l.pathname[mt]===0?"/":l[Ip];c.charAt(0)!=="/"&&(c="/"+c),a=l[Ip],s=Sr(e,r?r+" "+c:c)}else s=Sr(e,t)}else i=n,s=n;return{target:i,name:s,data:a}}o(MO,"AjaxHelperParseDependencyPath");var r3=Yc({LocalStorage:0,SessionStorage:1}),zFe=Yc({AI:0,AI_AND_W3C:1,W3C:2}),VFe=Yc({Normal:1,Critical:2});var Fd=void 0,UO="";function BO(e){try{if(Fe(_o()))return null;var t=new Date()[$l](),r=Nr(e===r3.LocalStorage?"localStorage":"sessionStorage"),n=UO+t;r.setItem(n,t);var i=r.getItem(n)!==t;if(r[zb](n),!i)return r}catch{}return null}o(BO,"_getVerifiedStorageObject");function Jb(){return n3()?BO(r3.SessionStorage):null}o(Jb,"_getSessionStorageObject");function Zb(e){UO=e||""}o(Zb,"utlSetStoragePrefix");function n3(e){return(e||Fd===void 0)&&(Fd=!!BO(r3.SessionStorage)),Fd}o(n3,"utlCanUseSessionStorage");function Qb(e,t){var r=Jb();if(r!==null)try{return r.getItem(t)}catch(n){Fd=!1,Ie(e,2,2,"Browser failed read of session storage. "+on(n),{exception:Je(n)})}return null}o(Qb,"utlGetSessionStorage");function ev(e,t,r){var n=Jb();if(n!==null)try{return n.setItem(t,r),!0}catch(i){Fd=!1,Ie(e,2,4,"Browser failed write to session storage. "+on(i),{exception:Je(i)})}return!1}o(ev,"utlSetSessionStorage");function tv(e,t){var r=Jb();if(r!==null)try{return r[zb](t),!0}catch(n){Fd=!1,Ie(e,2,6,"Browser failed removal of session storage item. "+on(n),{exception:Je(n)})}return!1}o(tv,"utlRemoveSessionStorage");var Hie=";",zie="=";function Rp(e){if(!e)return{};var t=e[du](Hie),r=wy(t,function(i,s){var a=s[du](zie);if(a[mt]===2){var l=a[0][mu](),c=a[1];i[l]=c}return i},{});if(Go(r)[mt]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[jl]=r[jl]||"https://"+n+"dc."+r.endpointsuffix}r[jl]=r[jl]||fu,Hm(r[jl],"/")&&(r[jl]=r[jl].slice(0,-1))}return r}o(Rp,"parseConnectionString");var rv=function(){function e(t,r,n){var i=this,s=this;s.ver=1,s.sampleRate=100,s.tags={},s[di]=Sr(t,n)||fi,s.data=r,s.time=Nl(new Date),s[Nd]={time:1,iKey:1,name:1,sampleRate:o(function(){return i.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(e,"Envelope"),e}();var wa=function(){function e(t,r,n,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var s=this;s.ver=2,s[di]=Sr(t,r)||fi,s[Vn]=Ii(t,n),s[mi]=Ci(t,i)}return o(e,"Event"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}();var Vie=58,Kie=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Yie=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Xie=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Jie=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,Zie=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,Qie=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,eoe=/([^\(\s\n]+):([0-9]+)$/,jO="<no_method>",Od="error",Zo="stack",iv="stackDetails",$O="errorSrc",ov="message",HO="description",qO=[{re:Yie,len:5,m:1,fn:2,ln:3,col:4},{chk:roe,pre:toe,re:Xie,len:4,m:1,fn:2,ln:3},{re:Jie,len:3,m:1,fn:2,hdl:GO},{re:Zie,len:2,fn:1,hdl:GO}];function toe(e){return e.replace(/(\(anonymous\))/,"<anonymous>")}o(toe,"_scrubAnonymous");function roe(e){return gs(e,"[native")<0}o(roe,"_ignoreNative");function sv(e,t){var r=e;return r&&!Vt(r)&&(JSON&&JSON[Ep]?(r=JSON[Ep](e),t&&(!r||r==="{}")&&(dt(e[$l])?r=e[$l]():r=""+e)):r=""+e+" - (Missing JSON.stringify)"),r||""}o(sv,"_stringify");function zO(e,t){var r=e;return e&&(r&&!Vt(r)&&(r=e[ov]||e[HO]||r),r&&!Vt(r)&&(r=sv(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&gs(r||"",t)===-1&&(r=t+": "+r),r||""}o(zO,"_formatMessage");function noe(e){try{if(ci(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}o(noe,"_isExceptionDetailsInternal");function ioe(e){try{if(ci(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}o(ioe,"_isExceptionInternal");function WO(e){return e&&e.src&&Vt(e.src)&&e.obj&&et(e.obj)}o(WO,"_isStackDetails");function bu(e){var t=e||"";Vt(t)||(Vt(t[Zo])?t=t[Zo]:t=""+t);var r=t[du](`
`);return{src:t,obj:r}}o(bu,"_convertStackObj");function ooe(e){for(var t=[],r=e[du](`
`),n=0;n<r[mt];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t.push(i)}return{src:e,obj:t}}o(ooe,"_getOperaStack");function VO(e){var t=null;if(e)try{if(e[Zo])t=bu(e[Zo]);else if(e[Od]&&e[Od][Zo])t=bu(e[Od][Zo]);else if(e.exception&&e.exception[Zo])t=bu(e.exception[Zo]);else if(WO(e))t=e;else if(WO(e[iv]))t=e[iv];else if(Ki()&&Ki().opera&&e[ov])t=ooe(e[Ad]);else if(e.reason&&e.reason[Zo])t=bu(e.reason[Zo]);else if(Vt(e))t=bu(e);else{var r=e[ov]||e[HO]||"";Vt(e[$O])&&(r&&(r+=`
`),r+=" from "+e[$O]),r&&(t=bu(r))}}catch(n){t=bu(n)}return t||{src:"",obj:null}}o(VO,"_getStackFromErrorObj");function soe(e){var t="";return e&&(e.obj?t=e.obj.join(`
`):t=e.src||""),t}o(soe,"_formatStackTrace");function aoe(e){var t,r=e.obj;if(r&&r[mt]>0){t=[];var n=0,i=!1,s=0;ke(r,function(h){if(i||foe(h)){var _=pn(h);i=!0;var x=doe(_,n);x&&(s+=x[Cp],t.push(x),n++)}});var a=32*1024;if(s>a)for(var l=0,c=t[mt]-1,u=0,f=l,d=c;l<c;){var p=t[l][Cp],m=t[c][Cp];if(u+=p+m,u>a){var g=d-f+1;t.splice(f,g);break}f=l,d=c,l++,c--}}return t}o(aoe,"_parseStack");function i3(e){var t="";if(e&&(t=e.typeName||e[di]||"",!t))try{var r=/function (.{1,200})\(/,n=r.exec(e.constructor[$l]());t=n&&n[mt]>1?n[1]:""}catch{}return t}o(i3,"_getErrorType");function nv(e){if(e)try{if(!Vt(e)){var t=i3(e),r=sv(e,!1);return(!r||r==="{}")&&(e[Od]&&(e=e[Od],t=i3(e)),r=sv(e,!0)),gs(r,t)!==0&&t!=="String"?t+":"+r:r}}catch{}return""+(e||"")}o(nv,"_formatErrorCode");var vu=function(){function e(t,r,n,i,s,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var l=this;l.ver=2,ioe(r)?(l[kd]=r[kd]||[],l[Vn]=r[Vn],l[mi]=r[mi],r[gu]&&(l[gu]=r[gu]),r.id&&(l.id=r.id,r[Vn].id=r.id),r[e3]&&(l[e3]=r[e3]),Fe(r.isManual)||(l.isManual=r.isManual)):(n||(n={}),a&&(n.id=a),l[kd]=[KO(t,r,n)],l[Vn]=Ii(t,n),l[mi]=Ci(t,i),s&&(l[gu]=s),a&&(l.id=a))}return o(e,"Exception"),e.CreateAutoException=function(t,r,n,i,s,a,l,c){var u=i3(s||a||t);return{message:zO(t,u),url:r,lineNumber:n,columnNumber:i,error:nv(s||a||t),evt:nv(a||t),typeName:u,stackDetails:VO(l||s||a),errorSrc:c}},e.CreateFromInterface=function(t,r,n,i){var s=r[kd]&&Kc(r[kd],function(l){return uoe(t,l)}),a=new e(t,Yo(Yo({},r),{exceptions:s}),n,i);return a},e.prototype.toInterface=function(){var t=this,r=t.exceptions,n=t.properties,i=t.measurements,s=t.severityLevel,a=t.problemGroup,l=t.id,c=t.isManual,u=r instanceof Array&&Kc(r,function(f){return f.toInterface()})||void 0;return{ver:"4.0",exceptions:u,severityLevel:s,properties:n,measurements:i,problemGroup:a,id:l,isManual:c}},e.CreateSimpleException=function(t,r,n,i,s,a){var l;return{exceptions:[(l={},l[wp]=!0,l.message=t,l.stack=s,l.typeName=r,l)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=nv,e}();var loe=xo({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function coe(){var e=this,t=et(e[hu])&&Kc(e[hu],function(n){return poe(n)}),r={id:e.id,outerId:e.outerId,typeName:e[Sp],message:e[Ad],hasFullStack:e[wp],stack:e[Zo],parsedStack:t||void 0};return r}o(coe,"_toInterface");function KO(e,t,r){var n,i,s,a,l,c,u,f;if(noe(t))a=t[Sp],l=t[Ad],u=t[Zo],f=t[hu]||[],c=t[wp];else{var d=t,p=d&&d.evt;Wm(d)||(d=d[Od]||p||d),a=Sr(e,i3(d))||fi,l=Dp(e,zO(t||d,a))||fi;var m=t[iv]||VO(t);f=aoe(m),et(f)&&Kc(f,function(g){g[Pp]=Sr(e,g[Pp]),g[Ds]=Sr(e,g[Ds])}),u=Kb(e,soe(m)),c=et(f)&&f[mt]>0,r&&(r[Sp]=r[Sp]||a)}return n={},n[Nd]=loe,n.id=i,n.outerId=s,n.typeName=a,n.message=l,n[wp]=c,n.stack=u,n.parsedStack=f,n.toInterface=coe,n}o(KO,"_createExceptionDetails");function uoe(e,t){var r=et(t[hu])&&Kc(t[hu],function(i){return moe(i)})||t[hu],n=KO(e,Yo(Yo({},t),{parsedStack:r}));return n}o(uoe,"_createExDetailsFromInterface");function YO(e,t){var r=t[pu](Qie);if(r&&r[mt]>=4)e[Ds]=r[1],e[xu]=parseInt(r[2]);else{var n=t[pu](eoe);n&&n[mt]>=3?(e[Ds]=n[1],e[xu]=parseInt(n[2])):e[Ds]=t}}o(YO,"_parseFilename");function GO(e,t,r){var n=e[Ds];t.fn&&r&&r[mt]>t.fn&&(t.ln&&r[mt]>t.ln?(n=hr(r[t.fn]||""),e[xu]=parseInt(hr(r[t.ln]||""))||0):n=hr(r[t.fn]||"")),n&&YO(e,n)}o(GO,"_handleFilename");function foe(e){var t=!1;if(e&&Vt(e)){var r=hr(e);r&&(t=Kie.test(r))}return t}o(foe,"_isStackFrame");var XO=xo({level:1,method:1,assembly:0,fileName:0,line:0});function doe(e,t){var r,n;if(e&&Vt(e)&&hr(e)){n=(r={},r[Nd]=XO,r.level=t,r.assembly=hr(e),r.method=jO,r.fileName="",r.line=0,r.sizeInBytes=0,r);for(var i=0;i<qO[mt];){var s=qO[i];if(s.chk&&!s.chk(e))break;s.pre&&(e=s.pre(e));var a=e[pu](s.re);if(a&&a[mt]>=s.len){s.m&&(n.method=hr(a[s.m]||jO)),s.hdl?s.hdl(n,s,a):s.fn&&(s.ln?(n[Ds]=hr(a[s.fn]||""),n[xu]=parseInt(hr(a[s.ln]||""))||0):YO(n,a[s.fn]||""));break}i++}}return JO(n)}o(doe,"_extractStackFrame");function moe(e){var t,r=(t={},t[Nd]=XO,t.level=e.level,t.method=e.method,t.assembly=e[Pp],t.fileName=e[Ds],t.line=e[xu],t.sizeInBytes=0,t);return JO(r)}o(moe,"_stackFrameFromInterface");function JO(e){var t=Vie;return e&&(t+=e.method[mt],t+=e.assembly[mt],t+=e.fileName[mt],t+=e.level.toString()[mt],t+=e.line.toString()[mt],e[Cp]=t),e}o(JO,"_populateFrameSizeInBytes");function poe(e){return{level:e.level,method:e.method,assembly:e[Pp],fileName:e[Ds],line:e[xu]}}o(poe,"_parsedFrameToInterface");var ZO=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(e,"DataPoint"),e}();var Pa=function(){function e(t,r,n,i,s,a,l,c,u){this.aiDataContract={ver:1,metrics:1,properties:0};var f=this;f.ver=2;var d=new ZO;d[RO]=i>0?i:void 0,d.max=isNaN(a)||a===null?void 0:a,d.min=isNaN(s)||s===null?void 0:s,d[di]=Sr(t,r)||fi,d.value=n,d.stdDev=isNaN(l)||l===null?void 0:l,f.metrics=[d],f[Vn]=Ii(t,c),f[mi]=Ci(t,u)}return o(e,"Metric"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();var Ap="";function o3(e){(isNaN(e)||e<0)&&(e=0),e=eF(e);var t=Ap+e%1e3,r=Ap+ha(e/1e3)%60,n=Ap+ha(e/(1e3*60))%60,i=Ap+ha(e/(1e3*60*60))%24,s=ha(e/(1e3*60*60*24));return t=t[mt]===1?"00"+t:t[mt]===2?"0"+t:t,r=r[mt]<2?"0"+r:r,n=n[mt]<2?"0"+n:n,i=i[mt]<2?"0"+i:i,(s>0?s+".":Ap)+i+":"+n+":"+r+"."+t}o(o3,"msToTimeSpan");var Tu=function(){function e(t,r,n,i,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=Yb(t,l),c.url=yu(t,n),c[di]=Sr(t,r)||fi,isNaN(i)||(c[_u]=o3(i)),c[Vn]=Ii(t,s),c[mi]=Ci(t,a)}return o(e,"PageView"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}();var Eu=function(){function e(t,r,n,i,s,a,l,c,u,f,d,p){u===void 0&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var m=this;m.ver=2,m.id=r,m[_u]=o3(s),m.success=a,m.resultCode=l+"",m.type=Sr(t,u);var g=MO(t,n,c,i);m.data=yu(t,i)||g.data,m.target=Sr(t,g.target),f&&(m.target="".concat(m.target," | ").concat(f)),m[di]=Sr(t,g[di]),m[Vn]=Ii(t,d),m[mi]=Ci(t,p)}return o(e,"RemoteDependencyData"),e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}();var Iu=function(){function e(t,r,n,i,s){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,r=r||fi,a[Ad]=Dp(t,r),a[Vn]=Ii(t,i),a[mi]=Ci(t,s),n&&(a[gu]=n)}return o(e,"Trace"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();var Cu=function(){function e(t,r,n,i,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=yu(t,n),c[di]=Sr(t,r)||fi,c[Vn]=Ii(t,s),c[mi]=Ci(t,a),l&&(c.domProcessing=l.domProcessing,c[_u]=l[_u],c.networkConnect=l.networkConnect,c.perfTotal=l.perfTotal,c.receivedResponse=l.receivedResponse,c.sentRequest=l.sentRequest)}return o(e,"PageViewPerformance"),e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();var Da=function(){function e(t,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=r}return o(e,"Data"),e}();function Wl(e){var t="ai."+e+".";return function(r){return t+r}}o(Wl,"_aiNameFunc");var kp=Wl("application"),Cn=Wl("device"),s3=Wl("location"),Ld=Wl("operation"),av=Wl("session"),ql=Wl("user"),Su=Wl("cloud"),Np=Wl("internal"),Fp=function(e){vs(t,e);function t(){return e.call(this)||this}return o(t,"ContextTagKeys"),t}(sb({applicationVersion:kp("ver"),applicationBuild:kp("build"),applicationTypeId:kp("typeId"),applicationId:kp("applicationId"),applicationLayer:kp("layer"),deviceId:Cn("id"),deviceIp:Cn("ip"),deviceLanguage:Cn("language"),deviceLocale:Cn("locale"),deviceModel:Cn("model"),deviceFriendlyName:Cn("friendlyName"),deviceNetwork:Cn("network"),deviceNetworkName:Cn("networkName"),deviceOEMName:Cn("oemName"),deviceOS:Cn("os"),deviceOSVersion:Cn("osVersion"),deviceRoleInstance:Cn("roleInstance"),deviceRoleName:Cn("roleName"),deviceScreenResolution:Cn("screenResolution"),deviceType:Cn("type"),deviceMachineName:Cn("machineName"),deviceVMName:Cn("vmName"),deviceBrowser:Cn("browser"),deviceBrowserVersion:Cn("browserVersion"),locationIp:s3("ip"),locationCountry:s3("country"),locationProvince:s3("province"),locationCity:s3("city"),operationId:Ld("id"),operationName:Ld("name"),operationParentId:Ld("parentId"),operationRootId:Ld("rootId"),operationSyntheticSource:Ld("syntheticSource"),operationCorrelationVector:Ld("correlationVector"),sessionId:av("id"),sessionIsFirst:av("isFirst"),sessionIsNew:av("isNew"),userAccountAcquisitionDate:ql("accountAcquisitionDate"),userAccountId:ql("accountId"),userAgent:ql("userAgent"),userId:ql("id"),userStoreRegion:ql("storeRegion"),userAuthUserId:ql("authUserId"),userAnonymousUserAcquisitionDate:ql("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ql("authUserAcquisitionDate"),cloudName:Su("name"),cloudRole:Su("role"),cloudRoleVer:Su("roleVer"),cloudRoleInstance:Su("roleInstance"),cloudEnvironment:Su("environment"),cloudLocation:Su("location"),cloudDeploymentUnit:Su("deploymentUnit"),internalNodeName:Np("nodeName"),internalSdkVersion:Np("sdkVersion"),internalAgentVersion:Np("agentVersion"),internalSnippet:Np("snippet"),internalSdkSrc:Np("sdkSrc")}));var hn=new Fp;function QO(e,t){Hb(e,null,null,t)}o(QO,"_disableEvents");function lv(e){var t=yo(),r=Vo(),n=!1,i=[],s=1;r&&!Fe(r.onLine)&&!r.onLine&&(s=2);var a=0,l=p(),c=bp(wo("OfflineListener"),e);try{if(f(Ki())&&(n=!0),t){var u=t.body||t;u.ononline&&f(u)&&(n=!0)}}catch{n=!1}function f(b){var v=!1;return b&&(v=J4(b,"online",h,c),v&&J4(b,"offline",_,c)),v}o(f,"_enableEvents");function d(){return l}o(d,"_isOnline");function p(){return!(a===2||s===2)}o(p,"calCurrentState");function m(){var b=p();l!==b&&(l=b,ke(i,function(v){var I={isOnline:l,rState:s,uState:a};try{v(I)}catch{}}))}o(m,"listnerNoticeCheck");function g(b){a=b,m()}o(g,"setOnlineState");function h(){s=1,m()}o(h,"_setOnline");function _(){s=2,m()}o(_,"_setOffline");function x(){var b=Ki();if(b&&n){if(QO(b,c),t){var v=t.body||t;nr(v.ononline)||QO(v,c)}n=!1}}o(x,"_unload");function y(b){return i.push(b),{rm:o(function(){var v=i.indexOf(b);if(v>-1)return i.splice(v,1)},"rm")}}return o(y,"addListener"),{isOnline:d,isListening:o(function(){return n},"isListening"),unload:x,addListener:y,setOnlineState:g}}o(lv,"createOfflineListener");var a3="AppInsightsChannelPlugin";var Gl="duration";var xn="tags",l3="deviceType",Zi="data",Rs="name",wu="traceID",xt="length",Hl="stringify",zl="measurements",Qo="dataType",Vl="envelopeType",Ra="toString",Aa="enqueue",ka="count",e0="push",Op="emitLineDelimitedJson",Kl="clear",Md="markAsSent",Pu="clearSent",Lp="bufferOverride",Ud="BUFFER_KEY",Na="SENT_BUFFER_KEY",Yl="concat",Bd="MAX_BUFFER_SIZE",jd="triggerSend",Kn="diagLog",c3="initialize",$d="_sender",qd="endpointUrl",Wd="instrumentationKey",u3="customHeaders",cv="maxBatchSizeInBytes",f3="onunloadDisableBeacon",d3="isBeaconApiDisabled",uv="alwaysUseXhrOverride",fv="enableSessionStorageBuffer",M0="_buffer",dv="onunloadDisableFetch",mv="disableSendBeaconSplit",Mp="getSenderInst",Xl="_onError",m3="_onPartialSuccess",Up="_onSuccess",p3="itemsReceived",g3="itemsAccepted",h3="baseType",Gd="sampleRate",eL="getHashCodeScore";var pv="baseType",qr="baseData",On="properties",tL="true";function sn(e,t,r){return Is(e,t,r,Il)}o(sn,"_setValueIf");function goe(e,t,r){var n=r[xn]=r[xn]||{},i=t.ext=t.ext||{},s=t[xn]=t[xn]||[],a=i.user;a&&(sn(n,hn.userAuthUserId,a.authId),sn(n,hn.userId,a.id||a.localId));var l=i.app;l&&sn(n,hn.sessionId,l.sesId);var c=i.device;c&&(sn(n,hn.deviceId,c.id||c.localId),sn(n,hn[l3],c.deviceClass),sn(n,hn.deviceIp,c.ip),sn(n,hn.deviceModel,c.model),sn(n,hn[l3],c[l3]));var u=t.ext.web;if(u){sn(n,hn.deviceLanguage,u.browserLang),sn(n,hn.deviceBrowserVersion,u.browserVer),sn(n,hn.deviceBrowser,u.browser);var f=r[Zi]=r[Zi]||{},d=f[qr]=f[qr]||{},p=d[On]=d[On]||{};sn(p,"domain",u.domain),sn(p,"isManual",u.isManual?tL:null),sn(p,"screenRes",u.screenRes),sn(p,"userConsent",u.userConsent?tL:null)}var m=i.os;m&&(sn(n,hn.deviceOS,m[Rs]),sn(n,hn.deviceOSVersion,m.osVer));var g=i.trace;g&&(sn(n,hn.operationParentId,g.parentID),sn(n,hn.operationName,Sr(e,g[Rs])),sn(n,hn.operationId,g[wu]));for(var h={},_=s[xt]-1;_>=0;_--){var x=s[_];ht(x,function(b,v){h[b]=v}),s.splice(_,1)}ht(s,function(b,v){h[b]=v});var y=Yo(Yo({},n),h);y[hn.internalSdkVersion]||(y[hn.internalSdkVersion]=Sr(e,"javascript:".concat(hoe.Version),64)),r[xn]=P4(y)}o(goe,"_extractPartAExtensions");function Jl(e,t,r){Fe(e)||ht(e,function(n,i){pa(i)?r[n]=i:Vt(i)?t[n]=i:Fl()&&(t[n]=Ei()[Hl](i))})}o(Jl,"_extractPropsAndMeasurements");function Du(e,t){Fe(e)||ht(e,function(r,n){e[r]=n||t})}o(Du,"_convertPropsUndefinedToCustomDefinedValue");function Ru(e,t,r,n){var i=new rv(e,n,t);sn(i,"sampleRate",r[vp]),(r[qr]||{}).startTime&&(i.time=Nl(r[qr].startTime)),i.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return i[Rs]=i[Rs].replace("{0}",s),goe(e,r,i),r[xn]=r[xn]||[],P4(i)}o(Ru,"_createEnvelope");function Au(e,t){Fe(t[qr])&&Ie(e,1,46,"telemetryItem.baseData cannot be null.")}o(Au,"EnvelopeCreatorInit");var hoe={Version:"3.3.6"};function rL(e,t,r){Au(e,t);var n=t[qr][zl]||{},i=t[qr][On]||{};Jl(t[Zi],i,n),Fe(r)||Du(i,r);var s=t[qr];if(Fe(s))return Ca(e,"Invalid input for dependency data"),null;var a=s[On]&&s[On][Z4]?s[On][Z4]:"GET",l=new Eu(e,s.id,s.target,s[Rs],s[Gl],s.success,s.responseCode,a,s.type,s.correlationContext,i,n),c=new Da(Eu[Qo],l);return Ru(e,Eu[Vl],t,c)}o(rL,"DependencyEnvelopeCreator");function gv(e,t,r){Au(e,t);var n={},i={};t[pv]!==wa[Qo]&&(n.baseTypeSource=t[pv]),t[pv]===wa[Qo]?(n=t[qr][On]||{},i=t[qr][zl]||{}):t[qr]&&Jl(t[qr],n,i),Jl(t[Zi],n,i),Fe(r)||Du(n,r);var s=t[qr][Rs],a=new wa(e,s,n,i),l=new Da(wa[Qo],a);return Ru(e,wa[Vl],t,l)}o(gv,"EventEnvelopeCreator");function nL(e,t,r){Au(e,t);var n=t[qr][zl]||{},i=t[qr][On]||{};Jl(t[Zi],i,n),Fe(r)||Du(i,r);var s=t[qr],a=vu.CreateFromInterface(e,s,i,n),l=new Da(vu[Qo],a);return Ru(e,vu[Vl],t,l)}o(nL,"ExceptionEnvelopeCreator");function iL(e,t,r){Au(e,t);var n=t[qr],i=n[On]||{},s=n[zl]||{};Jl(t[Zi],i,s),Fe(r)||Du(i,r);var a=new Pa(e,n[Rs],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,s),l=new Da(Pa[Qo],a);return Ru(e,Pa[Vl],t,l)}o(iL,"MetricEnvelopeCreator");function oL(e,t,r){Au(e,t);var n,i=t[qr];!Fe(i)&&!Fe(i[On])&&!Fe(i[On][Gl])?(n=i[On][Gl],delete i[On][Gl]):!Fe(t[Zi])&&!Fe(t[Zi][Gl])&&(n=t[Zi][Gl],delete t[Zi][Gl]);var s=t[qr],a;((t.ext||{}).trace||{})[wu]&&(a=t.ext.trace[wu]);var l=s.id||a,c=s[Rs],u=s.uri,f=s[On]||{},d=s[zl]||{};if(Fe(s.refUri)||(f.refUri=s.refUri),Fe(s.pageType)||(f.pageType=s.pageType),Fe(s.isLoggedIn)||(f.isLoggedIn=s.isLoggedIn[Ra]()),!Fe(s[On])){var p=s[On];ht(p,function(h,_){f[h]=_})}Jl(t[Zi],f,d),Fe(r)||Du(f,r);var m=new Tu(e,c,u,n,f,d,l),g=new Da(Tu[Qo],m);return Ru(e,Tu[Vl],t,g)}o(oL,"PageViewEnvelopeCreator");function sL(e,t,r){Au(e,t);var n=t[qr],i=n[Rs],s=n.uri||n.url,a=n[On]||{},l=n[zl]||{};Jl(t[Zi],a,l),Fe(r)||Du(a,r);var c=new Cu(e,i,s,void 0,a,l,n),u=new Da(Cu[Qo],c);return Ru(e,Cu[Vl],t,u)}o(sL,"PageViewPerformanceEnvelopeCreator");function aL(e,t,r){Au(e,t);var n=t[qr].message,i=t[qr].severityLevel,s=t[qr][On]||{},a=t[qr][zl]||{};Jl(t[Zi],s,a),Fe(r)||Du(s,r);var l=new Iu(e,n,i,s,a),c=new Da(Iu[Qo],l);return Ru(e,Iu[Vl],t,c)}o(aL,"TraceEnvelopeCreator");var lL=function(){function e(t,r){var n=[],i=!1,s=r.maxRetryCnt;this._get=function(){return n},this._set=function(a){return n=a,n},Tr(e,this,function(a){a[Aa]=function(l){if(a[ka]()>=r.eventsLimitInMem){i||(Ie(t,2,105,"Maximum in-memory buffer size reached: "+a[ka](),!0),i=!0);return}l.cnt=l.cnt||0,!(!Fe(s)&&l.cnt>s)&&n[e0](l)},a[ka]=function(){return n[xt]},a.size=function(){for(var l=n[xt],c=0;c<n[xt];c++)l+=n[c].item[xt];return r[Op]||(l+=2),l},a[Kl]=function(){n=[],i=!1},a.getItems=function(){return n.slice(0)},a.batchPayloads=function(l){if(l&&l[xt]>0){var c=[];ke(l,function(f){c[e0](f.item)});var u=r[Op]?c.join(`
`):"["+c.join(",")+"]";return u}return null},a.createNew=function(l,c,u){var f=n.slice(0);l=l||t,c=c||{};var d=u?new hv(l,c):new x3(l,c);return ke(f,function(p){d[Aa](p)}),d}})}return o(e,"BaseSendBuffer"),e.__ieDyn=1,e}(),x3=function(e){vs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return Tr(t,i,function(s,a){s[Md]=function(l){a[Kl]()},s[Pu]=function(l){}}),i}return o(t,"ArraySendBuffer"),t.__ieDyn=1,t}(lL);var xoe=["AI_buffer","AI_sentBuffer"],hv=function(e){vs(t,e);function t(n,i){var s=e.call(this,n,i)||this,a=!1,l=i?.namePrefix,c=i[Lp]||{getItem:Qb,setItem:ev},u=c.getItem,f=c.setItem,d=i.maxRetryCnt;return Tr(t,s,function(p,m){var g=v(t[Ud]),h=v(t[Na]),_=H(),x=h[Yl](_),y=p._set(g[Yl](x));y[xt]>t[Bd]&&(y[xt]=t[Bd]),D(t[Na],[]),D(t[Ud],y),p[Aa]=function($){if(p[ka]()>=t[Bd]){a||(Ie(n,2,67,"Maximum buffer size reached: "+p[ka](),!0),a=!0);return}$.cnt=$.cnt||0,!(!Fe(d)&&$.cnt>d)&&(m[Aa]($),D(t[Ud],p._get()))},p[Kl]=function(){m[Kl](),D(t[Ud],p._get()),D(t[Na],[]),a=!1},p[Md]=function($){D(t[Ud],p._set(b($,p._get())));var Y=v(t[Na]);Y instanceof Array&&$ instanceof Array&&(Y=Y[Yl]($),Y[xt]>t[Bd]&&(Ie(n,1,67,"Sent buffer reached its maximum size: "+Y[xt],!0),Y[xt]=t[Bd]),D(t[Na],Y))},p[Pu]=function($){var Y=v(t[Na]);Y=b($,Y),D(t[Na],Y)},p.createNew=function($,Y,P){P=!!P;var w=p._get().slice(0),z=v(t[Na]).slice(0);$=$||n,Y=Y||{},p[Kl]();var k=P?new t($,Y):new x3($,Y);return ke(w,function(T){k[Aa](T)}),P&&k[Md](z),k};function b($,Y){var P=[],w=[];return ke($,function(z){w[e0](z.item)}),ke(Y,function(z){!dt(z)&&nn(w,z.item)===-1&&P[e0](z)}),P}o(b,"_removePayloadsFromBuffer");function v($){var Y=$;return Y=l?l+"_"+Y:Y,I(Y)}o(v,"_getBuffer");function I($){try{var Y=u(n,$);if(Y){var P=Ei().parse(Y);if(Vt(P)&&(P=Ei().parse(P)),P&&et(P))return P}}catch(w){Ie(n,1,42," storage key: "+$+", "+on(w),{exception:Je(w)})}return[]}o(I,"_getBufferBase");function D($,Y){var P=$;try{P=l?l+"_"+P:P;var w=JSON[Hl](Y);f(n,P,w)}catch(z){f(n,P,JSON[Hl]([])),Ie(n,2,41," storage key: "+P+", "+on(z)+". Buffer cleared",{exception:Je(z)})}}o(D,"_setBuffer");function H(){var $=[];try{return ke(xoe,function(Y){var P=V(Y);if($=$[Yl](P),l){var w=l+"_"+Y,z=V(w);$=$[Yl](z)}}),$}catch(Y){Ie(n,2,41,"Transfer events from previous buffers: "+on(Y)+". previous Buffer items can not be removed",{exception:Je(Y)})}return[]}o(H,"_getPreviousEvents");function V($){try{var Y=I($),P=[];return ke(Y,function(w){var z={item:w,cnt:0};P[e0](z)}),tv(n,$),P}catch{}return[]}o(V,"_getItemsFromPreviousKey")}),s}o(t,"SessionStorageSendBuffer");var r;return r=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+r.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(lL);var cL=function(){function e(t){Tr(e,this,function(r){r.serialize=function(a){var l=n(a,"root");try{return Ei()[Hl](l)}catch(c){Ie(t,1,48,c&&dt(c[Ra])?c[Ra]():"Error serializing object",null,!0)}};function n(a,l){var c="__aiCircularRefCheck",u={};if(!a)return Ie(t,1,48,"cannot serialize object because it is null or undefined",{name:l},!0),u;if(a[c])return Ie(t,2,50,"Circular reference detected while serializing object",{name:l},!0),u;if(!a.aiDataContract){if(l==="measurements")u=s(a,"number",l);else if(l==="properties")u=s(a,"string",l);else if(l==="tags")u=s(a,"string",l);else if(et(a))u=i(a,l);else{Ie(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Ei()[Hl](a),u=a}catch(f){Ie(t,1,48,f&&dt(f[Ra])?f[Ra]():"Error serializing object",null,!0)}}return u}return a[c]=!0,ht(a.aiDataContract,function(f,d){var p=dt(d)?d()&1:d&1,m=dt(d)?d()&4:d&4,g=d&2,h=a[f]!==void 0,_=ci(a[f])&&a[f]!==null;if(p&&!h&&!g)Ie(t,1,24,"Missing required field specification. The field is required but not present on source",{field:f,name:l});else if(!m){var x=void 0;_?g?x=i(a[f],f):x=n(a[f],f):x=a[f],x!==void 0&&(u[f]=x)}}),delete a[c],u}o(n,"_serializeObject");function i(a,l){var c;if(a)if(!et(a))Ie(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{c=[];for(var u=0;u<a[xt];u++){var f=a[u],d=n(f,l+"["+u+"]");c[e0](d)}}return c}o(i,"_serializeArray");function s(a,l,c){var u;return a&&(u={},ht(a,function(f,d){if(l==="string")d===void 0?u[f]="undefined":d===null?u[f]="null":d[Ra]?u[f]=d[Ra]():u[f]="invalid field: toString() is not defined.";else if(l==="number")if(d===void 0)u[f]="undefined";else if(d===null)u[f]="null";else{var p=parseFloat(d);u[f]=p}else u[f]="invalid field: "+c+" is of unknown type.",Ie(t,1,u[f],null,!0)})),u}o(s,"_serializeStringMap")})}return o(e,"Serializer"),e.__ieDyn=1,e}();var _oe=8,uL=function(){function e(){}return o(e,"HashCodeScoreGenerator"),e.prototype.getHashCodeScore=function(t){var r=this.getHashCode(t)/e.INT_MAX_VALUE;return r*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[xt]<_oe;)t=t[Yl](t);for(var r=5381,n=0;n<t[xt];++n)r=(r<<5)+r+t.charCodeAt(n),r=r&r;return Math.abs(r)},e.INT_MAX_VALUE=2147483647,e}();var fL=function(){function e(){var t=this,r=new uL,n=new Fp;t.getSamplingScore=function(i){var s=0;return i[xn]&&i[xn][n.userId]?s=r.getHashCodeScore(i[xn][n.userId]):i.ext&&i.ext.user&&i.ext.user.id?s=r[eL](i.ext.user.id):i[xn]&&i[xn][n.operationId]?s=r.getHashCodeScore(i[xn][n.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace[wu]?s=r.getHashCodeScore(i.ext.telemetryTrace[wu]):s=Math.random()*100,s}}return o(e,"SamplingScoreGenerator"),e}();var dL=function(){function e(t,r){this.INT_MAX_VALUE=2147483647;var n=r||cu(null);(t>100||t<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[Gd]=t,this.samplingScoreGenerator=new fL}return o(e,"Sample"),e.prototype.isSampledIn=function(t){var r=this[Gd],n=!1;return r==null||r>=100||t.baseType===Pa[Qo]?!0:(n=this.samplingScoreGenerator.getSamplingScore(t)<r,n)},e}();var Or,Fa,As=void 0,mL="",yoe=65e3;function pL(e){try{return e.responseText}catch{}return null}o(pL,"_getResponseText");function boe(e){return e&&e.sendPOST}o(boe,"isOverrideFn");var gL=Hc((Or={endpointUrl:Sd(Il,fu+Ps)},Or[Op]=Jo(),Or.maxBatchInterval=15e3,Or[cv]=102400,Or.disableTelemetry=Jo(),Or[fv]=Jo(!0),Or.isRetryDisabled=Jo(),Or[d3]=Jo(!0),Or[mv]=Jo(!0),Or.disableXhr=Jo(),Or[dv]=Jo(),Or[f3]=Jo(),Or[Wd]=As,Or.namePrefix=As,Or.samplingPercentage=Sd(voe,100),Or[u3]=As,Or.convertUndefined=As,Or.eventsLimitInMem=1e4,Or[Lp]=!1,Or.httpXHROverride={isVal:boe,v:As},Or[uv]=Jo(),Or.transports=As,Or.retryCodes=As,Or.maxRetryCnt={isVal:pa,v:10},Or));function voe(e){return!isNaN(e)&&e>0&&e<=100}o(voe,"_chkSampling");var Toe=(Fa={},Fa[wa.dataType]=gv,Fa[Iu.dataType]=aL,Fa[Tu.dataType]=oL,Fa[Cu.dataType]=sL,Fa[vu.dataType]=nL,Fa[Pa.dataType]=iL,Fa[Eu.dataType]=rL,Fa),xv=function(e){vs(t,e);function t(){var r=e.call(this)||this;r.priority=1001,r.identifier=a3;var n,i,s,a,l,c,u,f,d=0,p,m,g,h,_,x,y,b,v,I,D,H,V,$,Y,P,w,z,k,T,E,R,S,A,N,F,M;return Tr(t,r,function(G,se){De(),G.pause=function(){pe(),a=!0},G.resume=function(){a&&(a=!1,i=null,we(),fe())},G.flush=function(W,X,ae){if(W===void 0&&(W=!0),!a){pe();try{return G[jd](W,null,ae||1)}catch(me){Ie(G[Kn](),1,22,"flush failed, telemetry will not be collected: "+on(me),{exception:Je(me)})}}},G.onunloadFlush=function(){if(!a)if(y||T)try{return G[jd](!0,Ke,2)}catch(W){Ie(G[Kn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+on(W),{exception:Je(W)})}else G.flush(!1)},G.addHeader=function(W,X){f[W]=X},G[c3]=function(W,X,ae,me){G.isInitialized()&&Ie(G[Kn](),1,28,"Sender is already initialized"),se[c3](W,X,ae,me);var _e=G.identifier;c=new cL(X.logger),n=0,i=null,s=0,G[$d]=null,u=0;var Te=G[Kn]();g=bp(wo("Sender"),X.evtNamespace&&X.evtNamespace()),m=lv(g),G._addHook(Xo(W,function(Ae){var Ye=Ae.cfg;Ye.storagePrefix&&Zb(Ye.storagePrefix);var ut=L0(null,Ye,X),Ce=ut.getExtCfg(_e,gL),At=Ce[qd];if(h&&At===h){var It=Ye[qd];It&&It!==At&&(Ce[qd]=It)}ho(Ce[Wd])&&(Ce[Wd]=Ye[Wd]),fr(G,"_senderConfig",{g:o(function(){return Ce},"g")}),_!==Ce[qd]&&(h=_=Ce[qd]),X.activeStatus()===A0.PENDING?G.pause():X.activeStatus()===A0.ACTIVE&&G.resume(),I&&I!==Ce[u3]&&ke(I,function(it){delete f[it.header]}),x=Ce[cv],y=(Ce[f3]===!1||Ce[d3]===!1)&&Ol(),b=Ce[f3]===!1&&Ol(),v=Ce[d3]===!1&&Ol(),T=Ce[uv],E=!!Ce.disableXhr,M=Ce.retryCodes;var nt=Ce[Lp],ft=!!Ce[fv]&&(!!nt||n3()),wt=Ce.namePrefix,Lt=ft!==P||ft&&z!==wt||ft&&w!==nt;if(G[M0]){if(Lt)try{G[M0]=G[M0].createNew(Te,Ce,ft)}catch(it){Ie(G[Kn](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+on(it),{exception:Je(it)})}we()}else G[M0]=ft?new hv(Te,Ce):new x3(Te,Ce);z=wt,P=ft,w=nt,R=!Ce[dv]&&ap(!0),N=!!Ce[mv],G._sample=new dL(Ce.samplingPercentage,Te),H=Ce[Wd],!ho(H)&&!We(H,Ye)&&Ie(Te,1,100,"Invalid Instrumentation key "+H),I=Ce[u3],Vt(h)&&!t3(h)&&I&&I[xt]>0?ke(I,function(it){r.addHeader(it.header,it.value)}):I=null,k=Ce.enableSendPromise;var Gt=he();F?F.SetConfig(Gt):(F=new qb,F[c3](Gt,Te));var kt=Ce.httpXHROverride,Nt=null,Pt=null,Kt=R4([3,1,2],Ce.transports);Nt=F&&F[Mp](Kt,!1);var Mt=F&&F.getFallbackInst();S=o(function(it,Tt){return ue(Mt,it,Tt)},"_xhrSend"),A=o(function(it,Tt){return ue(Mt,it,Tt,!1)},"_fallbackSend"),Nt=T?kt:Nt||kt||Mt,G[$d]=function(it,Tt){return ue(Nt,it,Tt)},R&&(p=lt);var Ut=R4([3,1],Ce.unloadTransports);R||(Ut=Ut.filter(function(it){return it!==2})),Pt=F&&F[Mp](Ut,!0),Pt=T?kt:Pt||kt,(T||Ce.unloadTransports||!p)&&Pt&&(p=o(function(it,Tt){return ue(Pt,it,Tt)},"_syncUnloadSender")),p||(p=S),D=Ce.disableTelemetry,V=Ce.convertUndefined||As,$=Ce.isRetryDisabled,Y=Ce.maxBatchInterval}))},G.processTelemetry=function(W,X){X=G._getTelCtx(X);var ae=X[Kn]();try{var me=ne(W,ae);if(!me)return;var _e=B(W,ae);if(!_e)return;var Te=c.serialize(_e),Ae=G[M0];we(Te);var Ye={item:Te,cnt:0};Ae[Aa](Ye),fe()}catch(ut){Ie(ae,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+on(ut),{exception:Je(ut)})}G.processNext(W,X)},G.isCompletelyIdle=function(){return!a&&d===0&&G._buffer[ka]()===0},G.getOfflineListener=function(){return m},G._xhrReadyStateChange=function(W,X,ae){if(!rt(X))return Ue(W,X,ae)},G[jd]=function(W,X,ae){W===void 0&&(W=!0);var me;if(!a)try{var _e=G[M0];if(D)_e[Kl]();else{if(_e[ka]()>0){var Te=_e.getItems();je(ae||0,W),X?me=X.call(G,Te,W):me=G[$d](Te,W)}s=+new Date}pe()}catch(Ye){var Ae=hb();(!Ae||Ae>9)&&Ie(G[Kn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+on(Ye),{exception:Je(Ye)})}return me},G.getOfflineSupport=function(){return{getUrl:o(function(){return h},"getUrl"),createPayload:q,serialize:ge,batch:le,shouldProcess:o(function(W){return!!ne(W)},"shouldProcess")}},G._doTeardown=function(W,X){G.onunloadFlush(),Ia(m,!1),De()},G[Xl]=function(W,X,ae){if(!rt(W))return ze(W,X,ae)},G[m3]=function(W,X){if(!rt(W))return Ve(W,X)},G[Up]=function(W,X){if(!rt(W))return Ze(W,X)},G._xdrOnLoad=function(W,X){if(!rt(X))return ye(W,X)};function ye(W,X){var ae=pL(W);if(W&&(ae+""=="200"||ae===""))n=0,G[Up](X,0);else{var me=yp(ae);me&&me[p3]&&me[p3]>me[g3]&&!$?G[m3](X,me):G[Xl](X,ip(W))}}o(ye,"_xdrOnLoad");function he(){try{var W={xdrOnComplete:o(function(ae,me,_e){var Te=L(_e);if(Te)return ye(ae,Te)},"xdrOnComplete"),fetchOnComplete:o(function(ae,me,_e,Te){var Ae=L(Te);if(Ae)return Ne(ae.status,Ae,ae.url,Ae[xt],ae.statusText,_e||"")},"fetchOnComplete"),xhrOnComplete:o(function(ae,me,_e){var Te=L(_e);if(Te)return Ue(ae,Te,Te[xt])},"xhrOnComplete"),beaconOnRetry:o(function(ae,me,_e){return tt(ae,me,_e)},"beaconOnRetry")},X={enableSendPromise:k,isOneDs:!1,disableCredentials:!1,disableXhr:E,disableBeacon:!v,disableBeaconSync:!b,senderOnCompleteCallBack:W};return X}catch{}return null}o(he,"_getSendPostMgrConfig");function Ue(W,X,ae){W.readyState===4&&Ne(W.status,X,W.responseURL,ae,au(W),pL(W)||W.response)}o(Ue,"_xhrReadyStateChange");function ze(W,X,ae){Ie(G[Kn](),2,26,"Failed to send telemetry.",{message:X}),G._buffer&&G._buffer[Pu](W)}o(ze,"_onError");function Ve(W,X){for(var ae=[],me=[],_e=X.errors.reverse(),Te=0,Ae=_e;Te<Ae.length;Te++){var Ye=Ae[Te],ut=W.splice(Ye.index,1)[0];Re(Ye.statusCode)?me[e0](ut):ae[e0](ut)}W[xt]>0&&G[Up](W,X[g3]),ae[xt]>0&&G[Xl](ae,au(null,["partial success",X[g3],"of",X.itemsReceived].join(" "))),me[xt]>0&&(O(me),Ie(G[Kn](),2,40,"Partial success. Delivered: "+W[xt]+", Failed: "+ae[xt]+". Will retry to send "+me[xt]+" our of "+X[p3]+" items"))}o(Ve,"_onPartialSuccess");function Ze(W,X){G._buffer&&G._buffer[Pu](W)}o(Ze,"_onSuccess");function L(W){try{if(W){var X=W,ae=X.oriPayload;return ae&&ae[xt]?ae:null}}catch{}return null}o(L,"_getPayloadArr");function ne(W,X){if(D)return!1;if(!W)return X&&Ie(X,1,7,"Cannot send empty telemetry"),!1;if(W.baseData&&!W[h3])return X&&Ie(X,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(W[h3]||(W[h3]="EventData"),!G[$d])return X&&Ie(X,1,28,"Sender was not initialized"),!1;if(re(W))W[vp]=G._sample[Gd];else return X&&Ie(X,2,33,"Telemetry item was sampled out and not sent",{SampleRate:G._sample[Gd]}),!1;return!0}o(ne,"_validate");function B(W,X){var ae=W.iKey||H,me=t.constructEnvelope(W,ae,X,V);if(!me){Ie(X,1,47,"Unable to create an AppInsights envelope");return}var _e=!1;if(W[xn]&&W[xn][Tp]&&(ke(W[xn][Tp],function(Te){try{Te&&Te(me)===!1&&(_e=!0,Ca(X,"Telemetry processor check returns false"))}catch(Ae){Ie(X,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+on(Ae),{exception:Je(Ae)},!0)}}),delete W[xn][Tp]),!_e)return me}o(B,"_getEnvelope");function ge(W){var X=mL,ae=G[Kn]();try{var me=ne(W,ae),_e=null;me&&(_e=B(W,ae)),_e&&(X=c.serialize(_e))}catch{}return X}o(ge,"_serialize");function le(W){var X=mL;return W&&W[xt]&&(X="["+W.join(",")+"]"),X}o(le,"_batch");function q(W){var X=Ee();return{urlString:h,data:W,headers:X}}o(q,"_createPayload");function re(W){return G._sample.isSampledIn(W)}o(re,"_isSampledIn");function xe(W,X,ae,me){X===200&&W?G._onSuccess(W,W[xt]):me&&G[Xl](W,me)}o(xe,"_getOnComplete");function ue(W,X,ae,me){me===void 0&&(me=!0);var _e=o(function(Ye,ut,Ce){return xe(X,Ye,ut,Ce)},"onComplete"),Te=de(X),Ae=W&&W.sendPOST;return Ae&&Te?(me&&G._buffer[Md](X),Ae(Te,_e,!ae)):null}o(ue,"_doSend");function de(W){if(et(W)&&W[xt]>0){var X=G[M0].batchPayloads(W),ae=Ee(),me={data:X,urlString:h,headers:ae,disableXhrSync:E,disableFetchKeepAlive:!R,oriPayload:W};return me}return null}o(de,"_getPayload");function Ee(){try{var W=f||{};return t3(h)&&(W[Q4[6]]=Q4[7]),W}catch{}return null}o(Ee,"_getHeaders");function we(W){var X=W?W[xt]:0;return G[M0].size()+X>x?((!m||m.isOnline())&&G[jd](!0,null,10),!0):!1}o(we,"_checkMaxSize");function Ne(W,X,ae,me,_e,Te){var Ae=null;if(G._appId||(Ae=yp(Te),Ae&&Ae.appId&&(G._appId=Ae.appId)),(W<200||W>=300)&&W!==0){if((W===301||W===307||W===308)&&!$e(ae)){G[Xl](X,_e);return}if(m&&!m.isOnline()){if(!$){var Ye=10;O(X,Ye),Ie(G[Kn](),2,40,". Offline - Response Code: ".concat(W,". Offline status: ").concat(!m.isOnline(),". Will retry to send ").concat(X.length," items."))}return}!$&&Re(W)?(O(X),Ie(G[Kn](),2,40,". Response code "+W+". Will retry to send "+X[xt]+" items.")):G[Xl](X,_e)}else $e(ae),W===206?(Ae||(Ae=yp(Te)),Ae&&!$?G[m3](X,Ae):G[Xl](X,_e)):(n=0,G[Up](X,me))}o(Ne,"_checkResponsStatus");function $e(W){return u>=10?!1:!Fe(W)&&W!==""&&W!==h?(h=W,++u,!0):!1}o($e,"_checkAndUpdateEndPointUrl");function Ke(W,X){if(p)p(W,!1);else{var ae=F&&F[Mp]([3],!0);return ue(ae,W,X)}}o(Ke,"_doUnloadSend");function tt(W,X,ae){var me=W,_e=me&&me.oriPayload;if(N)A&&A(_e,!0),Ie(G[Kn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Te=[],Ae=0;Ae<_e[xt];Ae++){var Ye=_e[Ae],ut=[Ye],Ce=de(ut);ae(Ce,X)?G._onSuccess(ut,ut[xt]):Te[e0](Ye)}Te[xt]>0&&(A&&A(Te,!0),Ie(G[Kn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(tt,"_onBeaconRetry");function rt(W){try{if(W&&W[xt])return Vt(W[0])}catch{}return null}o(rt,"_isStringArr");function lt(W,X){var ae=null;if(et(W)){for(var me=W[xt],_e=0;_e<W[xt];_e++)me+=W[_e].item[xt];var Te=F.getSyncFetchPayload();Te+me<=yoe?ae=2:Ol()?ae=3:(ae=1,Ie(G[Kn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ae=F&&F[Mp]([ae],!0);return ue(Ae,W,X)}return null}o(lt,"_fetchKeepAliveSender");function O(W,X){if(X===void 0&&(X=1),!(!W||W[xt]===0)){var ae=G[M0];ae[Pu](W),n++;for(var me=0,_e=W;me<_e.length;me++){var Te=_e[me];Te.cnt=Te.cnt||0,Te.cnt++,ae[Aa](Te)}Z(X),fe()}}o(O,"_resendPayload");function Z(W){var X=10,ae;if(n<=1)ae=X;else{var me=(Math.pow(2,n)-1)/2,_e=ha(Math.random()*me*X)+1;_e=W*_e,ae=zc(GN(_e,3600),X)}var Te=bo()+ae*1e3;i=Te}o(Z,"_setRetryTime");function fe(){if(!l&&!a){var W=i?zc(0,i-bo()):0,X=zc(Y,W);l=vo(function(){l=null,G[jd](!0,null,1)},X)}}o(fe,"_setupTimer");function pe(){l&&l.cancel(),l=null,i=null}o(pe,"_clearScheduledTimer");function Re(W){return Fe(M)?W===401||W===408||W===429||W===500||W===502||W===503||W===504:M[xt]&&M.indexOf(W)>-1}o(Re,"_isRetriable");function Me(){var W="getNotifyMgr";return G.core[W]?G.core[W]():G.core._notificationManager}o(Me,"_getNotifyMgr");function je(W,X){var ae=Me();if(ae&&ae.eventsSendRequest)try{ae.eventsSendRequest(W,X)}catch(me){Ie(G[Kn](),1,74,"send request notification failed: "+on(me),{exception:Je(me)})}}o(je,"_notifySendRequest");function We(W,X){var ae=X.disableInstrumentationKeyValidation,me=Fe(ae)?!1:ae;if(me)return!0;var _e="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Te=new RegExp(_e);return Te.test(W)}o(We,"_validateInstrumentationKey");function De(){G[$d]=null,G[M0]=null,G._appId=null,G._sample=null,f={},m=null,n=0,i=null,s=null,a=!1,l=null,c=null,u=0,d=0,p=null,g=null,h=null,_=null,x=0,y=!1,I=null,D=!1,H=null,V=As,$=!1,P=null,z=As,E=!1,R=!1,N=!1,S=null,A=null,F=null,fr(G,"_senderConfig",{g:o(function(){return D4({},gL)},"g")})}o(De,"_initDefaults")}),r}return o(t,"Sender"),t.constructEnvelope=function(r,n,i,s){var a;n!==r.iKey&&!Fe(n)?a=Yo(Yo({},r),{iKey:n}):a=r;var l=Toe[a.baseType]||gv;return l(i,a,s)},t}(_p);var ku="instrumentationKey",Bp="connectionString",Hd="endpointUrl",zd="userOverrideEndpointUrl";var Vd,_v=void 0,Eoe=(Vd={diagnosticLogInterval:Sd(Ioe,1e4)},Vd[Bp]=_v,Vd.endpointUrl=_v,Vd[ku]=_v,Vd.extensionConfig={},Vd);function Ioe(e){return e&&e>0}o(Ioe,"_chkDiagLevel");var hL=function(){function e(t){var r=new jb,n;(Fe(t)||Fe(t[ku])&&Fe(t[Bp]))&&Vi("Invalid input configuration"),Tr(e,this,function(s){fr(s,"config",{g:o(function(){return n},"g")}),a(),s.initialize=a,s.track=i,su(s,r,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function a(){var l=gn(t||{},Eoe);n=l.cfg,r.addUnloadHook(Xo(l,function(){var c=n[Bp];if(ho(c)){var u=tp(function(m,g){Co(c,function(h){var _=h.value,x=n[ku];if(!h.rejected&&_){n[Bp]=_;var y=Rp(_);x=y.instrumentationkey||x}m(x)})}),f=tp(function(m,g){Co(c,function(h){var _=h.value,x=n[Hd];if(!h.rejected&&_){var y=Rp(_),b=y.ingestionendpoint;x=b?b+Ps:x}m(x)})});n[ku]=u,n[Hd]=n[zd]||f}if(Vt(c)){var d=Rp(c),p=d.ingestionendpoint;n[Hd]=n[zd]?n[zd]:p+Ps,n[ku]=d.instrumentationkey||n[ku]}n[Hd]=n[zd]?n[zd]:n[Hd]})),r.initialize(n,[new xv])}o(a,"_initialize")});function i(s){s&&(s.baseData=s.baseData||{},s.baseType=s.baseType||"EventData"),r.track(s)}o(i,"_track")}return o(e,"ApplicationInsights"),e.__ieDyn=1,e}();var Po=Bt(hc());var Kd=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Mn).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{pt.debug(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new hL({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Hs).getTelemetryUrl(),extensionConfig:{[a3]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Coe(t),this.commonProperties=Soe(t),this.#e=zr(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function Coe(e){let t={},r=e.get(an);t["ai.session.id"]=r.sessionId;let n=e.get(Bi);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Po.type()} ${Po.release()}`,t["ai.device.osArchitecture"]=Po.arch(),t["ai.device.osPlatform"]=Po.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(vn).getVersion(),t}o(Coe,"getTags");function Soe(e){let t={};t.common_os=Po.platform(),t.common_platformversion=Po.release(),t.common_arch=Po.arch(),t.common_cpu=Array.from(new Set(Po.cpus().map(n=>n.model))).join();let r=e.get(an);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(Soe,"getCommonProperties");var woe="7d7048df-6dd0-4048-bb23-b716c1461f8f",Poe="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Doe="f0000000-0000-0000-0000-000000000000",Oa=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(po).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(po);s.setReporter(new Kd(t,r,woe)),s.setRestrictedReporter(new Kd(t,r,Poe)),s.setFTReporter(new Kd(t,r,Doe,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function yv(e,t,r){return e.get(Oa).initialize(e,t,r)}o(yv,"setupTelemetryReporters");var Lr=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#r;#n=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#r&&!this.#n||(this.#t=t,this.#i=r,this.#r=n,this.#n=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#r};this.didChange(t)}};var Wr=class{constructor(t=!1){this.primed=t}static{o(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},t0=class extends Wa{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},_3=class extends Wr{constructor(r,n=!1){super(n);this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubSession")}async fetchCopilotToken(){let r=await this.getGitHubSession();if(!r)throw new t0({reason:"NotSignedIn"});if(!r.accessToken)throw new t0({reason:"HTTP401"});let n=await SN(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new t0(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.copilotToken}async getToken(){if(!this.primed){let r=new Error("Token requested before initialization");if(lD(this.ctx))throw r;fa.exception(this.ctx,r,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotToken().then(n=>this.tokenPromise!==r?n:(this.token=n,this.tokenPromise=void 0,this.ctx.get(Lr).forceNormal(),this.token),n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Lr);if(n instanceof t0)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Se(this.ctx,"auth.reset_token_"+r),fa.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):fa.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}};var Zl=class{static{o(this,"CitationManager")}};var Roe={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1},jp=class{constructor(){this.capabilities={...Roe}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};function Aoe(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(Aoe,"findLastIdxMonotonous");var xL=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=Aoe(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};var bv=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?b3.isErrorNoTelemetry(t)?new b3(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},koe=new bv;function v3(e){Noe(e)||koe.onUnexpectedError(e)}o(v3,"onUnexpectedError");var vv="Canceled";function Noe(e){return e instanceof y3?!0:e instanceof Error&&e.name===vv&&e.message===vv}o(Noe,"isCancellationError");var y3=class extends Error{static{o(this,"CancellationError")}constructor(){super(vv),this.name=this.message}};var b3=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}};var yL;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(yL||={});function bL(e,t){return(r,n)=>t(e(r),e(n))}o(bL,"compareBy");var vL=o((e,t)=>e-t,"numberComparator");var _L=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||yL.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};function CL(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(CL,"groupBy");var EL,IL,TL=class{constructor(t,r){this.toKey=r;this._map=new Map;this[EL]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(IL=Symbol.iterator,EL=Symbol.toStringTag,IL)](){return this.values()}};function Tv(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(Tv,"createSingleCallFunction");var Ev;(b=>{function e(v){return v&&typeof v=="object"&&typeof v[Symbol.iterator]=="function"}b.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}b.empty=r,o(r,"empty");function*n(v){yield v}b.single=n,o(n,"single");function i(v){return e(v)?v:n(v)}b.wrap=i,o(i,"wrap");function s(v){return v||t}b.from=s,o(s,"from");function*a(v){for(let I=v.length-1;I>=0;I--)yield v[I]}b.reverse=a,o(a,"reverse");function l(v){return!v||v[Symbol.iterator]().next().done===!0}b.isEmpty=l,o(l,"isEmpty");function c(v){return v[Symbol.iterator]().next().value}b.first=c,o(c,"first");function u(v,I){let D=0;for(let H of v)if(I(H,D++))return!0;return!1}b.some=u,o(u,"some");function f(v,I){for(let D of v)if(I(D))return D}b.find=f,o(f,"find");function*d(v,I){for(let D of v)I(D)&&(yield D)}b.filter=d,o(d,"filter");function*p(v,I){let D=0;for(let H of v)yield I(H,D++)}b.map=p,o(p,"map");function*m(v,I){let D=0;for(let H of v)yield*I(H,D++)}b.flatMap=m,o(m,"flatMap");function*g(...v){for(let I of v)yield*I}b.concat=g,o(g,"concat");function h(v,I,D){let H=D;for(let V of v)H=I(H,V);return H}b.reduce=h,o(h,"reduce");function*_(v,I,D=v.length){for(I<-v.length&&(I=0),I<0&&(I+=v.length),D<0?D+=v.length:D>v.length&&(D=v.length);I<D;I++)yield v[I]}b.slice=_,o(_,"slice");function x(v,I=Number.POSITIVE_INFINITY){let D=[];if(I===0)return[D,v];let H=v[Symbol.iterator]();for(let V=0;V<I;V++){let $=H.next();if($.done)return[D,b.empty()];D.push($.value)}return[D,{[Symbol.iterator](){return H}}]}b.consume=x,o(x,"consume");async function y(v){let I=[];for await(let D of v)I.push(D);return Promise.resolve(I)}b.asyncToArray=y,o(y,"asyncToArray")})(Ev||={});var Iv=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Foe(e){return Array.isArray(e)}o(Foe,"isEntries");var PL,T3=class e{constructor(t,r){this[PL]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Foe(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new Iv(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(PL=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},DL,SL=class{constructor(t,r){this[DL]="ResourceSet";!t||typeof t=="function"?this._map=new T3(t):(this._map=new T3(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(DL=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var RL,wL=class{constructor(){this[RL]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(RL=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};var E3=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Ooe=!1,Yd=null;var AL=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(d=>d.source!==null&&!this.getRootParent(d,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(d=>d.value));if(n=u.filter(d=>!(d.parent&&f.has(d.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(d,p){for(;d.length>0&&p.some(m=>typeof m=="string"?m===d[0]:d[0].match(m));)d.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(d=>d.trim().replace("at ","")).filter(d=>d!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new E3;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(bL(c=>c.idx,vL));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let d=0;d<u.length;d++){let p=u[d];p=`(shared with ${s.get(u.slice(0,d+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let g=s.get(u.slice(0,d).join(`
`)),h=CL([...g].map(_=>i(_)[d]),_=>_);delete h[u[d]];for(let[_,x]of Object.entries(h))f.unshift(`    - stacktraces of ${x.length} other leaks continue with ${_}`);f.unshift(p)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Loe(e){Yd=e}o(Loe,"setDisposableTracker");if(Ooe){let e="__is_disposable_tracked__";Loe(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==r0.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==r0.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function Sv(e){return Yd?.trackDisposable(e),e}o(Sv,"trackDisposable");function wv(e){Yd?.markAsDisposed(e)}o(wv,"markAsDisposed");function Cv(e,t){Yd?.setParent(e,t)}o(Cv,"setParentOfDisposable");function Moe(e,t){if(Yd)for(let r of e)Yd.setParent(r,t)}o(Moe,"setParentOfDisposables");function kL(e){if(Ev.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(kL,"dispose");function NL(...e){let t=Pv(()=>kL(e));return Moe(e,t),t}o(NL,"combinedDisposable");function Pv(e){let t=Sv({dispose:Tv(()=>{wv(t),e()})});return t}o(Pv,"toDisposable");var Xd=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;Sv(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(wv(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{kL(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return Cv(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),Cv(t,null))}},r0=class{constructor(){this._store=new Xd;Sv(this),Cv(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){wv(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};var $p=class extends r0{static{o(this,"ChatQuotaService")}constructor(t){super(),this._register(zr(t,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(t){let r=t.get("x-quota-snapshot-premium_models")||t.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),i=parseInt(n.get("ent")||"0",10),s=parseFloat(n.get("ov")||"0.0"),a=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),c=n.get("rst"),u;c?u=new Date(c):(u=new Date,u.setMonth(u.getMonth()+1));let f=Math.max(0,i*(1-l/100));this._quotaInfo={quota:i,used:f,overageUsed:s,overageEnabled:a,resetDate:u}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(t){!t||!t.quota_snapshots||!t.quota_reset_date||(this._quotaInfo={overageEnabled:t.quota_snapshots.premium_interactions.overage_permitted,overageUsed:t.quota_snapshots.premium_interactions.overage_count,quota:t.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(t.quota_reset_date),used:Math.max(0,t.quota_snapshots.premium_interactions.entitlement*(1-t.quota_snapshots.premium_interactions.percent_remaining/100))})}};var FL=Bt(ny());var I3="CompletionRequested",Nu=class{constructor(t){this.ctx=t}static{o(this,"CompletionNotifier")}#e=new FL.default;notifyRequest(t,r,n,i,s){return this.#e.emit(I3,{completionId:r,completionState:t,telemetryData:n,cancellationToken:i,options:s})}onRequest(t){let r=yl(this.ctx,t,`event.${I3}`);return this.#e.on(I3,r),Qt.Disposable.create(()=>this.#e.off(I3,r))}};var Dv=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},C3=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Dv(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};var qp={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};var OL=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],LL={".php":[".blade"]},ML=Object.keys(qp).flatMap(e=>qp[e].extensions);var Rv=Bt(Xu());var Zd=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},Wp=class{static{o(this,"LanguageDetection")}},Av=new Map,Jd=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(qp)){for(let n of t)Av.set(n,[...Av.get(n)??[],e]);for(let n of r??[])Jd.set(n,[...Jd.get(n)??[],e])}var kv=class extends Wp{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Ka(t.uri),n=Rv.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new Zd(s.languageId,s.isGuess,a):new Zd(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(OL.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=Rv.extname(n).toLowerCase();if(i.length>0&&ML.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=LL[t];return!n||n.includes(r)}detectLanguageId(t,r){if(Jd.has(t))return{languageId:Jd.get(t)[0],isGuess:!1};let n=Av.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),Jd.has(t))return{languageId:Jd.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},Nv=class extends Wp{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Zd("cpp",n.isGuess,n.fileExtension):n}},Fv=class extends Wp{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Zd(r.languageId,!0,""):this.delegate.detectLanguage(r)}},Uoe=new Nv(new Fv(new kv));function Qd({uri:e,languageId:t}){let r=Uoe.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(Qd,"detectLanguage");var S3=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=jL(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=UL(n.text,!1,s);if(c-l===f.length)for(let p=0,m=f.length;p<m;p++)u[p+l+1]=f[p];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let d=n.text.length-(a-s);if(d!==0)for(let p=l+1+f.length,m=u.length;p<m;p++)u[p]=u[p]+d}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=UL(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&BL(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Ql;(function(e){function t(i,s,a,l){return new S3(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof S3)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=Ov(s.map(Boe),(f,d)=>{let p=f.range.start.line-d.range.start.line;return p===0?f.range.start.character-d.range.start.character:p}),c=0,u=[];for(let f of l){let d=i.offsetAt(f.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(a.substring(c,d)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(Ql||(Ql={}));function Ov(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);Ov(n,t),Ov(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(Ov,"mergeSort");function UL(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);BL(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(UL,"computeLineOffsets");function BL(e){return e===13||e===10}o(BL,"isEOL");function jL(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(jL,"getWellformedRange");function Boe(e){let t=jL(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(Boe,"getWellformedEdit");km();var pi=class{static{o(this,"LocationFactory")}static{this.range=vr.create.bind(vr)}static{this.position=Gn.create.bind(Gn)}},Fu=class e{constructor(t,r,n){this.uri=t;this._textDocument=r;this.detectedLanguageId=n}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=Ql.create(t.clientUri,t.clientLanguageId,n,t.getText());return Ql.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=Ql.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Ql.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId)}static create(t,r,n,i,s=Qd({uri:t,languageId:r})){return new e(f0(t),Ql.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=vr.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=vr.create(Gn.create(r,0),Gn.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};var Gp={isBlocked:!1,reason:"VALID_FILE"},w3={isBlocked:!1,reason:"NO_MATCHING_POLICY"},$L={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},Ou={all:"all",repo:"repo"},La=new Ct("contentExclusion");var P3=class{static{o(this,"PolicyEvaluator")}};var ZBe=new Ct("repository"),Hp=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},ec=class{static{o(this,"GitConfigLoader")}};var qL=Bt(hc());var D3=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Va.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=Va.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,qL.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var R3=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(ec).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new D3(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var $oe=100,Lv=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},Ma=class e{constructor(t){this.ctx=t;this.remoteResolver=new R3;this.cache=new xr($oe)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=V0(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new Lv(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Vr),i=yn(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=yn(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=xc(r,s[1]),l=yn(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=yn(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=yn(a,"commondir");a=xc(a,(await t.readFileString(u)).trimEnd());let f=yn(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};var WL=o((e,t)=>{if(al.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...al.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");var A3=new WeakMap;function k3(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&A3.has(e))return A3.get(e);switch(A3.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=k3(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+k3(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+k3(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return A3.set(e,n),n}o(k3,"t");function N3(e){return k3(e,0)}o(N3,"r");var Mv=new WeakMap;function GL(e,t,r=N3(t)){let n,i,s=Mv.get(e);s||(Mv.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function d(p){for(;u=n[f++];u.r(p));}o(d,"o"),Mv.delete(e),e(i).then(function(p){if(p.length!==n.length)return d(new Error("loader value length mismatch"));for(;u=p[f++],f<=p.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},d)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(GL,"n");var HL=new WeakMap;function qoe(e,t,r,n=N3(r)){if(t||(t=HL.get(e)),t||HL.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=GL(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(qoe,"n");function zL(e,t){return function(r,n){return qoe(e,t,r,n)}}o(zL,"o");var mM=Bt(oM(),1);var Vp=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var Xoe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Kp=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Joe=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),sM=o(e=>e.join(""),"rangesToString"),aM=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,d="";e:for(;s<e.length;){let h=e.charAt(s);if((h==="!"||h==="^")&&s===r+1){u=!0,s++;continue}if(h==="]"&&a&&!c){f=s+1;break}if(a=!0,h==="\\"&&!c){c=!0,s++;continue}if(h==="["&&!c){for(let[_,[x,y,b]]of Object.entries(Xoe))if(e.startsWith(_,s)){if(d)return["$.",!1,e.length-r,!0];s+=_.length,b?i.push(x):n.push(x),l=l||y;continue e}}if(c=!1,d){h>d?n.push(Kp(d)+"-"+Kp(h)):h===d&&n.push(Kp(h)),d="",s++;continue}if(e.startsWith("-]",s+1)){n.push(Kp(h+"-")),s+=2;continue}if(e.startsWith("-",s+1)){d=h,s+=2;continue}n.push(Kp(h)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let h=n[0].length===2?n[0].slice(-1):n[0];return[Joe(h),!1,f-r,!1]}let p="["+(u?"^":"")+sM(n)+"]",m="["+(u?"":"^")+sM(i)+"]";return[n.length&&i.length?"("+p+"|"+m+")":n.length?p:m,l,f-r,!0]},"parseClass");var tc=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Zoe=new Set(["!","?","+","*","@"]),lM=o(e=>Zoe.has(e),"isExtglobType"),Qoe="(?!(?:^|/)\\.\\.?(?:$|/))",F3="(?!\\.)",e0e=new Set(["[","."]),t0e=new Set(["..","."]),r0e=new Set("().*{}+?[]^$\\!"),n0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),jv="[^/]",cM=jv+"*?",uM=jv+"+?",e1=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#r=[];#n;#o;#s;#l=!1;#a;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#n=r,this.#e=this.#n?this.#n.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#l&&this.#s.push(this),this.#o=this.#n?this.#n.#r.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#r)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#r.map(t=>String(t)).join("|")+")":this.#c=this.#r.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#l)return this;this.toString(),this.#l=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#n;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#r.length;i++)for(let s of t.#r){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#r[i])}r=n,n=r.#n}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#n===this))throw new Error("invalid part: "+r);this.#r.push(r)}}toJSON(){let t=this.type===null?this.#r.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#r.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#l&&this.#n?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#n?.isStart())return!1;if(this.#o===0)return!0;let t=this.#n;for(let r=0;r<this.#o;r++){let n=t.#r[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#n?.type==="!")return!0;if(!this.#n?.isEnd())return!1;if(!this.type)return this.#n?.isEnd();let t=this.#n?this.#n.#r.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#r)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let m=n,g="";for(;m<t.length;){let h=t.charAt(m++);if(s||h==="\\"){s=!s,g+=h;continue}if(a){m===l+1?(h==="^"||h==="!")&&(c=!0):h==="]"&&!(m===l+2&&c)&&(a=!1),g+=h;continue}else if(h==="["){a=!0,l=m,c=!1,g+=h;continue}if(!i.noext&&lM(h)&&t.charAt(m)==="("){r.push(g),g="";let _=new e(h,r);m=e.#u(t,_,m,i),r.push(_);continue}g+=h}return r.push(g),m}let u=n+1,f=new e(null,r),d=[],p="";for(;u<t.length;){let m=t.charAt(u++);if(s||m==="\\"){s=!s,p+=m;continue}if(a){u===l+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(u===l+2&&c)&&(a=!1),p+=m;continue}else if(m==="["){a=!0,l=u,c=!1,p+=m;continue}if(lM(m)&&t.charAt(u)==="("){f.push(p),p="";let g=new e(m,f);f.push(g),u=e.#u(t,g,u,i);continue}if(m==="|"){f.push(p),p="",d.push(f),f=new e(null,r);continue}if(m===")")return p===""&&r.#r.length===0&&(r.#f=!0),f.push(p),p="",r.push(...d,f),u;p+=m}return r.type=null,r.#t=void 0,r.#r=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#a}toRegExpSource(t){let r=t??!!this.#a.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#r.map(m=>{let[g,h,_,x]=typeof m=="string"?e.#p(m,this.#t,c):m.toRegExpSource(t);return this.#t=this.#t||_,this.#i=this.#i||x,g}).join(""),f="";if(this.isStart()&&typeof this.#r[0]=="string"&&!(this.#r.length===1&&t0e.has(this.#r[0]))){let g=e0e,h=r&&g.has(u.charAt(0))||u.startsWith("\\.")&&g.has(u.charAt(2))||u.startsWith("\\.\\.")&&g.has(u.charAt(4)),_=!r&&!t&&g.has(u.charAt(0));f=h?Qoe:_?F3:""}let d="";return this.isEnd()&&this.#e.#l&&this.#n?.type==="!"&&(d="(?:$|\\/)"),[f+u+d,tc(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#r=[c],this.type=null,this.#t=void 0,[c,tc(this.toString()),!1,!1]}let a=!n||t||r||!F3?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?F3:"")+uM;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?F3:"")+cM+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,tc(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#r.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#p(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(r0e.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,d,p]=aM(t,l);if(d){s+=u,a=a||f,l+=d-1,r=r||p;continue}}if(c==="*"){n&&t==="*"?s+=uM:s+=cM,r=!0;continue}if(c==="?"){s+=jv,r=!0;continue}s+=n0e(c)}return[s,tc(t),!!r,a]}};var $v=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Yn=o((e,t,r={})=>(Vp(t),!r.nocomment&&t.charAt(0)==="#"?!1:new t1(t,r).match(e)),"minimatch"),i0e=/^\*+([^+@!?\*\[\(]*)$/,o0e=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),s0e=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),a0e=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),l0e=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),c0e=/^\*+\.\*+$/,u0e=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),f0e=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),d0e=/^\.\*+$/,m0e=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),p0e=/^\*+$/,g0e=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),h0e=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),x0e=/^\?+([^+@!?\*\[\(]*)?$/,_0e=o(([e,t=""])=>{let r=pM([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),y0e=o(([e,t=""])=>{let r=gM([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),b0e=o(([e,t=""])=>{let r=gM([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),v0e=o(([e,t=""])=>{let r=pM([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),pM=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),gM=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),hM=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",fM={win32:{sep:"\\"},posix:{sep:"/"}},T0e=hM==="win32"?fM.win32.sep:fM.posix.sep;Yn.sep=T0e;var i0=Symbol("globstar **");Yn.GLOBSTAR=i0;var E0e="[^/]",I0e=E0e+"*?",C0e="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",S0e="(?:(?!(?:\\/|^)\\.).)*?",w0e=o((e,t={})=>r=>Yn(r,e,t),"filter");Yn.filter=w0e;var n0=o((e,t={})=>Object.assign({},e,t),"ext"),P0e=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Yn;let t=Yn;return Object.assign(o((n,i,s={})=>t(n,i,n0(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,n0(e,s))}static defaults(i){return t.defaults(n0(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,n0(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,n0(e,s))}},unescape:o((n,i={})=>t.unescape(n,n0(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,n0(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,n0(e,i)),"filter"),defaults:o(n=>t.defaults(n0(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,n0(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,n0(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,n0(e,s)),"match"),sep:t.sep,GLOBSTAR:i0})},"defaults");Yn.defaults=P0e;var xM=o((e,t={})=>(Vp(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,mM.default)(e)),"braceExpand");Yn.braceExpand=xM;var D0e=o((e,t={})=>new t1(e,t).makeRe(),"makeRe");Yn.makeRe=D0e;var R0e=o((e,t,r={})=>{let n=new t1(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");Yn.match=R0e;var dM=/[?*]|[+@!]\(.*?\)|\[|\]/,A0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),t1=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){Vp(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||hM,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!dM.test(s[2]))&&!dM.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),_=!h&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),x=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),y=!x&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),b=_?3:h?0:void 0,v=y?3:x?0:void 0;if(typeof b=="number"&&typeof v=="number"){let[I,D]=[t[b],r[v]];I.toLowerCase()===D.toLowerCase()&&(r[v]=I,v>b?r=r.slice(v):b>v&&(t=t.slice(b)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],d=t[a];if(this.debug(r,f,d),f===!1)return!1;if(f===i0){this.debug("GLOBSTAR",[r,f,d]);var p=a,m=l+1;if(m===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<c;){var g=t[p];if(this.debug(`
globstar while`,t,p,r,m,g),this.matchOne(t.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,c,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,m),p===c))}let h;if(typeof f=="string"?(h=d===f,this.debug("string match",f,d,h)):(h=f.test(d),this.debug("pattern match",f,d,h)),!h)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return xM(this.pattern,this.options)}parse(t){Vp(t);let r=this.options;if(t==="**")return i0;if(t==="")return"";let n,i=null;(n=t.match(p0e))?i=r.dot?h0e:g0e:(n=t.match(i0e))?i=(r.nocase?r.dot?l0e:a0e:r.dot?s0e:o0e)(n[1]):(n=t.match(x0e))?i=(r.nocase?r.dot?y0e:_0e:r.dot?b0e:v0e)(n):(n=t.match(c0e))?i=r.dot?f0e:u0e:(n=t.match(d0e))&&(i=m0e);let s=e1.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?I0e:r.dot?C0e:S0e,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let d of f.flags.split(""))i.add(d);return typeof f=="string"?A0e(f):f===i0?i0:f._src});return u.forEach((f,d)=>{let p=u[d+1],m=u[d-1];f!==i0||m===i0||(m===void 0?p!==void 0&&p!==i0?u[d+1]="(?:\\/|"+n+"\\/)?"+p:u[d]=n:p===void 0?u[d-1]=m+"(?:\\/|"+n+")?":p!==i0&&(u[d-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,u[d+1]=i0))}),u.filter(f=>f!==i0).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Yn.defaults(t).Minimatch}};Yn.AST=e1;Yn.Minimatch=t1;Yn.escape=$v;Yn.unescape=tc;var qv="contentExclusion",O3=class extends P3{static{o(this,"CopilotContentExclusion")}#e;#t=new xr(1e4);#i=new xr(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=xc(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#r(n?.url??Ou.all);if(!i)return w3;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return La.exception(this.#e,n,`${qv}.evaluate`),$L}return Gp}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=Gp,a,l=F8(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(Yn(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=Wv(c,"FILE_BLOCKED_PATH"),a=u;break e}return La.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return Gp;let a=this.evaluateFileContent(i,s,n);return La.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>_M(a)).some(a=>a.test(n)))return Wv(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>_M(a)).some(a=>a.test(n)))return Wv(i,"FILE_BLOCKED_TEXT_BASED");return Gp}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){H0(this.#e,t,`${qv}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#r(t){if(this.#n?.length)return this.#n;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#n;setTestingRules(t){this.#n=t}#o=zL(async t=>{let r=await this.#e.get(Wr).getGitHubSession();if(!r)throw new Wa("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),s=t.includes(Ou.all);t.filter(u=>u!==Ou.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==Ou.all).join(",")),i.searchParams.set("scope",s?Ou.all:Ou.repo);let l=await Wc(this.#e,r,i.href),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new Ws(l)}return this.#s("fetch.success"),WL(L0e,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(Ma).getRepo(V0(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Se(this.#e,`${qv}.${t}`,Qe.createAndMarkAsIssued(r,n))}};function _M(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(_M,"stringToRegex");function Wv(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(Wv,"fileBlockedEvaluationResult");var k0e=j.Object({name:j.String(),type:j.String()}),N0e=j.Object({paths:j.Array(j.String()),ifNoneMatch:j.Optional(j.Array(j.String())),ifAnyMatch:j.Optional(j.Array(j.String())),source:k0e}),F0e=j.Array(N0e),O0e=j.Object({rules:F0e,last_updated_at:j.String(),scope:j.String()}),L0e=j.Array(O0e);var o0=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new O3(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(ir).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(ir).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),zr(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=y5(t)!==void 0;if(i||La.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let d=Date.now(),p=await f.evaluate(t,r),m=Date.now();return s.push({key:u,result:p,elapsedMs:m-d}),p},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){La.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Lr).setInactive(r??"Copilot is disabled"):this.ctx.get(Lr).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===w3.reason)return La.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Se(this.ctx,t,Qe.createAndMarkAsIssued(l,c)),Se(this.ctx,t,Qe.createAndMarkAsIssued({...l,path:r},c),1),La.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function Lu(e,t,r){let n=await e.get(o0).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(Lu,"isDocumentValid");var ir=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await Lu(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=f0(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return Lu(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(Vr).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Vr).readFileString(t)}getWorkspaceFolder(t){let r=f0(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(f0(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=f0(t.uri);for(let n of this.getWorkspaceFolders()){let i=f0(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Ka(r)}};var ks=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(ir).getRelativePath(t)??Ka(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(ir).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await Lu(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:Fu.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(Vr).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Vr).stat(t)).size/1024/1024}};var rc=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};function Mu(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}o(Mu,"delay");var Gv=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},M3=class extends Gv{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Do=class{constructor(t){this.ctx=t;this.#e=new Ct("AsyncCompletionManager");this.requests=new xr(100);this.mostRecentRequestId=""}static{o(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(Hv(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#e.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new M3;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#e.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#e.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(qe).asyncCompletionsTimeout(s);return a<0?(this.#e.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#e.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new rc,l=new Map,c=o(f=>()=>{let d=l.get(f);d!==void 0&&(d(),l.delete(f),!s&&l.size===0&&(s=!0,this.#e.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(Hv(r,n,f)){if(f.state===0){let d=r.substring(f.prefix.length),{completionText:p}=f.choice;if(!p.startsWith(d)||p.length<=d.length){c(f.headerRequestId)();return}p=p.substring(d.length),f.choice.telemetryData.measurements.foundOffset=d.length,this.#e.debug(this.ctx,`[${t}] Found completion at offset ${d.length}: ${JSON.stringify(p)}`),a.resolve([{...f.choice,completionText:p},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,d]of this.requests)Hv(r,n,d)?l.set(f,d.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,d);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function Hv(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(Hv,"isCandidate");var Xp=class{constructor(t){this.maxSize=t;this.root=new Yp;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[s,a]of n.children)if(s.startsWith(i)){let l=s.slice(0,i.length),c=new Yp;n.removeChild(s),n.addChild(l,c),c.addChild(s.slice(l.length),a),n=c,i=i.slice(l.length);break}if(i.length>0){let s=new Yp;n.addChild(i,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},Yp=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var Ns=class{constructor(){this.cache=new Xp(100)}static{o(this,"CompletionsCache")}findAll(t,r){return this.cache.findAll(t).flatMap(({remainingKey:n,value:i})=>i.content.filter(s=>s.suffix===r&&s.choice.completionText.startsWith(n)&&s.choice.completionText.length>n.length).map(s=>({...s.choice,completionText:s.choice.completionText.slice(n.length),telemetryData:s.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(t,r,n){let i=this.cache.findAll(t);if(i.length>0&&i[0].remainingKey===""){let s=i[0].value.content;this.cache.set(t,{content:[...s,{suffix:r,choice:n}]})}else this.cache.set(t,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new Xp(100)}};var U0=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return ii.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=E8(n,ii.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{I8(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var U3=class extends U0{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function yM(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=E8(l,ii.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{I8(l,u,f)}}o(yM,"getBlockPositionType");var Ua={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};function bM(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let d;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?d=.014387526569215037:e[8]>2266.5000000000005?d=-.1397298649743087:d=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?d=.0029819092211896296:e[218]>1e-35?d=.08450459375645737:d=.031646488019280654:d=-.03544960151460596:e[9]>9.500000000000002?d=-.026002317735915183:e[7]>1.5000000000000002?d=.005074258810794793:d=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?d=.023269218675640847:e[148]>1e-35?d=.03812942399144545:e[115]>1e-35?d=.10512283476967227:d=-.02607307479736138:e[227]>1e-35?d=-.036576708299046294:e[101]>1e-35?d=.027948683650881864:e[149]>1e-35?d=-.08195628451594297:e[50]>1e-35?d=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?d=-.06860333850762075:e[225]>1e-35?d=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?d=.028599705845427533:d=-.010746719511640914:e[0]>4877.500000000001?d=-.07251187886096228:d=-.021299712241446785:e[118]>1e-35?d=-.11902023760964736:d=15874469526809387e-21:e[8]>267.50000000000006?d=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?d=.09614842415142123:d=.006049073167176467:e[189]>1e-35?d=.05562696451900713:d=-.006257541923837303;let p;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?p=-.10069846585436666:p=-.010577995535809317:e[146]>1e-35?p=-.008877238274428668:e[280]>1e-35?p=.10076055897012692:e[6]>70.50000000000001?p=-.020603523042565547:e[7]>1.5000000000000002?p=.02819095420813202:p=-.1223354167911277:p=-.025073583348334844:e[8]>416.50000000000006?p=.01718560189149466:e[230]>1e-35?p=.12281803224342265:p=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.13070568109867683:e[4]>63.50000000000001?p=-.027221825262496814:p=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?p=-.00605574271293711:p=.04739407327741249:p=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?p=.1252215087035768:p=.003905888677601057:e[52]>1e-35?p=.045466299731038815:e[2]>100.50000000000001?p=-.07815624550168065:e[308]>1e-35?p=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?p=-.03538265083203445:e[18]>1e-35?p=.1591211669800727:p=.015151475408241136:e[8]>557.5000000000001?p=-.04225569725456342:p=-.022455546324243267:e[308]>1e-35?p=.01325441736085826:e[197]>1e-35?p=.03752194600682512:e[225]>1e-35?p=.06583712394533976:p=-.005205289866839043;let m;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?m=.010264022580774884:m=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?m=-.0936747137352166:e[0]>384.50000000000006?m=.019846244507320695:m=-.0751102554077272:m=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?m=.11654906890054273:m=.0346250587613322:e[4]>39.50000000000001?m=-.08568002378645614:e[9]>16.500000000000004?m=-.12010535752923689:m=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?m=-.12056431231412057:e[131]>1e-35?m=.03652965550568472:m=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?m=-.10141481732178981:m=-.003936457893178248:e[31]>1e-35?m=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?m=.12972828769588213:m=-.003137412232297087:e[2]>100.50000000000001?m=-.0730872929087944:e[308]>1e-35?m=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?m=.07934620723812878:m=-.018598568353702116:m=-.030635505446410763:e[128]>1e-35?m=-.06962290453843294:e[84]>1e-35?m=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?m=-.034938657503885584:m=.016339322898966915:e[197]>1e-35?m=.03358907965870046:e[18]>1e-35?m=-.01754013791515288:m=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let h;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?h=.03507251990078782:e[2]>14.500000000000002?h=.004905698363309292:e[8]>2421.5000000000005?h=-.10306119951984316:h=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?h=-.08503171085833393:h=.015130974593044409:h=-.024425267075198206:h=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?h=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?h=.09908783187786288:h=-.06920877329925636:e[8]>241.50000000000003?h=-.016756131804203496:e[9]>33.50000000000001?h=.04903179955263626:e[217]>1e-35?h=-.047416847619291644:h=-.0017200891991431119:e[39]>1e-35?h=-.10389927604977028:e[134]>1e-35?h=-.050480365434872866:e[178]>1e-35?h=-.05167855791556937:e[8]>2134.5000000000005?h=-.01663197335585307:e[242]>1e-35?h=-.05361323756615453:e[118]>1e-35?h=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?h=-.0016544848369620534:h=.04494144460483587:h=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?h=.051166688553608355:h=-.06623908820705383:e[84]>1e-35?h=-.12990936092409747:e[306]>1e-35?h=-.07020596855118943:e[49]>1e-35?h=.06272964802556856:e[192]>1e-35?h=.06540204627162581:h=.008277910531592885;let _;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?_=.003325460510319164:_=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?_=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?_=.0697359767152808:e[230]>1e-35?_=.06513506845651572:_=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?_=.013616385013146277:_=.04171540100223404:_=-.04360396575094823:e[212]>1e-35?_=.025945477945627522:_=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?_=-.07856453318384411:_=-.014803893522351739:e[39]>1e-35?_=-.09185452630751932:e[149]>1e-35?_=-.07122426086157027:e[134]>1e-35?_=-.04231052091434186:e[227]>1e-35?_=-.029815824273994197:e[50]>1e-35?_=-.15736496271211153:e[222]>1e-35?_=-.02360285356956629:e[128]>1e-35?_=-.03922080193836443:e[136]>1e-35?_=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?_=-.0029736170756835783:_=-.06482902102259112:e[84]>1e-35?_=-.11340924635708383:e[94]>1e-35?_=-.03635703457792193:e[118]>1e-35?_=-.058181913914186034:e[126]>1e-35?_=-.062030576241517366:e[116]>1e-35?_=-.045086301850604006:e[25]>1e-35?_=-.031665223656767286:e[203]>1e-35?_=-.009444685731407691:_=.0112265153772187;let x;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?x=.022717227245241684:x=-.049700413274686266:x=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?x=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?x=-.12263724050601095:x=.0070743478891288035:e[288]>1e-35?x=-.050439138582109:x=.0255701593657891:x=-.005812703740580558:e[6]>49.50000000000001?x=-.008542694147899113:x=.035147383686665:x=-.0960461939274094:e[32]>1e-35?x=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?x=-.01800870272656664:x=-.07817304234604389:e[30]>1e-35?x=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?x=.08778416018479411:x=-.026563982720830256:x=-.05296139548112329:e[50]>1e-35?x=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?x=-.036572140520852024:e[183]>1e-35?x=-.10766853736801459:x=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?x=.09513215942486053:x=-.03641865277445567:e[10]>59.50000000000001?x=.03177172388687933:e[39]>1e-35?x=-.10234241303898953:e[243]>1e-35?x=-.02966738115984321:e[190]>1e-35?x=-.04312785336449181:e[118]>1e-35?x=-.05808521194081524:x=.006720381600740378;let y;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?y=-.046284053681928526:e[210]>1e-35?y=49778070699847876e-21:e[13]>1e-35?y=.03328070054739309:e[128]>1e-35?y=-.054790214922938896:e[126]>1e-35?y=-.08524792218532945:y=.014414055975542446:e[1]>38.50000000000001?y=-.07287851335872973:y=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?y=-.12459748864088374:y=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?y=.13044981041138526:e[9]>71.50000000000001?y=-.056068402282406865:e[9]>12.500000000000002?y=.038957722962512764:y=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?y=-.0852126122372075:e[225]>1e-35?y=.10082066771689505:e[1]>161.50000000000003?y=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?y=-.010835400874777133:y=.004607419973807752:y=-.016989075258564062:y=.009205417251698097:e[23]>1e-35?e[20]>1e-35?y=.10184317139657878:e[0]>5724.500000000001?y=-.1163666496650542:e[1]>106.50000000000001?y=.1303850608190687:e[129]>1e-35?y=.10745031509534769:y=.006166901738036226:e[31]>1e-35?y=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?y=.005004582564506611:y=-.10481581731668346:e[19]>1e-35?y=-.009850706427306281:y=-.02608226348051303;let b;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?b=-.0024117174588695603:b=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?b=.04575380761203418:b=-.10025595041353463:e[15]>1e-35?b=.17705790384964004:b=.0073813837628615014:b=.07676373681392407:b=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?b=.07078572910026419:e[4]>23.500000000000004?b=.005513918674164821:b=.0206586476926392:e[0]>5269.500000000001?b=.07706773525822633:b=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?b=-.03204783603215824:b=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?b=-.0930246911392012:b=.011173087289703683:e[3]>24.500000000000004?b=.03281421918878597:b=.12449335091369843:e[204]>1e-35?b=.06634531187326123:b=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?b=-.041196758517013515:e[4]>7.500000000000001?b=-2942718111029724e-20:e[4]>6.500000000000001?b=.11953909558532852:b=.03188615019450534:e[122]>1e-35?b=-.0616037324662157:e[101]>1e-35?b=.027230889593349412:e[8]>4968.500000000001?b=-.1113986516540856:e[3]>2.5000000000000004?b=-.002045140426885727:e[129]>1e-35?b=.12641163374304432:b=.014909826232873194;let v;e[308]>1e-35?e[0]>7277.500000000001?v=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?v=-.040884836258675006:e[210]>1e-35?v=-.0003719413278428804:e[13]>1e-35?v=.030287610160818174:v=.011174130013595384:e[1]>38.50000000000001?v=-.0662442170185784:v=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?v=-.08092286307197555:v=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?v=-.1155211149523894:v=-.0032903546638958538:e[149]>1e-35?v=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?v=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?v=-.025416927789760076:v=.02777568919793122:v=-.10310351509769732:v=.013549608903688785:e[186]>1e-35?v=.08513865847420551:v=-.009306721292510369:e[31]>1e-35?v=.009780833952582307:e[23]>1e-35?v=.011143773934157629:e[210]>1e-35?v=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?v=-.04846287537743046:v=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?v=-.034224938681445764:e[8]>1641.5000000000002?v=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?v=-.027950103994861836:v=.14575930827829034:v=-.007124740389354946:e[10]>22.500000000000004?v=.013173304107866726:v=-.11119620042551365;let I;e[131]>1e-35?I=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?I=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?I=-.022305242912035072:I=.024792895826340516:I=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?I=.2080083584805785:I=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?I=.060783227455868206:I=-.056904865557409035:I=-.03278952553107572:e[192]>1e-35?I=.13117402617043625:I=.01647119888257836:I=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?I=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?I=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?I=-.11083976837572328:e[146]>1e-35?I=-.03359294484446772:I=-.0042815953591236475:e[190]>1e-35?I=-.09264239592903775:e[10]>1e-35?I=.022282638485105657:I=-.0205994057928458:e[5]>4918.500000000001?I=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?I=.08935072241972036:I=-.03781647876237494:I=.0062655753179671515:e[31]>1e-35?I=.008603500300349887:e[230]>1e-35?I=.03350056932774173:e[23]>1e-35?e[241]>1e-35?I=.10277555508503314:I=.0017901817172993888:e[2]>98.50000000000001?I=-.05920081229672715:I=-.015722173275739208;let D;e[13]>1e-35?e[118]>1e-35?D=.07957905150112207:e[1]>125.50000000000001?D=-.0662620579858685:e[145]>1e-35?D=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?D=-.0009597832580977798:D=-.081474760755753:e[212]>1e-35?D=.03637001492325179:D=.006912305498963309:e[32]>1e-35?D=-.03919900630910754:e[134]>1e-35?D=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?D=.06671440854602108:e[136]>1e-35?D=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?D=.026430947016830915:D=-.04075501264495112:e[9]>93.50000000000001?D=-.04353169430417609:e[50]>1e-35?D=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?D=.068392679163672:e[10]>1.5000000000000002?D=-.0209659792007492:D=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?D=.07254524592323175:D=-.0319087835282534:D=.00037444813327793425:D=-.025138768151370408:e[243]>1e-35?D=-.050010891710502096:e[94]>1e-35?D=-.0817513550778599:e[122]>1e-35?D=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?D=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?D=.1454877641381946:D=.053787998331240316:e[9]>33.50000000000001?D=.08602629796680285:D=-.03895127455803038:D=.008830878042315722;let H;e[131]>1e-35?H=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?H=.07473600489975568:e[0]>93.50000000000001?H=-.021596848506011502:H=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?H=.10264284346448256:H=.031042487183181262:H=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?H=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?H=.006271403149804702:H=-.030013637555715046:e[0]>4449.500000000001?H=-.06556876058654929:H=.06437994816903034:e[32]>1e-35?H=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?H=-.09349726304052086:e[210]>1e-35?H=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?H=-.029188394315052574:H=.017219308333820193:H=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?H=-.04428555753857688:H=.0001456106867817353:e[5]>213.50000000000003?H=.01740292726636365:H=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?H=.03410288911259329:e[121]>1e-35?H=-.06056527462120627:e[8]>2592.5000000000005?H=.12166808844363577:e[191]>1e-35?H=.11669879218998758:H=-.001664858391716235:H=-.01262927450503166:H=-.04506589951879664:e[227]>1e-35?H=-.08548904959752329:H=.02156080776537726;let V;e[306]>1e-35?e[149]>1e-35?V=-.1389218965136736:V=-.032218642644416894:e[13]>1e-35?V=.006465035217331847:e[50]>1e-35?V=-.1381687930130022:e[179]>1e-35?V=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?V=-.03262719498763048:V=.023342916702125613:e[191]>1e-35?V=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?V=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?V=-.09989343595668776:V=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?V=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?V=-.09165257825246746:e[9]>32.50000000000001?V=.02484870392366004:V=-.008499493096971395:e[8]>24.500000000000004?V=.02459679192828244:V=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?V=.0015644546318714849:V=-.06579524865022705:V=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?V=.03331853632960164:V=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?V=-.019091477207111116:V=.037878468575478504:e[94]>1e-35?V=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?V=.16919658785098224:e[243]>1e-35?V=-.06580584936754524:V=.01567555159935563:e[129]>1e-35?V=.06721746994993226:e[10]>32.50000000000001?V=-.046394462507797975:V=-.006436180519584767;let $;e[131]>1e-35?$=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?$=.019122095523977856:e[298]>1e-35?$=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?$=-.026094309429557913:e[204]>1e-35?$=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?$=.012643810980689466:$=-.07884161741497837:$=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?$=.04493082949897325:$=.18046359750455776:e[7]>18.500000000000004?$=-.018667348656891496:$=.02584325784698236:$=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?$=.04749240016989375:$=-.0333334578246718:e[5]>3276.5000000000005?$=.11330554740098908:e[7]>94.50000000000001?$=.1296600395033268:$=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?$=-.13787130789142835:e[0]>1847.5000000000002?$=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?$=.028856848462727104:$=-.11197632885851168:$=.08169801342016791:e[1]>22.500000000000004?$=-.021052888644970163:$=.019048604298876753:e[7]>4.500000000000001?$=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?$=.03432638833359197:$=-.0036767863082454973:e[1]>48.50000000000001?$=.03087375270128195:e[2]>3.5000000000000004?$=-.04219917149740248:$=.018818493993207935;let Y;e[306]>1e-35?Y=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Y=-.09091897542577475:Y=.04042943082645558:e[218]>1e-35?Y=.056254985867151:Y=-.053848117950183044:Y=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Y=.021581808008986944:Y=-.05639286496176611:Y=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Y=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Y=.023885302967553288:Y=.1617794086125622:e[212]>1e-35?Y=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Y=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Y=.01894935813286188:Y=-.06449356357429188:Y=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Y=-.034718828212885515:Y=.0898976288814321:e[1]>17.500000000000004?Y=-.15440137451988326:Y=-.03864183216821465:Y=.009988507307006308:Y=-.08540311947043305:e[50]>1e-35?Y=-.13323659732101975:e[134]>1e-35?Y=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Y=.08082476177379844:Y=-.041665761903645876:e[179]>1e-35?Y=-.12405023987936657:e[39]>1e-35?Y=-.06247416524997478:e[138]>1e-35?Y=-.10724031753676487:Y=-.0005423122305122404;let P;e[308]>1e-35?P=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?P=.023223358334607133:P=-.04383410185346742:P=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?P=.023406489302867494:P=-.085521220804058:P=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?P=.028120059780969632:P=-.04211009474298743:e[294]>1e-35?P=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?P=-.0993035220737934:P=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?P=.029770210551187937:P=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?P=.06421359317599738:P=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?P=.024368404612215164:P=-.04045232374803373:e[131]>1e-35?P=.017372701982485795:e[120]>1e-35?P=.08812710275150198:e[18]>1e-35?e[90]>1e-35?P=.18451364351180236:e[7]>33.50000000000001?P=-.03850813130183531:e[195]>1e-35?P=.06966114053446336:e[3]>16.500000000000004?P=-.0012869181693341211:e[0]>4242.500000000001?P=-.054625548611291035:P=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?P=.006302103427145562:P=.13967622319898698:e[121]>1e-35?P=-.038798585213145644:e[5]>4544.500000000001?P=-.08050498033009466:P=-.002986974112681435;let w;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?w=-.03461119351456781:w=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?w=-.12404435523286539:w=-.0034376913880382956:w=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?w=.0037507103585310234:w=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?w=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?w=-.04832024079663151:e[37]>1e-35?w=-.037103393468366934:w=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?w=.032539071163832034:e[5]>1643.5000000000002?w=.036408625378035665:e[0]>1500.5000000000002?w=-.1346358322854993:w=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?w=-.1133991164577881:e[9]>52.50000000000001?w=-.024478640359723122:w=.03673777861098756:w=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?w=.002583438691776944:w=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?w=-.02141222346712401:w=.06392462314316179:e[4]>12.500000000000002?w=.08700122294434816:e[8]>267.50000000000006?w=.056923170082743224:w=-.07716309825583327:e[32]>1e-35?w=-.03961343943752142:w=.002674914122888783:e[1]>42.50000000000001?w=-.05217539654421676:e[145]>1e-35?w=.09553630282946368:w=-.009424791262477729;let z;e[183]>1e-35?z=-.05753337139158443:e[308]>1e-35?z=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?z=-.10477869875380448:z=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?z=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?z=-.04442302951713574:z=.00012409888451734224:z=-.092199119633697:e[225]>1e-35?z=.13773072450201831:e[0]>2882.5000000000005?z=.0028540012229920533:e[298]>1e-35?z=.07134486044361629:z=.014297412329837425:e[145]>1e-35?z=.05608385321902638:e[92]>1e-35?z=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?z=-.0039957800609801315:z=.0776927564241081:e[203]>1e-35?z=-.05502900859432093:e[105]>1e-35?z=.06062892720841595:z=-.009574839629252128:e[31]>1e-35?z=.009488858841144216:e[23]>1e-35?e[20]>1e-35?z=.08818126313644752:e[8]>161.50000000000003?z=.014353968957885408:z=-.022240738532827903:e[210]>1e-35?z=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?z=-.043902062079383485:z=-.014741559220396223:z=-.00934935734853194:e[6]>32.50000000000001?z=.1514593126307404:z=.010771222510801532:e[10]>22.500000000000004?z=.01412495209334078:z=-.08576940379502533;let k;e[0]>384.50000000000006?e[84]>1e-35?k=-.06647690967306838:e[2]>101.50000000000001?k=-.024451334501552457:e[306]>1e-35?k=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?k=.0031858381443673127:k=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?k=-.08601340441214533:e[1]>29.500000000000004?k=.10487598629539963:e[8]>597.5000000000001?k=-.0786529133673238:k=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?k=-.04883600353740688:e[126]>1e-35?k=-.03794042763348827:k=-.003358871967539988:e[210]>1e-35?k=.054991356498447566:e[6]>19.500000000000004?k=-.007418396981635549:k=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?k=-.02143003429501711:k=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?k=-.006636355416244082:k=-.06483095743431454:e[4]>21.500000000000004?k=-.028975965946833545:k=.022012264796522657:k=-.06653648243193663:e[5]>4593.500000000001?k=.01753551428088607:e[217]>1e-35?k=-.028864824937700297:e[94]>1e-35?k=-.04885192273020658:e[279]>1e-35?k=.08105715462329498:e[121]>1e-35?k=-.04576676034750651:k=.004795141324949362:e[1]>42.50000000000001?k=-.047446619702809195:e[145]>1e-35?k=.08400495571952321:k=-.00854528836489364;let T;e[294]>1e-35?T=-.042529778074638265:e[266]>1e-35?T=-.1180276669679798:e[134]>1e-35?T=-.026818144353279623:e[183]>1e-35?T=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?T=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?T=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?T=-.03049646619610203:e[1]>50.50000000000001?T=.20634590755061122:T=.06956378103625731:e[0]>3770.5000000000005?T=-.07946414366134913:e[19]>1e-35?T=.17083312065604694:e[2]>21.500000000000004?T=-.02327981978127724:T=.129717297518715:e[145]>1e-35?T=.006891245076133524:T=-.0789123467863741:e[3]>99.50000000000001?T=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?T=.06447639919732716:T=-.05457561977645972:e[306]>1e-35?T=-.029995903305383882:e[191]>1e-35?T=.030596508110850414:e[242]>1e-35?T=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?T=.09518584795377832:T=-.018197744600833596:e[13]>1e-35?T=.006751790086127549:e[148]>1e-35?T=.01904174573618417:e[99]>1e-35?T=.025287735102561926:e[4]>14.500000000000002?T=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?T=-.09467943982430241:e[243]>1e-35?T=-.02521824751996268:T=.005437570718352172:T=-.022476214821960674;let E;e[0]>384.50000000000006?e[84]>1e-35?E=-.06088131453064195:e[147]>1e-35?E=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?E=.04219361472548491:E=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?E=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?E=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?E=-.11431764534511478:E=.013549717238356157:E=-.020987333767091276:e[6]>2.5000000000000004?E=-.02914877855133127:E=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?E=-.10087072787978416:e[37]>1e-35?E=-.030467397753331196:e[229]>1e-35?E=-.1017559811057469:e[4]>20.500000000000004?E=-.00413177742240167:e[20]>1e-35?E=.05213315982685969:E=.0037921635866823133:e[8]>51.50000000000001?E=.07327913092421544:e[6]>49.50000000000001?E=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?E=.02744420891894289:E=.11288946357194463:E=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?E=-.012329314369909049:E=.026816658655600168:E=-.0872405354618811:E=.007872673500247845:e[1]>42.50000000000001?E=-.04309044198258254:e[145]>1e-35?E=.07572529147860785:e[7]>5.500000000000001?E=-.013837187093264945:e[1]>17.500000000000004?E=.04208698439539668:E=-.06284346769019863;let R;e[294]>1e-35?R=-.0384794324818203:e[266]>1e-35?R=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?R=.07432960094940501:R=-.035248735855751855:e[134]>1e-35?R=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?R=-.01706896375068821:R=.08212247914968074:e[2]>59.50000000000001?R=-.09546478958824225:e[6]>53.50000000000001?R=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?R=.02816463285971267:R=.15449139016588445:R=-.10199787406123524:R=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?R=-.13924786681478077:R=-.0072772442570213335:e[39]>1e-35?R=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?R=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?R=-.11174465335620831:R=.00013144040097180107:R=-.08493919336681105:e[42]>1e-35?R=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?R=-.015540659878839153:R=-.14442609417300142:e[21]>1e-35?R=-.025251979447574083:R=.0023698372645272847:e[18]>1e-35?R=.07269739695712212:e[8]>2592.5000000000005?R=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?R=-.01835130329646532:e[9]>45.50000000000001?R=.02023047454629885:R=.16469378262221102:R=-.042975030085836426;let S;e[8]>2915.5000000000005?e[297]>1e-35?S=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?S=-.01034964686484714:S=-.07357437440667927:S=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?S=-.09476398869062203:e[9]>72.50000000000001?S=-.0757383854264379:S=.02806542779508718:S=-.05147742568418084:S=.10212721564444344:S=.0518263760642861:S=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?S=-.10669213185972036:S=.027050434286384796:e[302]>1e-35?S=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?S=.06354599160071946:e[1]>67.50000000000001?S=.05317447949011187:S=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?S=-.09369289448773599:e[0]>2215.5000000000005?S=.04077965380363924:e[0]>807.5000000000001?S=-.0591771776458298:S=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?S=-.016323380219241672:S=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?S=.03720704290087811:S=-.008730548158766654:e[4]>80.50000000000001?S=-.05346644687473197:S=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?S=.019984510398089086:S=-.03917825025861855:e[9]>170.50000000000003?S=-.09759719821334525:S=-.0023586682752856298;let A;e[183]>1e-35?e[17]>1e-35?A=.030100940443356424:e[10]>1.5000000000000002?A=-.10861112216742408:A=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?A=-.032062878390325456:A=-.10808232631806887:e[8]>1641.5000000000002?A=-.06147013392655731:e[4]>12.500000000000002?A=.03324767551088266:e[145]>1e-35?A=.028851633810612017:A=-.054871239091792784:e[134]>1e-35?A=-.023813968121342108:e[266]>1e-35?A=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?A=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?A=-.025350325484720576:A=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?A=.056817276537534815:A=-.07674158463557636:A=-.06335553143454145:e[1]>56.50000000000001?A=.16390494217299284:A=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?A=.041717597065890205:A=-.10357913492269129:e[10]>29.500000000000004?A=.1365512866715726:A=.020600048310575665:A=.09708785634773187:A=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?A=-.03146213719547347:A=.11784024316238083:A=-.050940520532045355:A=-.047988344143075616:e[191]>1e-35?A=.028764654731460032:A=.0011911575567860023;let N;e[294]>1e-35?e[10]>50.50000000000001?N=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?N=-.05103908560370243:N=.05002066201169583:N=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?N=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?N=.127983140816313:N=-.05436534163636867:N=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?N=-.009504203657088933:e[8]>819.5000000000001?N=.18689664822602375:N=.03635576744011826:N=-.029862411809998525:e[223]>1e-35?N=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?N=-.09405026597863717:e[0]>4153.500000000001?N=.053577663326799765:N=-.05062127873995668:N=.06512222894425874:e[39]>1e-35?N=-.04985311717827547:e[51]>1e-35?N=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?N=-.02860634573675884:N=.08863753005590103:N=.11158892111063744:e[0]>655.5000000000001?N=-.031005736641654926:N=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?N=-.00843386136334982:N=-.05273594615999777:N=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?N=-.015774115523598486:N=.10147367091236065:N=-.048307000563071016:N=.002118376117677254;let F;e[8]>1014.5000000000001?e[9]>137.50000000000003?F=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?F=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?F=.07211107542565391:F=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?F=-.0751486415451188:e[1]>59.50000000000001?F=.13459005084554104:F=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?F=.06715575425741895:F=-.005895690393702183:e[8]>2915.5000000000005?F=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?F=-.00029068886245881074:F=.0613467393188786:e[148]>1e-35?F=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?F=.003887223773199377:F=-.08553893131979015:F=.025654192706396767:F=-.05651733979610658:F=-.02039913645229667:e[2]>7.500000000000001?F=-.1058450646728524:F=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?F=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?F=.1283258201586378:F=-.01718135372229775:F=-.07702452408491414:e[125]>1e-35?F=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?F=.04273051857848212:F=-.04533122948101463:e[2]>196.50000000000003?F=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?F=.0231032972703664:F=-.04807386814498683:F=.002729435991332102;let M;e[179]>1e-35?M=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?M=.026484626664041125:e[10]>1.5000000000000002?M=-.10187000872941615:M=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?M=.09574540795390041:M=-.06454986703691233:M=-.11411849349353141:e[266]>1e-35?M=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?M=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?M=-.04403391373512386:M=.1132928075412222:e[2]>47.50000000000001?M=-.09700191391838056:M=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?M=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?M=-.001668912999010927:M=-.02363511102970245:e[8]>58.50000000000001?M=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?M=.0911011436534449:e[1]>28.500000000000004?M=-.07192390493729035:M=.06913818091291246:M=-.012312625373699222:M=.06784496312307986:M=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?M=.0026564453057705273:M=-.025425772389361445:e[122]>1e-35?M=-.12046786388602149:e[0]>3183.5000000000005?M=.01162092842804907:e[91]>1e-35?M=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?M=-.0001647792543020228:M=-.023664538532907665:M=.01609078206180752;let G;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?G=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?G=-.017696526862422682:G=.1450050954613223:G=-.05406930069823832:G=-.08308700260259043:e[120]>1e-35?G=.058316269489189415:e[297]>1e-35?e[94]>1e-35?G=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?G=.038431826961746934:G=-.05937462906539856:e[9]>65.50000000000001?G=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?G=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?G=-.09579030954062734:G=.025064711572811746:G=.02579440518821548:G=.1044440128091862:G=-.058348633139536844:G=.07766788227934436:G=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?G=.07463684068207214:G=.18244269035484484:e[6]>39.50000000000001?G=-.06050050067471004:G=.05787759066913493:G=.010783225857972171:G=.1674891243602606:e[4]>9.500000000000002?G=-.004814132027475892:G=-.14543299413454813:G=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?G=-.07634466313617769:G=.0287825335169114:G=-.06894721943300268:G=-.00023988459059521937;let se;e[131]>1e-35?e[1]>93.50000000000001?se=-.05706887458825395:e[2]>1.5000000000000002?se=.011446637886629108:se=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?se=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?se=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?se=.026278724448495064:se=.17053138400480508:e[0]>4463.500000000001?se=-.06482289890096041:se=.03026516489536295:se=-.031785170717683144:se=.1312690622980455:e[13]>1e-35?se=.14336922540461444:se=.03523850945454039:se=-.015407465968975714:e[39]>1e-35?se=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?se=-.0659975068798723:se=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?se=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?se=.057409156184759516:se=.2024322059866388:se=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?se=.010648654146284154:e[308]>1e-35?se=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?se=.12364025998551711:se=-.02247495081065243:e[1]>22.500000000000004?se=-.0726295464624251:se=.03481895086048152:e[0]>4331.500000000001?se=-.04775443357020673:se=.07172377425057568:e[2]>89.50000000000001?se=-.11782645274716962:se=.00010092665257989378;let ye;e[147]>1e-35?ye=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?ye=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?ye=-.016101990375700172:e[0]>2579.5000000000005?ye=-.13045089661551845:ye=-.02874367814784938:ye=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?ye=.17084176915326055:ye=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?ye=.10591712319944074:ye=-.024082167264285:ye=.16497698867036126:ye=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?ye=-.021012910475524206:ye=-.13058422554298485:e[0]>1102.5000000000002?ye=.10955864175201457:ye=-.03566689354348996:e[1]>11.500000000000002?ye=-.02093884208606101:ye=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?ye=-.013861861436128482:ye=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?ye=.10163873449625677:ye=-.02779270277623805:e[1]>26.500000000000004?ye=-.08035058228527389:ye=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?ye=-.007028075523033826:ye=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?ye=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?ye=-.0032075580718124892:ye=-.04442829143298883:ye=-.06597073245775804:ye=.0015594090939337751;let he;e[223]>1e-35?e[8]>668.5000000000001?he=-.12803889879260094:he=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?he=.08967966612917375:e[1]>39.50000000000001?he=-.059791671514498074:he=.05648934961902822:e[2]>59.50000000000001?he=-.08633234097449628:e[6]>53.50000000000001?he=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?he=.025606129643140924:he=.13835395886271978:he=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?he=-.09975506556937946:e[10]>36.50000000000001?he=-.09427724661655643:e[10]>24.500000000000004?he=.07329330653410447:he=-.02271182965807972:he=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?he=-.05082091374050816:he=.1687114435254966:e[0]>2314.5000000000005?he=-.06422664016383926:he=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?he=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?he=-.1274167728754332:he=.01308079126447365:e[4]>73.50000000000001?he=.13854015371106546:e[4]>48.50000000000001?he=-.03684255740123261:e[6]>45.50000000000001?he=.10329912215813097:e[10]>77.50000000000001?he=-.08630788656925215:he=.031022006843800853:e[1]>25.500000000000004?he=-.08278381528048026:he=.06664374548141594:e[84]>1e-35?he=-.05624227409079396:he=.00012184182357340415;let Ue;e[179]>1e-35?Ue=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Ue=-.07595415373151816:Ue=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Ue=.022822510448266862:Ue=.17491569312933697:Ue=-.058362287133533565:e[2]>2.5000000000000004?Ue=-.03633895806364428:Ue=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Ue=-.07294848747514579:Ue=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Ue=-.07009535282685533:e[8]>2640.0000000000005?Ue=-.051761240111316276:e[131]>1e-35?Ue=-.06245774419231631:Ue=.03495606662854905:Ue=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Ue=.0015036626973581122:Ue=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Ue=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Ue=.022343994371919224:Ue=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Ue=.07724450228328664:e[0]>3853.5000000000005?Ue=-.15671707454435677:e[10]>28.500000000000004?Ue=-.10179090671841723:Ue=.014878216919760927:Ue=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Ue=.14054154485273487:Ue=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Ue=-.08632985141410315:Ue=.005524157938954954:Ue=-.08802502622523681:Ue=-.0004649168897260341;let ze;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ze=-.007458687464321174:ze=-.09444966249102484:e[1]>23.500000000000004?ze=.08564129697360716:ze=-.07105002902845851:ze=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ze=-.10326216566705966:e[1]>26.500000000000004?ze=.0050539832484585365:ze=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ze=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ze=.05783632021087773:e[10]>17.500000000000004?ze=-.06720598671764105:e[1]>47.50000000000001?ze=.097495825172558:ze=-.013372242800584872:ze=-.06463226787713715:e[42]>1e-35?ze=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ze=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ze=.11051270080118503:ze=.027719462817590454:e[8]>597.5000000000001?ze=-.08441503592016869:ze=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ze=-.12190088985091102:ze=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ze=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ze=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ze=.016585157185448045:ze=-.11032043771149425:ze=.01586986028570486:e[8]>388.50000000000006?ze=-.10592413013261853:ze=.04930703248769364:e[13]>1e-35?ze=.003621937787920821:ze=-.0013786331198611841;let Ve;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?Ve=.009769895322846493:Ve=-.10620052926943656:e[9]>19.500000000000004?Ve=.03781202525403449:e[9]>14.500000000000002?Ve=-.11485785321365344:e[9]>6.500000000000001?Ve=.07677177833073881:e[0]>4342.500000000001?Ve=-.07079285609687631:e[49]>1e-35?Ve=.06156814809246001:Ve=-.014788509042554625:Ve=-.032659201618470655:e[5]>5207.500000000001?Ve=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?Ve=-.03094160322187924:e[1]>29.500000000000004?Ve=.09474646043921069:Ve=.023445783928231618:Ve=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?Ve=-.07164443768784848:e[1]>29.500000000000004?Ve=.089473622509272:e[8]>597.5000000000001?Ve=-.08155349903101317:Ve=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?Ve=-.004003900679358653:e[190]>1e-35?Ve=-.09236113461485262:e[8]>3198.5000000000005?Ve=-.0124130160451179:Ve=.018453070064009328:e[15]>1e-35?Ve=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?Ve=-.0009580759587680961:Ve=-.03227283036698222:Ve=.01369287669536875:e[1]>50.50000000000001?Ve=-.04213060332500437:e[35]>1e-35?Ve=-.11508095777767471:e[190]>1e-35?Ve=-.08611884672400155:e[297]>1e-35?Ve=.05723551879433584:Ve=-.004829340082311461;let Ze;e[183]>1e-35?Ze=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?Ze=-.11753465135886734:Ze=-.007515490299047085:Ze=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?Ze=-.12371142493530439:e[1]>36.50000000000001?Ze=.032189417575190435:Ze=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?Ze=-.0784518658439288:e[2]>54.50000000000001?Ze=.12477882322370665:Ze=.000313468482399738:Ze=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?Ze=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?Ze=.0353146070135579:Ze=-.06327619611098285:Ze=.02813577701641991:Ze=-.12354390728506215:e[34]>1e-35?Ze=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?Ze=-.01245803535276381:Ze=-.07169472553475001:e[1]>11.500000000000002?Ze=.12989984824561698:Ze=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?Ze=.010390226893521422:e[10]>14.500000000000002?Ze=.16790888126487719:Ze=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?Ze=-.043398307129729134:Ze=.09963544907820426:e[9]>30.500000000000004?Ze=-.13540713124984502:e[9]>17.500000000000004?Ze=.0509435850590757:Ze=-.04761897852404613:e[4]>78.50000000000001?Ze=.09197086656470652:Ze=.0006771050176682337;let L;e[122]>1e-35?e[6]>36.50000000000001?L=.05686884451670743:L=-.05334759543084309:e[266]>1e-35?L=-.08603579519816038:e[157]>1e-35?L=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?L=-.0499592651503952:e[0]>725.5000000000001?L=.11780353905132664:L=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?L=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?L=-.03190157229022304:L=.07985197845805492:L=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?L=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?L=-.027174047777029083:L=.057117284879796476:e[3]>43.50000000000001?L=-.0016147040913107311:L=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?L=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?L=-.01466076988151239:L=.13375695925484857:L=-.04885873081899647:e[0]>5566.500000000001?L=.11086813028591343:e[8]>992.5000000000001?L=-.07622304217072383:L=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?L=.03285858361708423:L=-.12354858211764992:L=.0672788301823281:e[15]>1e-35?L=.08658836986585006:L=-.02741484278509758:e[290]>1e-35?L=-.08161310335133287:e[135]>1e-35?L=-.04824156054814152:L=.0009156904299554183;let ne;e[3]>7.500000000000001?ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ne=.03642374718166293:ne=.16379973756366603:ne=-.03946685266127979:e[186]>1e-35?ne=.07618896623420895:e[96]>1e-35?ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?ne=-.022822371600847505:ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?ne=.044416424920571296:ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?ne=.1061937286809567:e[7]>54.50000000000001?ne=.11487507743121311:e[8]>819.5000000000001?ne=-.07181278009001418:e[10]>25.500000000000004?ne=.13499019430369633:e[1]>31.500000000000004?ne=.09032979489780704:ne=-.12754166393372374:e[9]>37.50000000000001?ne=-.05093963635361407:ne=-.005026651151683848:e[9]>2.5000000000000004?ne=.07619735785573735:ne=.012363301341532136:e[26]>1e-35?ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?ne=-.10764172927882483:ne=.01890760098464703:ne=.06573095405846417:e[8]>634.5000000000001?ne=-.00783575973273707:ne=-.050612689680229306:e[1]>22.500000000000004?ne=-.0016842490401359626:ne=.0738227088444087:ne=-.02663970950432175;let B;e[31]>1e-35?e[8]>17.500000000000004?B=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?B=.007191286124908192:B=-.09347881647636902:e[10]>1.5000000000000002?B=.07938758708008091:B=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?B=.12321804057595996:B=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?B=-.04644244754790671:B=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?B=.0706108609273337:e[2]>40.50000000000001?B=-.028046629962303716:B=-.06497613993109329:B=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?B=-.03056331974267756:B=-.11886389712497057:B=.053364962175658184:e[8]>2233.5000000000005?B=-.0448152521157682:B=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?B=.03818796510453344:B=.23673992112982362:B=.02858814226507374:e[10]>44.50000000000001?B=-.1125863771551199:B=.009129996952394916:e[1]>7.500000000000001?B=-.004374525302461639:B=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?B=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?B=-.13677189943034931:e[10]>2.5000000000000004?B=.039591891437078086:B=-.09312596849507347:B=-.02423172142089822:B=.0009836986075266283;let ge;e[189]>1e-35?e[0]>5269.500000000001?ge=-.103183298350443:e[2]>51.50000000000001?ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?ge=-.05186168947388339:ge=.0496996365539082:e[10]>23.500000000000004?ge=.1404445738719:e[93]>1e-35?ge=.0027146310074558505:e[5]>3821.5000000000005?ge=.002153033152069652:e[4]>2.5000000000000004?ge=.007663539551317215:ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?ge=-.021479467709980358:ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?ge=.021660293256233334:ge=-.0927396152303864:ge=.0665074081601698:e[0]>1550.5000000000002?ge=.08972407105958534:ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?ge=.06761927942466854:ge=-.015762168112653286:e[17]>1e-35?ge=.10311304131145381:ge=-.017672785252336027:ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?ge=-.10638321435298535:ge=.0007073011744385905:e[18]>1e-35?ge=-.027056185501334325:e[145]>1e-35?ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?ge=.09762140519655171:e[9]>110.50000000000001?ge=-.06581942957595835:e[6]>54.50000000000001?ge=.04959634035251596:ge=.0022616298654554207:ge=-.007437620924990854;let le;e[179]>1e-35?le=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?le=.1470294450403005:le=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?le=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?le=.07965955447707423:e[10]>10.500000000000002?le=-.09236156404262426:le=.03396273196231458:le=-.13246465021467432:le=.07092822261735353:le=-.08753829085942:le=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?le=.004705878789890202:le=.13775378964952867:le=-.04770928980587811:e[10]>29.500000000000004?le=.011221519891071544:e[0]>3853.5000000000005?le=.06365381191628273:le=.15506252245336827:e[1]>37.50000000000001?le=-.07254777021042061:le=.026514587757252385:e[308]>1e-35?le=.04115804816617256:e[10]>26.500000000000004?le=.02077721353011946:e[5]>3548.5000000000005?le=-.1280907116663952:le=-.021974774274438:e[306]>1e-35?le=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?le=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?le=-.005710865560475598:e[94]>1e-35?le=-.06751507982853555:le=.027250040757588703:e[9]>52.50000000000001?le=.07060357924595577:le=-.030297760713011795:le=-.0006005400085266517;let q;e[113]>1e-35?q=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?q=-.06996356565314456:q=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?q=-.08317707559926495:e[21]>1e-35?q=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?q=-.010538203005984922:q=.08454819465349446:e[9]>124.50000000000001?q=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?q=-.08542251249346582:e[9]>50.50000000000001?q=-.023428882537657472:q=.010042500833979073:q=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?q=.03006025206979096:e[9]>108.50000000000001?q=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?q=.04222035773042132:q=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?q=-.07209095448054853:q=.028065954981903313:q=.08714651929917122:q=-.006678820669279169:e[10]>40.50000000000001?q=.006982396294941626:q=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?q=-.09351114982645548:e[4]>3.5000000000000004?q=-.004837550129223451:q=-.08324141237464677:e[303]>1e-35?q=.10703037493990825:e[9]>156.50000000000003?q=-.10803018621648303:e[116]>1e-35?q=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?q=.10261721665006701:q=.018994509090668264:q=.0011244262442038839;let re;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?re=-.08404263465005328:e[0]>3682.5000000000005?re=.041259223920298876:e[1]>29.500000000000004?re=-.09541257493441671:re=.001482192721625409:re=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?re=-.08268996098437432:e[230]>1e-35?re=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?re=-913218977737457e-19:e[4]>10.500000000000002?re=-.056334165674005156:e[127]>1e-35?re=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?re=-.04231200150318989:e[10]>42.50000000000001?re=.10182973257894812:re=.015934763950068445:re=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?re=-.041117068322885315:re=.1167767830037126:re=.13611206992387337:e[10]>41.50000000000001?re=-.07120286010564107:re=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?re=-.07702290997669524:e[198]>1e-35?re=.08776558554437136:re=-.008290740324975692:e[2]>32.50000000000001?re=.07198457624219955:re=.005463113714361629:re=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?re=.03295785445437507:re=.15140250150674536:re=-.035613213948910254:e[186]>1e-35?re=.06849425535860769:e[96]>1e-35?re=.06028225812727254:re=-.007582543288662308;let xe;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?xe=.08396556264106572:xe=-.0562516995099192:xe=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?xe=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?xe=.0052017514017035915:xe=-.11194119432743639:xe=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?xe=-.025692451287403446:xe=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?xe=-.11892250746801664:e[10]>22.500000000000004?xe=.07548493166973796:xe=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?xe=.13750699058082427:e[18]>1e-35?xe=.06535408879552801:xe=-.054118179035040674:xe=.1344282838979622:e[0]>3982.5000000000005?xe=-.10409582202467015:e[19]>1e-35?xe=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?xe=.012705935670766466:xe=.14149359442527545:xe=-.047977876173706004:e[20]>1e-35?xe=.057945228080337946:e[0]>3642.5000000000005?xe=-.008726535792122467:xe=-.08424769891378858:e[34]>1e-35?xe=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?xe=.01196849566739346:xe=.1614642278429876:xe=-.043022338150701625:e[3]>5.500000000000001?xe=-.03907848255033881:xe=.018280601026175593:xe=.0006654540402589085;let ue;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?ue=-.01386103677247845:ue=.11386694333005128:e[4]>27.500000000000004?ue=-.021862617610091336:e[2]>31.500000000000004?ue=.0828858469030438:ue=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?ue=.11303635767048735:ue=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?ue=-.04238798044549342:ue=.022091190130494303:e[5]>5082.500000000001?ue=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?ue=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?ue=-.04291104140431434:e[17]>1e-35?ue=.11256797532342613:ue=-.017206916368289193:ue=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?ue=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?ue=.03581712466863222:ue=.14770264307668884:e[8]>73.50000000000001?ue=-.13093289429740068:ue=.042461737442702936:e[52]>1e-35?ue=.0501831919044939:ue=-.010450249720465756:ue=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?ue=.0005381332165438493:ue=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?ue=.04849637311285226:ue=-.036671377119808564:e[0]>421.50000000000006?ue=.00020968499911058945:ue=.11636422423182405:ue=-.12687837788222575:ue=.0012774367867215346;let de;e[120]>1e-35?de=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?de=-.042799574885345304:de=.07412430171193245:de=-.11248270469336048:e[193]>1e-35?de=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?de=.028911612178122104:de=.12326369727728437:e[0]>4091.5000000000005?de=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?de=.1159839898100149:de=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?de=-.0216343737351583:de=-.1220272260878369:e[2]>18.500000000000004?de=.09152924475072398:e[8]>55.50000000000001?de=.039508716651005665:de=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?de=.06793009902674053:de=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?de=-.04391068849624096:de=.04009967593394672:e[8]>1085.5000000000002?de=-.024773826356034825:de=-.13919707884246582:de=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?de=-.11567917501901476:de=-.006813640337684114:e[3]>7.500000000000001?de=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?de=-.001754586408351048:de=-.055422422450722056:de=-.06090032532532226:e[0]>5269.500000000001?de=.11787981735983527:de=-.00198119768540783:de=.00210412924303036;let Ee;e[294]>1e-35?e[10]>50.50000000000001?Ee=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ee=-.06063239096209816:Ee=.03317022411417386:Ee=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ee=-.013608609329298802:Ee=.09078000157330264:e[99]>1e-35?Ee=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ee=-.07536137260189814:Ee=.006253266595455118:e[10]>28.500000000000004?Ee=-.006106041147592768:e[9]>156.50000000000003?Ee=-.11828932797811101:e[94]>1e-35?Ee=-.02566078479505714:e[303]>1e-35?Ee=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ee=-.08401252789168523:e[5]>4244.500000000001?Ee=.026372887658499107:e[1]>16.500000000000004?Ee=-.027836756345634026:Ee=.09205362097909099:Ee=.00934612788718244:e[203]>1e-35?Ee=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ee=-.09580979052540028:e[1]>50.50000000000001?Ee=-.06402211827281554:Ee=.08342858760095972:e[2]>36.50000000000001?Ee=.008114897658204584:e[92]>1e-35?Ee=.09541587072672864:Ee=-.022342147210555434:Ee=-.01660492519175128:Ee=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ee=.15846731118501817:Ee=.039498507912023195:e[245]>1e-35?Ee=.07008718676813333:Ee=.0019806389728814727;let we;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?we=-.01192072916082109:we=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?we=.06874032717466054:e[4]>40.50000000000001?we=-.07752510020707537:e[1]>76.50000000000001?we=-.09944032260703917:e[8]>1381.5000000000002?we=-.054466635810800745:e[1]>32.50000000000001?we=.05974084520839573:we=-.0384718740755954:we=-.11374190719134032:e[0]>2151.5000000000005?we=-.13703645155803298:we=.004833344758654556:e[297]>1e-35?e[212]>1e-35?we=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?we=.013539805885738608:we=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?we=.09941880179344399:we=-.01608127391210995:we=.08025226531247417:e[9]>67.50000000000001?we=.13525448212444113:e[6]>61.50000000000001?we=-.05511099182158894:e[94]>1e-35?we=-.06821509831783572:e[128]>1e-35?we=.11361314817714643:we=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?we=-.09954181329804547:e[197]>1e-35?we=.10102833149755386:e[188]>1e-35?we=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?we=-.03781554214742005:we=.09927933385592314:we=-.020006000056720083:we=-.10520473615957895:we=-.12006990846253787:we=-.00026111570975317574;let Ne;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?Ne=-.019188245509744628:Ne=-.13354864350075848:e[0]>2461.5000000000005?Ne=.051885477468354396:Ne=-.0833581968852119:Ne=.08233441701532287:Ne=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?Ne=.09926337893072812:Ne=-.027753610497327715:e[0]>1972.5000000000002?Ne=-.09780045823152517:Ne=.032380915168504935:Ne=.11502632261226381:e[17]>1e-35?Ne=-.06094965899579662:e[10]>40.50000000000001?Ne=-.07500475582440802:Ne=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?Ne=-.09584538995220808:Ne=-.00908705814304442:Ne=.03203281520813893:e[10]>49.50000000000001?Ne=-.03146271513986384:e[2]>63.50000000000001?Ne=.13172001315536286:e[224]>1e-35?Ne=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?Ne=.09521549382082259:Ne=-.04414925613522197:e[0]>1847.5000000000002?Ne=-.09118580379557353:Ne=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?Ne=.03525144509943896:Ne=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?Ne=-.04766112322938157:e[2]>10.500000000000002?Ne=.0728516504357201:Ne=-.05049625965272536:Ne=-.10868663055825774:Ne=.0005382613419948969;let $e;e[147]>1e-35?e[1]>53.50000000000001?$e=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?$e=-.030504020655417463:$e=.07102458639110094:$e=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?$e=.055304563442710876:e[1]>53.50000000000001?$e=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?$e=-.1568835288372895:$e=-.0279829124400056:$e=.04493843959601833:$e=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?$e=-.054133834303687026:e[9]>48.50000000000001?$e=.11263810289007213:e[9]>9.500000000000002?$e=-.02202034562838259:e[4]>45.50000000000001?$e=-.03410927569045158:$e=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?$e=-.029687297407295893:$e=.10673602850001934:e[4]>42.50000000000001?$e=.0036275562945108117:$e=-.0760789221330622:$e=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?$e=.08274426793676076:$e=-.07076234425516396:$e=.13890177606150175:$e=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?$e=-.09250637750836187:$e=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?$e=-.01897867921812603:$e=.04890781705365262:$e=-.11569892307597907:e[2]>106.50000000000001?$e=.09032697440623969:$e=.00047935919155035045;let Ke;e[115]>1e-35?Ke=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?Ke=-.10131179514695865:e[8]>938.5000000000001?Ke=.10203729808015481:Ke=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?Ke=.03574015165562999:Ke=-.07763042506449493:Ke=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Ke=.0665706259130275:Ke=-.06586817559309924:Ke=.11925564412287476:Ke=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?Ke=.046017146627455346:Ke=-.08623321630086885:e[8]>1765.5000000000002?Ke=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?Ke=.11143827902215087:Ke=-.01817808730473413:Ke=.16980985030210127:Ke=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?Ke=.010168994879727824:Ke=-.09099594488792513:e[9]>1.5000000000000002?Ke=.0533459678147928:Ke=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?Ke=-.062346959148773695:e[1]>47.50000000000001?Ke=-.0021578343835599316:e[2]>27.500000000000004?Ke=.19567373210166172:Ke=.07851555379116423:e[18]>1e-35?Ke=.03711549097804649:e[8]>359.50000000000006?Ke=.012492346746905587:e[4]>20.500000000000004?Ke=.047511695735697544:Ke=-.07999269063948773:Ke=6802045404471004e-20;let tt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?tt=.0011484728213539738:tt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?tt=-.09828874964938798:e[8]>1586.5000000000002?tt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?tt=.011938269926919522:tt=.17541983715953954:e[19]>1e-35?tt=.023002786011088672:tt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?tt=.06508934844183291:tt=-.10168553534835639:tt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?tt=.021140806225203937:tt=-.1167833342453639:e[2]>33.50000000000001?tt=.13163585734056618:tt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?tt=.06314479201263888:tt=-.09639088327091713:e[10]>29.500000000000004?tt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?tt=40577156464836036e-21:tt=.12322387121810757:tt=-.03697224045046014:e[1]>22.500000000000004?tt=.016474835887320276:tt=.16919298733903063:tt=.07633203630214054:tt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?tt=.14150493354700563:tt=-.01831155354975749:e[1]>28.500000000000004?tt=-.07952557178685365:e[10]>28.500000000000004?tt=.0665695554984927:tt=-.053640139319277094:tt=.0004754840665898665;let rt;e[76]>1e-35?rt=-.06814884255939921:e[179]>1e-35?rt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?rt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?rt=.004193658608848433:rt=-.1066968975983452:e[8]>302.50000000000006?rt=.05476730110440451:rt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?rt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?rt=.013555772109446666:rt=-.09856116699770784:rt=.0284329611813383:e[2]>52.50000000000001?rt=.04008708444763762:e[9]>29.500000000000004?rt=-.1289599546008197:rt=-.018566534248335896:e[8]>747.5000000000001?rt=.02236484980076122:rt=.1148871655157582:e[8]>3084.0000000000005?rt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?rt=.03164751204281298:rt=.11752140436184891:e[9]>42.50000000000001?rt=-.07180559595410106:e[22]>1e-35?rt=.09325040416256854:rt=-.016041122807939914:rt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?rt=-.010718250133458515:rt=.09818827994853763:rt=.010180038981174032:rt=-.039472162599295535:e[9]>170.50000000000003?rt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?rt=-.08674788057474031:rt=.02077653508548371:rt=-.0003536561382007414;let lt;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?lt=.018337297491457794:lt=-.05926206443180149:lt=.024026520855881126:e[288]>1e-35?e[184]>1e-35?lt=.10747078482128616:e[126]>1e-35?lt=-.10550625192391357:e[7]>71.50000000000001?lt=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?lt=.1317396472229434:lt=-.025035791351328947:lt=-.0728334305864372:e[8]>963.5000000000001?lt=.023642201723096064:lt=.183010326734258:e[128]>1e-35?lt=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?lt=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?lt=-.1088876900335281:lt=.02758317023002635:lt=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?lt=-.01928020117446408:lt=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?lt=.07893723375925096:lt=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?lt=-.10301657587280551:lt=.005787463140224318:lt=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?lt=-.019296977889522397:lt=-.07274529751752634:e[1]>30.500000000000004?lt=-.050368901143148286:lt=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?lt=.0015332402792773946:lt=.09930153676749967:lt=-.06370844564357069:lt=.00042272155209927616;let O;e[71]>1e-35?e[4]>17.500000000000004?O=.12586844370423247:O=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?O=-.08474891624263797:e[8]>125.50000000000001?O=.08125086980439704:O=-.04082085238068532:e[0]>3863.5000000000005?O=.020481535807469208:O=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?O=-.019110200161573936:O=-.12387719685855114:e[0]>1102.5000000000002?O=.08376595701957407:O=-.031821919580524834:e[9]>4.500000000000001?O=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?O=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?O=.1349841206807871:O=.011864053595560297:e[1]>41.50000000000001?O=-.08203662486612544:e[2]>18.500000000000004?O=-.009541865642346947:O=.08345043168501759:e[2]>10.500000000000002?O=-.09585031818030947:O=.019432330487099865:O=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?O=.11951517733981365:O=-.016651014735738538:e[1]>28.500000000000004?O=-.07410922545030711:e[10]>28.500000000000004?O=.05886430683844788:O=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?O=.04802269879144705:O=-.026208212831796737:e[4]>45.50000000000001?O=-.03227476944664786:O=.05124575625622705:O=.00020506696916003137;let Z;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Z=-.03042091758483443:e[10]>14.500000000000002?Z=.09816619204768777:Z=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Z=-.02381165060401718:Z=-.10950361804974783:Z=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Z=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Z=-.06371052144380579:Z=.0835500621252692:Z=-.10408255929333915:e[1]>74.50000000000001?Z=.13208968122712403:e[1]>64.50000000000001?Z=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Z=.09922816902423433:Z=.016366955328796718:Z=.1592412560903584:e[1]>39.50000000000001?Z=.05409467990258923:Z=-.08260633210459611:Z=-.06307205775247567:e[9]>36.50000000000001?Z=.040253940015648144:Z=.14202568969471283:Z=-.028761848341594044:Z=.08994073058773508:e[0]>807.5000000000001?Z=-.043427848826323195:Z=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Z=-.0758877731600639:e[23]>1e-35?Z=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Z=.08124700978741987:Z=.013296063087086852:e[7]>5.500000000000001?Z=-.01640196088612987:Z=-.12685498840146067:Z=-.0004940792382459551;let fe;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?fe=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?fe=.08513773825688947:fe=-.1184664832315282:fe=.05676963535893477:fe=.14263843210340613:fe=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?fe=-.10669720555606924:fe=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?fe=.0664744575868955:fe=-.08469256188890871:fe=-.026746678040592144:e[281]>1e-35?fe=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?fe=.012131807587207655:fe=-.12776015795398743:fe=.04320472481083551:fe=.08390980661550446:e[10]>227.50000000000003?fe=-.09771783809101153:e[10]>130.50000000000003?fe=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?fe=-.07610698254064358:e[8]>902.5000000000001?fe=-.03136381213599649:e[131]>1e-35?fe=.0704821739127936:e[224]>1e-35?fe=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?fe=.10431473040024908:e[8]>841.5000000000001?fe=.07304745320500514:fe=-.038011541882439825:fe=-.01679746695007364:e[0]>3129.5000000000005?fe=.05589952587431965:e[210]>1e-35?fe=.06227198085800842:fe=-.0011341890997947812:e[8]>740.5000000000001?fe=.04817300084412584:fe=-.000577001010789238;let pe;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?pe=-.10504730480402079:e[5]>3341.5000000000005?pe=.11087894671081754:pe=-.0406668834674614:pe=.03308382165616109:e[8]>104.50000000000001?pe=-.10431436764549162:pe=.0073928337244891455:e[4]>34.50000000000001?pe=-.10571751512748416:pe=-.006081128814142983:e[13]>1e-35?pe=.1299673566095023:e[4]>60.50000000000001?pe=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?pe=.04857126072645073:pe=-.03431365358104773:e[4]>16.500000000000004?pe=.04101865986596709:pe=.16480274980378218:e[10]>26.500000000000004?pe=.03673978504199255:e[10]>9.500000000000002?pe=-.10996402743800027:e[308]>1e-35?pe=.0553693735082498:pe=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?pe=.010902983761213922:pe=.1325118659895645:pe=-.064362945508595:e[1]>66.50000000000001?pe=.033416767779331176:pe=-.054080316225040496:e[42]>1e-35?pe=-.07762364337810815:e[10]>1089.5000000000002?pe=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?pe=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?pe=.0220102041325908:pe=-.06516708740003069:pe=.012833498905748267:e[224]>1e-35?pe=-.007038418272997865:pe=.00037666304316290967;let Re;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Re=.07554189644995735:Re=-.052089349455904946:Re=-.10148206848169845:e[113]>1e-35?Re=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?Re=.07172653627995676:Re=-.07602959317610998:Re=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Re=-.0399322883690891:Re=.06523495517476098:Re=-.10358715295743802:e[193]>1e-35?Re=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?Re=.015928764772252406:Re=.1341513061552287:Re=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?Re=-.033592997607280156:Re=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?Re=-.08402551858097379:Re=.017401984506038796:e[1]>25.500000000000004?Re=.13337205393591278:Re=-.01160208350090984:Re=.06708317942315471:e[8]>227.50000000000003?Re=-.08486943882418681:Re=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?Re=-.10496268177586783:Re=-.020921489532370493:Re=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?Re=.11639296062157028:Re=-.004275784356569115:e[32]>1e-35?Re=-.07297384970166025:Re=.006026841626381599:Re=.002034611134960428;let Me;e[248]>1e-35?Me=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Me=-.06455513326540585:e[1]>29.500000000000004?Me=.07718474591552532:e[4]>7.500000000000001?Me=.040139336931404826:Me=-.09685734690563386:Me=.00015327283570347363:e[9]>88.50000000000001?Me=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Me=-.04077257804338707:Me=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Me=.03778141591008941:Me=-.06459919920634845:Me=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Me=.14063930759326346:e[0]>179.50000000000003?Me=.07287482250668585:e[8]>1180.5000000000002?Me=-.14419393112726253:e[10]>28.500000000000004?Me=-.07993142770099469:e[17]>1e-35?Me=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Me=.05527969663610186:Me=-.10824385941441346:e[3]>11.500000000000002?Me=.12358502961047915:Me=-.017509147119622873:e[0]>74.50000000000001?Me=-.014907705458730486:e[8]>95.50000000000001?Me=-.02225118168342062:Me=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Me=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Me=.04962819555610421:Me=-.07213577821855309:Me=.09139529824708481:e[19]>1e-35?Me=.013439401088345224:Me=-.049274647207292056:Me=.10531673719686951;let je;e[40]>1e-35?e[0]>1937.5000000000002?je=-.06421671152073961:je=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?je=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?je=-.03520420769287065:e[8]>1085.5000000000002?je=-.019817352506127633:je=.11444439424520964:je=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?je=-.010490117519863269:je=.08104430117757461:e[121]>1e-35?e[243]>1e-35?je=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?je=.06619344145920268:e[0]>4091.5000000000005?je=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?je=.10016091391222309:je=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?je=-.019511460451434884:je=-.11643672465055221:e[2]>18.500000000000004?je=.07848228087333317:e[8]>55.50000000000001?je=.032583027899956235:je=-.11209832692153521:e[11]>1e-35?je=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?je=-.09996887746328006:e[9]>2.5000000000000004?je=.02157682011863397:je=-.05247727848991843:je=.07409150201483244:e[1]>38.50000000000001?je=-.11378466075449625:e[224]>1e-35?je=-.10741749127732923:e[1]>26.500000000000004?je=.07343136534146562:je=-.07013573628594773:e[25]>1e-35?je=-.04626669734164317:je=.05518333197956482:je=.00032434010867555516;let We;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?We=.026313251010808853:We=-.08997339150292381:We=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?We=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?We=.0905155504503746:e[8]>1049.5000000000002?We=-.062312558183394054:e[8]>719.5000000000001?We=.09583836191410239:e[0]>3719.5000000000005?We=-.0778097309430818:We=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?We=-.12920865648544927:e[0]>2699.5000000000005?We=-.07086587879041864:We=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?We=-.11377786322600797:We=-.009486325820117998:e[1]>55.50000000000001?We=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?We=-.07938291201004219:e[2]>36.50000000000001?We=.01520046732530246:We=.13649854049662832:We=-.07145015938528873:e[8]>407.50000000000006?We=-.00350257360822279:We=.11332047082193297:We=-.10060624458629897:We=.05429496612497562:e[8]>1446.5000000000002?We=.006073419197482838:We=-.08718676350883998:We=-.11532497988252638:We=.10766270463068293:e[34]>1e-35?We=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?We=-.0004109812623829506:We=.021601073497455662:We=-7343540098965853e-20;let De;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?De=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?De=.05995640200798119:e[0]>3443.5000000000005?De=-.14698883458733583:De=-.030039164579240187:e[189]>1e-35?De=-.06086763220538141:e[1]>86.50000000000001?De=-.05096727866142538:e[4]>64.50000000000001?De=.11240554253834577:e[4]>45.50000000000001?De=-.030279760168394117:e[6]>45.50000000000001?De=.10161088917815142:e[10]>77.50000000000001?De=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?De=-.06672020005240323:De=.08831457502630258:e[8]>2592.5000000000005?De=-.052617701047376654:e[10]>29.500000000000004?De=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?De=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?De=-.064099222705728:De=.044332487521538365:e[0]>2882.5000000000005?De=.031099546885005065:De=.12938467051623853:e[0]>4221.500000000001?De=-.0928676413498701:e[9]>30.500000000000004?De=-.05781824812803708:De=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?De=-.06648105454098469:De=.05985487552383097:De=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?De=.05282385499619401:e[1]>66.50000000000001?De=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?De=.027885690791379255:De=-.08407126408362446:De=.014432924125571093:De=-9903435845205118e-20;let W;e[76]>1e-35?W=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?W=.013633653464240465:W=-.10164319411983509:W=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?W=.00632864847804078:W=-.08393000368134668:W=.07870508617440916:e[284]>1e-35?W=.1092302727710421:W=-.0025505047582483234:e[248]>1e-35?W=.07101822393621864:e[274]>1e-35?W=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?W=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?W=.025081789181021243:W=-.014813325803582618:e[9]>33.50000000000001?W=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?W=.11926990418060353:W=.01852125513565268:W=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?W=-.1178464984373743:e[283]>1e-35?W=.043370859226927405:e[5]>4320.500000000001?W=-.01103141226366587:e[8]>1104.5000000000002?W=-.023053423988095886:W=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?W=.000579145585864887:W=.03389152834202143:e[128]>1e-35?W=-.14527722052568462:e[210]>1e-35?W=-.08915971541902741:e[7]>9.500000000000002?W=-.03307314577076116:e[18]>1e-35?W=-.05521712302023565:W=.009315605032770029:W=.0036332551852289933;let X;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?X=-.07583539600416284:e[188]>1e-35?X=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?X=-.011038193049597113:X=.08154028164397753:e[1]>85.50000000000001?X=.10259361975201933:X=.011640408330521594:X=-.00023319159023748508:e[92]>1e-35?X=.13771692859530546:X=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?X=.09967230141007705:e[30]>1e-35?X=-.08888529037551285:X=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?X=.08284665960761373:X=-.029292565021289504:e[7]>7.500000000000001?X=-.09945093355204493:X=-.008381393701708593:e[20]>1e-35?X=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?X=.07585582641438211:e[8]>284.50000000000006?X=-.029387993239886723:X=.07716738177321587:e[1]>18.500000000000004?X=.026745348497993746:X=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?X=.02337306890530338:X=-.10390355904767366:X=.07390521199638532:X=-.06788247515155237:X=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?X=-.06360325615644084:X=.04342192339836601:X=-.10598779152030145:X=.05253384605768211;let ae;e[3]>7.500000000000001?e[157]>1e-35?ae=-.07514182877923786:ae=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ae=.028692053800951845:ae=.14081686716133598:ae=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?ae=.0037139292567243084:ae=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?ae=.01202688580305612:ae=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?ae=.043935495082738626:ae=-.05639305759669704:e[247]>1e-35?ae=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?ae=.10331836202616368:ae=.0006926658459781341:e[96]>1e-35?ae=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?ae=-.0741403257305367:ae=.022900127535540854:e[7]>3.5000000000000004?ae=.038110741403836294:ae=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?ae=-.09552842289807008:e[1]>27.500000000000004?ae=.012505935885798007:ae=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?ae=-.1046104767723845:ae=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?ae=.023466328488582572:ae=.11730925774586994:ae=-.04771965631104874:ae=.17059689880751394:ae=-.08181850955999449:e[26]>1e-35?ae=-.12727482696678769:ae=-.014343123272734182;let me;e[147]>1e-35?e[1]>53.50000000000001?me=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?me=-.02763546051134888:me=.06423344777499343:me=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?me=.049825139823021586:e[7]>22.500000000000004?me=-.01131680751379858:e[0]>2579.5000000000005?me=-.10673674485369694:me=-.015387212937189957:me=.04347325151148724:e[179]>1e-35?me=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?me=.0650355590939066:me=-.0473332870892226:me=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?me=.11139543329789044:e[126]>1e-35?me=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?me=.06370903833231022:e[10]>29.500000000000004?me=.03415223859607161:e[10]>3.5000000000000004?me=-.07415518117873297:me=-.0014119203473324082:me=.12617652343819508:e[9]>41.50000000000001?me=-.10311145857176976:e[8]>2757.5000000000005?me=-.08106484219011428:e[7]>71.50000000000001?me=-.09783384432091176:e[1]>88.50000000000001?me=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?me=-.008884084501608536:me=.061339437777743616:me=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?me=.01526664064166223:me=.13534828515415498:me=-.06985484465894776:me=.0005758961943178744;let _e;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?_e=-.029152732370514342:_e=.07173628916139178:e[1]>36.50000000000001?_e=-.08859111297255318:_e=.0018030071815630785:_e=.13652461563759322:_e=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?_e=-.07145140450454163:e[21]>1e-35?_e=-.07422841663493233:_e=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?_e=.11864240653986852:e[3]>33.50000000000001?_e=-.08821209591953476:_e=.05706392280054726:_e=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?_e=.01953613016837112:_e=-.059781039130025006:e[148]>1e-35?_e=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?_e=.07207826841738371:e[202]>1e-35?_e=.08163917539410503:_e=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?_e=-.06858280496900336:_e=-.1781828899516648:_e=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?_e=.018232649414147116:_e=-.04419781124222661:_e=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?_e=.11452368095776105:_e=-.036496437259924026:_e=-.040445338739465486:_e=.0816572651001145:_e=-.08968914517368663:_e=.0002826343082585516;let Te;e[189]>1e-35?e[0]>5269.500000000001?Te=-.08839493050459957:e[10]>85.50000000000001?Te=.10046908365702462:e[8]>2592.5000000000005?Te=-.09632233975926387:e[8]>2000.5000000000002?Te=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?Te=.035504970430426296:e[1]>31.500000000000004?Te=-.1133764813142531:Te=-.01138280942244812:e[8]>1125.5000000000002?Te=.09800530246229806:Te=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?Te=.07316772160107896:Te=-.059095014819051765:Te=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?Te=-.09150209066166894:e[8]>3084.0000000000005?Te=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?Te=-.04449234460408263:Te=.05568837973347338:Te=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?Te=.12741077850267066:Te=.007372371864985329:e[2]>39.50000000000001?Te=.02295917234617787:Te=.14966532083907075:e[1]>39.50000000000001?Te=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?Te=-.02511861881285652:e[1]>27.500000000000004?Te=.08683660011672288:Te=.02956214835267301:e[9]>15.500000000000002?Te=-.016538805462996232:Te=.04352738094981517:Te=-.05561856645643868:e[9]>170.50000000000003?Te=-.07996752635874248:e[179]>1e-35?Te=-.09065975936933919:Te=-.00042817975060427177;let Ae;e[39]>1e-35?e[4]>25.500000000000004?Ae=.03443173196222934:Ae=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?Ae=-.0013415395759330318:Ae=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?Ae=.002297618040307216:Ae=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?Ae=-.015297257305397608:Ae=.09651828834062742:Ae=-.06636003334371929:e[10]>11.500000000000002?Ae=.17631616138309397:e[0]>1639.5000000000002?Ae=3804386478092585e-20:Ae=-.09099296398683193:Ae=-.06874415876172972:e[0]>2151.5000000000005?Ae=-.1311264883406766:Ae=.00809052010141122:e[253]>1e-35?Ae=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?Ae=.045038497754638605:Ae=-.07770167665661752:Ae=-.08596294280650517:Ae=.08538655727027213:Ae=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?Ae=.054627956617973275:e[1]>61.50000000000001?Ae=-.11994465088415499:e[4]>8.500000000000002?Ae=.06676200239406452:Ae=-.027503148069376867:e[8]>676.5000000000001?Ae=-.10363964928357075:e[4]>8.500000000000002?Ae=-.07589816227175682:Ae=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?Ae=.009093153189012338:Ae=-.06119765876605404:Ae=.0004668642103528348;let Ye;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?Ye=-.10100794502567233:Ye=.08000205636470442:Ye=-.11945419826856896:e[113]>1e-35?Ye=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?Ye=.1224302423880318:Ye=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?Ye=.0019277012166729114:e[1]>28.500000000000004?Ye=-.054445821715687494:Ye=.045645722976713245:e[30]>1e-35?Ye=.13402660155331655:Ye=.008921176001777645:Ye=-.058547426505451076:Ye=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?Ye=-.13526418192218206:Ye=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?Ye=.0007263224246135398:Ye=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?Ye=-.11575657261278308:Ye=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?Ye=-.01995960178292952:Ye=.11216586049153021:Ye=-.10050961087149474:Ye=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ye=.10303451081526649:Ye=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?Ye=-.043799548968209395:Ye=-.12451444314954115:e[4]>12.500000000000002?Ye=-.03838117361958468:Ye=.06504990789767144:e[57]>1e-35?Ye=.06890006938293915:Ye=.0003914274695562949;let ut;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?ut=.004271749009686975:ut=-.10523878297127605:ut=.04633982158107851:ut=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?ut=-.08655730561951676:e[8]>919.5000000000001?ut=-.0676453705610183:e[7]>18.500000000000004?ut=-.027787974193650575:ut=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?ut=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?ut=-.03473877164537313:e[8]>719.5000000000001?ut=.10471053866934404:ut=.008236107678382981:e[4]>57.50000000000001?ut=.09412219478825269:e[10]>66.50000000000001?ut=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?ut=-.040681323751002293:ut=.06374650297561021:ut=.12884615227401788:e[10]>5.500000000000001?ut=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?ut=-.05474068967150784:ut=.03744700650806603:ut=-.07846396348680855:e[1]>42.50000000000001?ut=.018972315810821302:ut=.10953621007604744:e[5]>4439.500000000001?ut=.010999776705494586:e[1]>40.50000000000001?ut=-.12394200059775967:e[10]>2.5000000000000004?ut=.013528093962849453:ut=-.09222088417048682:ut=-.12662967149701485:ut=.09327296405849603:e[3]>99.50000000000001?ut=-.013581954439986752:ut=.0005526498251862075;let Ce;e[187]>1e-35?e[243]>1e-35?Ce=-.08392792551692502:e[10]>68.50000000000001?Ce=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Ce=-.0825306209711224:Ce=.049559996084532945:Ce=-.1064938580886302:Ce=.03353240732240275:Ce=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Ce=.16966001471529374:e[1]>57.50000000000001?Ce=-.005772777673676247:Ce=.09383677041525058:e[8]>747.5000000000001?Ce=.054068175469351235:Ce=-.049968216310277036:e[8]>753.5000000000001?Ce=-.0679383555784074:e[4]>8.500000000000002?Ce=-.059757341189735386:Ce=.05701083682780414:Ce=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Ce=.05820296128730006:Ce=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Ce=.15340611616954566:Ce=.04385036188666874:e[0]>4449.500000000001?Ce=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Ce=.004840354641006495:Ce=.09967827580276283:Ce=.11605363537391578:e[9]>19.500000000000004?Ce=-.0735831692725717:Ce=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Ce=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Ce=-.02442182361342386:Ce=.10334853004243093:Ce=-.030431948680167104:Ce=-956078595250818e-19;let At;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?At=-.040232505718244854:e[0]>3030.5000000000005?At=.0634109586813073:At=-.04043617034245621:At=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?At=-.007859096946435131:At=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?At=.05515771679628051:At=-.04214471312668263:At=-.09589322222261765:e[193]>1e-35?At=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?At=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?At=-.08152604001147906:e[11]>1e-35?At=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?At=.13100930780107503:e[10]>25.500000000000004?At=.05921074710011526:At=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?At=.0009447118243153454:At=-.09820565036865991:At=.057146909749745546:e[0]>2115.5000000000005?At=-.12331216726611678:At=.007281983677694285:e[2]>56.50000000000001?At=.012310154675612615:At=-.08873665774670461:e[6]>25.500000000000004?At=.134708740821879:e[9]>5.500000000000001?At=-.0805901581148979:e[224]>1e-35?At=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?At=.10842593386554122:e[2]>13.500000000000002?At=.06466798320378395:At=-.08578130788886655:At=-.03590892078300114:At=.0003499894043880708;let It;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?It=.10839808814624702:It=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?It=-.007478368069393829:It=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?It=.04035247751736232:e[0]>4255.500000000001?It=-.1310865624507367:e[0]>4004.5000000000005?It=.06647367311982634:It=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?It=-.011618902907510411:It=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?It=.09356028223727986:It=-.03811765057032162:It=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?It=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?It=.1146142460964847:e[1]>62.50000000000001?It=-.09679869865322362:e[9]>71.50000000000001?It=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?It=-.039046426387852974:It=.04558778688367152:It=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?It=.03261697816211156:e[15]>1e-35?It=.02586252542264368:e[2]>14.500000000000002?It=-.016420452667484604:It=-.1011799626006976:It=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?It=.010193588102560583:It=.11748729525930773:It=-.04468162226743652:It=-.028365274393617957:e[71]>1e-35?It=.05115139346588793:It=-.0001510425316936658;let nt;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?nt=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?nt=.020637047900190317:nt=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?nt=-.04632587527094407:nt=.08603684785510396:nt=-.05101401015448496:nt=.025466432054358498:nt=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?nt=.020385355430046367:nt=.12032592051335252:nt=-.012387370292173013:e[2]>23.500000000000004?nt=-.12568545484492677:nt=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?nt=.043528764484784536:nt=.14352071657196003:nt=-.009332833816977268:nt=.11186782227735846:nt=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?nt=-.05649104643152564:nt=.03884200719305747:e[42]>1e-35?nt=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?nt=-.04103416502526736:nt=.04881823954656287:e[4]>15.500000000000002?nt=.009342724662897898:e[0]>3969.5000000000005?nt=-.025637309961309498:nt=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?nt=-.08185697075265091:e[0]>2215.5000000000005?nt=.030063975892297354:e[0]>807.5000000000001?nt=-.03924325550733229:nt=.0415330999189793:nt=-.00024374664461674863;let ft;e[3]>7.500000000000001?ft=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ft=.025798416259686565:ft=.13251610353146012:ft=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?ft=-.11098564237775424:ft=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?ft=.15347826616466054:e[3]>4.500000000000001?ft=.10379320730958941:ft=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?ft=.03159791088468647:ft=-.10612873364104258:ft=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?ft=-.02335760775001469:ft=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?ft=-.011164334474672973:ft=-.06594044410501655:e[207]>1e-35?ft=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?ft=-.01725821503981916:ft=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?ft=-.04226531631656534:ft=-.14409800530171432:ft=-.03245576341206398:e[8]>4214.500000000001?ft=.0895409165534886:e[247]>1e-35?ft=-.06506383629143335:e[118]>1e-35?ft=-.07214270121257443:e[8]>546.5000000000001?ft=-.004385020865473831:ft=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?ft=.046278501133958524:ft=-.030835570926968044:e[0]>493.50000000000006?ft=-.12794504651610425:ft=.009415039807550776;let wt;e[304]>1e-35?wt=-.04717777269217453:e[76]>1e-35?wt=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?wt=-.09648224457374217:e[132]>1e-35?wt=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?wt=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?wt=.10838431695638147:e[230]>1e-35?wt=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?wt=.050071316251979:wt=-.006356941111525215:e[6]>8.500000000000002?wt=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?wt=.10217402850540398:wt=-.048840949025349197:wt=-.03668313197909846:e[7]>39.50000000000001?wt=-.0562642841496003:e[10]>2.5000000000000004?wt=.09749777369987417:wt=-.04848223121417616:e[0]>5453.500000000001?wt=.08316648226133942:wt=-.0261979698267618:e[212]>1e-35?wt=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?wt=.04837009746506856:wt=-.09184360565631328:wt=.0032411047845613606:e[0]>4733.500000000001?wt=.0977378556864798:wt=.010776545559325588:wt=-.012483310473120218:wt=-.049284121449103935:wt=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?wt=-.08380361910948711:wt=.07375088778585813:wt=-.1084864186071348:wt=.0007819503469605476;let Lt;e[7]>17.500000000000004?e[115]>1e-35?Lt=.08741852531696623:e[167]>1e-35?Lt=.10078975495600809:Lt=-.0018324767784017562:e[290]>1e-35?Lt=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Lt=.1379733311640402:Lt=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Lt=-.09360083033774169:Lt=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Lt=-.015599362579530679:e[0]>4593.500000000001?Lt=-.12029549262691491:Lt=-.018917032256501397:Lt=.04632831686576592:Lt=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Lt=-.05894883236412263:Lt=.05213944998315824:Lt=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Lt=.07577412405680808:Lt=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Lt=-.0277076900736147:e[1]>65.50000000000001?Lt=-.023587471585763506:Lt=.10184896592433082:Lt=-.057699270527916825:Lt=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Lt=.06566902102799584:e[10]>25.500000000000004?Lt=-.07033633753181047:Lt=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Lt=-.08108035861059537:Lt=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Lt=-.12431182772561139:Lt=.01886235886984271:Lt=.0025579594894418116;let Gt;e[8]>2915.5000000000005?e[101]>1e-35?Gt=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?Gt=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?Gt=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?Gt=.0687641681341721:e[10]>102.50000000000001?Gt=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?Gt=-.06762578396473291:e[10]>65.50000000000001?Gt=-.05226727783610509:e[282]>1e-35?Gt=.09911438410640917:e[19]>1e-35?Gt=.06915156336429933:Gt=-.006565637886508241:Gt=-.08344300251849307:Gt=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?Gt=.19428463865406298:Gt=.016073883020956765:e[13]>1e-35?Gt=.06864077097923665:Gt=-.01388867527034731:e[0]>1847.5000000000002?Gt=.004655280608161356:e[1]>40.50000000000001?Gt=.031406054057765996:Gt=.12798062439212832:Gt=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?Gt=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?Gt=-.0706095614785733:Gt=.04227164041372561:Gt=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?Gt=-.07139533369873902:Gt=.008952586782921625:Gt=.06086212582180936:Gt=-.0816938490403437:Gt=-.051224901945956025:Gt=-.10525399124186095:Gt=.000270924147208224;let kt;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?kt=.029186512383291244:e[7]>1.5000000000000002?kt=-.14984127276725573:e[1]>40.50000000000001?kt=.032757060730648144:kt=-.07675575422749602:e[6]>8.500000000000002?kt=.10599766037117893:kt=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?kt=-.051394622947855385:kt=.03237141302699347:kt=.12526173027943244:kt=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?kt=-.07383912482657777:e[0]>5147.500000000001?kt=.07008813937042091:e[10]>38.50000000000001?kt=-.06779203808365307:kt=-.013782769999524498:kt=.0880038869117715:kt=-.12846294176070952:e[281]>1e-35?kt=-.06810806903850834:e[10]>227.50000000000003?kt=-.08937977001661111:e[10]>130.50000000000003?kt=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?kt=.011036530162093841:kt=-.11500797478569702:kt=.03702229366129399:kt=.07242026683784307:e[189]>1e-35?kt=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?kt=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?kt=-.02608892716555304:kt=.09609599320761308:e[9]>105.50000000000001?kt=-.06848127135991534:kt=.0023675721254089715:e[86]>1e-35?kt=-.11049635625500497:kt=-.004847764219432233;let Nt;e[125]>1e-35?e[0]>3969.5000000000005?Nt=-.09462233499115416:Nt=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Nt=-.030700661288166148:Nt=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Nt=.03149547314036763:Nt=-.08166208257451366:e[0]>5850.500000000001?Nt=-.10228136324773157:e[102]>1e-35?Nt=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Nt=.01782894842128785:e[13]>1e-35?Nt=.002680190260979968:Nt=.1773965720476949:e[2]>72.50000000000001?Nt=.09090831938627947:e[1]>59.50000000000001?Nt=-.12297206702816128:e[0]>4977.500000000001?Nt=.09899015653118268:Nt=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Nt=-.0675900954187773:Nt=.012336403425364092:Nt=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Nt=-.02671721777458802:Nt=-.09242452991958029:e[284]>1e-35?Nt=-.08585691288582491:Nt=.013332890564324447:e[4]>14.500000000000002?Nt=-.005245022074799553:e[23]>1e-35?Nt=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Nt=-.09289852307936758:e[116]>1e-35?Nt=-.09686573010015055:e[8]>804.5000000000001?Nt=.03812547148215318:Nt=.005162744968176633:e[9]>43.50000000000001?Nt=-.059246106396159376:Nt=.050370113808135275:Nt=.000794041852811028;let Pt;e[3]>7.500000000000001?Pt=.0004981426543104341:e[9]>114.50000000000001?Pt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Pt=-.019061766497948867:Pt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Pt=-.006044199577160493:Pt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Pt=.11486607015912494:e[9]>16.500000000000004?Pt=-.08686820858087294:Pt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Pt=-.022230207980026437:Pt=.1056683690528792:Pt=-.05859530800943035:Pt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Pt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Pt=-.05177544573528314:Pt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Pt=.15159657923771555:Pt=-.0060542654587671055:e[9]>5.500000000000001?Pt=-.042808028205051786:e[1]>48.50000000000001?Pt=-.010449538258110742:Pt=.10026907521968294:Pt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Pt=-.02272452389409874:Pt=-.11202691218244319:e[5]>1809.5000000000002?Pt=-.04460413584255906:Pt=.08196329474205256:e[10]>69.50000000000001?Pt=.10221481166238167:Pt=.0004063052701699382:e[243]>1e-35?Pt=-.07563941678849846:e[18]>1e-35?Pt=.02563513231103432:Pt=-.004740081147303786;let Kt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Kt=.057446442918106:Kt=-.04404018270156349:Kt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Kt=-.05930486238817954:e[1]>29.500000000000004?Kt=.06955866121256543:e[8]>597.5000000000001?Kt=-.06538593556505168:Kt=.06212512595497445:Kt=.00021102929959182257:e[9]>90.50000000000001?Kt=.0958061289119631:e[102]>1e-35?Kt=.07172059675638813:e[1]>47.50000000000001?Kt=-.03879798603977766:e[297]>1e-35?Kt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Kt=.003805910996312012:Kt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Kt=.11252376801858695:e[288]>1e-35?Kt=-.10293901912180432:Kt=.014669268837893872:e[1]>42.50000000000001?Kt=-.05988274123836837:e[145]>1e-35?Kt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Kt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Kt=-.03366718308159971:Kt=.11936550608549797:e[1]>31.500000000000004?Kt=-.07454716789539667:Kt=.027859650621164217:e[10]>10.500000000000002?Kt=-.11806374092321247:Kt=-.03506042229223101:Kt=-.0007080765837654515:e[10]>6.500000000000001?Kt=-.028077713664996503:e[2]>7.500000000000001?Kt=.15803724124216814:Kt=.0351381284833169:Kt=-.07877953381054767;let Mt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Mt=.14144941521975005:Mt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Mt=.10514088112381886:e[7]>18.500000000000004?Mt=-.10370643555956745:Mt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Mt=-.0508129468802936:e[224]>1e-35?Mt=-.037816066368733595:e[10]>43.50000000000001?Mt=.07793408602607932:Mt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Mt=.036972453794202324:Mt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Mt=.09475302525132188:Mt=-.03580104945898193:Mt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Mt=-.1282448778804823:Mt=-.014395808269207212:Mt=-.008940927190750592:Mt=-.1459118815453748:e[0]>4897.500000000001?Mt=-.09733068457286576:e[1]>57.50000000000001?Mt=.06575271409540207:Mt=-.019556422817450115:Mt=-.10623959222984136:e[18]>1e-35?Mt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Mt=.008125645893104896:Mt=-.11084368630465868:Mt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Mt=-.05854904579626861:e[4]>5.500000000000001?Mt=.02985784951394175:Mt=-.03247600140149334:Mt=-.11152899295304973:Mt=-.00035424577714215764;let Ut;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?Ut=-.06563670567578264:Ut=.067656954313663:Ut=-.10388217548685377:e[8]>2302.5000000000005?Ut=.07190621943790435:e[4]>67.50000000000001?Ut=.060020507643618604:e[4]>38.50000000000001?Ut=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?Ut=-.06568134366461277:e[8]>1075.5000000000002?Ut=-.004768057709758692:Ut=.11785959165999467:Ut=-.05080221682879267:Ut=.14814206127494542:Ut=-.07241946332311736:e[253]>1e-35?Ut=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?Ut=-.02471195342450034:Ut=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?Ut=-.10741850739482771:Ut=.010051635824944:Ut=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?Ut=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?Ut=-.08992396138178163:Ut=.010944365997007212:Ut=.06221307021813793:Ut=.1286024087559141:e[127]>1e-35?Ut=.06568148624531012:e[10]>40.50000000000001?Ut=-.07567979134643352:e[5]>5647.500000000001?Ut=.07594672895572069:Ut=-.018158016446439187:e[6]>55.50000000000001?Ut=.009293422430111872:e[4]>45.50000000000001?Ut=-.017749818406964022:e[2]>46.50000000000001?Ut=.01714136511113982:Ut=-724762291423549e-19;let it;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?it=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?it=.07084726276890757:it=-.11232323677722932:it=.04812773089510436:it=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?it=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?it=.0879462816013881:it=-.002966662093626573:e[306]>1e-35?it=-.04588085188342676:it=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?it=-.006600332774461143:it=.1272481351557754:it=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?it=.011884312066620044:it=.11678751052403374:e[4]>8.500000000000002?it=.03627129613273813:it=-.12132783497902287:it=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?it=-.06830131718398992:e[0]>5147.500000000001?it=.062360406249609306:e[4]>4.500000000000001?it=-.013162203864592055:it=-.07153029184927609:it=.07628618062271557:it=-.12085065687320373:e[190]>1e-35?it=-.045816889524231186:e[137]>1e-35?it=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?it=.025895337822752502:it=-.06503949350616421:e[10]>227.50000000000003?it=-.09989456525790491:e[10]>130.50000000000003?it=.08616651057030683:it=.0001234981796706021;let Tt;e[8]>1014.5000000000001?e[9]>137.50000000000003?Tt=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Tt=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Tt=-.141732381961068:Tt=-.0317152307496497:Tt=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Tt=.12191801556691254:Tt=-.0003444689085397977:Tt=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Tt=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Tt=-.05676033995381961:Tt=.10933961076803381:e[4]>26.500000000000004?Tt=-.11667582544549814:e[8]>1765.5000000000002?Tt=.032174455312047705:Tt=-.0755016390126608:e[293]>1e-35?Tt=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Tt=.026571311956824436:e[15]>1e-35?Tt=.06175459479851121:Tt=-.018778084411148754:e[9]>40.50000000000001?Tt=-.09420232889965811:Tt=-.004578248021263184:e[2]>1.5000000000000002?Tt=.005453714644971445:Tt=-.03907138175699279:Tt=-.055296364182154736:e[23]>1e-35?Tt=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Tt=-.09358146510580179:Tt=.060524657996178094:Tt=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Tt=-.12698331085931538:Tt=.006059605604079918:e[2]>196.50000000000003?Tt=-.09451315810804783:Tt=.0011390147031687425;let sr;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?sr=.05517359070460923:sr=-.04758751221404857:sr=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?sr=.1040436595565776:e[9]>21.500000000000004?sr=.04032250517675179:e[107]>1e-35?sr=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?sr=.1192453009230486:e[1]>51.50000000000001?sr=.0443376336292195:sr=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?sr=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?sr=-.08999822408398037:sr=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?sr=-.061850439226075:sr=.08849196353361093:sr=.10536348167793089:e[92]>1e-35?sr=.04894947712119185:e[9]>16.500000000000004?sr=.05900227903883853:e[9]>5.500000000000001?sr=-.11946594348916476:sr=-.03652096348071964:e[1]>41.50000000000001?sr=-.07411603110840567:sr=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?sr=.08493634342741495:e[11]>1e-35?sr=-.10899097825564363:sr=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?sr=.08356655906359918:e[7]>25.500000000000004?sr=-.09475076526194888:e[10]>5.500000000000001?sr=-.01999406228763778:sr=.06696212545889428:e[6]>20.500000000000004?sr=.14713592661393468:sr=.0459917279002218:sr=.00027445928493734093;let ar;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?ar=-.06904501553217077:ar=.05696231672035904:ar=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?ar=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?ar=-.011419256378538392:e[0]>3830.5000000000005?ar=.140315841503076:ar=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?ar=-.04027822909411164:ar=.03176085103667189:ar=.06779515865838849:e[4]>15.500000000000002?ar=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?ar=.06124039747298539:ar=-.04312732764434027:ar=.09161522761808062:ar=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?ar=.11211681010488772:e[13]>1e-35?ar=.06725735814960367:ar=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?ar=.11743605068905603:ar=-.011309033539148687:ar=-.07896094707523052:ar=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?ar=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?ar=.02836295848998302:ar=.12210680366745175:ar=-.058302317470509096:e[5]>4144.500000000001?ar=.06123341960495106:ar=-.03840046906926525:ar=-.05221474543453495:ar=.03988215485860711:ar=-.00033074684693083496;let KE=M0e(t+r+n+i+s+a+l+c+u+f+d+p+m+g+h+_+x+y+b+v+I+D+H+V+$+Y+P+w+z+k+T+E+R+S+A+N+F+M+G+se+ye+he+Ue+ze+Ve+Ze+L+ne+B+ge+le+q+re+xe+ue+de+Ee+we+Ne+$e+Ke+tt+rt+lt+O+Z+fe+pe+Re+Me+je+We+De+W+X+ae+me+_e+Te+Ae+Ye+ut+Ce+At+It+nt+ft+wt+Lt+Gt+kt+Nt+Pt+Kt+Mt+Ut+it+Tt+sr+ar);return[1-KE,KE]}o(bM,"multilineModelPredict");function M0e(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(M0e,"sigmoid");var U0e={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},vM={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function TM(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(U0e[r]??[]).some(l=>s.includes(l))}o(TM,"hasComment");var B3=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=TM(t,-2,r),this.rstripSecondToLastLineHasComment=TM(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},zv=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new B3(t,n),this.suffixFeatures=new B3(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(vM).length+1).fill(0);r[vM[this.language]??0]=1;let n=new Array(Object.keys(Ua).length+1).fill(0);n[Ua[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(Ua).length+1).fill(0);i[Ua[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(Ua).length+1).fill(0);s[Ua[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(Ua).length+1).fill(0);return a[Ua[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function B0e(e,t){return new zv(e.prefix,e.suffix,t)}o(B0e,"constructMultilineFeatures");function EM(e,t){let r=B0e(e,t).constructFeatures();return bM(r)[1]}o(EM,"requestMultilineScore");async function*j3(e,t){for await(let r of e)yield t(r)}o(j3,"asyncIterableMap");async function*IM(e,t){for await(let r of e)await t(r)&&(yield r)}o(IM,"asyncIterableFilter");function CM(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Se(e,"engine.messages",n,1)}o(CM,"logEngineMessages");function wM(e){if(e instanceof Error)return e.stack?e.stack:e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}o(wM,"toString");var Qi=new Ct("streamChoices"),Vv=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new Xv;this.tool_calls=[];this.function_call=new Yv;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new Kv),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function j0e(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(j0e,"splitChunk");var Kv=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},Yv=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},Xv=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},r1=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=n1(this.response);this.stats=new Zv;this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,i,s??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),Qi.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Qi.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Qi.debug(this.ctx,"chunk",a.toString());let[l,c]=j0e(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s,t);return}n=null;let d;try{d=JSON.parse(f)}catch{Qi.error(this.ctx,"Error parsing JSON stream data",u);continue}if(d.copilot_confirmation&&$0e(d.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:d.copilot_confirmation}),d.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:d.copilot_references}),d.choices===void 0){!d.copilot_references&&!d.copilot_confirmation&&(d.error!==void 0?Qi.error(this.ctx,"Error in response:",d.error.message):Qi.error(this.ctx,"Unexpected response with no choices or error: "+f)),d.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:d.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=n1(this.response,d),this.requestId.created===0&&d.choices?.length&&Qi.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&d.model&&(i=d.model),s===void 0&&d.usage&&(s=d.usage),this.allSolutionsDone()){r="";break e}for(let p=0;p<d.choices?.length;p++){let m=d.choices[p];Qi.debug(this.ctx,"choice",m),this.stats.add(m.index),m.index in this.solutions||(this.solutions[m.index]=new Vv);let g=this.solutions[m.index];if(g==null)continue;g.append(m);let h=this.asSolutionDecision(),_=m.text?.indexOf(`
`)>-1||m.delta?.content?.indexOf(`
`)>-1;if(m.finish_reason||_){let y=g.text.join("");if(h=this.asSolutionDecision(await t(y,{text:y,index:m.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:o(()=>Jv(g),"getAPIJsonData"),finished:!!m.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(m.finish_reason&&g.function_call.name!==void 0){n=m.finish_reason;continue}if(m.finish_reason&&(h.yieldSolution=!0,h.continueStreaming=!1),!h.yieldSolution)continue;let x=m.finish_reason??"client-trimmed";if(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:x,engineName:i??"",engineChoiceSource:Pf(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(m.finish_reason)?this.solutions[m.index]=null:g.yielded||(this.stats.markYielded(m.index),yield{solution:g,finishOffset:h.finishOffset,reason:m.finish_reason,requestId:this.requestId,index:m.index,model:i,usage:s},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;h.continueStreaming||(this.solutions[m.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&Qi.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{Qi.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let l=Number(s);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>Jv(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(Qi.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function $3(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Qi.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Qi.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Qi.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=Jv(t.solution);return q3(e,n,s,t.index,t.requestId,i,r)}o($3,"prepareSolutionForReturn");function Jv(e){let t=e.text.join(""),r=q0e(e),n=W0e(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,d)=>f.concat(d),[]),l=e.top_logprobs.reduce((f,d)=>f.concat(d),[]),c=e.text_offset.reduce((f,d)=>f.concat(d),[]),u=e.tokens.reduce((f,d)=>f.concat(d),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(Jv,"convertToAPIJsonData");function $0e(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o($0e,"isCopilotConfirmation");function PM(e,t,r){if(!e)return{};try{return JSON.parse(e)}catch(n){throw new Error(`Failed to parse JSON for ${t} '${r}': ${wM(n)}. Input: '${e}'`)}}o(PM,"parseCallArguments");function q0e(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.join("").trim(),i=PM(n,"tool call",r.name);t.push({type:"function",function:{name:r.name,arguments:i},approxNumTokens:r.arguments.length+1})}return t}o(q0e,"extractToolCalls");function W0e(e){if(e.function_call.name){let t=e.function_call.arguments.join("").trim(),r=PM(t,"function call",e.function_call.name);return{name:e.function_call.name,arguments:r}}}o(W0e,"extractFunctionCall");var Zv=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new Qv,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},Qv=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};function G0e(e,t){return e!==null&&typeof e=="object"&&t in e}o(G0e,"hasKey");function Fs(e,t){return G0e(e,t)?e[t]:void 0}o(Fs,"getKey");var RM=Bt(Ti());var Yr=new Ct("fetchCompletions");function n1(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(n1,"getRequestId");function eT(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(eT,"getProcessingTime");function AM(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(AM,"uiKindToIntent");var nc=class{static{o(this,"OpenAIFetcher")}};function H0e(e,t,r,n){return v5(e,t,"proxy","v1/engines",r,n)}o(H0e,"getProxyEngineUrl");function kM(e,t,r,n){for(let[i,s]of Object.entries(e)){if(r.includes(i))continue;let a=s;if(i==="extra"&&n){let l={...a};for(let c of n)delete l[c];a=l}t.properties[`request.option.${i}`]=JSON.stringify(a)??"undefined"}}o(kM,"sanitizeRequestOptionTelemetry");async function DM(e,t,r,n,i,s,a,l,c,u,f){let d=e.get(Lr),p=H0e(e,a,r,n),m=c.extendedBy({endpoint:n,engineName:r,uiKind:l},Rh(t));kM(s,m,["prompt","suffix"],["context"]),m.properties.headerRequestId=i,Se(e,"request.sent",m);let g=Tn(),h=AM(l);return R8(e,p,a.token,h,i,s,u,f).then(_=>{let x=n1(_,void 0);m.extendWithRequestId(x);let y=Tn()-g;return m.measurements.totalTimeMs=y,Yr.info(e,`Request ${i} at <${p}> finished with ${_.status} status after ${y}ms`),m.properties.status=String(_.status),Yr.debug(e,"request.response properties",m.properties),Yr.debug(e,"request.response measurements",m.measurements),Yr.debug(e,"prompt:",t),Se(e,"request.response",m),_}).catch(_=>{if(G0(_))throw Se(e,"request.cancel",m),_;d.setWarning(Fs(_,"message")??"");let x=m.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",x),m.properties.message=String(Fs(_,"name")??""),m.properties.code=String(Fs(_,"code")??""),m.properties.errno=String(Fs(_,"errno")??""),m.properties.type=String(Fs(_,"type")??"");let y=Tn()-g;throw m.measurements.totalTimeMs=y,Yr.info(e,`Request ${i} at <${p}> rejected with ${String(_)} after ${y}ms`),Yr.debug(e,"request.error properties",m.properties),Yr.debug(e,"request.error measurements",m.measurements),Se(e,"request.error",m),_}).finally(()=>{Xk(e,t,m)})}o(DM,"fetchWithInstrumentation");async function z0e(e,t,r,n,i,s,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});kM(s,f,["messages"]),f.properties.headerRequestId=i,Se(e,"request.sent",f);let d=Tn(),p=AM(l),m={...M8(e)};try{let g=await R8(e,n,a.token,p,i,s,u,m),h=n1(g,void 0);f.extendWithRequestId(h);let _=Tn()-d;return f.measurements.totalTimeMs=_,Yr.info(e,`Request ${i} at <${n}> finished with ${g.status} status after ${_}ms`),Yr.debug(e,"request.response properties",f.properties),Yr.debug(e,"request.response measurements",f.measurements),Yr.debug(e,"messages:",JSON.stringify(t)),Se(e,"request.response",f),g}catch(g){if(G0(g))throw Se(e,"request.cancel",f),g;let h=f.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",h),f.properties.message=String(Fs(g,"name")??""),f.properties.code=String(Fs(g,"code")??""),f.properties.errno=String(Fs(g,"errno")??""),f.properties.type=String(Fs(g,"type")??"");let _=Tn()-d;throw f.measurements.totalTimeMs=_,Yr.info(e,`Request ${i} at <${n}> rejected with ${String(g)} after ${_}ms`),Yr.debug(e,"request.error properties",f.properties),Yr.debug(e,"request.error measurements",f.measurements),Se(e,"request.error",f),g}finally{CM(e,t,f)}}o(z0e,"fetchChatWithInstrumentation");function tT(e){return IM(e,t=>t.completionText.trim().length>0)}o(tT,"postProcessChoices");var Zp="github.copilot.completions.quotaExceeded",Jp=class extends nc{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Lr),l="completions",c=await t.get(Wr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let m=u.body();try{m&&"destroy"in m&&typeof m.destroy=="function"?m.destroy():m instanceof ReadableStream&&m.cancel()}catch(g){Yr.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let m=this.createTelemetryData(l,t,r);return this.handleError(t,a,m,u,c)}let d=r1.create(t,r.count,u,n,[],s).processSSE(i),p=j3(d,m=>$3(t,m,n));return{type:"success",choices:tT(p),getProcessingTime:o(()=>eT(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l,c={},u){if(this.#e)return{type:"canceled",reason:this.#e};let f="https://copilot-proxy.githubusercontent.com/chat/completions",d={messages:r,model:l.id,stream:!0,...c},p=n.extendedBy({endpoint:f,model:l.name}),m=t.get(Lr),g=await t.get(Wr).getToken(),h=await z0e(t,r,l.id,f,s,d,g,i,p,u);if(u?.isCancellationRequested){let b=h.body();try{b&&"destroy"in b&&typeof b.destroy=="function"?b.destroy():b instanceof ReadableStream&&b.cancel()}catch(v){Yr.exception(t,v,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(h.status!==200){let b=Qe.createAndMarkAsIssued({endpoint:f,engineName:l.name,uiKind:i,headerRequestId:s});return this.handleError(t,m,b,h,g)}let x=r1.create(t,1,h,p,[],RM.CancellationToken.None).processSSE(),y=j3(x,b=>$3(t,b,n));return{type:"success",choices:tT(y),getProcessingTime:o(()=>eT(h),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Lr),l="speculation",c=await t.get(Wr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:vi(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let g=f.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(h){Yr.exception(t,h,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let g=this.createTelemetryData(l,t,u);return this.handleError(t,a,g,f,c)}let p=r1.create(t,1,f,n,[],s).processSSE(i),m=j3(p,g=>$3(t,g,n));return{type:"success",choices:tT(m),getProcessingTime:o(()=>eT(f),"getProcessingTime")}}createTelemetryData(t,r,n){return Qe.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await Mu(0),a?.isCancellationRequested?"not-sent":await DM(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(qe).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:G3(t),temperature:W3(t,n.count),top_p:FM(t),n:n.count,stop:NM(t,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(c.logprobs=2);let u=X1(n.repoInfo);return u!==void 0&&(c.nwo=u),n.postOptions&&Object.assign(c,n.postOptions),n.prompt.context&&(c.extra.context=n.prompt.context),await Mu(0),a?.isCancellationRequested?"not-sent":await DM(t,n.prompt,n.engineModelId,r,n.ourRequestId,c,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Zp,title:"Learn More"});let c=zr(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Yr.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Yr.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Yr.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),Se(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(Wr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Yr.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Yr.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Yr.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function q3(e,t,r,n,i,s,a){return Yk(e,t,r,i,n),{completionText:t,meanLogProb:V0e(e,r),meanAlternativeLogProb:K0e(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:vi(),finishReason:r.finish_reason}}o(q3,"convertToAPIChoice");function V0e(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){pt.exception(e,r,"Error calculating mean prob")}}o(V0e,"calculateMeanLogProb");function K0e(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){pt.exception(e,r,"Error calculating mean prob")}}o(K0e,"calculateMeanAlternativeLogProb");function W3(e,t){return u0(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(W3,"getTemperatureForSamples");var Y0e={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function NM(e,t){return Y0e[t??""]??[`


`,"\n```"]}o(NM,"getStops");function FM(e){return 1}o(FM,"getTopP");function G3(e){return rm}o(G3,"getMaxSolutionTokens");var rT=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{o(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},H3=class{constructor(t,r,n,i,s,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=s;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{o(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let s={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(s.finishOffset),r.finished&&await this.trimAll(r,i),s}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new rT(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new U3(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let s=q3(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);s.copilotAnnotations=this.adjustedAnnotations(s,r,i),s.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,s)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,u]of Object.entries(t.copilotAnnotations)){let f=u.filter(d=>d.start_offset-i<t.completionText.length&&d.stop_offset-i>0).map(d=>{let p={...d};return p.start_offset-=i,p.stop_offset-=i,a||(p.stop_offset=Math.min(p.stop_offset,t.completionText.length)),p});f.length>0&&(l[c]=f)}return Object.keys(l).length>0?l:void 0}};var z3=new Ct("getCompletions");function OM(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=i1(r.resultType),Se(e,`${t}.shown`,r.telemetry)}o(OM,"telemetryShown");function LM(e,t,r){let n=t+".accepted";Se(e,n,r)}o(LM,"telemetryAccepted");function MM(e,t,r){let n=t+".rejected";Se(e,n,r)}o(MM,"telemetryRejected");function Os(e,t={}){return{...t,telemetryBlob:e}}o(Os,"mkCanceledResultTelemetry");function Xr(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(Xr,"mkBasicResultTelemetry");function UM(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=Tn()-t.telemetryBlob.issuedTime,n=i1(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return z3.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),ey(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(z3.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Se(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}ey(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(UM,"handleGhostTextResultTelemetry");function i1(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(i1,"resultTypeToString");async function X0e(e){if(e.isCancellationRequested)return;let t=new rc,r=e.onCancellationRequested(()=>{t.resolve(),r.dispose()});await t.promise}o(X0e,"cancellationTokenToPromise");async function BM(e,t){if(t){let r=X0e(t);await Promise.race([e,r])}else await e}o(BM,"raceCancellation");function nT(e){return Array.isArray(e)}o(nT,"isArrayOfT");async function K3(e,t){let r=new Map,n=[];for(let[i,s]of e.entries()){let a=(async()=>{let l;s instanceof Promise?l=await J0e(s,t):l=await Z0e(s,t),r.set(i,l)})();n.push(a)}return await Promise.allSettled(n.values()),r}o(K3,"resolveAll");async function J0e(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},i=(async()=>{try{let s=await e;if(t?.isCancellationRequested)return;n={status:"full",resolutionTime:0,value:nT(s)?[...s]:[s]}}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await BM(i,t),n.resolutionTime=performance.now()-r,n}o(J0e,"resolvePromise");async function Z0e(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},i=(async()=>{try{for await(let s of e){if(t?.isCancellationRequested)return;n.status!="partial"&&(n={status:"partial",resolutionTime:0,value:[]}),n.value.push(s)}t?.isCancellationRequested||(n.status!=="partial"?n={status:"full",resolutionTime:0,value:[]}:n.status="full")}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await BM(i,t),n.resolutionTime=performance.now()-r,n}o(Z0e,"resolveIterable");var Q0e={maxSnippetLength:3e3,maxSnippetCount:7,enabledFeatures:"Deferred",timeBudgetMs:7,doAggregateSnippets:!0},ese="ms-vscode.cpptools";function jM(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(ese))&&tse(e,r,n)}o(jM,"fillInCppVSCodeActiveExperiments");function tse(e,t,r){try{let n=Q0e,i=e.get(qe).cppContextProviderParams(r);if(i)try{n=JSON.parse(i)}catch(s){pt.error(e,"Failed to parse cppContextProviderParams",s)}for(let[s,a]of Object.entries(n))t.set(s,a)}catch(n){pt.exception(e,n,"fillInCppActiveExperiments")}}o(tse,"addActiveExperiments");function $M(e,t,r){try{let n=e.get(qe).csharpContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[s,a]of Object.entries(i))t.set(s,a)}}catch(n){return pt.debug(e,"Failed to get the active C# experiments for the Context Provider API",n),!1}return!0}o($M,"fillInCSharpActiveExperiments");var rse="fallbackContextProvider",nse={mlcpMaxContextItems:20,mlcpMaxSymbolMatches:20,mlcpEnableImports:!1};function qM(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(rse))&&ise(e,r,n)}o(qM,"fillInMultiLanguageActiveExperiments");function ise(e,t,r){try{let n=ose(e,r);for(let[i,s]of Object.entries(n))t.set(i,s)}catch(n){pt.exception(e,n,"fillInMultiLanguageActiveExperiments")}}o(ise,"addActiveExperiments");function ose(e,t){let r=nse,n=e.get(qe).multiLanguageContextProviderParams(t);if(n)try{r=JSON.parse(n)}catch(i){pt.error(e,"Failed to parse multiLanguageContextProviderParams",i)}return r}o(ose,"getMultiLanguageContextProviderParamsFromExp");var WM=j.Object({importance:j.Optional(j.Integer({minimum:0,maximum:100})),id:j.Optional(j.String()),origin:j.Optional(j.Union([j.Literal("request"),j.Literal("update")]))}),GM=j.Intersect([j.Object({name:j.String(),value:j.String()}),WM]),HM=j.Intersect([j.Object({uri:j.String(),value:j.String(),additionalUris:j.Optional(j.Array(j.String()))}),WM]),sse=[GM,HM],ase=j.Union(sse),lse=new Map([["Trait",cl.Compile(GM)],["CodeSnippet",cl.Compile(HM)]]),cse=o(e=>e,"ensureTypesAreEqual");cse(!0);var use=j.Object({contextItems:j.Array(ase)}),fse=j.Object({selector:j.Array(j.Union([j.String(),j.Object({language:j.Optional(j.String()),scheme:j.Optional(j.String()),pattern:j.Optional(j.String())})]))}),iT=j.Object({id:j.String()}),dse=j.Intersect([iT,fse]),mse=j.Intersect([iT,use]),hGe=j.Object({providers:j.Array(dse)}),xGe=j.Object({providers:j.Array(iT)}),pse=j.Object({providers:j.Array(mse),updating:j.Optional(j.Array(j.String()))}),_Ge=j.Intersect([iN,j.Object({contextItems:j.Optional(pse)})]);function Y3(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(Y3,"filterContextItemsByType");function zM(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of lse.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(zM,"filterSupportedContextItems");function gse(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(gse,"validateContextItemId");function VM(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??vi();if(!gse(s)){let a=vi();pt.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=vi();pt.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(VM,"addOrValidateContextItemsIDs");function KM(e){return e instanceof oT?!0:e instanceof Error&&e.name===sT&&e.message===sT}o(KM,"isCancellationError");var oT=class extends Error{static{o(this,"CancellationError")}constructor(){super(sT),this.name=this.message}},sT="Canceled";var Si=class{constructor(t=()=>new aT){this.createStatistics=t;this.statistics=new xr(25)}static{o(this,"ContextProviderStatistics")}getStatisticsForCompletion(t){let r=this.statistics.get(t);if(r)return r;let n=this.createStatistics();return this.statistics.set(t,n),n}getPreviousStatisticsForCompletion(t){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let i=r[n];if(i!==t)return this.statistics.peek(i)}}},aT=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"PerCompletionContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[u,f]of n){let d={id:u.id,type:u.type};if(u.origin&&(d.origin=u.origin),f==="content_excluded"){s.push({...d,usage:"none_content_excluded"});continue}let p=t.find(m=>m.source===u);p===void 0?s.push({...d,usage:"error"}):s.push({...d,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let l=s.reduce((u,f)=>f.usage==="full"?u+1:f.usage==="partial"?u+.5:u,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function YM(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(YM,"componentStatisticsToPromptMatcher");var XM=Bt(Ti());var Ls=class{static{o(this,"ContextProviderRegistry")}},ic=class{static{o(this,"DefaultContextProviders")}},X3=class extends ic{constructor(){super();this.ids=[]}static{o(this,"DefaultContextProvidersContainer")}add(r){this.ids.push(r)}getIds(){return this.ids}},lT=class extends Ls{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s,a){if(s?.isCancellationRequested)return pt.debug(this.ctx,"Resolving context providers cancelled"),[];let l=new Map;$M(this.ctx,l,i);let c=[];if(this._providers.length===0)return c;let u=await this.matchProviders(n,i),f=u.filter(b=>b[1]>0),d=u.filter(b=>b[1]<=0);if(jM(this.ctx,f.map(b=>b[0].id),l,i),qM(this.ctx,f.map(b=>b[0].id),l,i),d.forEach(([b,v])=>{let I={providerId:b.id,matchScore:v,resolution:"none",resolutionTimeMs:0,data:[]};c.push(I)}),f.length===0)return c;if(s?.isCancellationRequested)return pt.debug(this.ctx,"Resolving context providers cancelled"),[];let p=new XM.CancellationTokenSource;if(s){let b=s.onCancellationRequested(v=>{p.cancel(),b.dispose()})}let m=k8(this.ctx)&&!dC(this.ctx)?0:xse(this.ctx,i),g=m>0?Date.now()+m:Number.MAX_SAFE_INTEGER,h;m>0&&(h=setTimeout(()=>{p.cancel(),p.dispose()},m));let _=new Map,x={completionId:r,documentContext:n,activeExperiments:l,timeBudget:m,timeoutEnd:g,data:a};for(let[b]of f){let v=this.ctx.get(Si).getPreviousStatisticsForCompletion(r)?.get(b.id);v&&(x.previousUsageStatistics=v);let I=b.resolver.resolve(x,p.token);_.set(b.id,I)}let y=await K3(_,p.token);h&&clearTimeout(h);for(let[b,v]of f){let I=y.get(b.id);if(I){if(I.status==="error")KM(I.reason)||pt.error(this.ctx,`Error resolving context from ${b.id}: `,I.reason),c.push({providerId:b.id,matchScore:v,resolution:I.status,resolutionTimeMs:I.resolutionTime,data:[]});else{let D=[...I.value??[]];if((I.status==="none"||I.status==="partial")&&(pt.info(this.ctx,`Context provider ${b.id} exceeded time budget of ${m}ms`),b.resolver.resolveOnTimeout))try{let P=b.resolver.resolveOnTimeout(x);nT(P)?D.push(...P):P&&D.push(P),D.length>0&&(I.status="partial")}catch(P){pt.error(this.ctx,`Error in fallback logic for context provider ${b.id}: `,P)}let[H,V]=zM(D);V&&pt.error(this.ctx,`Dropped ${V} context items from ${b.id} due to invalid schema`);let $=VM(this.ctx,H),Y={providerId:b.id,matchScore:v,resolution:I.status,resolutionTimeMs:I.resolutionTime,data:$};c.push(Y)}this.ctx.get(Si).getStatisticsForCompletion(r).setLastResolution(b.id,I.status)}else pt.error(this.ctx,`Context provider ${b.id} not found in results`)}return c.sort((b,v)=>v.matchScore-b.matchScore)}async matchProviders(r,n){let i=eU(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},cT=class extends Ls{constructor(r){super();this.delegate=r;this._cachedContextItems=new xr(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s,a){let l=this._cachedContextItems.get(r);if(r&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s,a);return c.length>0&&r&&this._cachedContextItems.set(r,c),c}};function JM(e,t){return new cT(new lT(e,t))}o(JM,"getContextProviderRegistry");function ZM(e,t,r){let n=e.get(Si).getStatisticsForCompletion(t);return r.map(s=>{let{providerId:a,resolution:l,resolutionTimeMs:c,matchScore:u,data:f}=s,d=n.get(a),p=d?.usage??"none";(u<=0||l==="none"||l==="error")&&(p="none");let m={providerId:a,resolution:l,resolutionTimeMs:c,usage:p,usageDetails:d?.usageDetails,matched:u>0,numResolvedItems:f.length},g=d?.usageDetails!==void 0?d?.usageDetails.filter(_=>_.usage==="full"||_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0,h=d?.usageDetails!==void 0?d?.usageDetails.filter(_=>_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0;return g!==void 0&&(m.numUsedItems=g),h!==void 0&&(m.numPartiallyUsedItems=h),m})}o(ZM,"telemetrizeContextItems");function QM(e){return e.matchScore>0&&e.resolution!=="error"}o(QM,"matchContextItems");function eU(e,t){let r=hse(e,t),n=Dt(e,be.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let i=e.get(ic).getIds();return Array.from(new Set([...i,...r,...n]))}o(eU,"getActiveContextProviders");function hse(e,t){return k8(e)?["*"]:e.get(qe).contextProviders(t)}o(hse,"getExpContextProviders");function uT(e,t){return eU(e,t).length>0}o(uT,"useContextProviderAPI");function xse(e,t){let r=Dt(e,be.ContextProviderTimeBudget);return r!==void 0&&typeof r=="number"?r:e.get(qe).contextProviderTimeBudget(t)}o(xse,"getContextProviderTimeBudget");var Ba=class{constructor(t){this.ctx=t;this.scheduledResolutions=new xr(25)}static{o(this,"ContextProviderBridge")}schedule(t,r,n,i,s){let a=this.ctx.get(Ls),{textDocument:l,originalPosition:c,originalOffset:u,originalVersion:f,editsWithPosition:d}=t,p=a.resolveAllProviders(r,{uri:l.uri,languageId:l.detectedLanguageId,version:f,offset:u,position:c,proposedEdits:d.length>0?d:void 0},n,i,s?.data);this.scheduledResolutions.set(r,p)}async resolution(t){let r=this.scheduledResolutions.get(t);return r?await r:[]}};var J3=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await kc(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},Z3=class extends J3{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=rU(r,n),this.isBlockStart(_se(r,n))&&this.isBlockBodyEmpty(r,n)}};function _se(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(_se,"getLineAtOffset");function rU(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(rU,"rewindToNearestNonWs");function tU(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(tU,"indent");function yse(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=tU(e,r),i=tU(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(yse,"outdented");var Ms=class extends J3{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&QP(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=rU(r,n);let i=await kc(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let d=s.nextSibling;return d&&f.hasError()&&yse(f,d,r)?!0:!f.children.find(m=>m.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),d=f.find(m=>this.startKeywords.includes(m.type)),p=f.find(m=>m.type==this.blockNodeType);if(d){switch(this.languageId){case"python":{d.type=="try"&&s.type=="identifier"&&s.text.length>4&&(p=f.find(h=>h.hasError())?.children.find(h=>h.type=="block"));let m,g=0;for(let h of a.children){if(h.type==":"&&g==0){m=h;break}h.type=="("&&(g+=1),h.type==")"&&(g-=1)}if(m&&d.endIndex<=m.startIndex&&m.nextSibling){if(d.type=="def"){let h=m.nextSibling;if(h.type=='"'||h.type=="'"||h.type=="ERROR"&&(h.text=='"""'||h.text=="'''"))return!0}return!1}break}case"javascript":{let m=f.find(_=>_.type=="formal_parameters");if(d.type=="class"&&m)return!0;let g=f.find(_=>_.type=="{");if(g&&g.startIndex>d.endIndex&&g.nextSibling!=null||f.find(_=>_.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}case"typescript":{let m=f.find(h=>h.type=="{");if(m&&m.startIndex>d.endIndex&&m.nextSibling!=null||f.find(h=>h.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}}return p&&p.startIndex>d.endIndex?this.isBlockEmpty(p,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],d=c.children.slice().reverse().find(p=>p.type==f);if(d)return this.isBlockEmpty(d,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let p=this.nodeTypesWithBlockOrStmtChild.get(c.type),m=p==""?c.children[0]:c.childForFieldName(p);if(m&&m.type!=this.blockNodeType&&m.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},bse={python:new Ms("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Ms("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Ms("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Ms("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Z3("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Z3("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Ms("csharp",{},new Map([]),[],"block",null,!0),java:new Ms("java",{},new Map([]),[],"block",null,!0),php:new Ms("php",{},new Map([]),[],"block",null,!0),cpp:new Ms("cpp",{},new Map([]),[],"block",null,!0)};function nU(e){if(!ns(e))throw new Error(`Language ${e} is not supported`);return bse[S2(e)]}o(nU,"getBlockParser");async function iU(e,t,r){return ns(e)?nU(e).isEmptyBlockStart(t,r):!1}o(iU,"isEmptyBlockStart");async function oU(e,t,r,n){if(ns(e))return nU(e).isBlockBodyFinished(t,r,n)}o(oU,"isBlockBodyFinished");var iHe=new Ct("parseBlock");function sU(e,t,r,n){let i=t.getText(pi.range(pi.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>oU(a,i,l,s)}o(sU,"parsingBlockFinished");function ex(e,t){return iU(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(ex,"isEmptyBlockStartUtil");var vse=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Tse=new RegExp(`^(${vse.join("|")})`);function Ese(e){return Tse.test(e.trimLeft().toLowerCase())}o(Ese,"isContinuationLine");function Q3(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(Q3,"indentationOfLine");function fT(e,t){let r=e.getText(),n=e.offsetAt(t);return dT(r,n,e.detectedLanguageId)}o(fT,"contextIndentation");function dT(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,d,p){let m=d,g,h;for(;g===void 0&&m>=0&&m<f.length;)g=Q3(f[m]),h=m,m+=p;if(r==="python"&&p===-1){m++;let _=f[m].trim();if(_.endsWith('"""')){if(!(_.startsWith('"""')&&_!=='"""'))for(m--;m>=0&&!f[m].trim().startsWith('"""');)m--;if(m>=0)for(g=void 0,m--;g===void 0&&m>=0;)g=Q3(f[m]),h=m,m--}}return[g,h]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let d=Q3(n[f]);if(d!==void 0&&d<a)return d}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(dT,"contextIndentationFromText");var Ise=!1;function Cse(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&Ise&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=Q3(u);if(f!==void 0&&(f<l||f===l&&!Ese(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(Cse,"completionCutOrContinue");function aU(e,t){return async r=>{let n=Cse(r,e,t);return n==="continue"?void 0:n}}o(aU,"indentationBlockFinished");function lU(e,t){return{...P2,useSubsetMatching:mT(e,t)}}o(lU,"getCppSimilarFilesOptions");function cU(e){return P2.maxTopSnippets}o(cU,"getCppNumberOfSnippets");var Sse=new Map([["cpp",lU]]);function tx(e,t,r){let n=Sse.get(r);return n?n(e,t):{...tm,useSubsetMatching:mT(e,t)}}o(tx,"getSimilarFilesOptions");var wse=new Map([["cpp",cU]]);function uU(e,t){let r=wse.get(t);return r?r(e):tD}o(uU,"getNumberOfSnippets");function mT(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||Dt(e,be.UseSubsetMatching))??!1}o(mT,"useSubsetMatching");var Pse=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Dse(e){return Pse.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Dse,"isOomError");function oc(e,t,r,n=pt){if(!G0(t)){if(t instanceof Error){let i=t;Dse(i)?e.get(Lr).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Lr).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Lr).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Lr).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Lr).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(oc,"handleException");var Rse="content_excluded";async function fU(e,t,r,n){let i=Y3(r,"CodeSnippet");if(i.length===0)return[];let s=new Set,a=i.flatMap(f=>f.data.map(d=>(s.add(d.uri),d.additionalUris?.forEach(p=>s.add(p)),{providerId:f.providerId,data:d}))),l=e.get(ir),c=new Map;await Promise.all(Array.from(s).map(async f=>{c.set(f,await l.getTextDocumentValidation({uri:f}))}));let u=e.get(Si).getStatisticsForCompletion(t);return a.filter(f=>{let p=[f.data.uri,...f.data.additionalUris??[]].every(m=>c.get(m)?.status==="valid");return p?u.addExpectations(f.providerId,[[f.data,"included"]]):u.addExpectations(f.providerId,[[f.data,Rse]]),p}).map(f=>f.data)}o(fU,"getCodeSnippetsFromContextItems");function dU(e,t){let r=e.get(ir);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(dU,"addRelativePathToCodeSnippets");function Sn(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(Sn,"Text");function sc(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(sc,"Code");function ac(e){return e.children}o(ac,"Chunk");function Ge(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(Ge,"functionComponentFunction");function B0(e){return{type:"f",children:e}}o(B0,"fragmentFunction");B0.isFragmentFunction=!0;var rx=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(eo,u=>{u.codeSnippets!==r&&n(u.codeSnippets),u.document.uri!==i?.uri&&s(u.document)}),!r||r.length===0||!i)return;let a=dU(e.ctx,r),l=new Map;for(let u of a){let f=u.relativePath??u.snippet.uri,d=l.get(f);d===void 0&&(d=[],l.set(f,d)),d.push(u)}let c=[];for(let[u,f]of l.entries()){let d=f.filter(p=>p.snippet.value.length>0);d.length>0&&c.push({chunkElements:d.map(p=>p.snippet),importance:Math.max(...d.map(p=>p.snippet.importance??0)),uri:u})}if(c.length!==0)return c.sort((u,f)=>f.importance-u.importance),c.reverse(),c.map(u=>{let f=[];return f.push(Ge(Sn,{expElidableTextWeight:1,children:`Compare ${u.chunkElements.length>1?"these snippets":"this snippet"} from ${u.uri}:`})),u.chunkElements.forEach((d,p)=>{f.push(Ge(sc,{source:d,expElidableTextWeight:.99,children:d.value},d.id)),u.chunkElements.length>1&&p<u.chunkElements.length-1&&f.push(Ge(Sn,{expElidableTextWeight:.5,children:"---"}))}),Ge(ac,{children:f})})},"CodeSnippets");function pT(e){return e.children}o(pT,"CompletionsContext");function gT(e){return e.children}o(gT,"StableCompletionsContext");function hT(e){return e.children}o(hT,"AdditionalCompletionsContext");function nx(e){return e.name===pT.name||e.name===gT.name||e.name===hT.name}o(nx,"isContextNode");var mU=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};var Ase=globalThis.performance&&typeof globalThis.performance.now=="function",ix=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=Ase&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var pU=!1,kse=!1,TT;(k=>{k.None=o(()=>r0.None,"None");function t(T){if(kse){let{onDidAddListener:E}=T,R=Qp.create(),S=0;T.onDidAddListener=()=>{++S===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),R.print()),E?.()}}}o(t,"_addLeakageTraceLogic");function r(T,E){return m(T,()=>{},0,void 0,!0,void 0,E)}k.defer=r,o(r,"defer");function n(T){return(E,R=null,S)=>{let A=!1,N;return N=T(F=>{if(!A)return N?N.dispose():A=!0,E.call(R,F)},null,S),A&&N.dispose(),N}}k.once=n,o(n,"once");function i(T,E){return k.once(k.filter(T,E))}k.onceIf=i,o(i,"onceIf");function s(T,E,R){return d((S,A=null,N)=>T(F=>S.call(A,E(F)),null,N),R)}k.map=s,o(s,"map");function a(T,E,R){return d((S,A=null,N)=>T(F=>{E(F),S.call(A,F)},null,N),R)}k.forEach=a,o(a,"forEach");function l(T,E,R){return d((S,A=null,N)=>T(F=>E(F)&&S.call(A,F),null,N),R)}k.filter=l,o(l,"filter");function c(T){return T}k.signal=c,o(c,"signal");function u(...T){return(E,R=null,S)=>{let A=NL(...T.map(N=>N(F=>E.call(R,F))));return p(A,S)}}k.any=u,o(u,"any");function f(T,E,R,S){let A=R;return s(T,N=>(A=E(A,N),A),S)}k.reduce=f,o(f,"reduce");function d(T,E){let R,S={onWillAddFirstListener(){R=T(A.fire,A)},onDidRemoveLastListener(){R?.dispose()}};E||t(S);let A=new j0(S);return E?.add(A),A.event}o(d,"snapshot");function p(T,E){return E instanceof Array?E.push(T):E&&E.add(T),T}o(p,"addAndReturnDisposable");function m(T,E,R=100,S=!1,A=!1,N,F){let M,G,se,ye=0,he,Ue={leakWarningThreshold:N,onWillAddFirstListener(){M=T(Ve=>{ye++,G=E(G,Ve),S&&!se&&(ze.fire(G),G=void 0),he=o(()=>{let Ze=G;G=void 0,se=void 0,(!S||ye>1)&&ze.fire(Ze),ye=0},"doFire"),typeof R=="number"?(clearTimeout(se),se=setTimeout(he,R)):se===void 0&&(se=0,queueMicrotask(he))})},onWillRemoveListener(){A&&ye>0&&he?.()},onDidRemoveLastListener(){he=void 0,M.dispose()}};F||t(Ue);let ze=new j0(Ue);return F?.add(ze),ze.event}k.debounce=m,o(m,"debounce");function g(T,E=0,R){return k.debounce(T,(S,A)=>S?(S.push(A),S):[A],E,void 0,!0,void 0,R)}k.accumulate=g,o(g,"accumulate");function h(T,E=(S,A)=>S===A,R){let S=!0,A;return l(T,N=>{let F=S||!E(N,A);return S=!1,A=N,F},R)}k.latch=h,o(h,"latch");function _(T,E,R){return[k.filter(T,E,R),k.filter(T,S=>!E(S),R)]}k.split=_,o(_,"split");function x(T,E=!1,R=[],S){let A=R.slice(),N=T(G=>{A?A.push(G):M.fire(G)});S&&S.add(N);let F=o(()=>{A?.forEach(G=>M.fire(G)),A=null},"flush"),M=new j0({onWillAddFirstListener(){N||(N=T(G=>M.fire(G)),S&&S.add(N))},onDidAddFirstListener(){A&&(E?setTimeout(F):F())},onDidRemoveLastListener(){N&&N.dispose(),N=null}});return S&&S.add(M),M.event}k.buffer=x,o(x,"buffer");function y(T,E){return o((S,A,N)=>{let F=E(new v);return T(function(M){let G=F.evaluate(M);G!==b&&S.call(A,G)},void 0,N)},"fn")}k.chain=y,o(y,"chain");let b=Symbol("HaltChainable");class v{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(E){return this.steps.push(E),this}forEach(E){return this.steps.push(R=>(E(R),R)),this}filter(E){return this.steps.push(R=>E(R)?R:b),this}reduce(E,R){let S=R;return this.steps.push(A=>(S=E(S,A),S)),this}latch(E=(R,S)=>R===S){let R=!0,S;return this.steps.push(A=>{let N=R||!E(A,S);return R=!1,S=A,N?A:b}),this}evaluate(E){for(let R of this.steps)if(E=R(E),E===b)break;return E}}function I(T,E,R=S=>S){let S=o((...M)=>F.fire(R(...M)),"fn"),A=o(()=>T.on(E,S),"onFirstListenerAdd"),N=o(()=>T.removeListener(E,S),"onLastListenerRemove"),F=new j0({onWillAddFirstListener:A,onDidRemoveLastListener:N});return F.event}k.fromNodeEventEmitter=I,o(I,"fromNodeEventEmitter");function D(T,E,R=S=>S){let S=o((...M)=>F.fire(R(...M)),"fn"),A=o(()=>T.addEventListener(E,S),"onFirstListenerAdd"),N=o(()=>T.removeEventListener(E,S),"onLastListenerRemove"),F=new j0({onWillAddFirstListener:A,onDidRemoveLastListener:N});return F.event}k.fromDOMEventEmitter=D,o(D,"fromDOMEventEmitter");function H(T,E){return new Promise(R=>n(T)(R,null,E))}k.toPromise=H,o(H,"toPromise");function V(T){let E=new j0;return T.then(R=>{E.fire(R)},()=>{E.fire(void 0)}).finally(()=>{E.dispose()}),E.event}k.fromPromise=V,o(V,"fromPromise");function $(T,E){return T(R=>E.fire(R))}k.forward=$,o($,"forward");function Y(T,E,R){return E(R),T(S=>E(S))}k.runAndSubscribe=Y,o(Y,"runAndSubscribe");class P{constructor(E,R){this._observable=E;this._counter=0;this._hasChanged=!1;let S={onWillAddFirstListener:o(()=>{E.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{E.removeObserver(this)},"onDidRemoveLastListener")};R||t(S),this.emitter=new j0(S),R&&R.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(E){this._counter++}handlePossibleChange(E){}handleChange(E,R){this._hasChanged=!0}endUpdate(E){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function w(T,E){return new P(T,E).emitter.event}k.fromObservable=w,o(w,"fromObservable");function z(T){return(E,R,S)=>{let A=0,N=!1,F={beginUpdate(){A++},endUpdate(){A--,A===0&&(T.reportChanges(),N&&(N=!1,E.call(R)))},handlePossibleChange(){},handleChange(){N=!0}};T.addObserver(F),T.reportChanges();let M={dispose(){T.removeObserver(F)}};return S instanceof Xd?S.add(M):Array.isArray(S)&&S.push(M),M}}k.fromObservableLight=z,o(z,"fromObservableLight")})(TT||={});var xT=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new ix,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},gU=-1;var _T=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new yT(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},Qp=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},yT=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},bT=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},Nse=0,o1=class{constructor(t){this.value=t;this.id=Nse++}static{o(this,"UniqueContainer")}},Fse=2,Ose=o((e,t)=>{if(e instanceof o1)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),j0=class{constructor(t){this._size=0;this._options=t,this._leakageMon=gU>0||this._options?.leakWarningThreshold?new _T(t?.onListenerError??v3,this._options?.leakWarningThreshold??gU):void 0,this._perfMon=this._options?._profName?new xT(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(pU){let t=this._listeners;queueMicrotask(()=>{Ose(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new bT(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||v3)(f),r0.None}if(this._disposed)return r0.None;r&&(t=t.bind(r));let i=new o1(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Qp.create(),s=this._leakageMon.check(i.stack,this._size+1)),pU&&(i.stack=a??Qp.create()),this._listeners?this._listeners instanceof o1?(this._deliveryQueue??=new vT,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Pv(()=>{s?.(),this._removeListener(i)});return n instanceof Xd?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Fse<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||v3;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof o1)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var vT=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var hU=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Lse;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof ET?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:TT.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:hU})})(Lse||={});var ET=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?hU:(this._emitter||(this._emitter=new j0),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};function Mse(e){return e}o(Mse,"identity");var ox=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=Mse):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}};var eg=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};var Rze=String.fromCharCode(65279);function bU(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(bU,"uppercaseFirstLetter");var xU=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=Use()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function Use(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(Use,"getGraphemeBreakRawData");var _U=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new eg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new ox({getCacheKey:JSON.stringify},t=>{function r(f){let d=new Map;for(let p=0;p<f.length;p+=2)d.set(f[p],f[p+1]);return d}o(r,"arrayToMap");function n(f,d){let p=new Map(f);for(let[m,g]of d)p.set(m,g);return p}o(n,"mergeMaps");function i(f,d){if(!f)return d;let p=new Map;for(let[m,g]of f)d.has(m)&&p.set(m,g);return p}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let d=r(s[f]);l=i(l,d)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new eg(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},yU=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};function vU(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(vU,"findEditDistanceScore");var TU=50;function IT(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(IT,"approximateMaxCharacters");function tg(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState(),[f,d]=t.useState();t.useData(eo,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens),m.tokenizer!==f&&d(m.tokenizer)});let p=IT(a);return Ge(B0,{children:[Ge(Uu,{document:r,position:i,maxCharacters:p}),Ge(sx,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:p,tokenizer:f})]})}o(tg,"CurrentFile");function Uu(e){if(e.document===void 0||e.position===void 0)return Ge(Sn,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),Ge(sc,{children:t})}o(Uu,"BeforeCursor");function sx(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return Ge(Sn,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return Ge(Sn,{});if(r===s)return Ge(Sn,{children:r});let a=s;if(r!==""){let l=ti(e.tokenizer),c=l.takeFirstTokens(s,TU);c.tokens.length>0&&100*vU(c.tokens,l.takeFirstTokens(r,TU).tokens)?.score<(e.suffixMatchThreshold??D2)*c.tokens.length&&(a=r)}return a!==r&&n(a),Ge(Sn,{children:a})}o(sx,"AfterCursor");function EU(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0);t.useData(eo,u=>{let f=u.document;(u.document.uri!==r?.uri||f.getText()!==r?.getText())&&n(f),u.position!==i&&s(u.position),u.maxPromptTokens!==a&&l(u.maxPromptTokens)});let c=IT(a);return Ge(Uu,{document:r,position:i,maxCharacters:c})}o(EU,"DocumentPrefix");function IU(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState(),[f,d]=t.useState();t.useData(eo,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens),m.tokenizer!==f&&d(m.tokenizer)});let p=IT(a);return Ge(sx,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:p,tokenizer:f})}o(IU,"DocumentSuffix");var Bse={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},jse=Q1(Bse);function CU(e){let t=e;return Z1(t,jse),t=Q6(t),t=Ac(t),T2(t),ni(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!$n(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(CU,"processJava");var $se={heading:/^# /,subheading:/^## /,subsubheading:/### /},qse=Q1($se);function SU(e){let t=e;if(Z1(t,qse),$n(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||$n(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=YP(t),t=Ac(t),T2(t),t}o(SU,"processMarkdown");function wU(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(wU,"deparseLine");e7("markdown",SU);e7("java",CU);var Wse={worthUp:.9,worthSibling:.88,worthDown:.8};function CT(e,t,r=ti(),n=Wse){let i=Rc(e,s=>s?1:void 0);return ni(i,s=>{if($n(s))return;let a=s.subs.reduce((l,c)=>Math.max(l,c.label??0),0);s.label=Math.max(s.label??0,a*n.worthUp)},"bottomUp"),ni(i,s=>{if($n(s))return;let a=s.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,d)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-d))*a[u])));let c=s.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),s.subs.forEach((u,f)=>u.label=l[f])},"topDown"),Gse(i,t,r)}o(CT,"fromTreeWithFocussedLines");function Gse(e,t,r=ti()){let n=Z6(e,[],(i,s)=>((i.type==="line"||i.type==="blank")&&s.push(i.type==="line"?[wU(i).trimEnd(),i.label??0]:["",i.label??0]),s),"topDown");return new lc(n,t,r)}o(Gse,"fromTreeWithValuedLines");function ax(e,t=!0,r=!0,n,i=ti()){let s=typeof e=="string"?em(e):em(e.source,e.languageId);Ac(s);let a=Rc(s,l=>t&&l!=="closer");return ni(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&ni(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&ni(a,l=>{l.label||=(Pc(l)||$n(l))&&l.lineNumber==0},"topDown"),CT(a,n,i)}o(ax,"elidableTextForSourceCode");var rg=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;this.markedForRemoval=!1;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}setValue(t){return this._value=t,this}recost(t=r=>ti().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){let t=new e(this.text,this.value,this.cost,"none",this.metadata);return t.markedForRemoval=this.markedForRemoval,t}};var ig="elidableTextChunk",lc=class e{constructor(t,r,n=ti()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new rg(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&ax(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>ti().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",s=this.tokenizer,a="topToBottom"){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");let{lines:l,totalCost:c,priorityQueue:u,chunksToLinesMap:f}=zse(this.lines,i);if(c<=t)return ST(l);Vse(u,a);let d=c;for(;d>t&&u.length>0;){let m=u.shift().originalIndex,g=l[m];if(g.markedForRemoval)continue;d=Yse(l,m,g,f,r,d);let _=n?Kse(l,m):"",x=PU(_,r,s,g);l[m]=x,d-=g.cost,d+=x.cost;let y=m+1;if(y<l.length){let v=l[y];ng(v,r)&&(d-=v.cost,v.markedForRemoval=!0)}let b=m-1;if(b>=0){let v=l[b];ng(v,r)&&(d-=v.cost,v.markedForRemoval=!0)}}if(d>t)return ST([PU("",r,s)]);let p=l.filter(m=>!m.markedForRemoval);for(let m=p.length-1;m>0;m--)ng(p[m],r)&&ng(p[m-1],r)&&p.splice(m,1);return ST(p)}};function Hse(e){return e?.text.match(/^\s*/)?.[0]??""}o(Hse,"getIndentation");function ng(e,t){return e?.text.trim()===t.trim()}o(ng,"isEllipsis");function ST(e){return{getText:o(()=>e.map(t=>t.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(ST,"produceElidedText");function zse(e,t){let r=0,n=[],i=new Map;return{lines:e.map((a,l)=>{let c=a.copy();t==="removeLeastBangForBuck"&&c.adjustValue(1/c.cost),r+=c.cost,n.push({originalIndex:l,value:c.value});let u=c.metadata?.get(ig);if(u)for(let f of u)i.has(f)||i.set(f,new Set),i.get(f).add(l);return c}),totalCost:r,priorityQueue:n,chunksToLinesMap:i}}o(zse,"initializeElisionContext");function Vse(e,t){e.sort((r,n)=>r.value!==n.value?r.value-n.value:t==="bottomToTop"?n.originalIndex-r.originalIndex:r.originalIndex-n.originalIndex)}o(Vse,"sortPriorityQueue");function Kse(e,t){let r="";for(let n=t;n>=0;n--){let i=e[n];if(!i.markedForRemoval&&i.text.trim()!==""){r=Hse(i);break}}return r}o(Kse,"getClosestIndentation");function PU(e,t,r,n){let i=e+t;return new rg(i,1/0,r.tokenLength(i+`
`),"loose",n?.metadata)}o(PU,"getNewEllipsis");function Yse(e,t,r,n,i,s){let a=r.metadata?.get(ig);if(a&&a.size>0){let l=new Set;for(let c of a){let u=n.get(c);if(u)for(let f of u)f!==t&&!e[f].markedForRemoval&&l.add(f)}for(let c of l){let u=e[c];if(!ng(u,i)&&!u.markedForRemoval){let f=u.metadata?.get(ig);f&&f.size>0&&[...a].every(d=>f.has(d))&&(u.markedForRemoval=!0,s-=u.cost)}}}return s}o(Yse,"handleChunks");function $0(){}o($0,"Diff");$0.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(v){return v=a.postProcess(v,i),s?(setTimeout(function(){s(v)},0),!0):v}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,d=c+u;i.maxEditLength!=null&&(d=Math.min(d,i.maxEditLength));var p=(n=i.timeout)!==null&&n!==void 0?n:1/0,m=Date.now()+p,g=[{oldPos:-1,lastComponent:void 0}],h=this.extractCommon(g[0],r,t,0,i);if(g[0].oldPos+1>=u&&h+1>=c)return l(DU(a,g[0].lastComponent,r,t,a.useLongestToken));var _=-1/0,x=1/0;function y(){for(var v=Math.max(_,-f);v<=Math.min(x,f);v+=2){var I=void 0,D=g[v-1],H=g[v+1];D&&(g[v-1]=void 0);var V=!1;if(H){var $=H.oldPos-v;V=H&&0<=$&&$<c}var Y=D&&D.oldPos+1<u;if(!V&&!Y){g[v]=void 0;continue}if(!Y||V&&D.oldPos<H.oldPos?I=a.addToPath(H,!0,!1,0,i):I=a.addToPath(D,!1,!0,1,i),h=a.extractCommon(I,r,t,v,i),I.oldPos+1>=u&&h+1>=c)return l(DU(a,I.lastComponent,r,t,a.useLongestToken));g[v]=I,I.oldPos+1>=u&&(x=Math.min(x,v-1)),h+1>=c&&(_=Math.max(_,v+1))}f++}if(o(y,"execEditLength"),s)o(function v(){setTimeout(function(){if(f>d||Date.now()>m)return s();y()||v()},0)},"exec")();else for(;f<=d&&Date.now()<=m;){var b=y();if(b)return b}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function DU(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var d=s[l];if(d.removed)d.value=e.join(n.slice(f,f+d.count)),f+=d.count;else{if(!d.added&&i){var p=r.slice(u,u+d.count);p=p.map(function(m,g){var h=n[f+g];return h.length>m.length?h:m}),d.value=e.join(p)}else d.value=e.join(r.slice(u,u+d.count));u+=d.count,d.added||(f+=d.count)}}return s}o(DU,"buildValues");var zVe=new $0;function RU(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(RU,"longestCommonPrefix");function AU(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(AU,"longestCommonSuffix");function wT(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(wT,"replacePrefix");function PT(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(PT,"replaceSuffix");function og(e,t){return wT(e,t,"")}o(og,"removePrefix");function lx(e,t){return PT(e,t,"")}o(lx,"removeSuffix");function kU(e,t){return t.slice(0,Xse(e,t))}o(kU,"maximumOverlap");function Xse(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(Xse,"overlapCount");var cx="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Jse=new RegExp("[".concat(cx,"]+|\\s+|[^").concat(cx,"]"),"ug"),ux=new $0;ux.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};ux.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(Jse)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};ux.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};ux.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&NU(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&NU(r,i,n,null),e};function NU(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=RU(i,a);e.value=PT(e.value,a,c),t.value=og(t.value,c),r.value=og(r.value,c)}if(n){var u=AU(s,l);n.value=wT(n.value,l,u),t.value=lx(t.value,u),r.value=lx(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],d=t.value.match(/^\s*/)[0],p=t.value.match(/\s*$/)[0],m=RU(f,d);t.value=og(t.value,m);var g=AU(og(f,m),p);t.value=lx(t.value,g),n.value=wT(n.value,f,g),e.value=PT(e.value,f,f.slice(0,f.length-g.length))}else if(n){var h=n.value.match(/^\s*/)[0],_=t.value.match(/\s*$/)[0],x=kU(_,h);t.value=lx(t.value,x)}else if(e){var y=e.value.match(/\s*$/)[0],b=t.value.match(/^\s*/)[0],v=kU(y,b);t.value=og(t.value,v)}}o(NU,"dedupeWhitespaceInChangeObjects");var Zse=new $0;Zse.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(cx,"]+|[^\\S\\n\\r]+|[^").concat(cx,"]"),"ug");return e.match(t)||[]};var kT=new $0;kT.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};kT.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),$0.prototype.equals.call(this,e,t,r)};var Qse=new $0;Qse.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var eae=new $0;eae.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function DT(e){"@babel/helpers - typeof";return DT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DT(e)}o(DT,"_typeof");var sg=new $0;sg.useLongestToken=!0;sg.tokenize=kT.tokenize;sg.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(RT(e,null,null,i),i,"  ")};sg.equals=function(e,t,r){return $0.prototype.equals.call(sg,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function RT(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=RT(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),DT(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=RT(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(RT,"canonicalize");var AT=new $0;AT.tokenize=function(e){return e.slice()};AT.join=AT.removeEmpty=function(e){return e};var fx=class{static{o(this,"WishlistElision")}elide(t,r,n,i,s){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,l]=this.preparePrefixBlocks(t,s),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(n,i,r,l,s),f=this.elidePrefix(a,u,l,s);return{blocks:[c,...f],cycles:1}}preparePrefixBlocks(t,r){let n=0,i=new Set;return[t.map((a,l)=>{let c=0,f=a.value.split(/([^\n]*\n+)/).filter(p=>p!=="").map(p=>{let m=r.tokenLength(p);return c+=m,n+=m,{line:p,componentPath:a.componentPath,tokens:m}}),d=a.componentPath;if(i.has(d))throw new Error(`Duplicate component path in prefix blocks: ${d}`);return i.add(d),{...a,tokens:c,markedForRemoval:!1,originalIndex:l,lines:f}}),n]}elideSuffix(t,r,n,i,s){let a=t.value;if(a.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let l=s.takeFirstTokens(a,r);return{elidedSuffix:{...t,value:a,tokens:s.tokenLength(a),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(t,r,n,i){let s=this.removeLowWeightPrefixBlocks(t,r,n),a=s.filter(f=>!f.markedForRemoval).flatMap(f=>f.lines);if(a.length===0)return[];let[l,c]=this.trimPrefixLinesToFit(a,r,i),u=c;return s.map(f=>{if(f.markedForRemoval)return u+f.tokens<=r&&!f.chunks?(u+=f.tokens,{...f,elidedValue:f.value,elidedTokens:f.tokens}):{...f,elidedValue:"",elidedTokens:0};let d=l.filter(m=>m.componentPath===f.componentPath&&m.line!=="").map(m=>m.line).join(""),p=f.tokens;return d!==f.value&&(p=d!==""?i.tokenLength(d):0),{...f,elidedValue:d,elidedTokens:p}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunks&&s.markedForRemoval))if(s.chunks&&s.chunks.size>0)for(let a of t)!a.markedForRemoval&&a.chunks&&[...s.chunks].every(l=>a.chunks?.has(l))&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex)}trimPrefixLinesToFit(t,r,n){let i=0,s=[];for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.tokens;if(i+c<=r)s.unshift(l),i+=c;else break}if(s.length===0){let a=t[t.length-1];if(a&&a.line.length>0){let c=n.takeLastTokens(a.line,r);return s.push({line:c.text,componentPath:a.componentPath,tokens:c.tokens.length}),[s,c.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[s,i]}};function NT(e){return e.map(t=>t.elidedValue).join("")}o(NT,"makePrompt");function OU(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(OU,"makePrefixPrompt");function LU(e){if(e.length===0)return[];let t=new Map;for(let i of e)if(i.type==="context"&&i.index!==void 0){t.has(i.index)||t.set(i.index,[]);let s=i.elidedValue.trim();s.length>0&&t.get(i.index).push(s)}let r=Math.max(...Array.from(t.keys()),-1),n=[];for(let i=0;i<=r;i++){let s=t.get(i);if(s&&s.length>0){let a=s.join(`
`).trim();n.push(a)}else n.push("")}return n}o(LU,"makeContextPrompt");var dx=class{constructor(t="[...]",r=`
`,n=!1,i=60){this.ellipsis=t;this.delimiter=r;this.turnOffChunks=n;this.beforeCursorLines=i}static{o(this,"ElidableTextElision")}elide(t,r,n,i,s){let a;if(n.value.length===0||i<=s.tokenLength(this.ellipsis))a=[],r=r+Math.max(0,i);else{let m=FU([n],s).elide(i,this.ellipsis,!0,"removeLeastDesirable",s,"bottomToTop");r=r+Math.max(0,i-s.tokenLength(m.getText())),a=m.getLines()}let c=FU(t.map(p=>this.turnOffChunks?{...p,chunks:void 0}:p),s,this.beforeCursorLines).elide(r),u=r-s.tokenLength(c.getText()),f=[...c.getLines(),...a];return{cycles:1,blocks:[n,...t].map(p=>{let m=f.filter(g=>g.metadata?.get("componentPath")===p.componentPath);if(m.length===0&&p.type!=="prefix")return{...p,tokens:s.tokenLength(p.value),elidedValue:"",elidedTokens:0};{let g=m.map(h=>h.text).join(this.delimiter);return p.type==="prefix"&&u>0&&(g.trim()===this.ellipsis||g.trim()==="")?g=this.ellipsis+this.delimiter+s.takeLastTokens(p.value,u-s.tokenLength(this.ellipsis+this.delimiter)).text:p.type==="context"&&(g=g.endsWith(this.delimiter)?g:g+this.delimiter),{...p,tokens:s.tokenLength(p.value),elidedValue:g,elidedTokens:s.tokenLength(g)}}})}}},MU=(r=>(r.componentPath="componentPath",r[r.chunk=ig]="chunk",r))(MU||{});function FU(e,t,r=0){return new lc(e.map(i=>{let s=new Map([["componentPath",i.componentPath],[MU.chunk,i.chunks]]);if(i.isCode){let a=new lc([[ax(i.value,!0,!0,s,t),i.expElidableTextWeight]]);if(i.type==="prefix"&&r>0){let l=a.lines.length;for(let c=0;c<Math.min(r,l);c++)a.lines[l-1-c].setValue(1)}return a}return new lc([[i.value,i.expElidableTextWeight]],s,t)}),void 0,t)}o(FU,"prepareWeightedBlocks");var mx=class{constructor(t,r="o200k_base",n){this.delegate=t;this.approximateTokenizer=new i2(r,n)}static{o(this,"ApproximateElision")}elide(t,r,n,i,s){let{blocks:[a,...l]}=this.delegate.elide(t,r,n,i,this.approximateTokenizer),c=NT(l);if(s.tokenLength(c+a.elidedValue)>r+i){let{blocks:f}=this.delegate.elide(t,r,n,i,s);return{blocks:f,cycles:2}}else return{blocks:[a,...l],cycles:1}}};var s1=class{constructor(t,r=FT()){this.snapshot=t;this.transformers=r}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,i){let s=this.transformers.reduce((l,c)=>c(t,r,l),{...i});if(n(t,r,s))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,s)}};function FT(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(e,t,r)=>{r.expElidableTextWeight===void 0&&(r.expElidableTextWeight=1);let n=e.props?.expElidableTextWeight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,expElidableTextWeight:i*r.expElidableTextWeight}},(e,t,r)=>{if(e.name===ac.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(e.path),{...r,chunks:n}}return r},(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r,(e,t,r)=>e.name===sc.name?{...r,isCode:!0}:r]}o(FT,"defaultTransformers");var OT={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},UU={};for(let[e,t]of Object.entries(OT))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)UU[r]=e;else UU[e]=e;var rae={start:"//",end:""},nae=["php","plaintext"],LT={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function BU(e){return Object.values(LT).includes(e.trim())}o(BU,"isShebangLine");function iae({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(iae,"hasLanguageMarker");function oae(e,t){let r=OT[t]?OT[t].lineComment:rae;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(oae,"comment");function px(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>oae(s,t)).join(`
`);return r?i+`
`:i}o(px,"commentBlockAsSingles");function jU(e){let{languageId:t}=e;return nae.indexOf(t)===-1&&!iae(e)?t in LT?LT[t]:`Language: ${t}`:""}o(jU,"getLanguageMarker");function $U(e){return e.relativePath?`Path: ${e.relativePath}`:""}o($U,"getPathMarker");function ag(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(ag,"newLineEnded");var sae=5,a1=class{constructor(){this.renderId=0;this.formatPrefix=NT}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a,r.languageId),{prefixTokenLimit:d,suffixTokenLimit:p}=this.getPromptLimits(u,r),m=performance.now(),[g,h]=lae(r),{blocks:[_,...x],cycles:y}=g.elide(c,d,u,p,ti(l)),b=performance.now(),v=this.formatPrefix(x),I=this.formatContext?this.formatContext(x):void 0,D=_.elidedValue,H=x.reduce((V,$)=>V+$.elidedTokens,0);return f.push(...aae([...x,_])),{prefix:v,prefixTokens:H,suffix:D,suffixTokens:_.elidedTokens,context:I,status:"ok",metadata:{renderId:i,rendererName:"completions",tokenizer:l,elisionStrategy:h,elisionCycles:y,elisionTimeMs:b-m,renderTimeMs:performance.now()-s,componentStatistics:f,updateDataTimeMs:f.reduce((V,$)=>V+($.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-sae:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r,n){let i=[],s=[],a=[],l=!1;if(new s1(t,MT).walkSnapshot((f,d,p)=>{if(f===t||(f.name===tg.name&&(l=!0),f.statistics.updateDataTimeMs&&f.statistics.updateDataTimeMs>0&&a.push({componentPath:f.path,updateDataTimeMs:f.statistics.updateDataTimeMs}),f.value===void 0||f.value===""))return!0;let m=p.chunks,g=p.isCode;if(p.type==="suffix")s.push({value:lg(f.value),type:"suffix",weight:p.weight,expElidableTextWeight:p.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:m,source:p.source,isCode:g});else{let h=f.value.endsWith(r)?f.value:f.value+r,_=h;p.type==="prefix"?_=f.value:BU(f.value)?_=h:_=px(h,n),i.push({type:p.type==="prefix"?"prefix":"context",value:lg(_),weight:p.weight,expElidableTextWeight:p.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:m,source:p.source,isCode:g})}return!0}),!l)throw new Error(`Node of type ${tg.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let u=s.length===1?s[0]:{componentPath:"",value:"",weight:1,expElidableTextWeight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:u,componentStatistics:a}}},MT=[...FT(),(e,t,r)=>nx(e)?{...r,type:"context"}:r,(e,t,r)=>e.name===Uu.name?{...r,type:"prefix"}:r,(e,t,r)=>e.name===sx.name?{...r,type:"suffix"}:r];function aae(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(aae,"computeComponentStatistics");function lg(e){return e.replace(/\r\n?/g,`
`)}o(lg,"normalizeLineEndings");function lae(e){let t=e.elisionStrategy,r=e.elisionStrategy==="wishlist"?new fx:new dx(e.ellipsis,e.delimiter,e.elisionStrategy==="elidableTextWithoutChunks",e.beforeCursorLines);return e.approximateElision?[new mx(r,e.tokenizer,e.languageId),"approximate"+bU(t)]:[r,t]}o(lae,"chooseElisionStrategy");var gx=o((e,t)=>{let[r,n]=t.useState();if(t.useData(eo,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(ir),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?Ge(cae,{docInfo:a}):Ge(uae,{docInfo:a})}},"DocumentMarker"),cae=o(e=>Ge(Sn,{children:$U(e.docInfo)}),"PathMarker"),uae=o(e=>Ge(Sn,{children:jU(e.docInfo)}),"LanguageMarker");var cc=class extends r0{static{o(this,"RecentEditsProvider")}};function fae(e,t=!1,r=void 0,n){if(t&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let i=e.startLine-1,s=e.endLine-1;return!!(t&&(Math.abs(i-r)<=n||Math.abs(s-r)<=n))}o(fae,"editIsTooCloseToCursor");var hx=o((e,t)=>{let[r,n]=t.useState();return t.useData(eo,async i=>{if(!i.document)return;let s=e.ctx.get(cc);if(s.isEnabled())s.start();else return;let a=s.config,l=s.getRecentEdits(),c=new Set,u=e.ctx.get(ir),f=[];for(let p=l.length-1;p>=0&&!(f.length>=a.maxEdits);p--){let m=l[p];if(!await u.getTextDocument({uri:m.file}))continue;let g=!c.has(m.file);if(c.size+(g?1:0)>a.maxFiles)break;let _=m.file===i.document?.uri,x=_?i.position.line:void 0;if(fae(m,_,x,a.activeDocDistanceLimitFromCursor))continue;let b=s.getEditSummary(m);if(b){c.add(m.file);let v=u.getRelativePath({uri:m.file});f.unshift(ag(`File: ${v}`)+ag(b))}}if(f.length===0){n(void 0);return}let d=ag("These are recently edited files. Do not suggest code that has been deleted.")+f.join("")+ag("End of recent edits");n(d)}),r?Ge(ac,{children:Ge(Sn,{children:r})}):void 0},"RecentEdits");var UT=new xr;function qU(e){return[...e].sort((t,r)=>{let n=UT.get(t.uri)??0;return(UT.get(r.uri)??0)-n})}o(qU,"sortByAccessTimes");var WU=o(e=>e.get(ir).onDidFocusTextDocument(t=>{t&&UT.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var xx=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>ja.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&_x(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(qU(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};function GU(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(GU,"shortCircuit");function mae(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(mae,"defaultHash");function BT(e,t={}){let{hash:r=mae,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(BT,"memoize");var qT={entries:[],traits:[]},yx={entries:new Map,traits:[]},jT=class extends xr{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},Ln=new Ct("relatedFiles"),pae=1e3,bx=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},Bu=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{Ln.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){Ln.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){Ln.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){Ln.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Vr).readFileString(t)}catch(r){Ln.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(o0).evaluate(t,r)).isBlocked}catch(n){Ln.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},gae=3,HU=new jT(pae);async function zU(e,t,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){Ln.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(HU.bumpRetryCount(t.uri)>=gae?a=yx:a=void 0);let l=performance.now()-s;if(Ln.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new bx;return a}o(zU,"getRelatedFiles");var $T=BT(zU,{cache:HU,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});$T=GU($T,200,yx);async function vx(e,t,r,n,i,s=!1){let a=e.get(Bu),l=yx;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await zU(e,c,r,n,a):await $T(e,c,r,n,a)}catch(c){l=yx,c instanceof bx&&Se(e,"getRelatedFilesList",r)}return Ln.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(vx,"getRelatedFilesAndTraits");function _x(e,t){return im(e)===im(t)}o(_x,"considerNeighborFile");var ja=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(ir);e.instance===void 0&&(e.instance=new xx(c));let u={...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]};if(hae(t,i))return u;let f=await c.getTextDocument({uri:r});if(!f)return Ln.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),u;let d=c.getWorkspaceFolder(f);if(!d)return Ln.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),u;let p=await vx(t,f,i,s,a,l);return p.entries.size===0?(Ln.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),u.traits.push(...p.traits),u):(p.entries.forEach((m,g)=>{let h=[];m.forEach((_,x)=>{let y=e.getRelativePath(x,d.uri);if(!y||u.docs.has(x))return;let b={relativePath:y,uri:x,source:_};h.unshift(b),u.docs.set(x,b)}),h.length>0&&u.neighborSource.set(g,h.map(_=>_.uri.toString()))}),u.traits.push(...p.traits),u)}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}};function hae(e,t){return e.get(qe).excludeRelatedFiles(t)||Dt(e,be.ExcludeRelatedFiles)}o(hae,"isExcludeRelatedFilesActive");function VU(e,t){return e.get(qe).includeNeighboringFiles(t)||Dt(e,be.IncludeNeighboringFiles)}o(VU,"isIncludeNeighborFilesActive");var xae={WorkspaceDocumentProvider:{UpdateInterval:500,Laziness:.5,MaxSupport:1e3,ProviderWeights:{recentDocumentProvider:1,relatedFilesShim:.8,fileDirectoryDocumentProvider:.2}},RecentDocumentProvider:{DebounceInterval:50,MaxClosedDocs:20,DistributionHalflife:1e3*60*5/Math.log(2),DocumentActivityWeights:{Edit:1,Focus:1,Open:1}},FileDirectoryDocumentProvider:{MaxDirectorySize:200,MaxResults:100,Decay:.5,CacheTime:1e3*60,InvalidCacheTime:1e3*60*60*24}},Tx=class{constructor(t){this.ctx=t;this.params=xae}static{o(this,"WorkspaceContextConfig")}get(t){let r=t(this.params);return r&&typeof r=="object"?JSON.parse(JSON.stringify(r)):r}getProviderWeight(t){return this.get(r=>r.WorkspaceDocumentProvider.ProviderWeights[t])}};function WT(e){let t=new Map;for(let{uri:r,weight:n}of e)t.set(r,(t.get(r)??0)+n);return t}o(WT,"asDistribution");function KU(e){let t=Array.from(e.values()).reduce((n,i)=>n+Math.max(i,0),0),r=new Map;if(t>0){for(let[n,i]of e)r.set(n,Math.max(i,0)/t);return r}}o(KU,"normalizeDistribution");var cg=class{constructor(t,r){this.ctx=t;this.config=r;this.id="workspaceDocumentProvider";this.distribution=void 0;this._documents=[];this.providers=new Map;this.interval=void 0;this._similarFiles=new Map;this.updateId=0;this.lastUpdateTime=performance.now();let n=this.config.get(i=>i.WorkspaceDocumentProvider.UpdateInterval);if(n<=0){pt.error(this.ctx,"Workspace document provider update interval is 0, skipping updates");return}this.interval=setInterval(()=>{let i=new Qt.CancellationTokenSource;Mu(n).then(()=>{i.cancel(),i.dispose()}),this.forceUpdate(i.token,!0).catch(s=>{pt.error(this.ctx,"Error resolving workspace documents:",s)})},n)}static{o(this,"WorkspaceDocumentProvider")}async forceUpdate(t,r=!1){if(this.providers.size===0)return;let n=performance.now(),i={updateId:this.updateId++,intervalTime:n-this.lastUpdateTime,resolveTime:0,updateTime:void 0,similarFilesTime:void 0,providerStatistics:[],wasCancelled:!1};this.lastUpdateTime=n;let{result:s,statistics:a}=await this.resolveAllProviders(this.documents,t),l=performance.now();if(i.resolveTime=l-n,i.providerStatistics=a,t?.isCancellationRequested&&!r){i.wasCancelled=!0,this.ctx.get(wi).pushTelemetry(i);return}this.updateDocuments(s);let c=performance.now();i.updateTime=c-l,await this.updateSimilarFiles(),i.similarFilesTime=performance.now()-c,this.ctx.get(wi).pushTelemetry(i)}get documents(){return[...this._documents]}getDocuments(){return Promise.resolve(this.documents)}getSimilarFiles(t){let r=Array.from(this._similarFiles.entries()).filter(([n])=>n!==t);return{docs:new Map(r)}}registerDocumentProvider(t){if(this.providers.has(t.id))throw new Error(`Document provider with id ${t.id} already registered`);let r=this.config.getProviderWeight(t.id);if(r===void 0)throw new Error(`Document provider ${t.id} not found in config`);this.providers.set(t.id,{provider:t,weight:r})}async resolveAllProviders(t,r){let n=new Map;for(let[l,{provider:c}]of this.providers.entries()){let u=c.getDocuments(t,r);n.set(l,u)}let i=await K3(n,r),s=new Map,a=[];for(let[l,c]of i.entries()){let u={id:l,status:c.status,resolutionTime:c.resolutionTime,resolvedItems:0,normalizedItems:0};if(a.push(u),c.status==="error"){pt.error(this.ctx,`Error resolving workspace documents from provider ${l}:`,c.reason);continue}if((c.status==="none"||c.status==="partial")&&pt.info(this.ctx,`Document provider ${l} exceeded time budget`),c.status==="partial"||c.status==="full"){u.resolvedItems=c.value.length;let f=KU(WT(c.value));u.normalizedItems=f?f.size:0,f?s.set(l,f):pt.info(this.ctx,`Document provider ${l} normalized to an empty distribution`)}}return{result:s,statistics:a}}updateDocuments(t){let r=new Map,n=0;for(let[a,l]of t.entries()){let c=!1,u=this.providers.get(a).weight??0;for(let[f,d]of l){let p=b5(f);if(p!==void 0){c=!0;let m=r.get(p)??0;r.set(p,m+d*u)}}c&&(n+=u)}if(n<=0){pt.info(this.ctx,"No documents proposed by any workspace document provider");return}if(this.distribution!==void 0){let a=this.config.get(l=>l.WorkspaceDocumentProvider.Laziness);this.distribution.size==0&&(a=0);for(let[l,c]of this.distribution){let u=r.get(l)??0;r.set(l,u+c*(n*a))}}let i=this.config.get(a=>a.WorkspaceDocumentProvider.MaxSupport),s=Array.from(r.entries()).sort((a,l)=>l[1]-a[1]).slice(0,i).map(([a,l])=>({uri:a,weight:l}));this.distribution=KU(WT(s)),this._documents=Array.from(this.distribution.entries()).map(([a,l])=>({uri:a,weight:l}))}async updateSimilarFiles(){let t=new Map,r=this.ctx.get(ks);for(let n of this._documents){let i=await r.getOrReadTextDocument(n);if(i.status!=="valid")continue;let s={relativePath:r.getRelativePath(n),uri:n.uri,source:_ae(i.document.getText()),languageId:i.document.detectedLanguageId};if(t.set(n.uri,s),t.size>=tm.maxNumberOfFiles)break}this._similarFiles=t}dispose(){this.interval&&(clearInterval(this.interval),this.interval=void 0)}};function _ae(e){return e.charCodeAt(0)===65279?e.slice(1):e}o(_ae,"dropBOM");var wi=class{constructor(t){this.ctx=t;this.didStart=!1;this.didDispose=!1;this.deferredStart=new rc;this.telemetryQueue=new xr(20);this.tokenEventDisposable=zr(t,()=>{this.maybeStart()}),this.maybeStart()}static{o(this,"WorkspaceContextCoordinator")}pushTelemetry(t){this.telemetryQueue.set(t.updateId,t)}popTelemetry(){let t=Array.from(this.telemetryQueue.values());return this.telemetryQueue.clear(),t}async maybeStart(){if(this.didStart||this.didDispose)return;let t=Dt(this.ctx,be.UseWorkspaceContextCoordinator);if(t===void 0)try{let r=await this.ctx.get(qe).updateExPValuesAndAssignments();t=this.isEnabled(r)}catch{}t&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}isEnabled(t){return Dt(this.ctx,be.UseWorkspaceContextCoordinator)??this.ctx.get(qe).workspaceContextCoordinator(t)}getFeature(){if(this.isActive())return{config:this.config,documentProvider:this.wdp}}async getInitializedFeature(){return await this.deferredStart.promise,this.getFeature()}start(){this.didStart=!0,this.config=new Tx(this.ctx),this.wdp=new cg(this.ctx,this.config),this.deferredStart.resolve()}dispose(){this.isActive()?this.wdp.dispose():this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}};var Ex=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]);t.useData(eo,async c=>{c.document.uri!==r?.uri&&s([]),n(c.document);let u=ja.defaultEmptyResult();if(!c.turnOffSimilarFiles){let d=e.ctx.get(wi);d.isEnabled(c.telemetryData)?d.isActive()?u=(await d.getInitializedFeature()).documentProvider.getSimilarFiles(c.document.uri):d.maybeStart():u=await ja.getNeighborFilesAndTraits(e.ctx,c.document.uri,c.document.detectedLanguageId,c.telemetryData,c.cancellationToken,c.data)}let f=await a(c.telemetryData,c.document,c,u);s(f)});async function a(c,u,f,d){let p=Ix(e.ctx,c,u.detectedLanguageId);return(await l(p,c,u,f,d)).filter(g=>g.snippet.length>0).sort((g,h)=>g.score-h.score).map(g=>({...HP(g),score:g.score}))}o(a,"produceSimilarFiles");async function l(c,u,f,d,p){let m=c.similarFilesOptions||tx(e.ctx,u,f.detectedLanguageId),h=e.ctx.get(ir).getRelativePath(f),_={uri:f.uri,source:f.getText(),offset:f.offsetAt(d.position),relativePath:h,languageId:f.detectedLanguageId};return await eD(_,Array.from(p.docs.values()),m)}return o(l,"findSimilarSnippets"),Ge(B0,{children:[...i.map((c,u)=>Ge(vae,{snippet:c}))]})},"SimilarFiles"),vae=o((e,t)=>Ge(ac,{children:[Ge(Sn,{expElidableTextWeight:1,children:e.snippet.headline}),Ge(sc,{expElidableTextWeight:.99,children:e.snippet.snippet})]}),"SimilarFile");var Cx=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(eo,a=>{a.traits!==r&&n(a.traits);let l=im(a.document.detectedLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return Ge(B0,{children:[Ge(Sn,{expElidableTextWeight:1,children:`Consider this related information:
`}),...r.map(a=>Ge(Sn,{source:a,expElidableTextWeight:.99,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");function YU(e,t){return Dt(e,be.UseSplitContextPrompt)??e.get(qe).enablePromptContextProxyField(t)}o(YU,"shouldUseSplitContextPrompt");function XU(e){return Ge(B0,{children:[Ge(gT,{children:[Ge(gx,{ctx:e,weight:.7,expElidableTextWeight:.99}),Ge(Cx,{weight:.6,expElidableTextWeight:.5}),Ge(rx,{ctx:e,weight:.9,expElidableTextWeight:.7}),Ge(Ex,{ctx:e,weight:.8,expElidableTextWeight:.6})]}),Ge(IU,{weight:1,expElidableTextWeight:1}),Ge(hT,{children:Ge(hx,{ctx:e,weight:.99,expElidableTextWeight:.9})}),Ge(EU,{weight:1,expElidableTextWeight:1})]})}o(XU,"splitContextCompletionsPrompt");var JU=0;function Tae(){JU=0}o(Tae,"resetContextIndex");function Eae(){return JU++}o(Eae,"getNextContextIndex");var Sx=class extends a1{constructor(){super(...arguments);this.formatPrefix=OU;this.formatContext=LU}static{o(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let i=[],s=[],a=[],l=!1;if(Tae(),new s1(r,Iae).walkSnapshot((f,d,p)=>{if(f===r||(f.statistics.updateDataTimeMs&&f.statistics.updateDataTimeMs>0&&a.push({componentPath:f.path,updateDataTimeMs:f.statistics.updateDataTimeMs}),f.name===Uu.name&&(l=!0),f.value===void 0||f.value===""))return!0;let m=p.chunks,g=p.isCode,h=p.type;if(h==="suffix")s.push({value:lg(f.value),type:"suffix",weight:p.weight,expElidableTextWeight:p.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:m,source:p.source,isCode:g});else{let _=h==="prefix",x=_||f.value.endsWith(n)?f.value:f.value+n;i.push({type:_?"prefix":"context",value:lg(x),weight:p.weight,expElidableTextWeight:p.expElidableTextWeight,componentPath:f.path,nodeStatistics:f.statistics,chunks:m,source:p.source,isCode:g,index:_?void 0:p.index})}return!0}),!l)throw new Error(`Node of type ${Uu.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let u=s.length===1?s[0]:{componentPath:"",value:"",weight:1,expElidableTextWeight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:u,componentStatistics:a}}},Iae=[...MT,(e,t,r)=>nx(e)?{...r,index:Eae()}:r];function ZU(e,t,r){let n=Y3(r,"Trait");for(let s of n)Cae(e,t,s.data,s.providerId);return n.flatMap(s=>s.data).sort((s,a)=>(s.importance??0)-(a.importance??0))}o(ZU,"getTraitsFromContextItems");function Cae(e,t,r,n){let i=e.get(Si).getStatisticsForCompletion(t);r.forEach(s=>{i.addExpectations(n,[[s,"included"]])})}o(Cae,"setupExpectationsForTraits");var Sae=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function QU(e,t,r,n,i,s){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let c of r){let u=Sae.get(c.name);u&&(a[u]=c.value)}let l=s.extendedBy(a,{});return Se(t,e,l)}}o(QU,"ReportTraitsTelemetry");var wx=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},Px=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var Dx=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(wae(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new HT(this.getOrCreateLifecycleData(a)),c=i(n.props,l),d=(Array.isArray(c)?c:[c]).map((p,m)=>this.virtualizeElement(p,a,m)).flat().filter(p=>p!==void 0);return this.ensureUniqueKeys(d),{name:i.name,path:a,props:n.props,children:d,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new GT([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},GT=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},HT=class{constructor(t){this.lifecycleData=t;this.stateHook=new wx(t.state),this.dataHook=new Px(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function wae(e){return typeof e=="function"&&"isFragmentFunction"in e}o(wae,"isFragmentFunction");var ug=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new Dx(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var $a=class{static{o(this,"CompletionsPromptFactory")}};function eB(e,t,r){return new VT(new KT(new YT(e,t,r)))}o(eB,"createCompletionsPromptFactory");var VT=class extends $a{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return l1;try{return await this.delegate.prompt(r,n)}catch{return XT}}},Dae=1200,KT=class extends $a{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new Qt.CancellationTokenSource,s=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,s),new Promise(a=>{setTimeout(()=>{i.cancel(),a(sB)},Dae)})])}};function eo(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(eo,"isCompletionRequestData");var zT={default:{promptFunction:tB,renderer:a1},splitContext:{promptFunction:XU,renderer:Sx}};function tB(e){return Ge(B0,{children:[Ge(pT,{children:[Ge(gx,{ctx:e,weight:.7,expElidableTextWeight:.99}),Ge(Cx,{weight:.6,expElidableTextWeight:.5}),Ge(rx,{ctx:e,weight:.9,expElidableTextWeight:.7}),Ge(Ex,{ctx:e,weight:.8,expElidableTextWeight:.6}),Ge(hx,{ctx:e,weight:.99,expElidableTextWeight:.9})]}),Ge(tg,{weight:1,expElidableTextWeight:1})]})}o(tB,"defaultCompletionsPrompt");var YT=class extends $a{constructor(r,n,i){super();this.ctx=r;this.promptOrdering=i??"default",this.virtualPrompt=n??new ug(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({completionId:r,completionState:n,telemetryData:i,promptOpts:s},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=Ix(this.ctx,i,n.textDocument.detectedLanguageId),f=await this.failFastPrompt(n.textDocument,n.position,c??0,a);if(f)return f;let d=s?.separateContext?"splitContext":"default";this.setPromptOrdering(d);let p=performance.now(),{traits:m,codeSnippets:g,turnOffSimilarFiles:h,resolvedContextItems:_}=await this.resolveContext(r,n,i,a,s);if(await this.updateComponentData(n.textDocument,n.position,m,g,i,h,l??nm,a,s,u,s?.tokenizer),a?.isCancellationRequested)return l1;let x=this.virtualPrompt.snapshot(a),y=x.status;if(y==="cancelled")return l1;if(y==="error")return this.errorPrompt(x.error);let b=this.renderer.render(x.snapshot,{delimiter:`
`,tokenizer:s?.tokenizer,promptTokenLimit:l??nm,suffixPercent:c??R2,elisionStrategy:this.ctx.get(qe).completionsElisionStrategy(i),approximateElision:this.ctx.get(qe).approximateElision(i),languageId:n.textDocument.detectedLanguageId,beforeCursorLines:this.ctx.get(qe).beforeCursorLines(i)},a);if(b.status==="cancelled")return l1;if(b.status==="error")return this.errorPrompt(b.error);let[v,I]=Rx(b.prefix),D={...b,prefix:v},H;if(uT(this.ctx,i)){let $=YM(b.metadata.componentStatistics);this.ctx.get(Si).getStatisticsForCompletion(r).computeMatch($),H=ZM(this.ctx,r,_),pt.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(H)}'`)}let V=performance.now();return this.resetIfEmpty(b),this.successPrompt(D,V,p,I,H)}async updateComponentData(r,n,i,s,a,l,c,u,f={},d,p){let m=this.createRequestData(r,n,a,u,f,c,i,s,l,d,p);await this.pipe.pump(m)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(uT(this.ctx,i)){l=await this.ctx.get(Ba).resolution(r);let{textDocument:d}=n,p=l.filter(QM);Rae(this.ctx,d.detectedLanguageId,p,i)||(f=!0),c=ZU(this.ctx,r,p),QU("contextProvider.traits",this.ctx,c,d.detectedLanguageId,d.detectedLanguageId,i),u=await fU(this.ctx,r,p,d.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return l1;if((await this.ctx.get(o0).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return oB;if((i>0?r.getText().length:r.offsetAt(n))<nB)return iB}createRequestData(r,n,i,s,a,l,c,u,f,d,p){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:d,maxPromptTokens:l,tokenizer:p}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:s,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return H0(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),XT}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new ug(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(r){this.promptOrdering!==r&&(this.promptOrdering=r,this.reset())}completionsPrompt(){return(zT[this.promptOrdering]?.promptFunction??tB)(this.ctx)}getRenderer(){let r=zT[this.promptOrdering]??zT.default;return new r.renderer}};function Rae(e,t,r,n){let i=["cpp","c"];return VU(e,n)||i.includes(t)||!r.some(a=>a.data.some(l=>l.type==="CodeSnippet"))}o(Rae,"similarFilesEnabled");async function rB(e){try{await tP}catch(t){oc(e,t,"initializeTokenizers")}}o(rB,"waitForTokenizers");var nB=10,iB={type:"contextTooShort"},oB={type:"copilotContentExclusion"},XT={type:"promptError"},l1={type:"promptCancelled"},sB={type:"promptTimeout"};function Rx(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(Rx,"trimLastLine");function Ax(e,t,r,n,i,s={}){let l=e.get(ir).findNotebook(r.textDocument),c=l?.getCellFor(r.textDocument);l&&c&&(r=kae(r,l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys();let u=YU(e,n);return e.get($a).prompt({completionId:t,completionState:r,telemetryData:n,promptOpts:{...s,separateContext:u}},i)}o(Ax,"extractPrompt");function Aae(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:px(n,t)}o(Aae,"addNeighboringCellsToPrompt");function kae(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&_x(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=i.length>0?i.map(l=>Aae(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return e.applyEdits([{newText:s,range:{start:a,end:a}}])}o(kae,"applyEditsForNotebook");function Ix(e,t,r){let i=e.get(qe).maxPromptCompletionTokens(t)-G3(e),s=uU(t,r),a=tx(e,t,r),l={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s},c=e.get(qe).suffixPercent(t),u=e.get(qe).suffixMatchThreshold(t);return c>0&&u>0&&(l={...l,suffixPercent:c,suffixMatchThreshold:u}),l}o(Ix,"getPromptOptions");var aB=2.98410452738298,lB=-.838732736843507,cB=1.50314646255716,uB=-.237798634012662,kx={python:.314368072478742},fB={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Nae={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function Fae(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(Fae,"linearInterpolation");var c1=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},JT=class{constructor(t,r,n){this.link=Nae;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Fae(n,this.logitsToQuantiles)}},dB=new JT(aB,[new c1("compCharLen",lB,e=>Math.log(1+e)),new c1("meanLogProb",cB),new c1("meanAlternativeLogProb",uB)].concat(Object.entries(kx).map(e=>new c1(e[0],e[1]))),fB);function mB(e,t){let r={...t.measurements};return Object.keys(kx).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),dB.predict(e,r)}o(mB,"ghostTextScoreConfidence");function pB(e,t){let r={...t.measurements};return Object.keys(kx).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),dB.quantile(e,r)}o(pB,"ghostTextScoreQuantile");var Oae=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function hB(e){let t=e.slice();return t.reverse(),gB(t)||gB(t.filter(r=>r.trim().length>0))}o(hB,"isRepetitive");function gB(e){let t=Lae(e);for(let r of Oae){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(gB,"isRepeatedPattern");function Lae(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(Lae,"kmp_prefix_function");function Mae(e,t,r,n){let i="}";try{i=ZP(t.detectedLanguageId)??"}"}catch{}return Uae({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(Mae,"maybeSnipCompletion");function Uae(e,t,r,n){let i=Bae(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let d;for(;;){let h=t.line+1+f+c;if(d=h>=e.getLineCount()?void 0:e.getLineText(h),d!==void 0&&d.trim()==="")c++;else break}let p,m;for(;p=a+f+u,m=p>=s.length?void 0:s[p],m!==void 0&&m.trim()==="";)u++;let g=p===s.length-1;if(!m||!(d&&(g?d.startsWith(m)||m.startsWith(d):d===m&&m.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(Uae,"maybeSnipCompletionImpl");function Bae(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(Bae,"splitByNewLine");function jae(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(jae,"matchesNextLine");function ZT(e,t,r,n,i,s){if(hB(n.tokens)){let l=Qe.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(jae(t,r,a.completionText,!i)){let l=Qe.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"completion.alreadyInDocument",l),Se(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=Mae(e,t,r,a.completionText),a.completionText?a:void 0}o(ZT,"postProcessChoiceInContext");function xB(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(xB,"checkSuffix");var vB=Bt(b1());var or=new Ct("ghostText");var $ae=200,_B=20;async function TB(e,t,r,n,i,s,a){or.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=W3(e,l),u={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:iD(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},f={n:l,temperature:c},d=Dt(e,be.ModelAlwaysTerminatesSingleline)??e.get(qe).modelAlwaysTerminatesSingleline(r),p=t.blockMode==="moremultiline"&&U0.isSupported(t.languageId)&&!d;!t.multiline&&!p?f.stop=[`
`]:t.stop&&(f.stop=t.stop),t.maxTokens!==void 0&&(f.max_tokens=t.maxTokens);let m=Date.now(),g={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(f.stop)??"unset",logit_bias:JSON.stringify(null)};Object.assign(r.properties,g);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:f,headers:t.headers,extra:u},_=await e.get(nc).fetchAndStreamCompletions(e,h,r,i,n);return _.type==="failed"?{type:"failed",reason:_.reason,telemetryData:Xr(r)}:_.type==="canceled"?(or.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:_.reason,telemetryData:Os(r)}):a(m,_.getProcessingTime(),_.choices)}catch(h){if(G0(h))return{type:"canceled",reason:"network request aborted",telemetryData:Os(r,{cancelledNetworkRequest:!0})};if(or.exception(e,h,"Error on ghost text request"),e.get(ds).notifyUser(e,h),Ku(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:Xr(r)}}}o(TB,"genericGetCompletionsFromNetwork");function QT(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(QT,"postProcessChoices");async function qae(e,t,r,n,i){return TB(e,t,r,n,i,"completions",async(s,a,l)=>{let u=await l[Symbol.asyncIterator]().next();if(u.done)return or.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:Xr(r)};if(n?.isCancellationRequested)return or.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:Os(r)};let f=u.value;if(f===void 0)return or.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:Xr(r)};IB(e,"performance",f,s,a),or.debug(e,`Awaited first result, id:  ${f.choiceIndex}`);let d=QT(f,t);d&&(Nx(e,t,d),or.debug(e,`GhostText first completion (index ${d?.choiceIndex}): ${JSON.stringify(d?.completionText)}`));let p=(async()=>{let m=d!==void 0?[d]:[];for await(let g of l){if(g===void 0)continue;or.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let h=QT(g,t,m);h&&(m.push(h),Nx(e,t,h))}})();return u0(e)&&await p,d?{type:"success",value:[eE(d,{forceSingleLine:!1}),p],telemetryData:Xr(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:Xr(r)}})}o(qae,"getCompletionsFromNetwork");async function Wae(e,t,r,n,i){return TB(e,t,r,n,i,"all completions",async(s,a,l)=>{let c=[];for await(let u of l){if(n?.isCancellationRequested)return or.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:Os(r)};let f=QT(u,t,c);f&&c.push(f)}if(c.length>0){for(let u of c)Nx(e,t,u);IB(e,"cyclingPerformance",c[0],s,a)}return{type:"success",value:[c,Promise.resolve()],telemetryData:Xr(r),telemetryBlob:r,resultType:3}})}o(Wae,"getAllCompletionsFromNetwork");function eE(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(eE,"makeGhostAPIChoice");function yB(e){return t=>{let r=t?.split(`
`)??[];if(r.length>e+1)return r.slice(0,e+1).join(`
`).length}}o(yB,"takeNLines");async function Gae(e,t,r,n,i,s,a,l,c,u,f){let d=e.get(Fc).forLanguage(e,t.textDocument.detectedLanguageId,f);switch(d){case"server":return a&&u?{blockMode:"parsing",requestMultiline:!0,finishedCb:yB(1),stop:[`

`],maxTokens:_B}:{blockMode:"server",requestMultiline:!0,finishedCb:o(p=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let p;try{p=await Zae(e,d,t.textDocument,t.position,s,l,c,n)}catch{p={requestMultiline:!1}}if(p.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=pi.position(t.position.line,Math.max(t.position.character-n.trailingWs.length,0)):m=t.position,{blockMode:d,requestMultiline:!0,...bB(e,d,t.textDocument,m,p.blockPosition,r,c,!0,n.prompt,f)}}if(a&&(u||d==="moremultiline")){let m={blockMode:"parsing",requestMultiline:!0,finishedCb:yB(1),stop:[`

`],maxTokens:_B};return d==="moremultiline"&&(m.blockMode="moremultiline"),m}return{blockMode:d,requestMultiline:!1,...bB(e,d,t.textDocument,t.position,p.blockPosition,r,c,!1,n.prompt,f)}}}}o(Gae,"getGhostTextStrategy");function bB(e,t,r,n,i,s,a,l,c,u){if(l&&t==="moremultiline"&&U0.isSupported(r.detectedLanguageId)){let f=i==="empty-block"||i==="block-end"?e.get(qe).longLookaheadSize(u):e.get(qe).shortLookaheadSize(u);return{finishedCb:new H3(e,s,r.detectedLanguageId,!1,f,(p,m)=>{let g={prefix:s+p,prompt:{...c,prefix:c.prefix+p}};Nx(e,g,m)}).getFinishedCallback(),maxTokens:$ae}}return{finishedCb:l?sU(e,r,n,a):f=>{}}}o(bB,"buildFinishedCallback");var Hae={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function zae(e,t,r,n,i,s){let a=n.issuedTime,l=[];function c(x){let y=Tn();l.push([x,y-a]),a=y}o(c,"recordPerformance"),c("telemetry");let u=e.get(qe);if(i?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:Xr(n)};let f=Kae(t.textDocument,t.position);if(f===void 0)return or.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:Xr(n)};let d=i,p=new Qt.CancellationTokenSource;i=p.token;let m=Pf(e,n),g={...Hae,...s,tokenizer:m.tokenizer},h=await Ax(e,r,t,n,i,g);return c("prompt"),h.type==="copilotContentExclusion"?(or.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:Xr(n)}):h.type==="contextTooShort"?(or.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:Xr(n)}):h.type==="promptError"?(or.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:Xr(n)}):g.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:h}:h.type==="promptCancelled"?(or.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:Xr(n)}):h.type==="promptTimeout"?(or.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:Xr(n)}):h.prompt.prefix.length===0&&h.prompt.suffix.length===0?(or.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:Xr(n)}):i?.isCancellationRequested?(or.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:Xr(n)}):e.get(Lr).withProgress(async()=>{let[x]=Rx(t.textDocument.getText(pi.range(pi.position(0,0),t.position))),y=u.triggerCompletionAfterAccept(n),b=e.get(q0).hasAcceptedCurrentCompletion(x,h.prompt.suffix),v=Dt(e,be.MultilineAfterAccept)??u.enableMultilineAfterAccept(n),I=(Dt(e,be.AlwaysRequestMultiline)??u.enableProgressiveReveal(n))&&U0.isSupported(t.textDocument.detectedLanguageId),D=y&&!v&&!I?b:void 0,H=h.prompt;D&&(h.prompt={...h.prompt,prefix:h.prompt.prefix+`
`});let V=await Gae(e,t,x,h,g.isCycling,f,b,g.isSpeculative,D??!1,v,n);if(c("strategy"),i?.isCancellationRequested)return or.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:Xr(n)};let $=Vae(e,x,H,V.requestMultiline);c("cache");let Y=Df(e,t.textDocument.uri),P={blockMode:V.blockMode,languageId:t.textDocument.detectedLanguageId,repoInfo:Y,engineModelId:m.modelId,ourRequestId:r,prefix:x,prompt:h.prompt,multiline:V.requestMultiline,indentation:fT(t.textDocument,t.position),isCycling:g.isCycling,headers:m.headers,requestForNextLine:D,stop:V.stop,maxTokens:V.maxTokens};P.headers={...P.headers,"X-Copilot-Async":"true","X-Copilot-Speculative":g.isSpeculative?"true":"false"};let w=nle(e,t.textDocument,P,t.position,h,n,m,g);if($===void 0&&!g.isCycling&&e.get(Do).shouldWaitForAsyncCompletions(x,h.prompt)){let F=await e.get(Do).getFirstMatchingRequestWithTimeout(r,x,h.prompt,g.isSpeculative,w);if(c("asyncWait"),F){let M=!V.requestMultiline;$=[[eE(F[0],{forceSingleLine:M})],4]}if(d?.isCancellationRequested)return or.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:Xr(w)}}let z=V.blockMode==="moremultiline"&&U0.isSupported(t.textDocument.detectedLanguageId);if($!==void 0&&($[0]=$[0].map(F=>ZT(e,t.textDocument,t.position,F,z,or)).filter(F=>F!==void 0)),$!==void 0&&$[0].length===0)return or.debug(e,`Found empty inline suggestions locally via ${i1($[1])}`),{type:"empty",reason:"cached results empty after post-processing",telemetryData:Xr(w)};if($!==void 0&&$[0].length>0&&(!g.isCycling||$[0].length>1))or.debug(e,`Found inline suggestions locally via ${i1($[1])}`);else{if(g.isCycling){let F=await Wae(e,P,w,i,V.finishedCb);if(F.type==="success"){let M=$?.[0]??[];F.value[0].forEach(G=>{M.findIndex(se=>se.completionText.trim()===G.completionText.trim())===-1&&M.push(G)}),$=[M,3]}else if($===void 0)return F}else{if(i?.isCancellationRequested)return or.debug(e,"Cancelled before request"),{type:"canceled",reason:"before request",telemetryData:Os(w)};let M=qae(e,P,w,i,o((se,ye)=>(e.get(Do).updateCompletion(r,se),V.finishedCb(se,ye)),"finishedCb"));e.get(Do).queueCompletionRequest(r,x,h.prompt,p,M);let G=await e.get(Do).getFirstMatchingRequest(r,x,h.prompt,g.isSpeculative);if(G===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:Xr(w)};$=[[G[0]],4]}c("network")}if($===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:Xr(w)};let[k,T]=$,E=k.map(F=>ZT(e,t.textDocument,t.position,F,z,or)).filter(F=>F!==void 0),R=[];for(let F of E){let M=rle(e,t.textDocument,P,F,w),G=f?xB(t.textDocument,t.position,F):0,ye={completion:Qae(F.choiceIndex,F.completionText,h.trailingWs),telemetry:M,isMiddleOfTheLine:f,suffixCoverage:G,copilotAnnotations:F.copilotAnnotations};R.push(ye)}if(d?.isCancellationRequested)return or.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:Os(w)};w.properties.clientCompletionId=R?.[0]?.telemetry?.properties.clientCompletionId,w.measurements.foundOffset=R?.[0]?.telemetry?.measurements?.foundOffset??-1,or.debug(e,`Produced ${R.length} results from ${i1(T)} at ${w.measurements.foundOffset} offset`);let S=Dt(e,be.CompletionsDelay)??u.completionsDelay(n),A=Tn()-n.issuedTime,N=Math.max(S-A,0);return T!==2&&!g.isCycling&&N>0&&(or.debug(e,`Waiting ${N}ms before returning completion`),await Mu(N),d?.isCancellationRequested)?(or.debug(e,"Cancelled after completions delay"),{type:"canceled",reason:"after completions delay",telemetryData:Os(w)}):r!==e.get(q0).currentRequestId?(or.debug(e,"Current request id changed before returning"),{type:"canceled",reason:"current request id changed before returning",telemetryData:Os(w)}):(g.isSpeculative||e.get(q0).setGhostText(x,h.prompt.suffix,E,T),c("complete"),{type:"success",value:[R,T],telemetryData:Xr(w),telemetryBlob:w,resultType:T,performanceMetrics:l})})}o(zae,"getGhostTextWithoutAbortHandling");async function tE(e,t,r,n){let i=vi();e.get(q0).currentRequestId=i;let s=await tle(e,t.textDocument,i,n);try{return e.get(Ba).schedule(t,i,s,r,n),e.get(Nu).notifyRequest(t,i,s,r,n),await zae(e,t,i,s,r,n)}catch(a){if(G0(a))return{type:"canceled",reason:"aborted at unknown location",telemetryData:Os(s,{cancelledNetworkRequest:!0})};throw a}}o(tE,"getGhostText");function Vae(e,t,r,n){let i=e.get(q0).getCompletionsForUserTyping(t,r.suffix),s=ele(e,t,r.suffix,n);if(i&&i.length>0){let a=(s??[]).filter(l=>!i.some(c=>c.completionText===l.completionText));return[i.concat(a),2]}if(s&&s.length>0)return[s,1]}o(Vae,"getLocalInlineSuggestion");function Kae(e,t){let r=Yae(t,e),n=Xae(t,e);return r&&!n?void 0:r&&n}o(Kae,"isInlineSuggestion");function Yae(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(Yae,"isMiddleOfTheLine");function Xae(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(Xae,"isValidMiddleOfTheLinePosition");function Jae(e,t){return t.lineAt(e).text.trim().length===0}o(Jae,"isNewLine");var u1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function Zae(e,t,r,n,i,s,a,l){if(e.get(u1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Se(e,"ghostText.longFileMultilineSkip",Qe.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&U0.isSupported(r.detectedLanguageId))return s?{requestMultiline:!0,blockPosition:await yM(r,n)}:{requestMultiline:!1};if(a){let f=fT(r,n),d=f.current>0?r.lineAt(n).text[0]:void 0,p={range:{start:n,end:n},newText:`
`+(d?d.repeat(f.current):"")};r=r.applyEdits([p])}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&Jae(n,r))return{requestMultiline:!0};let u=!1;return!i&&ns(r.detectedLanguageId)?u=await ex(r,n):i&&ns(r.detectedLanguageId)&&(u=await ex(r,n)||await ex(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=EM(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(Zae,"shouldRequestMultiline");function Nx(e,t,r){e.get(Ns).append(t.prefix,t.prompt.suffix,r)}o(Nx,"appendToCache");function Qae(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(Qae,"adjustLeadingWhitespace");function ele(e,t,r,n){let i=e.get(Ns).findAll(t,r);return i.length===0?(or.debug(e,"Found no completions in cache"),[]):(or.debug(e,`Found ${i.length} completions in cache`),i.map(s=>eE(s,{forceSingleLine:!n})))}o(ele,"getCompletionsFromCache");async function tle(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=Qe.createAndMarkAsIssued(i);return await e.get(qe).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(tle,"createTelemetryWithExp");function rle(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,EB(u,t),u.extendWithRequestId(s),u.measurements.confidence=mB(e,u),u.measurements.quantile=pB(e,u),or.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(rle,"telemetryWithAddData");function nle(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);EB(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let d=t.lineAt(n.line),p=t.getText(pi.range(d.range.start,n)),m=t.getText(pi.range(n,d.range.end)),g=Array.from(i.neighborSource.entries()).map(b=>[b[0],b[1].map(v=>(0,vB.SHA256)(v).toString())]),h={beforeCursorWhitespace:JSON.stringify(p.trim()===""),afterCursorWhitespace:JSON.stringify(m.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},_={...Rh(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(h.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(h.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let x=e.get(wi);if(x.isActive()){let b=x.popTelemetry();b.length>0&&(h.workspaceContextStatsJson=JSON.stringify(b))}let y=u.extendedBy(h,_);return Se(e,"ghostText.issued",y),u}o(nle,"telemetryIssued");function EB(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(EB,"addDocumentTelemetry");function IB(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Se(e,`ghostText.${t}`,l)}o(IB,"telemetryPerformance");var q0=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&CB(this.choices[0].completionText,n))return ile(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function ile(e,t){return e.filter(r=>CB(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(ile,"adjustChoicesStart");function CB(e,t){return e.startsWith(t)&&e.length>t.length}o(CB,"startsWithAndExceeds");var ju=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(ir);this._tracker=i.onDidChangeTextDocument(s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};var rE=class e{constructor(t,r,n=[],i,s,a){this._textDocument=t;this._position=r;this.originalPosition=i??Qt.Position.create(r.line,r.character),this.originalVersion=s??t.version,this.originalOffset=a??t.offsetAt(this.originalPosition),this._editsWithPosition=[...n]}static{o(this,"CompletionState")}get textDocument(){return this._textDocument}get position(){return this._position}get editsWithPosition(){return[...this._editsWithPosition]}updateState(t,r,n){return new e(t,r,n??this.editsWithPosition,this.originalPosition,this.originalVersion,this.originalOffset)}updatePosition(t){return this.updateState(this._textDocument,t)}addSelectedCompletionInfo(t){if(this.editsWithPosition.find(n=>n.source==="selectedCompletionInfo"))throw new Error("Selected completion info already applied");let r={range:t.range,newText:t.text};return this.applyEdits([r],!0)}applyEdits(t,r=!1){if(r&&t.length>1)throw new Error("Selected completion info should be a single edit");let n=this._textDocument,i=this._position,s=n.offsetAt(i),a=this.editsWithPosition;for(let{range:l,newText:c}of t){let u=n.getText(l),f=n.offsetAt(l.end);if(n=n.applyEdits([{range:l,newText:c}]),s<n.offsetAt(l.start)){let p={range:l,newText:c,positionAfterEdit:Qt.Position.create(i.line,i.character)};r&&(p.source="selectedCompletionInfo"),a.push(p);continue}s<f&&(s=f),s+=c.length-u.length,i=n.positionAt(s);let d={range:l,newText:c,positionAfterEdit:Qt.Position.create(i.line,i.character)};r&&(d.source="selectedCompletionInfo"),a.push(d)}return this.updateState(n,i,a)}};function Fx(e,t){return new rE(e,t)}o(Fx,"createCompletionState");function nE(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let d=1;d<e.length+1;d++){let p=1+s[d],m=1+n[d-1],g=r(e[d-1],l,d-1,u)+s[d-1];n[d]=Math.min(m,p,g),n[d]===g?i[d]=a[d-1]:n[d]===p?i[d]=a[d]:i[d]=i[d-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(nE,"editDistance");function ole(){return new Map}o(ole,"emptyLexDictionary");function sle(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(sle,"reverseLexDictionary");function*ale(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;/(\p{L}|\p{Nd}|_)/u.test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(ale,"lexGeneratorWords");function SB(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(SB,"lexicalAnalyzer");function wB(e){return e!==" "}o(wB,"notSingleSpace");function PB(e,t,r=ale){let[n,i]=SB(e,ole(),r,wB),[s,a]=SB(t,i,r,wB);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=sle(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function d(h,_,x,y){if(y===0||y===c-1){let b=l[n[x][0]];return y==0&&b.endsWith(u)||y==c-1&&b.startsWith(f)?0:1}else return h===_?0:1}o(d,"compare");let p=nE(n.map(h=>h[0]),s.map(h=>h[0]),d),m=n[p.startOffset][1],g=p.endOffset<n.length?n[p.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:p.distance,startOffset:m,endOffset:g,haystackLexLength:n.length,needleLexLength:s.length}}o(PB,"lexEditDistance");function DB(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(DB,"computeCompCharLen");function RB(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(RB,"computeCompletionText");function AB(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(AB,"computePartialLength");var uc=new Ct("postInsertion"),kB=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],NB=50,lle=1500,cle=.5,ule=500,iE={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function FB(e,t,r,n,i){let s=await e.get(ks).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return uc.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await Ax(e,r.properties.headerRequestId,Fx(a,u),r),d=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(d.isFimEnabled&&i!==void 0){let p=l.substring(n,i);return d.suffix=l.substring(i),{prompt:d,capturedCode:p,terminationOffset:0}}else{let p=l.substring(n),m=dT(c,n,a.detectedLanguageId),h=await aU(m,void 0)(p),_=Math.min(l.length,n+(h?h*2:ule)),x=l.substring(n,_);return{prompt:d,capturedCode:x,terminationOffset:h??-1}}}o(FB,"captureCode");function OB(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{uc.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),MM(e,t,u)});let s=new ju(e,n,r-1),a=new ju(e,n,r),l=o(async c=>{uc.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:d,terminationOffset:p}=await FB(e,n,u,s.offset+1,a.offset),m;f.isFimEnabled?m={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:m={hypotheticalPromptJson:JSON.stringify(f.prefix)};let g=u.extendedBy({...m,capturedCodeJson:JSON.stringify(d)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:p});uc.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,g),Se(e,t+".capturedAfterRejected",g,1)},"checkInCode");kB.filter(c=>c.captureRejection).map(c=>s.push(yl(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(OB,"postRejectionTasks");function sE(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:DB(a,r)});uc.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),LM(e,t,c);let u=r;r=RB(r,a);let f=r.trim(),d=new ju(e,i,n),p=new ju(e,i,n+r.length),m=o(async g=>{await ple(e,t,f,n,i,g,c,d,p)},"stillInCodeCheck");if(iE.triggerPostInsertionSynchroneously&&u0(e)){let g=m({seconds:0,captureCode:iE.captureCode,captureRejection:iE.captureRejection});e.get(ji).register(g)}else kB.map(g=>d.push(yl(e,()=>m(g),"postInsertionTasks"),g.seconds*1e3));yl(e,fle,"post insertion citation check")(e,i,u,r,n,l)}o(sE,"postInsertionTasks");async function fle(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(ir).getTextDocument({uri:t});if(a){let l=oE(a.getText(),n,NB,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=dle(r.length,n.length,l.start_offset);if(c===void 0){uc.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),d=i+mle(r.length,n.length,l.stop_offset),p=a?.positionAt(d),m=f&&p?a?.getText({start:f,end:p}):"<unknown>";await e.get(Zl).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:d,version:a?.version,location:f&&p?{start:f,end:p}:void 0,matchingText:m,details:l.details.citations})}}o(fle,"citationCheck");function dle(e,t,r){if(!(t<e&&r>t))return r}o(dle,"computeCitationStart");function mle(e,t,r){return t<e?Math.min(r,t):r}o(mle,"computeCitationEnd");function oE(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=PB(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=nE(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=cle?1:0}}o(oE,"find");async function ple(e,t,r,n,i,s,a,l,c){let u=await e.get(ks).getOrReadTextDocument({uri:i});if(u.status==="valid"){let d=u.document.getText(),p=oE(d,r,NB,l.offset);p.stillInCodeHeuristic||(p=oE(d,r,lle,l.offset)),uc.debug(e,`stillInCode: ${p.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${p.relativeLexEditDistance}. Char edit distance was ${p.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${p.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let m=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},p);if(Se(e,t+".stillInCode",m),s.captureCode){let{prompt:g,capturedCode:h,terminationOffset:_}=await FB(e,i,m,l.offset,c.offset),x;g.isFimEnabled?x={hypotheticalPromptPrefixJson:JSON.stringify(g.prefix),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)}:x={hypotheticalPromptJson:JSON.stringify(g.prefix)};let y=a.extendedBy({...x,capturedCodeJson:JSON.stringify(h)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:_});uc.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,m),Se(e,t+".capturedAfterAccepted",y,1)}}}o(ple,"checkStillInCode");var aE=new Ct("ghostText"),Us=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function gle(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(gle,"computeRejectedCompletions");function hle(e,t){let r=e.get(Us);if(!r.position||!r.uri)return;let n=gle(r);n.length>0&&OB(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(hle,"rejectLastShown");function LB(e,t,r,n){let i=e.get(Us);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&hle(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(LB,"setLastShown");function MB(e,t){let r=e.get(Us);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;aE.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,OM(e,"ghostText",t)}}o(MB,"handleGhostTextShown");function UB(e,t){let r=e.get(Us);r.resetState(),aE.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),sE(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(UB,"handleGhostTextPostInsert");function BB(e,t,r,n=0){let i=e.get(Us);r===t.insertText.length&&i.resetState(),aE.debug(e,"Ghost text partial post insert");let s=AB(t,r,n);if(s)return i.partiallyAcceptedLength=r,sE(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(BB,"handlePartialGhostTextPostInsert");function jB(e){let t=new C3;return t.set(sa,e),t.set(mc,new mc),t.set(vn,new vn),t.set(Ns,new Ns),t.set(vl,new vl),t.set(qe,new qe(t)),t.set(Oc,new Oc),t.set(Bi,new Bi(t)),t.set(po,new po),t.set(Oa,new Oa),t.set(ds,new ds),t.set(nc,new Jp),t.set(Fc,new A2),t.set(pc,new d5),t.set(ji,new ji),t.set(Nu,new Nu(t)),t.set(ks,new ks(t)),t.set(wi,new wi(t)),t.set($a,eB(t)),t.set(Us,new Us),t.set(q0,new q0),t.set(u1,u1.default),t.set(Ma,new Ma(t)),t.set(rs,new rs(t)),t.set(pm,new pm),t.set(Do,new Do(t)),t.set(jp,new jp),t.set($p,new $p(t)),t}o(jB,"createCommonContext");var ktt=new Ct("exp");function $B(e){let t=e.get(qe);t.registerStaticFilters(yle(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>Dt(e,be.DebugOverrideEngine)||Dt(e,be.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>Tl()?"copilot-web":e.get(lr).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>lE(!e.get(vn).isProduction()&&e.get(lr).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(lr).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>xle(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(lr).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>lE(e.get(lr).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>_le(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(lr).getRelatedPluginInfo()){let i=Ao+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(T1).includes(i)){u5(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=lE(n.version)}return r})}o($B,"setupExperimentationService");function xle(e){let t=e.get(lr).getEditorPluginInfo();return t.name==="copilot"&&gm(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(xle,"getPluginRelease");function _le(e){let t=e.get(lr).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(_le,"getTargetPopulation");function yle(e){return ble(e)}o(yle,"createAllFilters");function ble(e){let t=e.get(an);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":e.get(vn).isProduction()?hm(e):"1.999.0"}}o(ble,"createDefaultFilters");function lE(e){return e.split("-")[0]}o(lE,"trimVersionSuffix");var Ox=class extends Ya{static{o(this,"TelemetryLogSenderWeb")}sendError(t,r,...n){R0(t,"log",Qe.createAndMarkAsIssued({context:r,level:T5[1],message:vle(...n)}),1)}sendException(t,r,n){H0(t,r,n)}};function vle(...e){return e.map(t=>Tle(t)).join(" ")}o(vle,"telemetryMessage");function Tle(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||e===void 0)return`${e}`;try{return JSON.stringify(e)}catch{return e}}o(Tle,"safeStringify");var Lx=class extends Mn{constructor(r){super();this.ctx=r;this.name="FetchFetcher";this.userAgent=`GithubCopilot/${this.ctx.get(vn).getVersion()}`}static{o(this,"FetchFetcher")}async fetch(r,n){let i=n.headers||{};i["User-Agent"]=this.userAgent;let s=n.body;if(n.json){if(n.body)throw new Error("Illegal arguments! Cannot pass in both 'body' and 'json'!");i["Content-Type"]="application/json",s=JSON.stringify(n.json)}let a=n.method||"GET";if(a!=="GET"&&a!=="POST")throw new Error("Illegal arguments! 'method' must be either 'GET' or 'POST'!");if(n.signal&&!(n.signal instanceof AbortSignal))throw new Error("Illegal arguments! 'signal' must be an instance of AbortSignal!");let l=AbortSignal.any([...n.signal?[n.signal]:[],...n.timeout?[AbortSignal.timeout(n.timeout)]:[]]),c=await fetch(r,{method:a,headers:i,body:s,signal:l});return new f5(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}async disconnectAll(){}makeAbortController(){return new AbortController}};var Mx=class extends cc{static{o(this,"EmptyRecentEditsProvider")}isEnabled(){return!1}start(){}getRecentEdits(){return[]}getEditSummary(t){return null}};var qB=100,WB=1e3*60*5;function GB(e){let t=new cE(e);e.get(Ls).registerContextProvider(t),e.get(ic).add(t.id),e.get(wi).getInitializedFeature().then(r=>{r.documentProvider.registerDocumentProvider(t)}).catch(r=>{oc(e,r,"registerRelatedFilesShim")})}o(GB,"registerRelatedFilesShim");var cE=class{constructor(t){this.ctx=t;this.id="relatedFilesShim";this.selector=["*"];this.traitCache=new v1(qB,WB);this.relatedFilesCache=new v1(qB,WB);this.resolver={resolve:o(async(r,n)=>{let i=r.documentContext.uri,s=r.documentContext.languageId;return await this.getTraits(i,s,n)},"resolve")}}static{o(this,"RelatedFilesShim")}async getTraits(t,r,n){return this.traitCache.has(t)||await this.requestRelatedFilesAndTraits(t,r,r,n),this.traitCache.get(t)??[]}async requestRelatedFilesAndTraits(t,r,n,i){try{let s=await this.ctx.get(qe).updateExPValuesAndAssignments({uri:t,languageId:n}),a={uri:t,clientLanguageId:r,detectedLanguageId:n},l=await vx(this.ctx,a,s,i,!0);if(i?.isCancellationRequested)return;let c=l.traits.filter(f=>f.includeInPrompt).map(f=>f.promptTextOverride?{name:"OtherInformation",value:f.promptTextOverride}:f),u=new Set;for(let f of l.entries.values())for(let d of f.keys())u.add(d);this.traitCache.set(t,c),this.relatedFilesCache.set(t,Array.from(u))}catch(s){oc(this.ctx,s,"relatedFilesShim")}}async*getDocuments(t,r){for(let n of t.slice(0,ja.MAX_NEIGHBOR_FILES)){if(r?.isCancellationRequested)return;if(!this.relatedFilesCache.has(n.uri)){let a=Qd({uri:n.uri})??"UNKNOWN";await this.requestRelatedFilesAndTraits(n.uri,a,a,r)}let i=this.relatedFilesCache.get(n.uri)??[];if(i.length===0)continue;let s=n.weight/i.length;for(let a of i)yield{uri:a,weight:s}}}};var HB=["cpp","c","cuda-cpp"],zB=["typescript","javascript","typescriptreact","javascriptreact"],VB=["csharp"],Ele=new Map([...HB.map(e=>[e,"related/cpp"]),...zB.map(e=>[e,"related/typescript"]),...VB.map(e=>[e,"related/csharproslyn"])]);function Ile(e){return Ele.get(e)??"related/other"}o(Ile,"getNeighboringFileType");var Ux=class extends Bu{constructor(r){super(r);this.providers=new Map;this.telemetrySent=!1;this.reportedUnknownProviders=new Set}static{o(this,"CompositeRelatedFilesProvider")}async getRelatedFilesResponse(r,n,i){let s=Date.now(),a=r.clientLanguageId.toLowerCase();if(Ile(a)==="related/other"&&!this.reportedUnknownProviders.has(a)&&(this.reportedUnknownProviders.add(a),Ln.warn(this.context,`unknown language ${a}`)),this.relatedFilesTelemetry(n),Ln.debug(this.context,`Fetching related files for ${r.uri}`),!this.isActive(a,n))return Ln.debug(this.context,"language-server related-files experiment is not active."),qT;let c=this.providers.get(a);if(!c)return qT;try{return this.convert(r.uri,c,s,n,i)}catch{this.relatedFileNonresponseTelemetry(a,n);return}}async convert(r,n,i,s,a){a||(a={isCancellationRequested:!1,onCancellationRequested:o(()=>({dispose(){}}),"onCancellationRequested")});let l={entries:[],traits:[]},c=n.size>0;for(let u of n.values()){let f=await u.callback(r,{flags:{}},a);if(f){c=!1,l.entries.push(...f.entries),f.traits&&l.traits.push(...f.traits);for(let d of f.entries)for(let p of d.uris)Ln.debug(this.context,p.toString())}}return this.performanceTelemetry(Date.now()-i,s),c?void 0:l}registerRelatedFilesProvider(r,n,i){let s=this.providers.get(n);s?s.set(r,{extensionId:r,languageId:n,callback:i}):this.providers.set(n,new Map([[r,{extensionId:r,languageId:n,callback:i}]]))}unregisterRelatedFilesProvider(r,n,i){let s=this.providers.get(n);if(s){let a=s.get(r);a&&a.callback===i&&s.delete(r)}}isActive(r,n){return VB.includes(r)?this.context.get(qe).relatedFilesVSCodeCSharp(n)||Dt(this.context,be.RelatedFilesVSCodeCSharp):zB.includes(r)?this.context.get(qe).relatedFilesVSCodeTypeScript(n)||Dt(this.context,be.RelatedFilesVSCodeTypeScript):HB.includes(r)?this.context.get(qe).cppHeadersEnableSwitch(n)||Dt(this.context,be.DebugOverrideCppHeadersEnableSwitch):this.context.get(qe).relatedFilesVSCode(n)||Dt(this.context,be.RelatedFilesVSCode)}relatedFilesTelemetry(r){}relatedFileNonresponseTelemetry(r,n){}performanceTelemetry(r,n){}};var JB=Bt(hc());var Cle=new Ct("repository"),$u="\\\\",ZB="(?:[#;].*)",f1=`(?:[^"${$u}]|${$u}.)`,Sle="[0-9A-Za-z-]",KB=`[A-Za-z]${Sle}*`,QB=`\\s*${ZB}?$`,ej=`(?:[^"${$u};#]|${$u}.)`,wle=`(?:"${f1}*"|"${f1}*(?<strCont>${$u})$)`,Ple=`(?:${ej}|${wle})+`,Dle=`(?:(?<cont>${$u})$)`,tj=`(?<value>${Ple})${Dle}?${QB}`,YB=new RegExp(`^${tj}`),Rle=new RegExp(`^(?<value>${f1}*(?:(?<strCont>${$u})$|(?<quote>")))`),Ale=new RegExp(`^\\s*(?:(?<key>${KB})\\s*=\\s*${tj}|(?<soloKey>${KB})${QB})`),kle=new RegExp(`(?<value>${ej}+)|"(?<string>${f1}*)"`,"g"),XB="[-.0-9A-Za-z]+",Nle=`\\s+"(?<ext>${f1}*)"`,Fle=`\\s+"(?<extOnly>${f1}*)"`,Ole=new RegExp(`^\\s*\\[(?:(?<simple>${XB})${Nle}|${Fle}|(?<simpleOnly>${XB}))\\]`),Lle=new RegExp(`^\\s*${ZB}$`),uE=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(Ole);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(Ale);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Rle),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(YB),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(YB),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(kle)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Lle.test(this.line)&&(this.line="")}},Bx=class extends ec{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await Ma.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new Hp)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new uE(i),a=new Hp;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Vr).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&Cle.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=yn(this.xdgConfigUri(),"git","config"),s=yn(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Ka(r).toLowerCase()!=="config.worktree")return;let n=V0(r),i=yn(n,"commondir");try{let s=(await t.get(Vr).readFileString(i)).trimEnd();return yn(xc(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?_5(process.env.XDG_CONFIG_HOME):yn(this.homeUri(),".config")}homeUri(){return _5((0,JB.homedir)())}};var ur=require("vscode");var rj={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function nj(e,t){let r=Qe.createAndMarkAsIssued({authSource:t});return Se(e,rj.AuthNotifyShown,r)}o(nj,"telemetryAuthNotifyShown");function ij(e,t,r){let n=Qe.createAndMarkAsIssued({authSource:t,authType:r});return Se(e,rj.NewGitHubLogin,n)}o(ij,"telemetryNewGitHubLogin");var Wu=require("vscode");var oj=["user:email"];var qu=require("vscode");var Mle="github.com",jx=class extends Hs{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls()),zr(r,i=>this.onCopilotToken(r,i))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getAuthAuthority(){return this.baseUrlObject.host}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}setConfiguredUrls(r,n){this.withTelemetryReInitialization(r,()=>{let i=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let s=this.getConfiguredUrls();(i.apiUrl!==s.apiUrl||i.serverUrl!==s.serverUrl)&&r.get(Wr).resetToken()})}updateServiceEndpoints(r,n){n&&I1(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=new URL("telemetry",n.telemetry).href})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(Oa);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r,n){let{serverUrl:i,apiUrl:s}=Bm({serverUrl:I1(r,n.serverUrl),apiUrl:I1(r,n.apiUrl)});this.baseUrlObject=new URL(i);let a=this.baseUrlObject.host!==Mle;this.apiUrl=s,this.telemetryUrl=new URL("/telemetry",a?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:C1.telemetry).href}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};var fE=require("vscode");var aj="github-enterprise",sj="https://github.com";function qx(){return fE.workspace.getConfiguration(wr).get("advanced")?.authProvider==="github-enterprise"&&fE.workspace.getConfiguration(aj).get("uri")||sj}o(qx,"configuredBaseUrl");var $x=class extends jx{static{o(this,"VSCodeNetworkConfiguration")}getDefaultUrls(){return{serverUrl:qx()}}};function lj(e,t){(e.affectsConfiguration(`${wr}.advanced`)||e.affectsConfiguration(`${aj}.uri`))&&TC(t,qx())}o(lj,"onDidChangeConfigurationHandler");var Ule=["read:user"],Ble=["read:user","user:email","repo","workflow"];function dE(){return qu.workspace.getConfiguration(wr).get("advanced")?.authProvider==="github-enterprise"?"github-enterprise":"github"}o(dE,"authProviderId");function jle(){return qu.workspace.getConfiguration(wr).get("advanced")?.authPermissions==="minimal"}o(jle,"isAuthMinimalMode");async function cj(e){let t=qx(),r=dE(),n={silent:!0};e.forceNewSession&&(n=e);let i;try{jle()||(i=await qu.authentication.getSession(r,Ble,n),i??=await qu.authentication.getSession(r,Ule,n)),i??=await qu.authentication.getSession(r,oj,e)}catch(s){throw typeof s=="string"?new t0({reason:"NotSignedIn",message:s}):s instanceof Error&&s.message==="Cancelled"?new t0({reason:"NotSignedIn",message:s.message}):s}if(i)return{accessToken:i.accessToken,account:i.account,...Bm({serverUrl:t})}}o(cj,"getSessionHelper");async function Wx(){return await cj({createIfNone:!1})}o(Wx,"getExistingSession");async function uj(){return cj({createIfNone:!0})}o(uj,"getOrCreateSession");function fj(e){return Wu.authentication.onDidChangeSessions(async t=>{if(t.provider.id!==dE())return;let r=e.get(Wr);r.resetToken(),await r.primeToken()})}o(fj,"registerAuthentication");async function dj(e){nj(e,"command"),ij(e,"command","editorAuth"),await uj(),await e.get(Wr).primeToken()}o(dj,"signInCommand");var Gx=class extends _3{constructor(){super(...arguments);this.everActivated=!1;this.shown401Message=!1}static{o(this,"VSCodeCopilotTokenManager")}async getGitHubSession(){return await Wx()}async getToken(){try{let r=await super.getToken();return this.everActivated=!0,Wu.commands.executeCommand("setContext","github.copilot.activated",!0),r}catch(r){if(Wu.commands.executeCommand("setContext","github.copilot.activated",!1),r instanceof t0&&r.result.reason==="HTTP401"){let n="Your GitHub token is invalid. Please sign out from your GitHub account using the Visual Studio Code UI and try again.";this.everActivated&&!this.shown401Message&&(this.shown401Message=!0,Wu.window.showWarningMessage(n))}throw r}}};var Hx="codereferencing.showOutputPane",mj="code-referencing";var fg=new Ct(mj);var vE=require("vscode");var $le=/^[1-6][0-9][0-9]$/,qle=/([A-Z][a-z]+)/,Wle="code_referencing",dg=class{constructor(t){this.baseKey=t}static{o(this,"CodeQuoteTelemetry")}buildKey(...t){return[Wle,this.baseKey,...t].join(".")}},mE=class extends dg{static{o(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:t}){let r=this.buildKey("open","count"),n=Qe.createAndMarkAsIssued();Se(t,r,n)}handleFocus({context:t}){let r=Qe.createAndMarkAsIssued(),n=this.buildKey("focus","count");Se(t,n,r)}handleWrite({context:t}){let r=Qe.createAndMarkAsIssued(),n=this.buildKey("write","count");Se(t,n,r)}},mg=new mE,pE=class extends dg{static{o(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:t,actor:r}){let n=Qe.createAndMarkAsIssued({actor:r}),i=this.buildKey("acknowledge","count");Se(t,i,n)}handleDismiss({context:t,actor:r}){let n=Qe.createAndMarkAsIssued({actor:r}),i=this.buildKey("ignore","count");Se(t,i,n)}},hE=new pE,gE=class extends dg{static{o(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:t,origin:r,reason:n}){let i=Qe.createAndMarkAsIssued({origin:r,reason:n});R0(t,this.buildKey("unexpectedError"),i)}handleCompletionMissing({context:t,origin:r,reason:n}){let i=Qe.createAndMarkAsIssued({origin:r,reason:n});R0(t,this.buildKey("completionMissing"),i)}handleSnippyNetworkError({context:t,origin:r,reason:n,message:i}){if(!r.match($le)){fg.debug(t,"Invalid status code, not sending telemetry",{origin:r});return}let s=n.split(qle).filter(l=>!!l).join("_").toLowerCase(),a=Qe.createAndMarkAsIssued({message:i});R0(t,this.buildKey(s,r),a)}},fnt=new gE;var yE=require("vscode");var pj=require("vscode");var _E="GitHub Copilot Log (Code References)";function Gle(){let e=o(n=>n<10?`0${n}`:n,"toTwoDigits"),t=o(n=>n<10?`00${n}`:n<100?`0${n}`:n,"toThreeDigits"),r=new Date;return`${r.getFullYear()}-${e(r.getMonth()+1)}-${e(r.getDate())} ${e(r.getHours())}:${e(r.getMinutes())}:${e(r.getSeconds())}.${t(r.getMilliseconds())}`}o(Gle,"getCurrentTimestamp");var xE=class{constructor(t){this.output=t}static{o(this,"CodeReferenceOutputChannel")}info(...t){this.output.appendLine(`${Gle()} [info] ${t.join(" ")}`)}show(t){this.output.show(t)}dispose(){this.output.dispose()}},zx=class e{constructor(t){this.checkCopilotToken=o(t=>{t.envelope.code_quote_enabled?this.output=this.createChannel():this.output?.dispose()},"checkCopilotToken");this.#e=zr(t,r=>this.checkCopilotToken(r)),this.output=this.createChannel()}static{o(this,"GitHubCopilotLogger")}#e;static create(t){return new e(t)}createChannel(){return this.output?this.output:new xE(pj.window.createOutputChannel(_E,"code-referencing"))}log(t,...r){this.output||(this.output=this.createChannel());let[n,...i]=r;this.output[t](n,...i)}info(...t){this.log("info",...t)}forceShow(){this.output?.show(!0)}dispose(){this.output?.dispose(),this.#e.dispose()}};var bE=class{constructor(t){this.ctx=t;this.activeLog=!1;this.subscriptions=[];this.onActiveEditorChange=o(t=>{this.isOutputLog(t)&&mg.handleFocus({context:this.ctx})},"onActiveEditorChange");this.onVisibleEditorsChange=o(t=>{let r=t.find(this.isOutputLog);this.activeLog?r||(this.activeLog=!1):r&&(this.activeLog=!0,mg.handleOpen({context:this.ctx}))},"onVisibleEditorsChange");this.isOutputLog=o(t=>t&&t.document.uri.scheme==="output"&&t.document.uri.path.includes(_E),"isOutputLog")}static{o(this,"CodeRefEngagementTracker")}register(){let t=yE.window.onDidChangeActiveTextEditor(this.onActiveEditorChange),r=yE.window.onDidChangeVisibleTextEditors(this.onVisibleEditorsChange);this.subscriptions.push(r),this.subscriptions.push(t)}dispose(){for(let t of this.subscriptions)t.dispose();this.subscriptions=[]}get logVisible(){return this.activeLog}};function gj(e){let t=new bE(e);return t.register(),t}o(gj,"registerCodeRefEngagementTracker");var Vx=class{constructor(t){this.ctx=t;this.enabled=!1;this.onCopilotToken=o(t=>{if(this.enabled=t.envelope.code_quote_enabled||!1,!t.envelope.code_quote_enabled){this.subscriptions?.dispose(),this.subscriptions=void 0,fg.debug(this.ctx,"Public code references are disabled.");return}fg.info(this.ctx,"Public code references are enabled."),this.addDisposable(gj(this.ctx))},"onCopilotToken")}static{o(this,"CodeReference")}dispose(){this.subscriptions?.dispose(),this.event?.dispose()}register(){return u0(this.ctx)||(this.event=zr(this.ctx,this.onCopilotToken)),this}addDisposable(t){this.subscriptions?this.subscriptions=vE.Disposable.from(this.subscriptions,t):this.subscriptions=vE.Disposable.from(t)}};var bj=require("vscode");var d1=require("vscode");var Pi=class{constructor(t){this.context=t}static{o(this,"Extension")}addSubscription(...t){this.context.subscriptions.push(...t)}};var Hle="We found a reference to public code in a recent suggestion. To learn more about public code references, review the [documentation](https://aka.ms/github-copilot-match-public-code).",hj="View reference",xj="Change setting",_j="codeReference.notified";function yj(e){let t=e.get(Pi);if(t.context.globalState.get(_j))return;let n=e.get(Ai),i=[{title:hj},{title:xj}];return n.showWarningMessage(Hle,...i).then(async s=>{let a={context:e,actor:"user"};switch(s?.title){case hj:{hE.handleDoAction(a),await d1.commands.executeCommand(Hx);break}case xj:{await d1.env.openExternal(d1.Uri.parse("https://aka.ms/github-copilot-settings"));break}case void 0:{hE.handleDismiss(a);break}}}),t.context.globalState.update(_j,!0)}o(yj,"notify");var Kx=class extends Zl{constructor(r){super();this.codeReference=r;let n=zr(r.ctx,i=>{if(this.logger)return;this.logger=zx.create(r.ctx);let s=bj.commands.registerCommand(Hx,()=>this.logger?.forceShow());this.codeReference.addDisposable(s)});this.codeReference.addDisposable(n)}static{o(this,"LoggingCitationManager")}async handleIPCodeCitation(r,n){if(!this.codeReference.enabled||!this.logger||n.details.length===0)return;let i=n.location?.start,s=i?`[Ln ${i.line+1}, Col ${i.character+1}]`:"Location not available",a=`${n.matchingText?.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`;this.logger.info(n.inDocumentUri,"Similar code at ",s,a);for(let l of n.details){let{license:c,url:u}=l;this.logger.info(`License: ${c.replace("NOASSERTION","unknown")}, URL: ${u}`)}mg.handleWrite({context:r}),await yj(r)}};var Wt=Bt(require("vscode"));var vj=new Ct("extensionConfig"),Yx=class extends sa{static{o(this,"VSCodeConfigProvider")}constructor(){super(),this.config=Wt.workspace.getConfiguration(wr),Wt.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(wr)&&(this.config=Wt.workspace.getConfiguration(wr))})}getConfig(t){return g7(this.config,t)??oD(t)}getOptionalConfig(t){return g7(this.config,t)??sD(t)}dumpForTelemetry(){return{}}},zle=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]),Xx=class extends lr{static{o(this,"VSCodeEditorInfo")}getEditorInfo(){let t=Wt.env.uriScheme;Wt.version.endsWith("-insider")&&(t=t.replace(/-insiders$/,""));let r=Wt.env.remoteName;return r&&(t+=`@${zle.has(r)?r:"other"}`),{name:"vscode",devName:t,version:Wt.version,root:Wt.env.appRoot}}getEditorPluginInfo(){return{name:"copilot",version:Nc.version}}getRelatedPluginInfo(){return["ms-vscode.cpptools","ms-vscode.cmake-tools","ms-vscode.makefile-tools","ms-dotnettools.csdevkit","ms-python.python","ms-python.vscode-pylance","vscjava.vscode-java-pack","vscode.typescript-language-features","ms-vscode.vscode-typescript-next","ms-dotnettools.csharp"].map(t=>{let r=Wt.extensions.getExtension(t)?.packageJSON;if(r&&typeof r=="object"&&"version"in r&&typeof r.version=="string")return{name:t,version:r.version}}).filter(t=>t!==void 0)}};function TE(e){return{"*":!0,...e.get(sa).getConfig(be.Enable)??{}}}o(TE,"getEnabledConfigObject");function Vle(e,t){let r=TE(e);return r[t]??r["*"]??!0}o(Vle,"getEnabledConfig");function fc(e){let t=Wt.window.activeTextEditor;if(t)return Kle(e,t.document)}o(fc,"isCompletionEnabled");function Kle(e,t){return Vle(e,t.languageId)}o(Kle,"isCompletionEnabledForDocument");function m1(){return Wt.workspace.getConfiguration("editor.inlineSuggest").get("enabled")}o(m1,"isInlineSuggestEnabled");var Yle=[["workspaceFolderLanguageValue",Wt.ConfigurationTarget.WorkspaceFolder,!0],["workspaceFolderValue",Wt.ConfigurationTarget.WorkspaceFolder,!1],["workspaceLanguageValue",Wt.ConfigurationTarget.Workspace,!0],["workspaceValue",Wt.ConfigurationTarget.Workspace,!1],["globalLanguageValue",Wt.ConfigurationTarget.Global,!0],["globalValue",Wt.ConfigurationTarget.Global,!1]];function Tj(){let e=Wt.workspace.getConfiguration(wr).inspect(be.Enable);return e?.workspaceFolderValue!==void 0?Wt.ConfigurationTarget.WorkspaceFolder:e?.workspaceValue!==void 0?Wt.ConfigurationTarget.Workspace:Wt.ConfigurationTarget.Global}o(Tj,"getConfigurationTargetForEnabledConfig");async function EE(e){let t=Wt.window.activeTextEditor?.document;for(let[s,a]of[["","editor.inlineSuggest.enabled"],[wr,be.EnableAutoCompletions]]){let l=Wt.workspace.getConfiguration(s,t),c=l.inspect(a);for(let[u,f,d]of Yle){if(Wt.workspace.getConfiguration(s,t).get(a))break;c?.[u]===!1&&await l.update(a,!0,f,d)}}let r=Wt.window.activeTextEditor?.document.languageId;if(!r)return;let n=Wt.workspace.getConfiguration(wr),i={...TE(e)};if(r in i?i[r]=!0:i["*"]=!0,await n.update(be.Enable,i,Tj()),!fc(e)){let s=Wt.workspace.getConfiguration(wr).inspect(be.Enable),a=new Error(`Failed to enable completions for ${r}: ${JSON.stringify(s)}`);vj.exception(e,a,".enable")}}o(EE,"enableCompletions");async function IE(e){let t=Wt.window.activeTextEditor?.document.languageId;if(!t)return;let r=Wt.workspace.getConfiguration(wr),n={...TE(e)};if(t in n?n[t]&&(n[t]=!1):n["*"]=!1,await r.update(be.Enable,n,Tj()),fc(e)){let i=Wt.workspace.getConfiguration(wr).inspect(be.Enable),s=new Error(`Failed to disable completions for ${t}: ${JSON.stringify(i)}`);vj.exception(e,s,".disable")}}o(IE,"disableCompletions");async function Ej(e){fc(e)&&m1()?await IE(e):await EE(e)}o(Ej,"toggleCompletions");var Ij="github.copilot.generate",Jx="github.copilot.completions.enable",Zx="github.copilot.completions.disable",Cj="github.copilot.completions.toggle",Qx="github.copilot.toggleStatusMenu",e8="github.copilot.sendFeedback",t8="github.copilot.openDocs",Sj="github.copilot.collectDiagnostics",r8="github.copilot.signIn",pg="github.copilot.openLogs",n8="github.copilot.openModelPicker";var i8=require("vscode");async function Pj(e,t,r){let n=i8.workspace.textDocuments.find(s=>s.uri.toString()===r.uri);return!n||(await Lu(e,r,n.getText())).status!=="valid"?0:i8.languages.match(t,n)}o(Pj,"contextProviderMatch");var Dj=require("vscode");var o8=class extends Ai{constructor(){super(...arguments);this.recentNotifications=new Map}static{o(this,"ExtensionNotificationSender")}async showWarningMessage(r,...n){return this.recentNotifications.get(r)?void 0:{title:await Dj.window.showWarningMessage(r,...n.map(a=>a.title))}}async showWarningMessageOnlyOnce(r,n,...i){if(r==="free_over_limits"||r==="not_signed_up"||this.recentNotifications.get(n))return;let a=this.showWarningMessage(n,...i),l=Lh();return this.recentNotifications.set(n,l),a}};var Bs=class{constructor(t="Normal",r,n=!1,i){this.kind=t;this.message=r;this.busy=n;this.command=i}static{o(this,"CopilotExtensionStatus")}};var dc=require("vscode");var CE=class extends Vr{static{o(this,"ExtensionFileSystem")}async readFileString(t){return typeof t!="string"&&(t=t.uri),new TextDecoder().decode(await dc.workspace.fs.readFile(dc.Uri.parse(t,!0)))}async stat(t){return typeof t!="string"&&(t=t.uri),await dc.workspace.fs.stat(dc.Uri.parse(t,!0))}async readDirectory(t){return typeof t!="string"&&(t=t.uri),await dc.workspace.fs.readDirectory(dc.Uri.parse(t,!0))}},Rj=new CE;function Aj(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),d=u.length-f.length;return l(d)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let d=" ".repeat(f);return n(l,d,p=>" ".repeat((Math.floor(p/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(Aj,"normalizeIndentCharacter");function kj(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=pi.range(pi.position(i.line,0),pi.position(i.line,i.character+u.suffixCoverage)),d="";if(s&&(u.completion=Aj(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))d=u.completion.completionText;else{let m=pi.range(f.start,i);d=n.getText(m)+u.completion.displayText}return{uuid:vi(),insertText:d,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(d=>d.index!==a);c=[u,...f]}}return c}o(kj,"completionsFromGhostTextResults");async function Jle(e,t,r,n={}){let i=0;n.selectedCompletionInfo?.text&&!n.selectedCompletionInfo.text.includes(")")&&(t=t.addSelectedCompletionInfo(n.selectedCompletionInfo),i=t.position.character-n.selectedCompletionInfo.range.end.character);let s=await tE(e,t,r,n);if(s.type!=="success")return s;let[a,l]=s.value;if(r?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:s.telemetryBlob}};let c=LB(e,t.textDocument,t.position,l),u=kj(e,a,l,t.textDocument,t.position,n.formattingOptions,c);if(u.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:s.telemetryData};let f=e.get(qe),d=(Dt(e,be.AlwaysRequestMultiline)??f.enableProgressiveReveal(s.telemetryBlob))&&U0.isSupported(t.textDocument.detectedLanguageId),p=Dt(e,be.EnableSpeculativeRequests),m=f.enableSpeculativeRequests(s.telemetryBlob);(d||(p??m))&&l!==2&&(t=t.applyEdits([{newText:u[0].insertText,range:u[0].range}]),Promise.resolve().then(()=>{tE(e,t,void 0,{isSpeculative:!0,opportunityId:n.opportunityId})}));let h=u.map(_=>{let{start:x,end:y}=_.range,b=Qt.Range.create(x,Qt.Position.create(y.line,y.character-i));return{..._,range:b}});return{...s,value:h}}o(Jle,"getInlineCompletionsResult");async function Nj(e,t,r,n,i={}){Zle(e,t,r);let s=await Jle(e,Fx(t,r),n,i);return UM(e,s)}o(Nj,"getInlineCompletions");function Zle(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});z3.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(Zle,"logCompletionLocation");var Ro=require("vscode");var qa=require("vscode");var Qle=new Set(["output","search-editor","comment"]);function gg(e,t){if(Qle.has(t.uri.scheme))return;let r;try{r=t.getText()}catch(i){if(i instanceof RangeError)return;throw i}let n=Qd({uri:t.uri.toString(),languageId:t.languageId});return Fu.create(t.uri.toString(),t.languageId,t.version,r,n)}o(gg,"wrapDoc");var s8=class extends ir{constructor(r){super(r);this.onDidFocusTextDocument=o((r,n)=>qa.window.onDidChangeActiveTextEditor(i=>{let s=i?.document.uri;s?r.call(n,{document:{uri:s.toString()}}):r.call(n,void 0)}),"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>qa.workspace.onDidChangeTextDocument(s=>{let a=gg(this.ctx,s.document);a&&r({document:a,contentChanges:s.contentChanges})},n,i),"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>qa.workspace.onDidOpenTextDocument(s=>{let a=gg(this.ctx,s)?.getText();a!==void 0&&r({document:{uri:s.uri.toString(),languageId:s.languageId,version:s.version,text:a}})},n,i),"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>qa.workspace.onDidCloseTextDocument(s=>{r({document:{uri:f0(s.uri.toString())}})},n,i),"onDidCloseTextDocument")}static{o(this,"ExtensionTextDocumentManager")}getTextDocumentsUnsafe(){let r=[];for(let n of qa.workspace.textDocuments){let i=gg(this.ctx,n);i&&r.push(i)}return r}findNotebook(r){for(let n of qa.workspace.notebookDocuments)if(n.getCells().some(i=>i.document.uri.toString()===r.uri.toString()))return{getCells:o(()=>n.getCells().map(i=>this.wrapCell(i)),"getCells"),getCellFor:o(({uri:i})=>{let s=n.getCells().find(a=>a.document.uri.toString()===i.toString());return s?this.wrapCell(s):void 0},"getCellFor")}}wrapCell(r){return{...r,get document(){return Fu.create(r.document.uri.toString(),r.document.languageId,r.document.version,r.document.getText(),r.document.languageId)}}}getWorkspaceFolders(){return qa.workspace.workspaceFolders?.map(r=>({uri:r.uri.toString(),name:r.name}))??[]}};var Fj="_github.copilot.ghostTextPostInsert",a8=class{constructor(t){this.ctx=t}static{o(this,"GhostTextProvider")}async provideInlineCompletionItems(t,r,n,i){let s=gg(this.ctx,t);if(!s)return;let a=n.requestUuid,l=Ro.window.visibleTextEditors.find(f=>f.document.uri===t.uri)?.options,c=await Nj(this.ctx,s,r,i,{isCycling:n.triggerKind===Ro.InlineCompletionTriggerKind.Invoke,selectedCompletionInfo:n.selectedCompletionInfo,formattingOptions:l,opportunityId:a});return c?{items:c.map(f=>{let{start:d,end:p}=f.range,m=new Ro.Range(d.line,d.character,p.line,p.character);return new Ro.InlineCompletionItem(f.insertText,m,{title:"Completion Accepted",command:Fj,arguments:[f]})})}:void 0}handleDidShowCompletionItem(t){let r=t.command.arguments[0];MB(this.ctx,r)}handleDidPartiallyAcceptCompletionItem(t,r){if(typeof r=="number")return;let n=t.command.arguments[0];BB(this.ctx,n,r.acceptedLength,r.kind)}handleEndOfLifetime(t,r){if(r.kind!==Ro.InlineCompletionEndOfLifeReasonKind.Rejected)return;let n=t.command?.arguments?.[0];n&&Se(this.ctx,"ghostText.dismissed",n.telemetry)}};function Oj(e){return Ro.commands.registerCommand(Fj,async r=>{UB(e,r);try{await Ro.commands.executeCommand("github.copilot.survey.signalUsage","completions")}catch{}})}o(Oj,"registerGhostTextDependencies");var l8=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?Se(t,"installed.reinstall"):Se(t,"installed.new")}handleUpgrade(t){Se(t,"installed.upgrade")}handleUninstall(t){Se(t,"uninstalled")}};var Eg=Bt(Sq());var b8=class extends l8{static{o(this,"VsCodeInstallationManager")}async isNewInstall(t){return!t.get(Pi).context.globalState.get("installedVersion")&&!await Wx()}async markInstalled(t){let r=t.get(lr).getEditorPluginInfo();await t.get(Pi).context.globalState.update("installedVersion",r.version)}wasPreviouslyInstalled(){return!1}isNewUpgrade(t){let r=t.get(lr).getEditorPluginInfo(),n=t.get(Pi).context.globalState.get("installedVersion");if(n===void 0)return!0;try{return(0,Eg.gt)((0,Eg.coerce)(r.version),(0,Eg.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}};var $s=require("vscode");var h1=require("vscode");function Yfe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Yfe,"escapeForRegExp");var Xfe=new RegExp(Yfe("".replace(/[\\/]extension[\\/]src$|[\\/]dist$/,""))+`[\\\\/]?([^:)'"\\s]*)`,"gi"),Jfe=new Set(["node_modules/diagnostic-channel/dist/src/patchRequire.js"]),v8=class{constructor(t){this.handler=t}static{o(this,"TelemetryDelegator")}sendEventData(){}sendErrorData(t){let r=!1;for(let n of(t.stack??"").matchAll(Xfe))if(!Jfe.has(n[1].replace(/\\/g,"/"))){r=!0;break}r&&this.handler(t)}};function wq(e,t,r,n){t instanceof Error&&t.name==="Canceled"||t instanceof Error&&t.name==="CodeExpectedError"||oc(e,t,r,n)}o(wq,"exception");function l0(e,t,r){let n=h1.commands.registerCommand(t,async(...i)=>{try{await r(...i)}catch(s){wq(e,s,t)}});e.get(Pi).addSubscription(n)}o(l0,"registerCommandWrapper");function Pq(e,t,r,n){t.subscriptions.push(h1.env.onDidChangeTelemetryEnabled(async i=>{await yv(e,r,i&&h1.env.isTelemetryEnabled)})),t.subscriptions.push(h1.env.createTelemetryLogger(new v8(i=>wq(e,i,"unhandlederror")))),yv(e,r,n)}o(Pq,"setupTelemetry");var Dq=new Ct("modelPicker"),Zfe=[{label:"",kind:$s.QuickPickItemKind.Separator,modelId:"separator",type:"separator",alwaysShow:!0},{modelId:"learn-more",label:"Learn more $(link-external)",description:"",alwaysShow:!0,type:"learn-more"}],x1=class{constructor(t){this._ctx=t;this.MODELS_INFO_URL="https://aka.ms/CopilotCompletionsModelPickerLearnMore"}static{o(this,"ModelPickerManager")}get models(){return this._ctx.get(rs).getGenericCompletionModels()}getDefaultModelId(){return this._ctx.get(rs).getDefaultModelId()}async setUserSelectedCompletionModel(t){return $s.workspace.getConfiguration(wr).update(be.UserSelectedCompletionModel,t??"",!0)}async handleModelSelection(t){let r=t.activeItems[0];if(r!==void 0){if(t.hide(),r.type==="learn-more"){await $s.env.openExternal($s.Uri.parse(this.MODELS_INFO_URL)),Se(this._ctx,"modelPicker.learnMoreClicked");return}await this.selectModel(r)}}async selectModel(t){W1(this._ctx)!==t.modelId&&(this._ctx.get(Ns).clear(),this._ctx.get(Do).clear());let n=t.modelId===this.getDefaultModelId()?null:t.modelId;await this.setUserSelectedCompletionModel(n),n===null?Dq.info(this._ctx,"User selected default model; setting null"):Dq.info(this._ctx,`Selected model: ${t.modelId}`),Se(this._ctx,"modelPicker.modelSelected",Qe.createAndMarkAsIssued({engineName:n??"default"}))}modelsForModelPicker(){let t=W1(this._ctx),r=this.models.map(n=>({modelId:n.modelId,label:`${n.label}${n.preview?" (Preview)":""}`,description:`(${n.modelId})`,alwaysShow:n.modelId==this.getDefaultModelId(),type:"model"}));return[t,r]}showModelPicker(){let[t,r]=this.modelsForModelPicker(),n=$s.window.createQuickPick();n.title="Change Completions Model",n.items=[...r,...Zfe],n.onDidAccept(()=>this.handleModelSelection(n));let i=t??this.getDefaultModelId(),s=n.items.find(a=>a.modelId===i);return s&&(n.activeItems=[s]),n.show(),n}registerCommands(){l0(this._ctx,n8,this.showModelPicker.bind(this))}};function Rq(e){e.get(x1).registerCommands()}o(Rq,"registerModelPickerCommands");var Xn=require("vscode");var Ig=class extends Lr{constructor(r,n,i="github.copilot.languageStatus"){super();this.ctx=r;this.outputChannel=n;this.showingMessage=!1;this.disposables=[];this.item=Xn.languages.createLanguageStatusItem(i,"*"),this.disposables.push(this.item),this.state=r.get(Bs),this.updateStatusBarIndicator(),this.disposables.push(Xn.window.onDidChangeActiveTextEditor(()=>{this.updateStatusBarIndicator()})),this.disposables.push(Xn.workspace.onDidCloseTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(Xn.workspace.onDidOpenTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(Xn.workspace.onDidChangeConfiguration(s=>{s.affectsConfiguration(wr)&&this.updateStatusBarIndicator()}))}static{o(this,"CopilotStatusBar")}didChange(r){this.state.kind=r.kind,this.state.message=r.message,this.state.command=r.command,this.updateStatusBarIndicator()}checkEnabledForLanguage(){return fc(this.ctx)??!0}updateStatusBarIndicator(){if(this.isDisposed())return;Xn.commands.executeCommand("setContext","github.copilot.completions.quotaExceeded",this.state.command?.command===Zp);let r=this.checkEnabledForLanguage();switch(Xn.commands.executeCommand("setContext","github.copilot.completions.enabled",r),this.item.command={command:Qx,title:"View Details"},this.state.kind){case"Error":this.item.severity=Xn.LanguageStatusSeverity.Error,this.item.text="$(copilot-warning) Completions",this.item.detail="Error";break;case"Warning":this.item.severity=Xn.LanguageStatusSeverity.Warning,this.item.text="$(copilot-warning) Completions",this.item.detail="Temporary issues";break;case"Inactive":this.item.severity=Xn.LanguageStatusSeverity.Information,this.item.text="$(copilot-blocked) Completions",this.item.detail="Inactive";break;case"Normal":this.item.severity=Xn.LanguageStatusSeverity.Information,m1()?r?(this.item.text="$(copilot) Completions",this.item.detail=""):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="Disabled"):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="VS Code inline suggestions disabled"),this.item.command.title="Open Menu";break}this.item.accessibilityInformation={label:"Copilot Completions"},this.state.command&&(this.item.command=this.state.command,this.item.detail=this.state.message)}setError(r,n,i=!n){super.setError(r,n),i&&this.showErrorMessage()}showErrorMessage(){if(this.showingMessage)return;this.showingMessage=!0;let r="Show Output Log",n=[r];Xn.window.showWarningMessage(this.state.message,...n).then(i=>{switch(this.showingMessage=!1,i){case r:this.outputChannel.show();break}})}dispose(){for(let r of this.disposables)r.dispose();this.disposables=[]}isDisposed(){return this.disposables.length===0}};var Hu=require("vscode");var T8=class{constructor(t){this.ctx=t;this.state=t.get(Bs)}static{o(this,"CopilotStatusBarPickMenu")}showStatusMenu(){let t=Hu.window.createQuickPick();return t.placeholder="Select an option",t.title="Configure Copilot Completions",t.items=this.collectQuickPickItems(),t.onDidAccept(()=>this.handleItemSelection(t)),t.show(),t}async handleItemSelection(t){let r=t.selectedItems[0];if(r!==void 0)if("command"in r){let n=r;await Hu.commands.executeCommand(n.command,...n.commandArgs),t.hide()}else throw new Error("Unexpected Copilot quick picker selection")}collectQuickPickItems(){return[this.newStatusItem(),this.newSeparator(),...this.collectLanguageSpecificItems(),this.newKeyboardItem(),this.newSettingsItem(),...this.collectDiagnosticsItems(),this.newOpenLogsItem(),this.newSeparator(),this.newDocsItem(),this.newForumItem(),...this.collectQuickPickSignInItems()]}collectQuickPickSignInItems(){return this.hasWarningOrErrorStatus()?[this.newSeparator(),this.newSignInItem()]:[]}collectLanguageSpecificItems(){let t=[];if(!this.hasActiveStatus())return t;let r=Hu.window.activeTextEditor;return!Tl()&&r&&t.push(this.newPanelItem()),Tl()||t.push(this.newChangeModelItem()),r&&t.push(...this.newEnableLanguageItem()),t.length&&t.push(this.newSeparator()),t}hasActiveStatus(){return["Normal"].includes(this.state.kind)}hasWarningOrErrorStatus(){return["Error","Warning"].includes(this.state.kind)}isCompletionEnabled(){return m1()&&fc(this.ctx)}newEnableLanguageItem(){let t=this.isCompletionEnabled();return t?[this.newCommandItem("Disable Completions",Zx)]:t===!1?[this.newCommandItem("Enable Completions",Jx)]:[]}newStatusItem(){let t,r="$(copilot)";switch(this.state.kind){case"Normal":t="Ready",m1()===!1?t+=" (VS Code inline suggestions disabled)":fc(this.ctx)===!1&&(t+=" (Disabled)");break;case"Inactive":t=this.state.message||"Copilot is currently inactive",r="$(copilot-blocked)";break;default:t=this.state.message||"Copilot has encountered an error",r="$(copilot-not-connected)";break}return this.newCommandItem(`${r} Status: ${t}`,pg)}newSignInItem(){return this.newCommandItem("Sign in to GitHub",r8)}newOpenLogsItem(){return this.newCommandItem("Open Logs...",pg)}collectDiagnosticsItems(){return Tl()?[]:[this.newCommandItem("Show Diagnostics...",Sj)]}newKeyboardItem(){return this.newCommandItem("$(keyboard) Edit Keyboard Shortcuts...","workbench.action.openGlobalKeybindings",["copilot"])}newSettingsItem(){return this.newCommandItem("$(settings-gear) Edit Settings...","workbench.action.openSettings",["GitHub Copilot"])}newPanelItem(){return this.newCommandItem("Open Completions Panel...",Ij)}newChangeModelItem(){return this.newCommandItem("Change Completions Model...",n8)}newForumItem(){return this.newCommandItem("$(comments-view-icon) View Copilot Forum...",e8)}newDocsItem(){return this.newCommandItem("$(remote-explorer-documentation) View Copilot Documentation...",t8)}newCommandItem(t,r,n){return new GE(t,r,n||[])}newSeparator(){return{label:"",kind:Hu.QuickPickItemKind.Separator}}},GE=class{constructor(t,r,n){this.label=t;this.command=r;this.commandArgs=n}static{o(this,"CommandQuickItem")}};var VE=ur.window.createOutputChannel("GitHub Copilot",{log:!0}),ede="userAcknowledgedStatusBarDeprecation";function tde(e,t){let r=new Ig(e,t);e.get(Pi).addSubscription(r),l0(e,Jx,async()=>{await EE(e)}),l0(e,Zx,async()=>{await IE(e)}),l0(e,Cj,async()=>{await Ej(e)}),l0(e,Zp,async()=>{try{await ur.commands.executeCommand("workbench.action.chat.openQuotaExceededDialog")}catch(n){if(!(n instanceof Error&&/not found/.test(n.message)))throw n;await ur.env.openExternal(ur.Uri.parse("https://github.com/github-copilot/signup/copilot_individual"))}}),l0(e,Qx,async()=>{e.get(Bs).kind==="Error"&&await Promise.race([e.get(Wr).primeToken(),new Promise(n=>setTimeout(n,100))]),new T8(e).showStatusMenu()}),e.set(Ig,r),e.set(Lr,r)}o(tde,"registerStatusBar");async function rde(e){let t=Qe.createAndMarkAsIssued(),r=ade(e);tde(r,VE),r.set(o0,new o0(r)),ode(r),l0(r,r8,()=>dj(r));let n=new Vx(r);r.set(Zl,new Kx(n)),e.subscriptions.push(n.register()),e.subscriptions.push(Aq(r)),Rq(r),nde(r),e.subscriptions.push(WU(r)),e.subscriptions.push(ur.window.onDidChangeActiveTextEditor(s=>s&&Df(r,s.document.uri.toString()))),e.subscriptions.push(ur.workspace.onDidChangeConfiguration(s=>lj(s,r))),e.subscriptions.push(fj(r)),r.get(Wr).primeToken().then(async s=>{Se(r,"extension.activate",t),s&&(ur.window?.activeTextEditor&&r.get(o0).evaluate(ur.window.activeTextEditor.document.uri.toString(),ur.window.activeTextEditor.document.getText(),"UPDATE"),await rB(r))}),new b8().startup(r)}o(rde,"activate");function nde(e){let t=e.get(Pi);try{t.addSubscription(Oj(e)),t.addSubscription(ide(e));let n=ur.workspace.getConfiguration().inspect("editor.inlineSuggest.enabled");(n?.globalValue===!1||n?.workspaceValue===!1)&&pt.warn(e,"editor.inlineSuggest.enabled is disabled. Enabling recommended to use Copilot.")}catch(r){H0(e,r,"registerGhostTextSupport")}}o(nde,"registerGhostTextSupport");function ide(e){let t=new a8(e);return ur.languages.registerInlineCompletionItemProvider({pattern:"**"},t,{})}o(ide,"registerInlineCompletion");function ode(e){l0(e,e8,()=>ur.env.openExternal(ur.Uri.parse("https://github.com/microsoft/vscode-copilot-release/issues"))),l0(e,t8,()=>ur.env.openExternal(ur.Uri.parse("https://docs.github.com/en/copilot/getting-started-with-github-copilot?tool=vscode"))),l0(e,pg,()=>{VE.show()})}o(ode,"registerDiagnosticCommands");var HE=class extends ua{static{o(this,"VSCodeUrlOpener")}async open(t){await ur.env.openExternal(ur.Uri.parse(t))}};function sde(e){switch(e){case ur.UIKind.Desktop:return"desktop";case ur.UIKind.Web:return"web"}return"unknown"}o(sde,"uiKindToString");function ade(e){let t=jB(new Yx);return t.set(ec,new Bx),t.set(za,za.fromEnvironment(!1,[],{})),t.set(Ya,new Ox),t.set(Ai,new o8),t.set(Hs,new $x(t)),t.set(Mn,new Lx(t)),t.set(Ju,new zE(VE)),t.set(lr,new Xx),t.set(an,new an(ur.env.sessionId,ur.env.machineId,ur.env.remoteName,sde(ur.env.uiKind))),t.set(Pi,new Pi(e)),$B(t),t.set(Bs,new Bs),t.set(Wr,new Gx(t)),t.set(ua,new HE),Pq(t,e,Nc.name,ur.env.isTelemetryEnabled),t.set(ir,new s8(t)),t.set(cc,new Mx),t.set(Vr,Rj),t.set(Bu,new Ux(t)),t.set(Si,new Si),t.set(x1,new x1(t)),t.set(Ls,JM(t,Pj)),t.set(Ba,new Ba(t)),t.set(ic,new X3),GB(t),t}o(ade,"createExtensionContext");function Aq(e){return{dispose:o(()=>{Se(e,"extension.deactivate"),e.get(po).deactivate()},"dispose")}}o(Aq,"onDeactivate");var zE=class extends Ju{constructor(r){super();this.output=r}static{o(this,"WebLogTarget")}logIt(r,n,i,...s){let a=`[${i}]`;n==1?this.output.error(a,...s):n==2?this.output.warn(a,...s):n==3?this.output.info(a,...s):n==4&&this.output.debug(a,...s)}};
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@nevware21/ts-utils/dist/es5/mod/ts-utils.js:
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@nevware21/ts-async/dist/es5/mod/ts-async.js:
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=web.js.map
