var XR=Object.defineProperty;var JR=(Ka,$r,Qt)=>$r in Ka?XR(Ka,$r,{enumerable:!0,configurable:!0,writable:!0,value:Qt}):Ka[$r]=Qt;var xt=(Ka,$r,Qt)=>JR(Ka,typeof $r!="symbol"?$r+"":$r,Qt);(()=>{var Ka={14523:(s,G,N)=>{"use strict";N.r(G),N.d(G,{AppInsightsCore:()=>x,BaseCore:()=>L,BaseTelemetryPlugin:()=>B.s,CoreUtils:()=>E.jS,DiagnosticLogger:()=>k.wq,ESPromise:()=>ie,ESPromiseScheduler:()=>j,EventHelper:()=>he.fs,EventLatency:()=>d,EventPersistence:()=>h,EventPropertyType:()=>f,EventsDiscardedReason:()=>xe.x,FullVersionString:()=>E.xE,InternalAppInsightsCore:()=>p._,InternalBaseCore:()=>W.F,LoggingSeverity:()=>S.b,MinChannelPriorty:()=>Z,NotificationManager:()=>te.h,PerfEvent:()=>m.Q6,PerfManager:()=>m.NS,ProcessTelemetryContext:()=>ae.W0,TraceLevel:()=>_,Undefined:()=>X.bA,Utils:()=>E.Aq,ValueKind:()=>c,ValueSanitizer:()=>$,Version:()=>E.Rx,_ExtendedInternalMessageId:()=>y,_InternalLogMessage:()=>k.WD,_InternalMessageId:()=>S.$,__getRegisteredEvents:()=>Ne.El,_logInternalMessage:()=>k.Oc,_throwInternal:()=>k.ZP,_warnToConsole:()=>k.OG,addEventHandler:()=>Ne.So,addEventListeners:()=>Ne.lQ,addPageHideEventListener:()=>Ne.Fc,addPageShowEventListener:()=>Ne.oS,addPageUnloadEventListener:()=>Ne.ee,areCookiesSupported:()=>ee.gi,arrForEach:()=>P.Iu,arrIndexOf:()=>P.rD,arrMap:()=>P.W$,arrReduce:()=>P.KT,attachEvent:()=>Ne.Q3,cookieAvailable:()=>ee.gi,createCookieMgr:()=>ee.xN,createEnumStyle:()=>I.Hj,createGuid:()=>E.gj,createProcessTelemetryContext:()=>ae.i8,createTraceParent:()=>ke.wk,createUniqueNamespace:()=>ce.Z,createUnloadHandlerContainer:()=>me.P,dateNow:()=>P.x3,deleteCookie:()=>E.Yj,detachEvent:()=>Ne.Ym,disableCookies:()=>E.WD,disallowsSameSiteNone:()=>ee.It,doPerf:()=>m.r2,dumpObj:()=>g.mm,eventOff:()=>Ne.ML,eventOn:()=>Ne.mB,extend:()=>E.X$,findW3cTraceParent:()=>ke.ef,formatTraceParent:()=>ke.L0,generateW3CId:()=>he.cL,getCommonSchemaMetaData:()=>E.Go,getConsole:()=>g.U5,getCookie:()=>E.Ri,getCookieValue:()=>E.UM,getCrypto:()=>g.MY,getDocument:()=>g.YE,getExceptionName:()=>P.lL,getFieldValueType:()=>E.cq,getGlobal:()=>Y.mS,getGlobalInst:()=>g.EH,getHistory:()=>g.JK,getIEVersion:()=>g.L0,getISOString:()=>P._u,getJSON:()=>g.hm,getLocation:()=>g.g$,getMsCrypto:()=>g.iN,getNavigator:()=>g.w3,getPerformance:()=>g.FJ,getSetValue:()=>P.c2,getTenantId:()=>E.EO,getTime:()=>E.WB,getWindow:()=>g.zk,hasDocument:()=>g.Wt,hasHistory:()=>g.tw,hasJSON:()=>g.Z,hasNavigator:()=>g.w9,hasOwnProperty:()=>P.mQ,hasWindow:()=>g.Vd,isArray:()=>P.cy,isArrayValid:()=>E.wJ,isBeaconsSupported:()=>g.Uf,isBoolean:()=>P.Lm,isChromium:()=>E.F2,isDate:()=>P.$P,isDocumentObjectAvailable:()=>E.g8,isError:()=>P.bJ,isFetchSupported:()=>g.R7,isFunction:()=>P.Tn,isIE:()=>g.lT,isLatency:()=>E.Hh,isNotTruthy:()=>P.wo,isNullOrUndefined:()=>P.hX,isNumber:()=>P.Et,isObject:()=>P.Gv,isReactNative:()=>g.lV,isSampledFlag:()=>ke.N7,isString:()=>P.Kg,isTruthy:()=>P.zz,isTypeof:()=>P.Ed,isUint8ArrayAvailable:()=>E.h3,isUndefined:()=>P.b0,isValidSpanId:()=>ke.wN,isValidTraceId:()=>ke.hX,isValidTraceParent:()=>ke.mJ,isValueAssigned:()=>E.yD,isValueKind:()=>E.m0,isWindowObjectAvailable:()=>E.P$,isXhrSupported:()=>g.xk,mergeEvtNamespace:()=>Ne.Hm,newGuid:()=>he.aq,newId:()=>Te.Si,normalizeJsName:()=>P.cH,objCreate:()=>Y.AQ,objDefineAccessors:()=>P.r,objForEachKey:()=>P.z,objFreeze:()=>P.N6,objKeys:()=>P.cG,objSeal:()=>P.js,openXhr:()=>E.H$,optimizeObject:()=>P.hW,parseTraceParent:()=>ke.ZI,perfNow:()=>he.UU,proxyAssign:()=>P.qz,proxyFunctionAs:()=>P.RF,proxyFunctions:()=>P.o$,random32:()=>Te.VN,randomValue:()=>Te.Z1,removeEventHandler:()=>Ne.zh,removeEventListeners:()=>Ne.Wg,removePageHideEventListener:()=>Ne.sq,removePageShowEventListener:()=>Ne.vF,removePageUnloadEventListener:()=>Ne.Ds,safeGetCookieMgr:()=>ee.um,safeGetLogger:()=>k.y0,sanitizeProperty:()=>E.TC,setCookie:()=>E.TV,setEnableEnvMocks:()=>g.cU,setProcessTelemetryTimings:()=>E.u9,setValue:()=>P.KY,strContains:()=>P.Ju,strEndsWith:()=>P.Cv,strFunction:()=>X.hW,strObject:()=>X._1,strPrototype:()=>X.vR,strStartsWith:()=>P.tG,strTrim:()=>P.EH,strUndefined:()=>X.bA,throwError:()=>P.$8,toISOString:()=>P._u,useXDomainRequest:()=>g.PV});var R=N(8747),I=N(96434),P=N(12497),S=N(83897),c=(0,I.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),d=(0,I.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),f=(0,I.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),h=(0,I.Hj)({Normal:1,Critical:2}),_=(0,I.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),y=(0,P.N6)((0,R.Im)((0,R.Im)({},S.$),(0,I.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),u=N(92457),k=N(99015),m=N(5204),g=N(44180),p=N(12235),T=N(52976),E=N(59091),D=function(U){(0,R.qU)(O,U);function O(){var oe=U.call(this)||this;return oe.pluginVersionStringArr=[],(0,u.A)(O,oe,function(ge,we){(!ge.logger||!ge.logger.queue)&&(ge.logger=new k.wq({loggingLevelConsole:1})),ge.initialize=function(ve,Pe,Le,He){(0,m.r2)(ge,function(){return"AppInsightsCore.initialize"},function(){var wt=ge.pluginVersionStringArr;if(ve){ve.endpointUrl||(ve.endpointUrl=T.S);var ze=ve.propertyStorageOverride;ze&&(!ze.getProperty||!ze.setProperty)&&(0,P.$8)("Invalid property storage override passed."),ve.channels&&(0,P.Iu)(ve.channels,function(de){de&&(0,P.Iu)(de,function(ne){if(ne.identifier&&ne.version){var se=ne.identifier+"="+ne.version;wt.push(se)}})})}ge.getWParam=function(){return typeof document!="undefined"||ve.enableWParam?0:-1},Pe&&(0,P.Iu)(Pe,function(de){if(de&&de.identifier&&de.version){var ne=de.identifier+"="+de.version;wt.push(ne)}}),ge.pluginVersionString=wt.join(";"),ge.pluginVersionStringArr=wt;try{we.initialize(ve,Pe,Le,He),ge.pollInternalLogs("InternalLog")}catch(de){var et=ge.logger,gt=(0,g.mm)(de);gt.indexOf("channels")!==-1&&(gt+=`
 - Channels must be provided through config.channels only!`),(0,k.ZP)(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+gt)}},function(){return{config:ve,extensions:Pe,logger:Le,notificationManager:He}})},ge.track=function(ve){(0,m.r2)(ge,function(){return"AppInsightsCore.track"},function(){var Pe=ve;if(Pe){Pe.timings=Pe.timings||{},Pe.timings.trackStart=(0,E.WB)(),(0,E.Hh)(Pe.latency)||(Pe.latency=1);var Le=Pe.ext=Pe.ext||{};Le.sdk=Le.sdk||{},Le.sdk.ver=E.xE;var He=Pe.baseData=Pe.baseData||{};He[T._0]=He[T._0]||{};var wt=He[T._0];wt[T.hj]=wt[T.hj]||ge.pluginVersionString||T.m5}we.track(Pe)},function(){return{item:ve}},!ve.sync)}}),oe}return O.__ieDyn=1,O}(p._);const x=D;var W=N(34082),b=function(U){(0,R.qU)(O,U);function O(){var oe=U.call(this)||this;return(0,u.A)(O,oe,function(ge,we){ge.initialize=function(ve,Pe,Le,He){ve&&!ve.endpointUrl&&(ve.endpointUrl=T.S),ge.getWParam=function(){return E.g8||ve.enableWParam?0:-1};try{we.initialize(ve,Pe,Le,He)}catch(wt){(0,k.ZP)(ge.logger,1,514,"Initialization Failed: "+(0,g.mm)(wt)+`
 - Note: Channels must be provided through config.channels only`)}},ge.track=function(ve){var Pe=ve;if(Pe){var Le=Pe.ext=Pe.ext||{};Le.sdk=Le.sdk||{},Le.sdk.ver=E.xE}we.track(Pe)}}),oe}return O.__ieDyn=1,O}(W.F);const L=b;var z=P.Tn;function K(U,O,oe){return function(ge){U[O]=ge,oe()}}var J=function(){function U(O){var oe=0,ge=null,we=[];(0,u.A)(U,this,function(wt){wt.then=function(ze,et){return new U(function(gt,de){ve(ze,et,gt,de)})},wt.catch=function(ze){return wt.then(null,ze)}});function ve(wt,ze,et,gt){we.push(function(){var de;try{oe===1?de=z(wt)?wt(ge):ge:de=z(ze)?ze(ge):ge,de instanceof U?de.then(et,gt):oe===2&&!z(ze)?gt(de):et(de)}catch(ne){gt(ne);return}}),oe!==0&&Pe()}function Pe(){if(we.length>0){var wt=we.slice();we=[],setTimeout(function(){for(var ze=0,et=wt.length;ze<et;++ze)try{wt[ze]()}catch{}},0)}}function Le(wt){oe===0&&(ge=wt,oe=1,Pe())}function He(wt){oe===0&&(ge=wt,oe=2,Pe())}(function(){if(!z(O))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{O(Le,He)}catch(ze){He(ze)}})()}return U.resolve=function(O){return O instanceof U?O:O&&z(O.then)?new U(function(oe,ge){try{O.then(oe,ge)}catch(we){ge(we)}}):new U(function(oe){oe(O)})},U.reject=function(O){return new U(function(oe,ge){ge(O)})},U.all=function(O){if(!(!O||!O.length))return new U(function(oe,ge){try{for(var we=[],ve=0,Pe=0;Pe<O.length;Pe++){var Le=O[Pe];Le&&z(Le.then)?(ve++,Le.then(K(we,Pe,function(){--ve===0&&oe(we)}),ge)):we[Pe]=Le}ve===0&&setTimeout(function(){oe(we)},0)}catch(He){ge(He)}})},U.race=function(O){return new U(function(oe,ge){if(!(!O||!O.length))try{for(var we=function(Pe){var Le=O[Pe];Le&&z(Le.then)?Le.then(oe,ge):setTimeout(function(){oe(Le)},0)},ve=0;ve<O.length;ve++)we(ve)}catch(Pe){ge(Pe)}})},U}();const ie=J;var Y=N(75148),M=6e5,V=0,C=[],l=[],w=[];function F(){return new Date().getTime()}var q=function(){function U(O,oe){var ge=0,we=(O||"<unnamed>")+"."+V;V++,(0,u.A)(U,this,function(Le){var He=null,wt=0;Le.scheduleEvent=function(et,gt,de){var ne=we+"."+wt;wt++,gt&&(ne+="-("+gt+")");var se=ne+"{"+ge+"}";ge++;var be={evt:null,tm:F(),id:se,isRunning:!1,isAborted:!1};return He?be.evt=at(be,He):be.evt=Xe(be),He=be,He.evt._schId=se,be.evt;function Me(ot){for(var ct=F(),pt=ct-M,di=ot.length,ht=0;ht<di;){var Nt=ot[ht];if(Nt&&Nt.tm<pt){var Oi=null;Nt.abort?(Oi="Aborting ["+Nt.id+"] due to Excessive runtime ("+(ct-Nt.tm)+" ms)",Nt.abort(Oi)):Oi="Removing ["+Nt.id+"] due to Excessive runtime ("+(ct-Nt.tm)+" ms)",Pe(Oi),ot.splice(ht,1),di--}else ht++}}function $e(ot,ct){var pt=!1,di=ze(C,ot);if(di||(di=ze(w,ot),pt=!0),di){di.to&&(clearTimeout(di.to),di.to=null);var ht=F()-di.tm;ct?pt?Pe("Timed out event ["+ot+"] finally complete -- "+ht+" ms"):ve("Promise ["+ot+"] Complete -- "+ht+" ms"):(w.push(di),Pe("Event ["+ot+"] Timed out and removed -- "+ht+" ms"))}else ve("Failed to remove ["+ot+"] from running queue");He&&He.id===ot&&(He=null),Me(C),Me(l),Me(w)}function Fe(ot,ct){return function(pt){return $e(ot,!0),ct&&ct(pt),pt}}function Ke(ot,ct,pt,di){ct.then(function(ht){return ht instanceof ie?(ve("Event ["+ot+"] returned a promise -- waiting"),Ke(ot,ht,pt,di),ht):Fe(ot,pt)(ht)},Fe(ot,di))}function Ut(ot,ct){var pt=ot.id;return new ie(function(di,ht){ve("Event ["+pt+"] Starting -- waited for "+(ot.wTm||"--")+" ms"),ot.isRunning=!0,ot.abort=function(Oi){ot.abort=null,ot.isAborted=!0,$e(pt,!1),ht(new Error(Oi))};var Nt=ct(pt);Nt instanceof ie?(de&&(ot.to=setTimeout(function(){$e(pt,!1),ht(new Error("Timed out after ["+de+"] ms"))},de)),Ke(pt,Nt,function(Oi){ve("Event ["+pt+"] Resolving after "+(F()-ot.tm)+" ms"),di(Oi)},ht)):(ve("Promise ["+pt+"] Auto completed as the start action did not return a promise"),di())})}function Xe(ot){var ct=F();return ot.wTm=ct-ot.tm,ot.tm=ct,ot.isAborted?ie.reject(new Error("["+ne+"] was aborted")):(C.push(ot),Ut(ot,et))}function at(ot,ct){var pt=new ie(function(di,ht){var Nt=F()-ct.tm,Oi=ct.id;ve("["+ne+"] is waiting for ["+Oi+":"+Nt+" ms] to complete before starting -- ["+l.length+"] waiting and ["+C.length+"] running"),ot.abort=function(Mt){ot.abort=null,ze(l,ne),ot.isAborted=!0,ht(new Error(Mt))},ct.evt.then(function(Mt){ze(l,ne),Xe(ot).then(di,ht)},function(Mt){ze(l,ne),Xe(ot).then(di,ht)})});return l.push(ot),pt}};function ze(et,gt){for(var de=0;de<et.length;de++)if(et[de].id===gt)return et.splice(de,1)[0];return null}});function ve(Le){var He=(0,Y.mS)();He&&He.QUnit&&console&&console.log("ESPromiseScheduler["+we+"] "+Le)}function Pe(Le){(0,k.OG)(oe,"ESPromiseScheduler["+we+"] "+Le)}}return U.incomplete=function(){return C},U.waitingToStart=function(){return l},U}();const j=q;var $=function(){function U(O){var oe=this,ge={},we=[],ve=[];O&&ve.push(O);function Pe(ze,et){var gt,de=ge[ze];if(de&&(gt=de[et]),!gt&&gt!==null){if((0,P.Kg)(ze)&&(0,P.Kg)(et))if(ve.length>0){for(var ne=0;ne<ve.length;ne++)if(ve[ne].handleField(ze,et)){gt={canHandle:!0,fieldHandler:ve[ne]};break}}else we.length===0&&(gt={canHandle:!0});if(!gt&&gt!==null){gt=null;for(var ne=0;ne<we.length;ne++)if(we[ne].handleField(ze,et)){gt={canHandle:!0,handler:we[ne],fieldHandler:null};break}}de||(de=ge[ze]={}),de[et]=gt}return gt}oe.addSanitizer=function(ze){ze&&(we.push(ze),ge={})},oe.addFieldSanitizer=function(ze){ze&&(ve.push(ze),ge={})},oe.handleField=function(ze,et){var gt=Pe(ze,et);return gt?gt.canHandle:!1},oe.value=function(ze,et,gt,de){var ne=Pe(ze,et);if(ne&&ne.canHandle){if(!ne||!ne.canHandle)return null;if(ne.handler)return ne.handler.value(ze,et,gt,de);if(!(0,P.Kg)(et)||(0,P.hX)(gt)||gt===T.m5)return null;var se=null,be=(0,E.cq)(gt);if((be&8192)===8192){var Me=be&-8193;if(se=gt,!(0,E.yD)(se.value)||Me!==1&&Me!==2&&Me!==3&&(Me&4096)!==4096)return null}else be===1||be===2||be===3||(be&4096)===4096?se=He(ze,et,gt):be===4&&(se=He(ze,et,de?JSON.stringify(gt):gt));if(se)return Le(ne,ze,et,be,se,de)}return null},oe.property=function(ze,et,gt,de){var ne=Pe(ze,et);if(!ne||!ne.canHandle||!(0,P.Kg)(et)||(0,P.hX)(gt)||!(0,E.yD)(gt.value))return null;var se=(0,E.cq)(gt.value);return se===0?null:Le(ne,ze,et,se,gt,de)};function Le(ze,et,gt,de,ne,se){if(ze.handler)return ze.handler.property(et,gt,ne,se);if(!(0,P.hX)(ne.kind)){if((de&4096)===4096||!(0,E.m0)(ne.kind))return null;ne.value=ne.value.toString()}return wt(ze.fieldHandler,et,gt,de,ne)}function He(ze,et,gt){return(0,E.yD)(gt)?{value:gt}:null}function wt(ze,et,gt,de,ne){if(ne&&ze){var se=ze.getSanitizer(et,gt,de,ne.kind,ne.propertyType);if(se)if(de===4){var be={},Me=ne.value;(0,P.z)(Me,function(Fe,Ke){var Ut=et+"."+gt;if((0,E.yD)(Ke)){var Xe=He(Ut,Fe,Ke);Xe=wt(ze,Ut,Fe,(0,E.cq)(Ke),Xe),Xe&&(be[Fe]=Xe.value)}}),ne.value=be}else{var $e={path:et,name:gt,type:de,prop:ne,sanitizer:oe};ne=se.call(oe,$e)}}return ne}}return U.getFieldType=E.cq,U}(),Z=100,te=N(54660),B=N(56489),ae=N(8997),xe=N(31590),he=N(32578),Ne=N(18413),Te=N(57679),X=N(47672),ee=N(91698),ce=N(64252),me=N(49388),ke=N(68560)},52976:(s,G,N)=>{"use strict";N.d(G,{S:()=>I,_0:()=>d,hj:()=>c,m5:()=>R});var R="",I="https://browser.events.data.microsoft.com/OneCollector/1.0/",P="pluginVersionString",S=P+"Arr",c="version",d="properties"},59091:(s,G,N)=>{"use strict";N.d(G,{Aq:()=>ae,EO:()=>b,F2:()=>he,Go:()=>J,H$:()=>Ne,Hh:()=>z,P$:()=>x,Ri:()=>V,Rx:()=>u,TC:()=>K,TV:()=>Y,UM:()=>C,WB:()=>F,WD:()=>ie,X$:()=>w,Yj:()=>M,cq:()=>B,g8:()=>D,gj:()=>l,h3:()=>L,jS:()=>xe,m0:()=>q,u9:()=>te,wJ:()=>Z,xE:()=>k,yD:()=>W});var R=N(44180),I=N(12497),P=N(91698),S=N(32578),c=N(47672),d=N(18413),f=N(57679),h=N(75148),_=N(52976),y,u="3.2.9",k="1DS-Web-JS-"+u,m="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="withCredentials",p="timeout",T=(y={},y[0]=0,y[2]=6,y[1]=1,y[3]=7,y[4098]=6,y[4097]=1,y[4099]=7,y),E=null,D=!!(0,R.YE)(),x=!!(0,R.zk)();function W(Te){return!(Te===_.m5||(0,I.hX)(Te))}function b(Te){if(Te){var X=Te.indexOf("-");if(X>-1)return Te.substring(0,X)}return _.m5}function L(){return E===null&&(E=!(0,I.b0)(Uint8Array)&&!$()&&!(0,R.lV)()),E}function z(Te){return!!(Te&&(0,I.Et)(Te)&&Te>=1&&Te<=4)}function K(Te,X,ee){if(!X&&!W(X)||typeof Te!="string")return null;var ce=typeof X;if(ce==="string"||ce==="number"||ce==="boolean"||(0,I.cy)(X))X={value:X};else if(ce==="object"&&!c.J$.call(X,"value"))X={value:ee?JSON.stringify(X):X};else if((0,I.hX)(X.value)||X.value===_.m5||!(0,I.Kg)(X.value)&&!(0,I.Et)(X.value)&&!(0,I.Lm)(X.value)&&!(0,I.cy)(X.value))return null;if((0,I.cy)(X.value)&&!Z(X.value))return null;if(!(0,I.hX)(X.kind)){if((0,I.cy)(X.value)||!q(X.kind))return null;X.value=X.value.toString()}return X}function J(Te,X,ee){var ce=-1;if(!(0,I.b0)(Te))if(X>0&&(X===32?ce=8192:X<=13&&(ce=X<<5)),j(ee))ce===-1&&(ce=0),ce|=ee;else{var me=T[B(Te)]||-1;ce!==-1&&me!==-1?ce|=me:me===6&&(ce=me)}return ce}function ie(){(0,P.um)(null).setEnabled(!1)}function Y(Te,X,ee){(0,P.gi)(null)&&(0,P.um)(null).set(Te,X,ee*86400,null,"/")}function M(Te){(0,P.gi)(null)&&(0,P.um)(null).del(Te)}function V(Te){return(0,P.gi)(null)?C((0,P.um)(null),Te):_.m5}function C(Te,X,ee){ee===void 0&&(ee=!0);var ce;return Te&&(ce=Te.get(X),ee&&ce&&decodeURIComponent&&(ce=decodeURIComponent(ce))),ce||_.m5}function l(Te){Te===void 0&&(Te="D");var X=(0,S.aq)();return Te==="B"?X="{"+X+"}":Te==="P"?X="("+X+")":Te==="N"&&(X=X.replace(/-/g,_.m5)),X}function w(Te,X,ee,ce,me){var ke={},U=!1,O=0,oe=arguments.length,ge=Object[c.vR],we=arguments;for(ge.toString.call(we[0])==="[object Boolean]"&&(U=we[0],O++);O<oe;O++){var Te=we[O];(0,I.z)(Te,function(Pe,Le){U&&Le&&(0,I.Gv)(Le)?(0,I.cy)(Le)?(ke[Pe]=ke[Pe]||[],(0,I.Iu)(Le,function(He,wt){He&&(0,I.Gv)(He)?ke[Pe][wt]=w(!0,ke[Pe][wt],He):ke[Pe][wt]=He})):ke[Pe]=w(!0,ke[Pe],Le):ke[Pe]=Le})}return ke}var F=S.UU;function q(Te){return Te===0||Te>0&&Te<=13||Te===32}function j(Te){return Te>=0&&Te<=9}function $(){var Te=(0,R.w3)();if(!(0,I.b0)(Te)&&Te.userAgent){var X=Te.userAgent.toLowerCase();if((X.indexOf("safari")>=0||X.indexOf("firefox")>=0)&&X.indexOf("chrome")<0)return!0}return!1}function Z(Te){return Te.length>0}function te(Te,X){var ee=Te;ee.timings=ee.timings||{},ee.timings.processTelemetryStart=ee.timings.processTelemetryStart||{},ee.timings.processTelemetryStart[X]=F()}function B(Te){var X=0;if(Te!=null){var ee=typeof Te;ee==="string"?X=1:ee==="number"?X=2:ee==="boolean"?X=3:ee===c._1&&(X=4,(0,I.cy)(Te)?(X=4096,Te.length>0&&(X|=B(Te[0]))):c.J$.call(Te,"value")&&(X=8192|B(Te.value)))}return X}var ae={Version:u,FullVersionString:k,strUndefined:c.bA,strObject:c._1,Undefined:c.bA,arrForEach:I.Iu,arrIndexOf:I.rD,arrMap:I.W$,arrReduce:I.KT,objKeys:I.cG,toISOString:I._u,isReactNative:R.lV,isString:I.Kg,isNumber:I.Et,isBoolean:I.Lm,isFunction:I.Tn,isArray:I.cy,isObject:I.Gv,strTrim:I.EH,isDocumentObjectAvailable:D,isWindowObjectAvailable:x,isValueAssigned:W,getTenantId:b,isBeaconsSupported:R.Uf,isUint8ArrayAvailable:L,isLatency:z,sanitizeProperty:K,getISOString:I._u,useXDomainRequest:R.PV,getCommonSchemaMetaData:J,cookieAvailable:P.gi,disallowsSameSiteNone:P.It,setCookie:Y,deleteCookie:M,getCookie:V,createGuid:l,extend:w,getTime:F,isValueKind:q,isArrayValid:Z,objDefineAccessors:I.r,addPageUnloadEventListener:d.ee,setProcessTelemetryTimings:te,addEventHandler:d.So,getFieldValueType:B,strEndsWith:I.Cv,objForEachKey:I.z},xe={_canUseCookies:void 0,isTypeof:I.Ed,isUndefined:I.b0,isNullOrUndefined:I.hX,hasOwnProperty:I.mQ,isFunction:I.Tn,isObject:I.Gv,isDate:I.$P,isArray:I.cy,isError:I.bJ,isString:I.Kg,isNumber:I.Et,isBoolean:I.Lm,toISOString:I._u,arrForEach:I.Iu,arrIndexOf:I.rD,arrMap:I.W$,arrReduce:I.KT,strTrim:I.EH,objCreate:h.AQ,objKeys:I.cG,objDefineAccessors:I.r,addEventHandler:d.So,dateNow:I.x3,isIE:R.lT,disableCookies:ie,newGuid:S.aq,perfNow:S.UU,newId:f.Si,randomValue:f.Z1,random32:f.VN,mwcRandomSeed:f.yc,mwcRandom32:f.k5,generateW3CId:S.cL};function he(){return!!(0,R.EH)("chrome")}function Ne(Te,X,ee,ce,me,ke){ce===void 0&&(ce=!1),me===void 0&&(me=!1);function U(oe,ge,we){try{oe[ge]=we}catch{}}var O=new XMLHttpRequest;return ce&&U(O,m,ce),ee&&U(O,g,ee),O.open(Te,X,!me),ee&&U(O,g,ee),!me&&ke&&U(O,p,ke),O}},28643:(s,G,N)=>{"use strict";N.r(G),N.d(G,{BE_PROFILE:()=>g,NRT_PROFILE:()=>m,PostChannel:()=>Dt,RT_PROFILE:()=>k});var R=N(8747),I=N(92457),P=N(5204),S=N(18413),c=N(64252),d=N(59091),f=N(12497),h=N(44180),_=N(31590),y=N(99015),u=N(56489),k="REAL_TIME",m="NEAR_REAL_TIME",g="BEST_EFFORT",p="",T="POST",E="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",D="drop",x="send",W="requeue",b="rspFail",L="oth",z="no-cache, no-store",K="application/x-json-stream",J="cache-control",ie="content-type",Y="kill-tokens",M="kill-duration",V="kill-duration-seconds",C="time-delta-millis",l="client-version",w="client-id",F="time-delta-to-apply-millis",q="upload-time",j="apikey",$="AuthMsaDeviceTicket",Z="AuthXToken",te="sdk-version",B="NoResponseBody",ae="msfpc",xe="trace",he="user";function Ne(At){var dt=(At.ext||{}).intweb;return dt&&(0,d.yD)(dt[ae])?dt[ae]:null}function Te(At){for(var dt=null,st=0;dt===null&&st<At.length;st++)dt=Ne(At[st]);return dt}var X=function(){function At(dt,st){var _t=st?[].concat(st):[],ei=this,Zt=Te(_t);ei.iKey=function(){return dt},ei.Msfpc=function(){return Zt||p},ei.count=function(){return _t.length},ei.events=function(){return _t},ei.addEvent=function(Lt){return Lt?(_t.push(Lt),Zt||(Zt=Ne(Lt)),!0):!1},ei.split=function(Lt,bi){var ti;if(Lt<_t.length){var ki=_t.length-Lt;(0,f.hX)(bi)||(ki=bi<ki?bi:ki),ti=_t.splice(Lt,ki),Zt=Te(_t)}return new At(dt,ti)}}return At.create=function(dt,st){return new At(dt,st)},At}(),ee=function(){function At(){var dt=!0,st=!0,_t=!0,ei="use-collector-delta",Zt=!1;(0,I.A)(At,this,function(Lt){Lt.allowRequestSending=function(){return dt},Lt.firstRequestSent=function(){_t&&(_t=!1,Zt||(dt=!1))},Lt.shouldAddClockSkewHeaders=function(){return st},Lt.getClockSkewHeaderValue=function(){return ei},Lt.setClockSkew=function(bi){Zt||(bi?(ei=bi,st=!0,Zt=!0):st=!1,dt=!0)}})}return At.__ieDyn=1,At}();const ce=ee;var me=1e3,ke=function(){function At(){var dt={};function st(_t){var ei=[];return _t&&(0,f.Iu)(_t,function(Zt){ei.push((0,f.EH)(Zt))}),ei}(0,I.A)(At,this,function(_t){_t.setKillSwitchTenants=function(ei,Zt){if(ei&&Zt)try{var Lt=st(ei.split(","));if(Zt==="this-request-only")return Lt;for(var bi=parseInt(Zt,10)*me,ti=0;ti<Lt.length;++ti)dt[Lt[ti]]=(0,f.x3)()+bi}catch{return[]}return[]},_t.isTenantKilled=function(ei){var Zt=dt,Lt=(0,f.EH)(ei);return Zt[Lt]!==void 0&&Zt[Lt]>(0,f.x3)()?!0:(delete Zt[Lt],!1)}})}return At.__ieDyn=1,At}();const U=ke;var O=N(47672),oe=.8,ge=1.2,we=3e3,ve=6e5;function Pe(At){return!(At>=300&&At<500&&At!=408&&At!=429||At==501||At==505)}function Le(At){var dt=0,st=we*oe,_t=we*ge,ei=Math.floor(Math.random()*(_t-st))+st;return dt=Math.pow(2,At)*ei,Math.min(dt,ve)}var He=20,wt=3984588,ze=65e3,et=2e6,gt=Math.min(et,ze),de="metadata",ne="f",se=/\./,be=function(){function At(dt,st,_t,ei){var Zt="data",Lt="baseData",bi="ext",ti=!!ei,ki=!0,_i=st,$i={};(0,I.A)(At,this,function(Li){Li.createPayload=function(Gt,Jt,pi,ni,oi,Si){return{apiKeys:[],payloadBlob:p,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Gt,isTeardown:Jt,isSync:pi,isBeacon:ni,sendType:Si,sendReason:oi}},Li.appendPayload=function(Gt,Jt,pi){var ni=Gt&&Jt&&!Gt.overflow;return ni&&(0,P.r2)(dt,function(){return"Serializer:appendPayload"},function(){for(var oi=Jt.events(),Si=Gt.payloadBlob,qi=Gt.numEvents,Ki=!1,Fi=[],an=[],hn=Gt.isBeacon,Vi=hn?ze:wt,mn=hn?gt:et,sn=0,tn=0;sn<oi.length;){var wi=oi[sn];if(wi){if(qi>=pi){Gt.overflow=Jt.split(sn);break}var ci=Li.getEventBlob(wi);if(ci&&ci.length<=mn){var bn=ci.length,Mr=Si.length;if(Mr+bn>Vi){Gt.overflow=Jt.split(sn);break}Si&&(Si+=`
`),Si+=ci,tn++,tn>He&&(Si.substr(0,1),tn=0),Ki=!0,qi++}else ci?Fi.push(wi):an.push(wi),oi.splice(sn,1),sn--}sn++}if(Fi&&Fi.length>0&&Gt.sizeExceed.push(X.create(Jt.iKey(),Fi)),an&&an.length>0&&Gt.failedEvts.push(X.create(Jt.iKey(),an)),Ki){Gt.batches.push(Jt),Gt.payloadBlob=Si,Gt.numEvents=qi;var wn=Jt.iKey();(0,f.rD)(Gt.apiKeys,wn)===-1&&Gt.apiKeys.push(wn)}},function(){return{payload:Gt,theBatch:{iKey:Jt.iKey(),evts:Jt.events()},max:pi}}),ni},Li.getEventBlob=function(Gt){try{return(0,P.r2)(dt,function(){return"Serializer.getEventBlob"},function(){var Jt={};Jt.name=Gt.name,Jt.time=Gt.time,Jt.ver=Gt.ver,Jt.iKey="o:"+(0,d.EO)(Gt.iKey);var pi={},ni=Gt[bi];ni&&(Jt[bi]=pi,(0,f.z)(ni,function(qi,Ki){var Fi=pi[qi]={};Pi(Ki,Fi,"ext."+qi,!0,null,null,!0)}));var oi=Jt[Zt]={};oi.baseType=Gt.baseType;var Si=oi[Lt]={};return Pi(Gt.baseData,Si,Lt,!1,[Lt],function(qi,Ki,Fi){Me(pi,qi,Ki,Fi)},ki),Pi(Gt.data,oi,Zt,!1,[],function(qi,Ki,Fi){Me(pi,qi,Ki,Fi)},ki),JSON.stringify(Jt)},function(){return{item:Gt}})}catch{return null}};function Ti(Gt,Jt){var pi=$i[Gt];return pi===void 0&&(Gt.length>=7&&(pi=(0,f.tG)(Gt,"ext.metadata")||(0,f.tG)(Gt,"ext.web")),$i[Gt]=pi),pi}function Pi(Gt,Jt,pi,ni,oi,Si,qi){(0,f.z)(Gt,function(Ki,Fi){var an=null;if(Fi||(0,d.yD)(Fi)){var hn=pi,Vi=Ki,mn=oi,sn=Jt;if(ti&&!ni&&se.test(Ki)){var tn=Ki.split("."),wi=tn.length;if(wi>1){mn&&(mn=mn.slice());for(var ci=0;ci<wi-1;ci++){var bn=tn[ci];sn=sn[bn]=sn[bn]||{},hn+="."+bn,mn&&mn.push(bn)}Vi=tn[wi-1]}}var Mr=ni&&Ti(hn,Vi);if(!Mr&&_i&&_i.handleField(hn,Vi)?an=_i.value(hn,Vi,Fi,_t):an=(0,d.TC)(Vi,Fi,_t),an){var wn=an.value;if(sn[Vi]=wn,Si&&Si(mn,Vi,an),qi&&typeof wn=="object"&&!(0,f.cy)(wn)){var or=mn;or&&(or=or.slice(),or.push(Vi)),Pi(Fi,wn,hn+"."+Vi,ni,or,Si,qi)}}}})}})}return At.__ieDyn=1,At}();function Me(At,dt,st,_t){if(_t&&At){var ei=(0,d.Go)(_t.value,_t.kind,_t.propertyType);if(ei>-1){var Zt=At[de];Zt||(Zt=At[de]={f:{}});var Lt=Zt[ne];if(Lt||(Lt=Zt[ne]={}),dt)for(var bi=0;bi<dt.length;bi++){var ti=dt[bi];Lt[ti]||(Lt[ti]={f:{}});var ki=Lt[ti][ne];ki||(ki=Lt[ti][ne]={}),Lt=ki}Lt=Lt[st]={},(0,f.cy)(_t.value)?Lt.a={t:ei}:Lt.t=ei}}}var $e,Fe="sendAttempt",Ke="&"+B+"=true",Ut=($e={},$e[1]=W,$e[100]=W,$e[200]="sent",$e[8004]=D,$e[8003]=D,$e),Xe={},at={};function ot(At,dt,st){Xe[At]=dt,st!==!1&&(at[dt]=At)}ot($,$,!1),ot(l,l),ot(w,"Client-Id"),ot(j,j),ot(F,F),ot(q,q),ot(Z,Z);function ct(At){try{return At.responseText}catch{}return p}function pt(At,dt){var st=!1;if(At&&dt){var _t=(0,f.cG)(At);if(_t&&_t.length>0)for(var ei=dt.toLowerCase(),Zt=0;Zt<_t.length;Zt++){var Lt=_t[Zt];if(Lt&&(0,f.mQ)(dt,Lt)&&Lt.toLowerCase()===ei){st=!0;break}}}return st}function di(At,dt,st,_t){dt&&st&&st.length>0&&(_t&&Xe[dt]?(At.hdrs[Xe[dt]]=st,At.useHdrs=!0):At.url+="&"+dt+"="+st)}function ht(At,dt){return dt&&((0,f.Et)(dt)?At=[dt].concat(At):(0,f.cy)(dt)&&(At=dt.concat(At))),At}var Nt=function(){function At(dt,st,_t,ei,Zt){this._responseHandlers=[];var Lt="?cors=true&"+ie.toLowerCase()+"="+K,bi=new U,ti=!1,ki=new ce,_i=!1,$i=0,Li,Ti,Pi,Gt,Jt=!0,pi=[],ni={},oi=[],Si=null,qi=!1,Ki,Fi=!1,an=!1,hn,Vi,mn,sn,tn;(0,I.A)(At,this,function(wi){var ci=!0;wi.initialize=function(qe,mt,ft,vt,Bt){var hi;Bt||(Bt={}),Lt=qe+Lt,an=(0,f.b0)(Bt.avoidOptions)?!0:!Bt.avoidOptions,Gt=mt,Ki=mt.getCookieMgr(),qi=!Gt.config.disableEventTimings;var li=!!Gt.config.enableCompoundKey;Li=ft,Ti=Li.diagLog();var Ve=Bt.valueSanitizer,nt=Bt.stringifyObjects;(0,f.b0)(Bt.enableCompoundKey)||(li=!!Bt.enableCompoundKey),hn=Bt.xhrTimeout,Vi=!!Bt.disableXhrSync,mn=!!Bt.disableFetchKeepAlive,tn=Bt.addNoResponse!==!1,_i=!(0,h.lV)(),Si=new be(Gt,Ve,nt,li),(0,f.hX)(Bt.useSendBeacon)||(_i=!!Bt.useSendBeacon);var We=vt,St=Bt.alwaysUseXhrOverride?vt:null,bt=Bt.alwaysUseXhrOverride?vt:null,qt=[3,2];if(!vt){Jt=!1;var ii=(0,h.g$)();ii&&ii.protocol&&ii.protocol.toLowerCase()==="file:"&&(ci=!1);var Mi=[];(0,h.lV)()?(Mi=[2,1],qt=[2,1,3]):Mi=[1,2,3],Mi=ht(Mi,Bt.transports),vt=bn(Mi,!1),vt||(0,y.OG)(Ti,"No available transport to send events"),We=bn(Mi,!0)}St||(qt=ht(qt,Bt.unloadTransports),St=bn(qt,!0)),sn=!Jt&&(_i&&(0,h.Uf)()||!mn&&(0,h.R7)(!0)),Pi=(hi={},hi[0]=vt,hi[1]=We||bn([1,2,3],!0),hi[2]=St||We||bn([1],!0),hi[3]=bt||bn([2,3],!0)||We||bn([1],!0),hi)};function bn(qe,mt){for(var ft=0,vt=null,Bt=0;vt==null&&Bt<qe.length;)ft=qe[Bt],ft===1?(0,h.PV)()?vt=Mr:(0,h.xk)()&&(vt=or):ft===2&&(0,h.R7)(mt)&&(!mt||mt&&!mn)?vt=wn:_i&&ft===3&&(0,h.Uf)()&&(vt=Ar),Bt++;return vt?{_transport:ft,_isSync:mt,sendPOST:vt}:null}wi._getDbgPlgTargets=function(){return[Pi[0],bi,Si,Pi]};function Mr(qe,mt,ft){var vt=new XDomainRequest;vt.open(T,qe.urlString),qe.timeout&&(vt.timeout=qe.timeout),vt.onload=function(){var Bt=ct(vt);Ln(mt,200,{},Bt),Wr(Bt)},vt.onerror=function(){Ln(mt,400,{})},vt.ontimeout=function(){Ln(mt,500,{})},vt.onprogress=function(){},ft?vt.send(qe.data):Zt.set(function(){vt.send(qe.data)},0)}function wn(qe,mt,ft){var vt,Bt=qe.urlString,hi=!1,li=!1,Ve=(vt={body:qe.data,method:T},vt[E]=!0,vt);ft&&(Ve.keepalive=!0,qe._sendReason===2&&(hi=!0,tn&&(Bt+=Ke))),ci&&(Ve.credentials="include"),qe.headers&&(0,f.cG)(qe.headers).length>0&&(Ve.headers=qe.headers),fetch(Bt,Ve).then(function(nt){var We={},St=p,bt=nt.headers;bt&&bt.forEach(function(qt,ii){We[ii]=qt}),nt.body&&nt.text().then(function(qt){St=qt}),li||(li=!0,Ln(mt,nt.status,We,St),Wr(St))}).catch(function(nt){li||(li=!0,Ln(mt,0,{}))}),hi&&!li&&(li=!0,Ln(mt,200,{})),!li&&qe.timeout>0&&Zt.set(function(){li||(li=!0,Ln(mt,500,{}))},qe.timeout)}function or(qe,mt,ft){var vt=qe.urlString;function Bt(nt,We,St){if(!nt[St]&&We&&We.getResponseHeader){var bt=We.getResponseHeader(St);bt&&(nt[St]=(0,f.EH)(bt))}return nt}function hi(nt){var We={};return nt.getAllResponseHeaders?We=Xa(nt.getAllResponseHeaders()):(We=Bt(We,nt,C),We=Bt(We,nt,M),We=Bt(We,nt,V)),We}function li(nt,We){Ln(mt,nt.status,hi(nt),We)}ft&&qe.disableXhrSync&&(ft=!1);var Ve=(0,d.H$)(T,vt,ci,!0,ft,qe.timeout);(0,f.z)(qe.headers,function(nt,We){Ve.setRequestHeader(nt,We)}),Ve.onload=function(){var nt=ct(Ve);li(Ve,nt),Wr(nt)},Ve.onerror=function(){li(Ve)},Ve.ontimeout=function(){li(Ve)},Ve.send(qe.data)}function Ln(qe,mt,ft,vt){try{qe(mt,ft,vt)}catch(Bt){(0,y.ZP)(Ti,2,518,(0,h.mm)(Bt))}}function Ar(qe,mt,ft){var vt=qe,Bt=200,hi=vt._thePayload,li=qe.urlString+(tn?Ke:p);try{var Ve=(0,h.w3)();if(!Ve.sendBeacon(li,qe.data))if(hi){var nt=[];(0,f.Iu)(hi.batches,function(We){if(nt&&We&&We.count()>0){for(var St=We.events(),bt=0;bt<St.length;bt++)if(!Ve.sendBeacon(li,Si.getEventBlob(St[bt]))){nt.push(We.split(bt));break}}else nt.push(We.split(0))}),cn(nt,8003,hi.sendType,!0)}else Bt=0}catch(We){(0,y.OG)(Ti,"Failed to send telemetry using sendBeacon API. Ex:"+(0,h.mm)(We)),Bt=0}finally{Ln(mt,Bt,{},p)}}function fr(qe){return qe===2||qe===3}function on(qe){return Fi&&fr(qe)&&(qe=2),qe}wi.addQueryStringParameter=function(qe,mt){for(var ft=0;ft<pi.length;ft++)if(pi[ft].name===qe){pi[ft].value=mt;return}pi.push({name:qe,value:mt})},wi.addHeader=function(qe,mt){ni[qe]=mt},wi.canSendRequest=function(){return ir()&&ki.allowRequestSending()},wi.sendQueuedRequests=function(qe,mt){(0,f.b0)(qe)&&(qe=0),Fi&&(qe=on(qe),mt=2),zn(oi,qe,0)&&Ir(nr(),0,!1,qe,mt||0)},wi.isCompletelyIdle=function(){return!ti&&$i===0&&oi.length===0},wi.setUnloading=function(qe){Fi=qe},wi.addBatch=function(qe){if(qe&&qe.count()>0){if(bi.isTenantKilled(qe.iKey()))return!1;oi.push(qe)}return!0},wi.teardown=function(){oi.length>0&&Ir(nr(),0,!0,2,2)},wi.pause=function(){ti=!0},wi.resume=function(){ti=!1,wi.sendQueuedRequests(0,4)},wi.sendSynchronousBatch=function(qe,mt,ft){qe&&qe.count()>0&&((0,f.hX)(mt)&&(mt=1),Fi&&(mt=on(mt),ft=2),Ir([qe],0,!1,mt,ft||0))};function ir(){return!ti&&$i<st}function nr(){var qe=oi;return oi=[],qe}function zn(qe,mt,ft){var vt=!1;return qe&&qe.length>0&&!ti&&Pi[mt]&&Si&&(vt=mt!==0||ir()&&(ft>0||ki.allowRequestSending())),vt}function Gr(qe){var mt={};return qe&&(0,f.Iu)(qe,function(ft,vt){mt[vt]={iKey:ft.iKey(),evts:ft.events()}}),mt}function Ir(qe,mt,ft,vt,Bt){if(!(!qe||qe.length===0)){if(ti){cn(qe,1,vt);return}vt=on(vt);try{var hi=qe,li=vt!==0;(0,P.r2)(Gt,function(){return"HttpManager:_sendBatches"},function(Ve){Ve&&(qe=qe.slice(0));for(var nt=[],We=null,St=(0,d.WB)(),bt=Pi[vt]||(li?Pi[1]:Pi[0]),qt=bt&&bt._transport,ii=sn&&(Fi||fr(vt)||qt===3||bt._isSync&&qt===2);zn(qe,vt,mt);){var Mi=qe.shift();Mi&&Mi.count()>0&&(bi.isTenantKilled(Mi.iKey())?nt.push(Mi):(We=We||Si.createPayload(mt,ft,li,ii,Bt,vt),Si.appendPayload(We,Mi,dt)?We.overflow!==null&&(qe=[We.overflow].concat(qe),We.overflow=null,va(We,St,(0,d.WB)(),Bt),St=(0,d.WB)(),We=null):(va(We,St,(0,d.WB)(),Bt),St=(0,d.WB)(),qe=[Mi].concat(qe),We=null)))}We&&va(We,St,(0,d.WB)(),Bt),qe.length>0&&(oi=qe.concat(oi)),cn(nt,8004,vt)},function(){return{batches:Gr(hi),retryCount:mt,isTeardown:ft,isSynchronous:li,sendReason:Bt,useSendBeacon:fr(vt),sendType:vt}},!li)}catch(Ve){(0,y.ZP)(Ti,2,48,"Unexpected Exception sending batch: "+(0,h.mm)(Ve))}}}function Vr(qe,mt){var ft={url:Lt,hdrs:{},useHdrs:!1};mt?(ft.hdrs=(0,d.X$)(ft.hdrs,ni),ft.useHdrs=(0,f.cG)(ft.hdrs).length>0):(0,f.z)(ni,function(Ve,nt){at[Ve]?di(ft,at[Ve],nt,!1):(ft.hdrs[Ve]=nt,ft.useHdrs=!0)}),di(ft,w,"NO_AUTH",mt),di(ft,l,d.xE,mt);var vt=p;(0,f.Iu)(qe.apiKeys,function(Ve){vt.length>0&&(vt+=","),vt+=Ve}),di(ft,j,vt,mt),di(ft,q,(0,f.x3)().toString(),mt);var Bt=jr(qe);if((0,d.yD)(Bt)&&(ft.url+="&ext.intweb.msfpc="+Bt),ki.shouldAddClockSkewHeaders()&&di(ft,F,ki.getClockSkewHeaderValue(),mt),Gt.getWParam){var hi=Gt.getWParam();hi>=0&&(ft.url+="&w="+hi)}for(var li=0;li<pi.length;li++)ft.url+="&"+pi[li].name+"="+pi[li].value;return ft}function hr(qe,mt,ft){qe[mt]=qe[mt]||{},qe[mt][Li.identifier]=ft}function va(qe,mt,ft,vt){if(qe&&qe.payloadBlob&&qe.payloadBlob.length>0){var Bt=!!wi.sendHook,hi=Pi[qe.sendType];!fr(qe.sendType)&&qe.isBeacon&&qe.sendReason===2&&(hi=Pi[2]||Pi[3]||hi);var li=an;(qe.isBeacon||hi._transport===3)&&(li=!1);var Ve=Vr(qe,li);li=li||Ve.useHdrs;var nt=(0,d.WB)();(0,P.r2)(Gt,function(){return"HttpManager:_doPayloadSend"},function(){for(var We=0;We<qe.batches.length;We++)for(var St=qe.batches[We],bt=St.events(),qt=0;qt<bt.length;qt++){var ii=bt[qt];if(qi){var Mi=ii.timings=ii.timings||{};hr(Mi,"sendEventStart",nt),hr(Mi,"serializationStart",mt),hr(Mi,"serializationCompleted",ft)}ii[Fe]>0?ii[Fe]++:ii[Fe]=1}cn(qe.batches,1e3+(vt||0),qe.sendType,!0);var Ci={data:qe.payloadBlob,urlString:Ve.url,headers:Ve.hdrs,_thePayload:qe,_sendReason:vt,timeout:hn,disableXhrSync:Vi,disableFetchKeepAlive:mn};li&&(pt(Ci.headers,J)||(Ci.headers[J]=z),pt(Ci.headers,ie)||(Ci.headers[ie]=K));var ln=null;hi&&(ln=function(lr){ki.firstRequestSent();var ri=function(Un,Wi){Qa(Un,Wi,qe,vt)},Pn=qe.isTeardown||qe.isSync;try{hi.sendPOST(lr,ri,Pn),wi.sendListener&&wi.sendListener(Ci,lr,Pn,qe.isBeacon)}catch(Un){(0,y.OG)(Ti,"Unexpected exception sending payload. Ex:"+(0,h.mm)(Un)),Ln(ri,0,{})}}),(0,P.r2)(Gt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(ln)if(qe.sendType===0&&$i++,Bt&&!qe.isBeacon&&hi._transport!==3){var lr={data:Ci.data,urlString:Ci.urlString,headers:(0,d.X$)({},Ci.headers),timeout:Ci.timeout,disableXhrSync:Ci.disableXhrSync,disableFetchKeepAlive:Ci.disableFetchKeepAlive},ri=!1;(0,P.r2)(Gt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{wi.sendHook(lr,function(Pn){ri=!0,!Jt&&!Pn._thePayload&&(Pn._thePayload=Pn._thePayload||Ci._thePayload,Pn._sendReason=Pn._sendReason||Ci._sendReason),ln(Pn)},qe.isSync||qe.isTeardown)}catch{ri||ln(Ci)}})}else ln(Ci)})},function(){return{thePayload:qe,serializationStart:mt,serializationCompleted:ft,sendReason:vt}},qe.isSync)}qe.sizeExceed&&qe.sizeExceed.length>0&&cn(qe.sizeExceed,8003,qe.sendType),qe.failedEvts&&qe.failedEvts.length>0&&cn(qe.failedEvts,8002,qe.sendType)}function vo(qe,mt){qi&&(0,f.Iu)(qe,function(ft){var vt=ft.timings=ft.timings||{};hr(vt,"sendEventCompleted",mt)})}function Qa(qe,mt,ft,vt){var Bt=9e3,hi=null,li=!1,Ve=!1;try{var nt=!0;if(typeof qe!==O.bA){if(mt){ki.setClockSkew(mt[C]);var We=mt[M]||mt["kill-duration-seconds"];(0,f.Iu)(bi.setKillSwitchTenants(mt[Y],We),function(bt){(0,f.Iu)(ft.batches,function(qt){if(qt.iKey()===bt){hi=hi||[];var ii=qt.split(0);ft.numEvents-=ii.count(),hi.push(ii)}})})}if(qe==200||qe==204){Bt=200;return}(!Pe(qe)||ft.numEvents<=0)&&(nt=!1),Bt=9e3+qe%1e3}if(nt){Bt=100;var St=ft.retryCnt;ft.sendType===0&&(St<_t?(li=!0,ga(function(){ft.sendType===0&&$i--,Ir(ft.batches,St+1,ft.isTeardown,Fi?2:ft.sendType,5)},Fi,Le(St))):(Ve=!0,Fi&&(Bt=8001)))}}finally{li||(ki.setClockSkew(),Sr(ft,Bt,vt,Ve)),cn(hi,8004,ft.sendType)}}function Sr(qe,mt,ft,vt){try{vt&&Li._backOffTransmission(),mt===200&&(!vt&&!qe.isSync&&Li._clearBackOff(),Ya(qe.batches)),cn(qe.batches,mt,qe.sendType,!0)}finally{qe.sendType===0&&($i--,ft!==5&&wi.sendQueuedRequests(qe.sendType,ft))}}function Ya(qe){if(qi){var mt=(0,d.WB)();(0,f.Iu)(qe,function(ft){ft&&ft.count()>0&&vo(ft.events(),mt)})}}function ga(qe,mt,ft){mt?qe():Zt.set(qe,ft)}function Xa(qe){var mt={};if((0,f.Kg)(qe)){var ft=(0,f.EH)(qe).split(/[\r\n]+/);(0,f.Iu)(ft,function(vt){if(vt){var Bt=vt.indexOf(": ");if(Bt!==-1){var hi=(0,f.EH)(vt.substring(0,Bt)).toLowerCase(),li=(0,f.EH)(vt.substring(Bt+1));mt[hi]=li}else mt[(0,f.EH)(vt)]=1}})}return mt}function jr(qe){for(var mt=0;mt<qe.batches.length;mt++){var ft=qe.batches[mt].Msfpc();if(ft)return encodeURIComponent(ft)}return p}function Wr(qe){var mt=wi._responseHandlers;try{for(var ft=0;ft<mt.length;ft++)try{mt[ft](qe)}catch(Bt){(0,y.ZP)(Ti,1,519,"Response handler failed: "+Bt)}if(qe){var vt=JSON.parse(qe);(0,d.yD)(vt.webResult)&&(0,d.yD)(vt.webResult[ae])&&Ki.set("MSFPC",vt.webResult[ae],365*86400)}}catch{}}function cn(qe,mt,ft,vt){if(qe&&qe.length>0&&ei){var Bt=ei[mr(mt)];if(Bt){var hi=ft!==0;(0,P.r2)(Gt,function(){return"HttpManager:_sendBatchesNotification"},function(){ga(function(){try{Bt.call(ei,qe,mt,hi,ft)}catch(li){(0,y.ZP)(Ti,1,74,"send request notification failed: "+li)}},vt||hi,0)},function(){return{batches:Gr(qe),reason:mt,isSync:hi,sendSync:vt,sendType:ft}},!hi)}}}function mr(qe){var mt=Ut[qe];return(0,d.yD)(mt)||(mt=L,qe>=9e3&&qe<=9999?mt=b:qe>=8e3&&qe<=8999?mt=D:qe>=1e3&&qe<=1999&&(mt=x)),mt}})}return At.__ieDyn=1,At}();function Oi(At,dt){for(var st=[],_t=2;_t<arguments.length;_t++)st[_t-2]=arguments[_t];return setTimeout(At,dt,st)}function Mt(At){clearTimeout(At)}function Ot(At,dt){return{set:At||Oi,clear:dt||Mt}}var Rn=.25,kt=500,lt=20,Tt=6,Wt=2,zt=4,Cn=2,Ie=1,Ge="eventsDiscarded",yt="overrideInstrumentationKey",it="maxEventRetryAttempts",ut="maxUnloadEventRetryAttempts",Xt="addUnloadCb",Rt=function(At){(0,R.qU)(dt,At);function dt(){var st=At.call(this)||this;st.identifier="PostChannel",st.priority=1011,st.version="3.2.9";var _t,ei=!1,Zt=[],Lt=null,bi=!1,ti=0,ki=500,_i=0,$i=1e4,Li={},Ti=k,Pi=null,Gt=null,Jt=0,pi=0,ni,oi,Si={},qi,Ki,Fi=-1,an,hn=!0,Vi=!1,mn=Tt,sn=Wt,tn,wi;return(0,I.A)(dt,st,function(ci,bn){ir(),ci._getDbgPlgTargets=function(){return[oi]},ci.initialize=function(Ve,nt,We){(0,P.r2)(nt,function(){return"PostChannel:initialize"},function(){var St=nt;bn.initialize(Ve,nt,We);try{var bt=!!nt[Xt];tn=(0,S.Hm)((0,c.Z)(ci.identifier),nt.evtNamespace&&nt.evtNamespace());var qt=ci._getTelCtx();Ve.extensionConfig[ci.identifier]=Ve.extensionConfig[ci.identifier]||{},_t=qt.getExtCfg(ci.identifier),wi=Ot(_t.setTimeoutOverride,_t.clearTimeoutOverride),hn=!_t.disableOptimizeObj&&(0,d.F2)(),Mr(St),_t.eventsLimitInMem>0&&($i=_t.eventsLimitInMem),_t.immediateEventLimit>0&&(ki=_t.immediateEventLimit),_t.autoFlushEventsLimit>0&&(qi=_t.autoFlushEventsLimit),(0,f.Et)(_t[it])&&(mn=_t[it]),(0,f.Et)(_t[ut])&&(sn=_t[ut]),li(),_t.httpXHROverride&&_t.httpXHROverride.sendPOST&&(ni=_t.httpXHROverride),(0,d.yD)(Ve.anonCookieName)&&oi.addQueryStringParameter("anoncknm",Ve.anonCookieName),oi.sendHook=_t.payloadPreprocessor,oi.sendListener=_t.payloadListener;var ii=_t.overrideEndpointUrl?_t.overrideEndpointUrl:Ve.endpointUrl;ci._notificationManager=nt.getNotifyMgr(),oi.initialize(ii,ci.core,ci,ni,_t);var Mi=Ve.disablePageUnloadEvents||[];(0,S.ee)(wn,Mi,tn),(0,S.Fc)(wn,Mi,tn),(0,S.oS)(or,Ve.disablePageShowEvents,tn)}catch(Ci){throw ci.setInitialized(!1),Ci}},function(){return{coreConfig:Ve,core:nt,extensions:We}})},ci.processTelemetry=function(Ve,nt){(0,d.u9)(Ve,ci.identifier),nt=ci._getTelCtx(nt);var We=nt.getExtCfg(ci.identifier),St=!!_t.disableTelemetry;We&&(St=St||!!We.disableTelemetry);var bt=Ve;!St&&!ei&&(_t[yt]&&(bt.iKey=_t[yt]),We&&We[yt]&&(bt.iKey=We[yt]),Ln(bt,!0),Vi?Gr(2,2):on()),ci.processNext(bt,nt)},ci._doTeardown=function(Ve,nt){Gr(2,2),ei=!0,oi.teardown(),(0,S.Ds)(null,tn),(0,S.sq)(null,tn),(0,S.vF)(null,tn),ir()};function Mr(Ve){var nt=Ve.getWParam;Ve.getWParam=function(){var We=0;return _t.ignoreMc1Ms0CookieProcessing&&(We=We|2),We|nt()}}function wn(Ve){var nt=Ve||(0,h.zk)().event;nt.type!=="beforeunload"&&(Vi=!0,oi.setUnloading(Vi)),Gr(2,2)}function or(Ve){Vi=!1,oi.setUnloading(Vi)}function Ln(Ve,nt){if(Ve.sendAttempt||(Ve.sendAttempt=0),Ve.latency||(Ve.latency=1),Ve.ext&&Ve.ext[xe]&&delete Ve.ext[xe],Ve.ext&&Ve.ext[he]&&Ve.ext[he].id&&delete Ve.ext[he].id,hn&&(d.u9,Ve.ext=(0,f.hW)(Ve.ext),Ve.baseData&&(Ve.baseData=(0,f.hW)(Ve.baseData)),Ve.data&&(Ve.data=(0,f.hW)(Ve.data))),Ve.sync){if(Jt||bi)Ve.latency=3,Ve.sync=!1;else if(oi){hn&&(Ve=(0,f.hW)(Ve)),oi.sendSynchronousBatch(X.create(Ve.iKey,[Ve]),Ve.sync===!0?1:Ve.sync,3);return}}var We=Ve.latency,St=_i,bt=$i;We===4&&(St=ti,bt=ki);var qt=!1;if(St<bt)qt=!va(Ve,nt);else{var ii=1,Mi=lt;We===4&&(ii=4,Mi=1),qt=!0,vo(Ve.iKey,Ve.latency,ii,Mi)&&(qt=!va(Ve,nt))}qt&&mr(Ge,[Ve],_.x.QueueFull)}ci.setEventQueueLimits=function(Ve,nt){$i=Ve>0?Ve:1e4,qi=nt>0?nt:0,li();var We=_i>Ve;if(!We&&Ki>0)for(var St=1;!We&&St<=3;St++){var bt=Si[St];bt&&bt.batches&&(0,f.Iu)(bt.batches,function(qt){qt&&qt.count()>=Ki&&(We=!0)})}hr(!0,We)},ci.pause=function(){zn(),bi=!0,oi.pause()},ci.resume=function(){bi=!1,oi.resume(),on()},ci.addResponseHandler=function(Ve){oi._responseHandlers.push(Ve)},ci._loadTransmitProfiles=function(Ve){Xa(),(0,f.z)(Ve,function(nt,We){var St=We.length;if(St>=2){var bt=St>2?We[2]:0;if(We.splice(0,St-2),We[1]<0&&(We[0]=-1),We[1]>0&&We[0]>0){var qt=We[0]/We[1];We[0]=Math.ceil(qt)*We[1]}bt>=0&&We[1]>=0&&bt>We[1]&&(bt=We[1]),We.push(bt),Li[nt]=We}})},ci.flush=function(Ve,nt,We){if(Ve===void 0&&(Ve=!0),!bi)if(We=We||1,Ve)Lt==null?(zn(),Sr(1,0,We),Lt=nr(function(){Lt=null,Ya(nt,We)},0)):Zt.push(nt);else{var St=zn();Ar(1,1,We),nt!=null&&nt(),St&&on()}},ci.setMsaAuthTicket=function(Ve){oi.addHeader($,Ve)},ci.hasEvents=fr,ci._setTransmitProfile=function(Ve){Ti!==Ve&&Li[Ve]!==void 0&&(zn(),Ti=Ve,on())};function Ar(Ve,nt,We){var St=Sr(Ve,nt,We);return oi.sendQueuedRequests(nt,We),St}function fr(){return _i>0}function on(){if(Fi>=0&&Sr(Fi,0,an)&&oi.sendQueuedRequests(0,an),ti>0&&!Gt&&!bi){var Ve=Li[Ti][2];Ve>=0&&(Gt=nr(function(){Gt=null,Ar(4,0,1),on()},Ve))}var nt=Li[Ti][1];!Pi&&!Lt&&nt>=0&&!bi&&(fr()?Pi=nr(function(){Pi=null,Ar(pi===0?3:1,0,1),pi++,pi%=2,on()},nt):pi=0)}ci._backOffTransmission=function(){Jt<zt&&(Jt++,zn(),on())},ci._clearBackOff=function(){Jt&&(Jt=0,zn(),on())};function ir(){_t=null,ei=!1,Zt=[],Lt=null,bi=!1,ti=0,ki=500,_i=0,$i=1e4,Li={},Ti=k,Pi=null,Gt=null,Jt=0,pi=0,ni=null,Si={},qi=void 0,Ki=0,Fi=-1,an=null,hn=!0,Vi=!1,mn=Tt,sn=Wt,tn=null,wi=Ot(),oi=new Nt(kt,Cn,Ie,{requeue:Wr,send:mt,sent:ft,drop:vt,rspFail:Bt,oth:hi},wi),jr(),Ir(),li()}function nr(Ve,nt){nt===0&&Jt&&(nt=1);var We=1e3;return Jt&&(We=Le(Jt-1)),wi.set(Ve,nt*We)}function zn(){return Pi!==null?(wi.clear(Pi),Pi=null,pi=0,!0):!1}function Gr(Ve,nt){zn(),Lt&&(wi.clear(Lt),Lt=null),bi||Ar(1,Ve,nt)}function Ir(){Si[4]={batches:[],iKeyMap:{}},Si[3]={batches:[],iKeyMap:{}},Si[2]={batches:[],iKeyMap:{}},Si[1]={batches:[],iKeyMap:{}}}function Vr(Ve,nt,We){var St=Si[nt];St||(nt=1,St=Si[nt]);var bt=St.iKeyMap[Ve];return!bt&&We&&(bt=X.create(Ve),St.batches.push(bt),St.iKeyMap[Ve]=bt),bt}function hr(Ve,nt){oi.canSendRequest()&&!Jt&&(qi>0&&_i>qi&&(nt=!0),nt&&Lt==null&&ci.flush(Ve,null,20))}function va(Ve,nt){hn&&(Ve=(0,f.hW)(Ve));var We=Ve.latency,St=Vr(Ve.iKey,We,!0);return St.addEvent(Ve)?(We!==4?(_i++,nt&&Ve.sendAttempt===0&&hr(!Ve.sync,Ki>0&&St.count()>=Ki)):ti++,!0):!1}function vo(Ve,nt,We,St){for(;We<=nt;){var bt=Vr(Ve,nt,!0);if(bt&&bt.count()>0){var qt=bt.split(0,St),ii=qt.count();if(ii>0)return We===4?ti-=ii:_i-=ii,qe(Ge,[qt],_.x.QueueFull),!0}We++}return Qa(),!1}function Qa(){for(var Ve=0,nt=0,We=function(bt){var qt=Si[bt];qt&&qt.batches&&(0,f.Iu)(qt.batches,function(ii){bt===4?Ve+=ii.count():nt+=ii.count()})},St=1;St<=4;St++)We(St);_i=nt,ti=Ve}function Sr(Ve,nt,We){var St=!1,bt=nt===0;return!bt||oi.canSendRequest()?(0,P.r2)(ci.core,function(){return"PostChannel._queueBatches"},function(){for(var qt=[],ii=4;ii>=Ve;){var Mi=Si[ii];Mi&&Mi.batches&&Mi.batches.length>0&&((0,f.Iu)(Mi.batches,function(Ci){oi.addBatch(Ci)?St=St||Ci&&Ci.count()>0:qt=qt.concat(Ci.events()),ii===4?ti-=Ci.count():_i-=Ci.count()}),Mi.batches=[],Mi.iKeyMap={}),ii--}qt.length>0&&mr(Ge,qt,_.x.KillSwitch),St&&Fi>=Ve&&(Fi=-1,an=0)},function(){return{latency:Ve,sendType:nt,sendReason:We}},!bt):(Fi=Fi>=0?Math.min(Fi,Ve):Ve,an=Math.max(an,We)),St}function Ya(Ve,nt){Ar(1,0,nt),Qa(),ga(function(){Ve&&Ve(),Zt.length>0?Lt=nr(function(){Lt=null,Ya(Zt.shift(),nt)},0):(Lt=null,on())})}function ga(Ve){oi.isCompletelyIdle()?Ve():Lt=nr(function(){Lt=null,ga(Ve)},Rn)}function Xa(){zn(),jr(),Ti=k,on()}function jr(){Li={},Li[k]=[2,1,0],Li[m]=[6,3,0],Li[g]=[18,9,0]}function Wr(Ve,nt){var We=[],St=mn;Vi&&(St=sn),(0,f.Iu)(Ve,function(bt){bt&&bt.count()>0&&(0,f.Iu)(bt.events(),function(qt){qt&&(qt.sync&&(qt.latency=4,qt.sync=!1),qt.sendAttempt<St?((0,d.u9)(qt,ci.identifier),Ln(qt,!1)):We.push(qt))})}),We.length>0&&mr(Ge,We,_.x.NonRetryableStatus),Vi&&Gr(2,2)}function cn(Ve,nt){var We=ci._notificationManager||{},St=We[Ve];if(St)try{St.apply(We,nt)}catch(bt){(0,y.ZP)(ci.diagLog(),1,74,Ve+" notification failed: "+bt)}}function mr(Ve,nt){for(var We=[],St=2;St<arguments.length;St++)We[St-2]=arguments[St];nt&&nt.length>0&&cn(Ve,[nt].concat(We))}function qe(Ve,nt){for(var We=[],St=2;St<arguments.length;St++)We[St-2]=arguments[St];nt&&nt.length>0&&(0,f.Iu)(nt,function(bt){bt&&bt.count()>0&&cn(Ve,[bt.events()].concat(We))})}function mt(Ve,nt,We){Ve&&Ve.length>0&&cn("eventsSendRequest",[nt>=1e3&&nt<=1999?nt-1e3:0,We!==!0])}function ft(Ve,nt){qe("eventsSent",Ve,nt),on()}function vt(Ve,nt){qe(Ge,Ve,nt>=8e3&&nt<=8999?nt-8e3:_.x.Unknown)}function Bt(Ve){qe(Ge,Ve,_.x.NonRetryableStatus),on()}function hi(Ve,nt){qe(Ge,Ve,_.x.Unknown),on()}function li(){!_t||!_t.disableAutoBatchFlushLimit?Ki=Math.max(kt*(Cn+1),$i/6):Ki=0}(0,f.r)(ci,"_setTimeoutOverride",function(){return wi.set},function(Ve){wi=Ot(Ve,wi.clear)}),(0,f.r)(ci,"_clearTimeoutOverride",function(){return wi.clear},function(Ve){wi=Ot(wi.set,Ve)})}),st}return dt.__ieDyn=1,dt}(u.s);const Dt=Rt},96434:(s,G,N)=>{"use strict";N.d(G,{Hj:()=>I,oP:()=>S});var R=N(12497);function I(c){var d={};return(0,R.z)(c,function(f,h){d[f]=h,d[h]=f}),(0,R.ol)(d)}function P(c){var d={};return objForEachKey(c,function(f,h){d[f]=f,d[h]=f}),deepFreeze(d)}function S(c){var d={};return(0,R.z)(c,function(f,h){d[f]=h[1],d[h[0]]=h[1]}),(0,R.ol)(d)}},31590:(s,G,N)=>{"use strict";N.d(G,{x:()=>I});var R=N(96434),I=(0,R.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(s,G,N)=>{"use strict";N.d(G,{$:()=>x,b:()=>D});var R=N(96434),I,P="Failed",S=P+"MonitorAjax",c="Track",d="Start",f="Stop",h="Event",_="AuthContext",y="Exception",u="Local",k="Session",m="Storage",g="Browser",p="Cannot",T="Buffer",E="InstrumentationKey",D=(0,R.Hj)({CRITICAL:1,WARNING:2}),x=(0,R.Hj)((I={},I[g+"DoesNotSupport"+u+m]=0,I[g+p+"Read"+u+m]=1,I[g+p+"Read"+k+m]=2,I[g+p+"Write"+u+m]=3,I[g+p+"Write"+k+m]=4,I[g+P+"RemovalFrom"+u+m]=5,I[g+P+"RemovalFrom"+k+m]=6,I[p+"SendEmptyTelemetry"]=7,I.ClientPerformanceMathError=8,I["ErrorParsingAI"+k+"Cookie"]=9,I.ErrorPVCalc=10,I[y+"WhileLoggingError"]=11,I[P+"AddingTelemetryTo"+T]=12,I[S+"Abort"]=13,I[S+"Dur"]=14,I[S+"Open"]=15,I[S+"RSC"]=16,I[S+"Send"]=17,I[S+"GetCorrelationHeader"]=18,I[P+"ToAddHandlerForOnBeforeUnload"]=19,I[P+"ToSendQueuedTelemetry"]=20,I[P+"ToReportDataLoss"]=21,I["Flush"+P]=22,I.MessageLimitPerPVExceeded=23,I.MissingRequiredFieldSpecification=24,I.NavigationTimingNotSupported=25,I.OnError=26,I[k+"RenewalDateIsZero"]=27,I.SenderNotInitialized=28,I[d+c+h+P]=29,I[f+c+h+P]=30,I[d+c+P]=31,I[f+c+P]=32,I.TelemetrySampledAndNotSent=33,I[c+h+P]=34,I[c+y+P]=35,I[c+"Metric"+P]=36,I[c+"PV"+P]=37,I[c+"PV"+P+"Calc"]=38,I[c+"Trace"+P]=39,I["Transmission"+P]=40,I[P+"ToSet"+m+T]=41,I[P+"ToRestore"+m+T]=42,I.InvalidBackendResponse=43,I[P+"ToFixDepricatedValues"]=44,I.InvalidDurationValue=45,I.TelemetryEnvelopeInvalid=46,I.CreateEnvelopeError=47,I[p+"SerializeObject"]=48,I[p+"SerializeObjectNonSerializable"]=49,I.CircularReferenceDetected=50,I["Clear"+_+P]=51,I[y+"Truncated"]=52,I.IllegalCharsInName=53,I.ItemNotInArray=54,I.MaxAjaxPerPVExceeded=55,I.MessageTruncated=56,I.NameTooLong=57,I.SampleRateOutOfRange=58,I["Set"+_+P]=59,I["Set"+_+P+"AccountName"]=60,I.StringValueTooLong=61,I.StartCalledMoreThanOnce=62,I.StopCalledWithoutStart=63,I["TelemetryInitializer"+P]=64,I.TrackArgumentsNotSpecified=65,I.UrlTooLong=66,I[k+m+T+"Full"]=67,I[p+"AccessCookie"]=68,I.IdTooLong=69,I.InvalidEvent=70,I[S+"SetRequestHeader"]=71,I["Send"+g+"InfoOnUserInit"]=72,I["Plugin"+y]=73,I["Notification"+y]=74,I.SnippetScriptLoadFailure=99,I["Invalid"+E]=100,I[p+"ParseAiBlobValue"]=101,I.InvalidContentBlob=102,I[c+"PageAction"+h+P]=103,I[P+"AddingCustomDefinedRequestContext"]=104,I["InMemory"+m+T+"Full"]=105,I[E+"Deprecation"]=106,I))},12235:(s,G,N)=>{"use strict";N.d(G,{_:()=>y});var R=N(8747),I=N(92457),P=N(60830),S=N(34082),c=N(99015),d=N(12497),f=N(1972),h=N(54660),_=N(5204),y=function(u){(0,R.qU)(k,u);function k(){var m=u.call(this)||this;return(0,I.A)(k,m,function(g,p){g[P.mE]=function(D,x,W,b){p[P.mE](D,x,W||new c.wq(D),b||new h.h(D))},g.track=function(D){(0,_.r2)(g[f.kI](),function(){return"AppInsightsCore:track"},function(){D===null&&(E(D),(0,d.$8)("Invalid telemetry item")),T(D),p.track(D)},function(){return{item:D}},!D.sync)};function T(D){(0,d.hX)(D[P.RS])&&(E(D),(0,d.$8)("telemetry name required"))}function E(D){var x=g[P.RF]();x&&x[f.Yp]([D],2)}}),m}return k.__ieDyn=1,k}(S.F)},34082:(s,G,N)=>{"use strict";N.d(G,{F:()=>w});var R=N(8747),I=N(92457),P=N(75148),S=N(60830),c=N(12497),d=N(1972),f=N(8997),h=N(33540),_=500,y="Channel has invalid priority - ";function u(F,q,j){q&&(0,c.cy)(q)&&q[S.oI]>0&&(q=q.sort(function($,Z){return $[d.Vo]-Z[d.Vo]}),(0,c.Iu)(q,function($){$[d.Vo]<_&&(0,c.$8)(y+$[S.Ju])}),F[S.y5]({queue:(0,c.N6)(q),chain:(0,f.PV)(q,j[S.GA],j)}))}function k(F,q){function j(){return(0,f.i8)(null,q[S.GA],q,null)}function $(he,Ne,Te,X){var ee=he?he[S.oI]+1:1;function ce(){ee--,ee===0&&(X&&X(),X=null)}ee>0&&(0,c.Iu)(he,function(me){if(me&&me.queue[S.oI]>0){var ke=me.chain,U=Ne[S.$o](ke);U[S.by](ce),Te(U)}else ee--}),ce()}function Z(he,Ne){var Te=Ne||{reason:0};return $(F,he,function(X){X[S.$5](Te)},function(){he[S.$5](Te)}),!0}function te(he,Ne){var Te=Ne||{reason:0,isAsync:!1};return $(F,he,function(X){X[S.$5](Te)},function(){he[S.$5](Te),ae=!1}),!0}function B(he){var Ne=null;return F&&F[S.oI]>0&&(0,c.Iu)(F,function(Te){if(Te&&Te.queue[S.oI]>0&&((0,c.Iu)(Te.queue,function(X){if(X[S.Ju]===he)return Ne=X,-1}),Ne))return-1}),Ne}var ae=!1,xe={identifier:"ChannelControllerPlugin",priority:_,initialize:function(he,Ne,Te,X){ae=!0,(0,c.Iu)(F,function(ee){ee&&ee.queue[S.oI]>0&&(0,h.pI)((0,f.i8)(ee.chain,he,Ne),Te)})},isInitialized:function(){return ae},processTelemetry:function(he,Ne){$(F,Ne||j(),function(Te){Te[S.$5](he)},function(){Ne[S.$5](he)})},update:Z,pause:function(){$(F,j(),function(he){he.iterate(function(Ne){Ne.pause&&Ne.pause()})},null)},resume:function(){$(F,j(),function(he){he.iterate(function(Ne){Ne.resume&&Ne.resume()})},null)},teardown:te,getChannel:B,flush:function(he,Ne,Te,X){var ee=1,ce=!1,me=null;X=X||5e3;function ke(){ee--,ce&&ee===0&&(me&&(clearTimeout(me),me=null),Ne&&Ne(ce),Ne=null)}return $(F,j(),function(U){U.iterate(function(O){if(O[S.EX]){ee++;var oe=!1;O[S.EX](he,function(){oe=!0,ke()},Te)||oe||(he&&me==null?me=setTimeout(function(){me=null,ke()},X):ke())}})},function(){ce=!0,ke()}),!0},_setQueue:function(he){F=he}};return xe}function m(F,q,j){var $=[];if(F&&(0,c.Iu)(F,function(te){return u($,te,j)}),q){var Z=[];(0,c.Iu)(q,function(te){te[d.Vo]>_&&Z[S.y5](te)}),u($,Z,j)}return $}var g=N(91698),p=N(64252),T=N(95331),E=N(99015),D=N(5204),x=N(56489),W=N(44180),b=function(F){(0,R.qU)(q,F);function q(){var j=F.call(this)||this;j.identifier="TelemetryInitializerPlugin",j.priority=199;var $,Z;te(),(0,I.A)(q,j,function(B,ae){B.addTelemetryInitializer=function(xe){var he={id:$++,fn:xe};Z[S.y5](he);var Ne={remove:function(){(0,c.Iu)(Z,function(Te,X){if(Te.id===he.id)return Z[S.Ic](X,1),-1})}};return Ne},B[d.qT]=function(xe,he){for(var Ne=!1,Te=Z[S.oI],X=0;X<Te;++X){var ee=Z[X];if(ee)try{if(ee.fn[S.y9](null,[xe])===!1){Ne=!0;break}}catch(ce){(0,E.ZP)(he[S.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,c.lL)(ce),{exception:(0,W.mm)(ce)},!0)}}Ne||B[S.$5](xe,he)},B[S.tn]=function(){te()}});function te(){$=0,Z=[]}return j}return q.__ieDyn=1,q}(x.s),L=N(49388),z="Plugins must provide initialize method",K="_notificationManager",J="SDK is still unloading...",ie="SDK is not initialized",Y={loggingLevelConsole:1};function M(F,q){return new D.NS(q)}function V(F,q,j){var $,Z=[],te={};return(0,c.Iu)(j,function(B){((0,c.hX)(B)||(0,c.hX)(B[S.mE]))&&(0,c.$8)(z);var ae=B[d.Vo],xe=B[S.Ju];B&&ae&&((0,c.hX)(te[ae])?te[ae]=xe:(0,E.OG)(F,"Two extensions have same priority #"+ae+" - "+te[ae]+", "+xe)),(!ae||ae<q)&&Z[S.y5](B)}),$={all:j},$[d.eT]=Z,$}function C(F,q){var j=!1;return(0,c.Iu)(q,function($){if($===F)return j=!0,-1}),j}function l(){var F;return(0,P.AQ)((F={},F[S.vR]=function(q){},F[S.TP]=function(q){},F[d.fc]=function(q){},F[d.Yp]=function(q,j){},F[d.dI]=function(q,j){},F))}var w=function(){function F(){var q,j,$,Z,te,B,ae,xe,he,Ne,Te,X,ee,ce,me,ke,U,O,oe,ge,we=0;(0,I.A)(F,this,function(ve){Pe(),ve[S.tZ]=function(){return j},ve[S.mE]=function(Fe,Ke,Ut,Xe){ce&&(0,c.$8)(J),ve[S.tZ]()&&(0,c.$8)("Core should not be initialized more than once"),q=Fe||{},ve[S.GA]=q,(0,c.hX)(Fe[S.sl])&&(0,c.$8)("Please provide instrumentation key"),Z=Xe,ve[K]=Xe,ne(),se(),be(),Ut&&(ve[S.Uw]=Ut);var at=(0,c.c2)(q,d.jy,[]);he=[],he[S.y5].apply(he,(0,R.vz)((0,R.vz)([],Ke,!1),at,!1)),X=(0,c.c2)(q,d.LZ,[]),He(null),(!ee||ee[S.oI]===0)&&(0,c.$8)("No "+d.LZ+" available"),j=!0,ve.releaseQueue()},ve.getTransmissionControls=function(){var Fe=[];return ee&&(0,c.Iu)(ee,function(Ke){Fe[S.y5](Ke.queue)}),(0,c.N6)(Fe)},ve.track=function(Fe){Fe.iKey=Fe.iKey||q[S.sl],Fe[S.fA]=Fe[S.fA]||(0,c._u)(new Date),Fe.ver=Fe.ver||"4.0",!ce&&ve[S.tZ]()?Le()[S.$5](Fe):$[S.y5](Fe)},ve[S.ps]=Le,ve[S.RF]=function(){return Z||(Z=l(),ve[K]=Z),Z},ve[S.vR]=function(Fe){Z&&Z[S.vR](Fe)},ve[S.TP]=function(Fe){Z&&Z[S.TP](Fe)},ve.getCookieMgr=function(){return ae||(ae=(0,g.xN)(q,ve[S.Uw])),ae},ve.setCookieMgr=function(Fe){ae=Fe},ve[d.kI]=function(){if(!te&&!B&&(0,c.SA)(q.enablePerfMgr)){var Fe=(0,c.SA)(q[d.Yd]);(0,c.Tn)(Fe)&&(B=Fe(ve,ve[S.RF]()))}return te||B||(0,D.Z4)()},ve.setPerfMgr=function(Fe){te=Fe},ve.eventCnt=function(){return $[S.oI]},ve.releaseQueue=function(){if(j&&$[S.oI]>0){var Fe=$;$=[],(0,c.Iu)(Fe,function(Ke){Le()[S.$5](Ke)})}},ve.pollInternalLogs=function(Fe){ke=Fe||null;var Ke=(0,c.SA)(q.diagnosticLogInterval);return(!Ke||!(Ke>0))&&(Ke=1e4),we&&clearInterval(we),we=setInterval(function(){gt()},Ke),we},ve[S.Di]=function(){we&&(clearInterval(we),we=0,gt())},(0,c.o$)(ve,function(){return me},["addTelemetryInitializer"]),ve.unload=function(Fe,Ke,Ut){var Xe;Fe===void 0&&(Fe=!0),j||(0,c.$8)(ie),ce&&(0,c.$8)(J);var at=(Xe={reason:50},Xe[S.tI]=Fe,Xe.flushComplete=!1,Xe),ot=(0,f.tS)(ze(),ve);ot[S.by](function(){Pe(),Ke&&Ke(at)},ve);function ct(pt){at.flushComplete=pt,ce=!0,O.run(ot,at),ve[S.Di](),ot[S.$5](at)}de(Fe,ct,6,Ut)||ct(!1)},ve[S.AP]=wt,ve.addPlugin=function(Fe,Ke,Ut,Xe){if(!Fe){Xe&&Xe(!1),$e(z);return}var at=wt(Fe[S.Ju]);if(at&&!Ke){Xe&&Xe(!1),$e("Plugin ["+Fe[S.Ju]+"] is already loaded!");return}var ot={reason:16};function ct(ht){he[S.y5](Fe),ot.added=[Fe],He(ot),Xe&&Xe(!0)}if(at){var pt=[at.plugin],di={reason:2,isAsync:!!Ut};et(pt,di,function(ht){ht?(ot.removed=pt,ot.reason|=32,ct(!0)):Xe&&Xe(!1)})}else ct(!1)},ve.evtNamespace=function(){return U},ve[S.EX]=de,ve.getTraceCtx=function(Fe){return ge||(ge=(0,h.u7)()),ge},ve.setTraceCtx=function(Fe){ge=Fe||null},(0,c.RF)(ve,"addUnloadCb",function(){return O},"add");function Pe(){j=!1,q=(0,c.CP)(!0,{},Y),ve[S.GA]=q,ve[S.Uw]=new E.wq(q),ve[S.H7]=[],me=new b,$=[],Z=null,te=null,B=null,ae=null,xe=null,Ne=null,he=[],Te=null,X=null,ee=null,ce=!1,ke=null,U=(0,p.Z)("AIBaseCore",!0),O=(0,L.P)(),ge=null}function Le(){return(0,f.i8)(ze(),q,ve)}function He(Fe){var Ke=V(ve[S.Uw],_,he);Ne=Ke[d.eT],xe=null;var Ut=Ke.all;if(ee=(0,c.N6)(m(X,Ut,ve)),Te){var Xe=(0,c.rD)(Ut,Te);Xe!==-1&&Ut[S.Ic](Xe,1),Xe=(0,c.rD)(Ne,Te),Xe!==-1&&Ne[S.Ic](Xe,1),Te._setQueue(ee)}else Te=k(ee,ve);Ut[S.y5](Te),Ne[S.y5](Te),ve[S.H7]=(0,h.Xc)(Ut),Te[S.mE](q,ve,Ut),(0,h.pI)(Le(),Ut),ve[S.H7]=(0,c.N6)((0,h.Xc)(Ne||[])).slice(),Fe&&Me(Fe)}function wt(Fe){var Ke,Ut=null,Xe=null;return(0,c.Iu)(ve[S.H7],function(at){if(at[S.Ju]===Fe&&at!==Te&&at!==me)return Xe=at,-1}),!Xe&&Te&&(Xe=Te.getChannel(Fe)),Xe&&(Ut=(Ke={plugin:Xe},Ke[S.kt]=function(at){(0,h.Cr)(Xe)[d.Hr]=!at},Ke.isEnabled=function(){var at=(0,h.Cr)(Xe);return!at[S.Ik]&&!at[d.Hr]},Ke.remove=function(at,ot){var ct;at===void 0&&(at=!0);var pt=[Xe],di=(ct={reason:1},ct[S.tI]=at,ct);et(pt,di,function(ht){ht&&He({reason:32,removed:pt}),ot&&ot(ht)})},Ke)),Ut}function ze(){if(!xe){var Fe=(Ne||[]).slice();(0,c.rD)(Fe,me)===-1&&Fe[S.y5](me),xe=(0,f.PV)((0,h.Xc)(Fe),q,ve)}return xe}function et(Fe,Ke,Ut){if(Fe&&Fe[S.oI]>0){var Xe=(0,f.PV)(Fe,q,ve),at=(0,f.tS)(Xe,ve);at[S.by](function(){var ot=!1,ct=[];(0,c.Iu)(he,function(di,ht){C(di,Fe)?ot=!0:ct[S.y5](di)}),he=ct;var pt=[];X&&((0,c.Iu)(X,function(di,ht){var Nt=[];(0,c.Iu)(di,function(Oi){C(Oi,Fe)?ot=!0:Nt[S.y5](Oi)}),pt[S.y5](Nt)}),X=pt),Ut&&Ut(ot)}),at[S.$5](Ke)}else Ut(!1)}function gt(){var Fe=ve[S.Uw]?ve[S.Uw].queue:[];Fe&&((0,c.Iu)(Fe,function(Ke){var Ut,Xe=(Ut={},Ut[S.RS]=ke||"InternalMessageId: "+Ke[S.JR],Ut.iKey=(0,c.SA)(q[S.sl]),Ut.time=(0,c._u)(new Date),Ut.baseType=E.WD.dataType,Ut.baseData={message:Ke[S.pM]},Ut);ve.track(Xe)}),Fe[S.oI]=0)}function de(Fe,Ke,Ut,Xe){return Te?Te[S.EX](Fe,Ke,Ut||6,Xe):(Ke&&Ke(!1),!0)}function ne(){var Fe=(0,c.SA)(q.disableDbgExt);Fe===!0&&oe&&(Z[S.TP](oe),oe=null),Z&&!oe&&Fe!==!0&&(oe=(0,T.M)(q),Z[S.vR](oe))}function se(){var Fe=(0,c.SA)(q.enablePerfMgr);!Fe&&B&&(B=null),Fe&&(0,c.c2)(q,d.Yd,M)}function be(){var Fe=(0,c.c2)(q,d.Bw,{});Fe.NotificationManager=Z}function Me(Fe){var Ke=(0,f.nU)(ze(),ve);(!ve._updateHook||ve._updateHook(Ke,Fe)!==!0)&&Ke[S.$5](Fe)}function $e(Fe){var Ke=ve[S.Uw];Ke?(0,E.ZP)(Ke,2,73,Fe):(0,c.$8)(Fe)}})}return F.__ieDyn=1,F}()},56489:(s,G,N)=>{"use strict";N.d(G,{s:()=>h});var R=N(92457),I=N(60830),P=N(12497),S=N(1972),c=N(8997),d=N(49388),f="getPlugin",h=function(){function _(){var y=this,u,k,m,g,p;D(),(0,R.A)(_,y,function(x){x[I.mE]=function(W,b,L,z){E(W,b,z),u=!0},x[I.Ik]=function(W,b){var L,z=x[S.eT];if(!z||W&&z!==W[S.eT]())return;var K,J=!1,ie=W||(0,c.tS)(null,z,m&&m[f]?m[f]():m),Y=b||(L={reason:0},L[I.tI]=!1,L);function M(){if(!J){J=!0,g.run(ie,b);var V=p;p=[],(0,P.Iu)(V,function(C){C.rm()}),K===!0&&ie[I.$5](Y),D()}}return!x[I.tn]||x[I.tn](ie,Y,M)!==!0?M():K=!0,K},x[I.HC]=function(W,b){var L=x[S.eT];if(!L||W&&L!==W[S.eT]())return;var z,K=!1,J=W||(0,c.nU)(null,L,m&&m[f]?m[f]():m),ie=b||{reason:0};function Y(){K||(K=!0,E(J.getCfg(),J.core(),J[I.uR]()))}return!x._doUpdate||x._doUpdate(J,ie,Y)!==!0?Y():z=!0,z},x._addHook=function(W){W&&((0,P.cy)(W)?p=p.concat(W):p[I.y5](W))},(0,P.RF)(x,"_addUnloadCb",function(){return g},"add")}),y[I.e4]=function(x){return T(x)[I.e4]()},y[I.tZ]=function(){return u},y.setInitialized=function(x){u=x},y[I.YH]=function(x){m=x},y[I.$5]=function(x,W){W?W[I.$5](x):m&&(0,P.Tn)(m[S.qT])&&m[S.qT](x,null)},y._getTelCtx=T;function T(x){x===void 0&&(x=null);var W=x;if(!W){var b=k||(0,c.i8)(null,{},y[S.eT]);m&&m[f]?W=b[I.$o](null,m[f]):W=b[I.$o](null,m)}return W}function E(x,W,b){x&&(0,P.KY)(x,S.Bw,[],null,P.hX),!b&&W&&(b=W[I.ps]()[I.uR]());var L=m;m&&m[f]&&(L=m[f]()),y[S.eT]=W,k=(0,c.i8)(b,x,W,L)}function D(){u=!1,y[S.eT]=null,k=null,m=null,p=[],g=(0,d.P)()}}return _.__ieDyn=1,_}()},91698:(s,G,N)=>{"use strict";N.d(G,{It:()=>F,d5:()=>W,gi:()=>Y,um:()=>J,xN:()=>ie});var R=N(60830),I=N(99015),P=N(44180),S=N(12497),c=N(1972),d="toGMTString",f="toUTCString",h="cookie",_="expires",y="enabled",u="isCookieUseDisabled",k="disableCookiesUsage",m="_ckMgr",g=null,p=null,T=null,E=(0,P.YE)(),D={},x={};function W(q,j){var $=ie[m]||x[m];return $||($=ie[m]=ie(q,j),x[m]=$),$}function b(q){return q?q.isEnabled():!0}function L(q){var j=q[R.lK]=q[R.lK]||{};if((0,S.KY)(j,"domain",q.cookieDomain,S.Gh,S.hX),(0,S.KY)(j,"path",q.cookiePath||"/",null,S.hX),(0,S.hX)(j[y])){var $=void 0;(0,S.b0)(q[u])||($=!q[u]),(0,S.b0)(q[k])||($=!q[k]),j[y]=$}return j}function z(q,j){return j&&q&&(0,S.cy)(q.ignoreCookies)?q.ignoreCookies[R.Sj](j)!==-1:!1}function K(q,j){return j&&q&&(0,S.cy)(q.blockedCookies)&&q.blockedCookies[R.Sj](j)!==-1?!0:z(q,j)}function J(q,j){var $;if(q)$=q.getCookieMgr();else if(j){var Z=j[R.lK];Z[m]?$=Z[m]:$=ie(j)}return $||($=W(j,(q||{})[R.Uw])),$}function ie(q,j){var $,Z=L(q||x),te=Z.path||"/",B=Z.domain,ae=Z[y]!==!1,xe=($={isEnabled:function(){var he=ae&&Y(j),Ne=x[m];return he&&Ne&&xe!==Ne&&(he=b(Ne)),he}},$[R.kt]=function(he){ae=he!==!1},$.set=function(he,Ne,Te,X,ee){var ce=!1;if(b(xe)&&!K(Z,he)){var me={},ke=(0,S.EH)(Ne||c.m5),U=ke[R.Sj](";");if(U!==-1&&(ke=(0,S.EH)(Ne[R.Re](0,U)),me=M(Ne[R.Re](U+1))),(0,S.KY)(me,"domain",X||B,S.zz,S.b0),!(0,S.hX)(Te)){var O=(0,P.lT)();if((0,S.b0)(me[_])){var oe=(0,S.x3)(),ge=oe+Te*1e3;if(ge>0){var we=new Date;we.setTime(ge),(0,S.KY)(me,_,V(we,O?d:f)||V(we,O?d:f)||c.m5,S.zz)}}O||(0,S.KY)(me,"max-age",c.m5+Te,null,S.b0)}var ve=(0,P.g$)();ve&&ve.protocol==="https:"&&((0,S.KY)(me,"secure",null,null,S.b0),p===null&&(p=!F(((0,P.w3)()||{})[R.tX])),p&&(0,S.KY)(me,"SameSite","None",null,S.b0)),(0,S.KY)(me,"path",ee||te,null,S.b0);var Pe=Z.setCookie||w;Pe(he,C(ke,me)),ce=!0}return ce},$.get=function(he){var Ne=c.m5;return b(xe)&&!z(Z,he)&&(Ne=(Z.getCookie||l)(he)),Ne},$.del=function(he,Ne){var Te=!1;return b(xe)&&(Te=xe.purge(he,Ne)),Te},$.purge=function(he,Ne){var Te,X=!1;if(Y(j)){var ee=(Te={},Te.path=Ne||"/",Te[_]="Thu, 01 Jan 1970 00:00:01 GMT",Te);(0,P.lT)()||(ee["max-age"]="0");var ce=Z.delCookie||w;ce(he,C(c.m5,ee)),X=!0}return X},$);return xe[m]=xe,xe}function Y(q){if(g===null){g=!1;try{var j=E||{};g=j[h]!==void 0}catch($){(0,I.ZP)(q,2,68,"Cannot access document.cookie - "+(0,S.lL)($),{exception:(0,P.mm)($)})}}return g}function M(q){var j={};if(q&&q[R.oI]){var $=(0,S.EH)(q)[R.sY](";");(0,S.Iu)($,function(Z){if(Z=(0,S.EH)(Z||c.m5),Z){var te=Z[R.Sj]("=");te===-1?j[Z]=null:j[(0,S.EH)(Z[R.Re](0,te))]=(0,S.EH)(Z[R.Re](te+1))}})}return j}function V(q,j){return(0,S.Tn)(q[j])?q[j]():null}function C(q,j){var $=q||c.m5;return(0,S.z)(j,function(Z,te){$+="; "+Z+((0,S.hX)(te)?c.m5:"="+te)}),$}function l(q){var j=c.m5;if(E){var $=E[h]||c.m5;T!==$&&(D=M($),T=$),j=(0,S.EH)(D[q]||c.m5)}return j}function w(q,j){E&&(E[h]=q+"="+j)}function F(q){return(0,S.Kg)(q)?!!((0,S.Ju)(q,"CPU iPhone OS 12")||(0,S.Ju)(q,"iPad; CPU OS 12")||(0,S.Ju)(q,"Macintosh; Intel Mac OS X 10_14")&&(0,S.Ju)(q,"Version/")&&(0,S.Ju)(q,"Safari")||(0,S.Ju)(q,"Macintosh; Intel Mac OS X 10_14")&&(0,S.Cv)(q,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,S.Ju)(q,"Chrome/5")||(0,S.Ju)(q,"Chrome/6")||(0,S.Ju)(q,"UnrealEngine")&&!(0,S.Ju)(q,"Chrome")||(0,S.Ju)(q,"UCBrowser/12")||(0,S.Ju)(q,"UCBrowser/11")):!1}},32578:(s,G,N)=>{"use strict";N.d(G,{Ri:()=>L,TV:()=>z,UU:()=>m,WD:()=>W,Yj:()=>K,aq:()=>k,cL:()=>p,fs:()=>D,ht:()=>b,jS:()=>T});var R=N(75148),I=N(60830),P=N(91698),S=N(44180),c=N(18413),d=N(12497),f=N(1972),h=N(57679),_=null,y,u=null;function k(){var J=p();return J[I.Re](0,8)+"-"+J[I.Re](8,12)+"-"+J[I.Re](12,16)+"-"+J[I.Re](16,20)+"-"+J[I.Re](20)}function m(){var J=(0,S.FJ)();return J&&J.now?J.now():(0,d.x3)()}function g(J,ie){if(J&&ie){var Y=J[_DYN_LENGTH],M=Y-ie[_DYN_LENGTH];return J[_DYN_SUBSTRING](M>=0?M:0,Y)===ie}return!1}function p(){for(var J=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ie=f.m5,Y,M=0;M<4;M++)Y=(0,h.VN)(),ie+=J[Y&15]+J[Y>>4&15]+J[Y>>8&15]+J[Y>>12&15]+J[Y>>16&15]+J[Y>>20&15]+J[Y>>24&15]+J[Y>>28&15];var V=J[8+((0,h.VN)()&3)|0];return ie[I.$4](0,8)+ie[I.$4](9,4)+"4"+ie[I.$4](13,3)+V+ie[I.$4](16,3)+ie[I.$4](19,12)}var T={_canUseCookies:void 0,isTypeof:d.Ed,isUndefined:d.b0,isNullOrUndefined:d.hX,hasOwnProperty:d.mQ,isFunction:d.Tn,isObject:d.Gv,isDate:d.$P,isArray:d.cy,isError:d.bJ,isString:d.Kg,isNumber:d.Et,isBoolean:d.Lm,toISOString:d._u,arrForEach:d.Iu,arrIndexOf:d.rD,arrMap:d.W$,arrReduce:d.KT,strTrim:d.EH,objCreate:R.AQ,objKeys:d.cG,objDefineAccessors:d.r,addEventHandler:c.So,dateNow:d.x3,isIE:S.lT,disableCookies:W,newGuid:k,perfNow:m,newId:h.Si,randomValue:h.Z1,random32:h.VN,mwcRandomSeed:h.yc,mwcRandom32:h.k5,generateW3CId:p},E=/[xy]/g,D={Attach:c.Q3,AttachEvent:c.Q3,Detach:c.Ym,DetachEvent:c.Ym};function x(J,ie){var Y=(0,P.d5)(J,ie),M=T._canUseCookies;return _===null&&(_=[],y=M,(0,d.r)(T,"_canUseCookies",function(){return y},function(V){y=V,(0,d.Iu)(_,function(C){C[I.kt](V)})})),(0,d.rD)(_,Y)===-1&&_[I.y5](Y),(0,d.Lm)(M)&&Y[I.kt](M),(0,d.Lm)(y)&&Y[I.kt](y),Y}function W(){x()[I.kt](!1)}function b(J){return x(null,J).isEnabled()}function L(J,ie){return x(null,J).get(ie)}function z(J,ie,Y,M){x(null,J).set(ie,Y,null,M)}function K(J,ie){return x(null,J).del(ie)}},64252:(s,G,N)=>{"use strict";N.d(G,{T:()=>g,Z:()=>m});var R=N(47672),I=N(60830),P=N(12497),S=N(1972),c=N(57679),d=R.KU,f="2.8.10",h="."+(0,c.Si)(6),_=0;function y(p,T,E){if(d)try{return d(p,T,{value:E,enumerable:!1,configurable:!0}),!0}catch{}return!1}function u(p){return p[I.re]===1||p[I.re]===9||!+p[I.re]}function k(p,T){var E=T[p.id];if(!E){E={};try{u(T)&&(y(T,p.id,E)||(T[p.id]=E))}catch{}}return E}function m(p,T){return T===void 0&&(T=!1),(0,P.cH)(p+_+++(T?"."+f:S.m5)+h)}function g(p){var T={id:m("_aiData-"+(p||S.m5)+"."+f),accept:function(E){return u(E)},get:function(E,D,x,W){var b=E[T.id];return b?b[(0,P.cH)(D)]:(W&&(b=k(T,E),b[(0,P.cH)(D)]=x),x)},kill:function(E,D){if(E&&E[D])try{delete E[D]}catch{}}};return T}},95331:(s,G,N)=>{"use strict";N.d(G,{$:()=>h,M:()=>_});var R=N(60830),I=N(44180),P=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],S=null,c;function d(y,u){return function(){var k=arguments,m=h(u);if(m){var g=m.listener;g&&g[y]&&g[y][R.y9](g,k)}}}function f(){var y=(0,I.EH)("Microsoft");return y&&(S=y.ApplicationInsights),S}function h(y){var u=S;return!u&&y.disableDbgExt!==!0&&(u=S||f()),u?u.ChromeDbgExt:null}function _(y){if(!c){c={};for(var u=0;u<P[R.oI];u++)c[P[u]]=d(P[u],y)}return c}},99015:(s,G,N)=>{"use strict";N.d(G,{OG:()=>E,Oc:()=>D,WD:()=>k,ZP:()=>T,wq:()=>g,y0:()=>m});var R=N(92457),I=N(60830),P=N(95331),S=N(44180),c=N(12497),d=N(1972),f="AI (Internal): ",h="AI: ",_="AITR_";function y(x){return x?'"'+x[I.W7](/\"/g,d.m5)+'"':d.m5}function u(x,W){var b=(0,S.U5)();if(b){var L="log";b[x]&&(L=x),(0,c.Tn)(b[L])&&b[L](W)}}var k=function(){function x(W,b,L,z){L===void 0&&(L=!1);var K=this;K[I.JR]=W,K[I.pM]=(L?h:f)+W;var J=d.m5;(0,S.Z)()&&(J=(0,S.hm)().stringify(z));var ie=(b?" message:"+y(b):d.m5)+(z?" props:"+y(J):d.m5);K[I.pM]+=ie}return x.dataType="MessageData",x}();function m(x,W){return(x||{})[I.Uw]||new g(W)}var g=function(){function x(W){this.identifier="DiagnosticLogger",this.queue=[];var b=0,L={},z,K,J,ie;(0,R.A)(x,this,function(Y){V(W||{}),Y.consoleLoggingLevel=function(){return z},Y.telemetryLoggingLevel=function(){return K},Y.maxInternalMessageLimit=function(){return J},Y[I.a$]=function(){return ie},Y.throwInternal=function(w,F,q,j,$){$===void 0&&($=!1);var Z=new k(F,q,$,j);if(ie)throw(0,S.mm)(Z);var te=w===1?d.Zi:d.Tj;if((0,c.b0)(Z[I.pM]))l("throw"+(w===1?"Critical":"Warning"),Z);else{if($){var B=+Z[I.JR];!L[B]&&z>=w&&(Y[te](Z[I.pM]),L[B]=!0)}else z>=w&&Y[te](Z[I.pM]);M(w,Z)}},Y[d.Tj]=function(w){u("warn",w),l("warning",w)},Y[d.Zi]=function(w){u("error",w),l("error",w)},Y.resetInternalMessageCount=function(){b=0,L={}},Y[I.sx]=M;function M(w,F){if(!C()){var q=!0,j=_+F[I.JR];if(L[j]?q=!1:L[j]=!0,q&&(w<=K&&(Y.queue[I.y5](F),b++,l(w===1?"error":"warn",F)),b===J)){var $="Internal events throttle limit per PageView reached for this app.",Z=new k(23,$,!1);Y.queue[I.y5](Z),w===1?Y[d.Zi]($):Y[d.Tj]($)}}}function V(w){z=(0,c.SA)(w.loggingLevelConsole,0),K=(0,c.SA)(w.loggingLevelTelemetry,1),J=(0,c.SA)(w.maxMessageLimit,25),ie=(0,c.SA)(w[I.a$],!1)}function C(){return b>=J}function l(w,F){var q=(0,P.$)(W||{});q&&q[I.e4]&&q[I.e4](w,F)}})}return x.__ieDyn=1,x}();function p(x){return x||new g}function T(x,W,b,L,z,K){K===void 0&&(K=!1),p(x).throwInternal(W,b,L,z,K)}function E(x,W){p(x)[d.Tj](W)}function D(x,W,b){p(x)[I.sx](W,b)}},44180:(s,G,N)=>{"use strict";N.d(G,{$Z:()=>we,EH:()=>M,FJ:()=>B,Iu:()=>ve,JK:()=>$,L0:()=>ee,MY:()=>he,PV:()=>O,R7:()=>U,U5:()=>te,Uf:()=>ke,Vd:()=>V,Wt:()=>l,YE:()=>w,Z:()=>ae,cU:()=>Y,g$:()=>Z,hm:()=>xe,iN:()=>Ne,lT:()=>X,lV:()=>Te,mm:()=>ce,tw:()=>j,w3:()=>q,w9:()=>F,xk:()=>oe,zk:()=>C});var R=N(47672),I=N(75148),P=N(60830),S=N(12497),c=N(1972),d="window",f="document",h="documentMode",_="navigator",y="history",u="location",k="console",m="performance",g="JSON",p="crypto",T="msCrypto",E="ReactNative",D="msie",x="trident/",W="XMLHttpRequest",b=null,L=null,z=!1,K=null,J=null;function ie(Pe,Le){var He=!1;if(Pe){try{if(He=Le in Pe,!He){var wt=Pe[R.vR];wt&&(He=Le in wt)}}catch{}if(!He)try{var ze=new Pe;He=!(0,S.b0)(ze[Le])}catch{}}return He}function Y(Pe){z=Pe}function M(Pe){var Le=(0,I.mS)();return Le&&Le[Pe]?Le[Pe]:Pe===d&&V()?window:null}function V(){return!!(typeof window===R._1&&window)}function C(){return V()?window:M(d)}function l(){return!!(typeof document===R._1&&document)}function w(){return l()?document:M(f)}function F(){return!!(typeof navigator===R._1&&navigator)}function q(){return F()?navigator:M(_)}function j(){return!!(typeof history===R._1&&history)}function $(){return j()?history:M(y)}function Z(Pe){if(Pe&&z){var Le=M("__mockLocation");if(Le)return Le}return typeof location===R._1&&location?location:M(u)}function te(){return typeof console!==R.bA?console:M(k)}function B(){return M(m)}function ae(){return!!(typeof JSON===R._1&&JSON||M(g)!==null)}function xe(){return ae()?JSON||M(g):null}function he(){return M(p)}function Ne(){return M(T)}function Te(){var Pe=q();return Pe&&Pe.product?Pe.product===E:!1}function X(){var Pe=q();if(Pe&&(Pe[P.tX]!==L||b===null)){L=Pe[P.tX];var Le=(L||c.m5)[P.OL]();b=(0,S.Ju)(Le,D)||(0,S.Ju)(Le,x)}return b}function ee(Pe){if(Pe===void 0&&(Pe=null),!Pe){var Le=q()||{};Pe=Le?(Le[P.tX]||c.m5)[P.OL]():c.m5}var He=(Pe||c.m5)[P.OL]();if((0,S.Ju)(He,D)){var wt=w()||{};return Math.max(parseInt(He[P.sY](D)[1]),wt[h]||0)}else if((0,S.Ju)(He,x)){var ze=parseInt(He[P.sY](x)[1]);if(ze)return ze+4}return null}function ce(Pe){var Le=Object[R.vR].toString[P.Ek](Pe),He=c.m5;return Le==="[object Error]"?He="{ stack: '"+Pe.stack+"', message: '"+Pe.message+"', name: '"+Pe[P.RS]+"'":ae()&&(He=xe().stringify(Pe)),Le+He}function me(Pe){if(!Pe||!isString(Pe)){var Le=q()||{};Pe=Le?(Le[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var He=(Pe||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return He[_DYN_INDEX_OF]("safari")>=0}function ke(){return J===null&&(J=F()&&!!q().sendBeacon),J}function U(Pe){var Le=!1;try{Le=!!M("fetch");var He=M("Request");Le&&Pe&&He&&(Le=ie(He,"keepalive"))}catch{}return Le}function O(){return K===null&&(K=typeof XDomainRequest!==R.bA,K&&oe()&&(K=K&&!ie(M(W),"withCredentials"))),K}function oe(){var Pe=!1;try{var Le=M(W);Pe=!!Le}catch{}return Pe}function ge(Pe,Le){if(Pe)for(var He=0;He<Pe[P.oI];He++){var wt=Pe[He];if(wt[P.RS]&&wt[P.RS]===Le)return wt}return{}}function we(Pe){var Le=w();return Le&&Pe?ge(Le.querySelectorAll("meta"),Pe).content:null}function ve(Pe){var Le,He=B();if(He){var wt=He.getEntriesByType("navigation")||[];Le=ge((wt[P.oI]>0?wt[0]:{}).serverTiming,Pe).description}return Le}},18413:(s,G,N)=>{"use strict";N.d(G,{Ds:()=>Ne,El:()=>ie,Fc:()=>Te,Hm:()=>w,ML:()=>q,Q3:()=>j,So:()=>Z,Wg:()=>xe,Ym:()=>$,ee:()=>he,lQ:()=>ae,mB:()=>F,oS:()=>ee,sq:()=>X,vF:()=>ce,zh:()=>te});var R=N(60830),I=N(64252),P=N(44180),S=N(12497),c=N(1972),d="on",f="attachEvent",h="addEventListener",_="detachEvent",y="removeEventListener",u="events",k="visibilitychange",m="pagehide",g="pageshow",p="unload",T="beforeunload",E=(0,I.Z)("aiEvtPageHide"),D=(0,I.Z)("aiEvtPageShow"),x=/\.[\.]+/g,W=/[\.]+$/,b=1,L=(0,I.T)("events"),z=/^([^.]*)(?:\.(.+)|)/;function K(me){return me&&me[R.W7]?me[R.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,c.m5):me}function J(me,ke){var U;if(ke){var O=c.m5;(0,S.cy)(ke)?(O=c.m5,(0,S.Iu)(ke,function(ge){ge=K(ge),ge&&(ge[0]!=="."&&(ge="."+ge),O+=ge)})):O=K(ke),O&&(O[0]!=="."&&(O="."+O),me=(me||c.m5)+O)}var oe=z.exec(me||c.m5)||[];return U={},U[R.QM]=oe[1],U.ns=(oe[2]||c.m5).replace(x,".").replace(W,c.m5)[R.sY](".").sort().join("."),U}function ie(me,ke,U){var O=[],oe=L.get(me,u,{},!1),ge=J(ke,U);return(0,S.z)(oe,function(we,ve){(0,S.Iu)(ve,function(Pe){var Le;(!ge[R.QM]||ge[R.QM]===Pe.evtName[R.QM])&&(!ge.ns||ge.ns===ge.ns)&&O[R.y5]((Le={},Le[R.RS]=Pe.evtName[R.QM]+(Pe.evtName.ns?"."+Pe.evtName.ns:c.m5),Le.handler=Pe[R.Yo],Le))})}),O}function Y(me,ke,U){U===void 0&&(U=!0);var O=L.get(me,u,{},U),oe=O[ke];return oe||(oe=O[ke]=[]),oe}function M(me,ke,U,O){me&&ke&&ke[R.QM]&&(me[y]?me[y](ke[R.QM],U,O):me[_]&&me[_](d+ke[R.QM],U))}function V(me,ke,U,O){var oe=!1;return me&&ke&&ke[R.QM]&&U&&(me[h]?(me[h](ke[R.QM],U,O),oe=!0):me[f]&&(me[f](d+ke[R.QM],U),oe=!0)),oe}function C(me,ke,U,O){for(var oe=ke[R.oI];oe--;){var ge=ke[oe];ge&&(!U.ns||U.ns===ge.evtName.ns)&&(!O||O(ge))&&(M(me,ge.evtName,ge[R.Yo],ge.capture),ke[R.Ic](oe,1))}}function l(me,ke,U){if(ke[R.QM])C(me,Y(me,ke[R.QM]),ke,U);else{var O=L.get(me,u,{});(0,S.z)(O,function(oe,ge){C(me,ge,ke,U)}),(0,S.cG)(O)[R.oI]===0&&L.kill(me,u)}}function w(me,ke){var U;return ke?((0,S.cy)(ke)?U=[me].concat(ke):U=[me,ke],U=J("xx",U).ns[R.sY](".")):U=me,U}function F(me,ke,U,O,oe){var ge;oe===void 0&&(oe=!1);var we=!1;if(me)try{var ve=J(ke,O);if(we=V(me,ve,U,oe),we&&L.accept(me)){var Pe=(ge={guid:b++,evtName:ve},ge[R.Yo]=U,ge.capture=oe,ge);Y(me,ve.type)[R.y5](Pe)}}catch{}return we}function q(me,ke,U,O,oe){if(oe===void 0&&(oe=!1),me)try{var ge=J(ke,O),we=!1;l(me,ge,function(ve){return ge.ns&&!U||ve[R.Yo]===U?(we=!0,!0):!1}),we||M(me,ge,U,oe)}catch{}}function j(me,ke,U,O){return O===void 0&&(O=!1),F(me,ke,U,null,O)}function $(me,ke,U,O){O===void 0&&(O=!1),q(me,ke,U,null,O)}function Z(me,ke,U){var O=!1,oe=(0,P.zk)();oe&&(O=F(oe,me,ke,U),O=F(oe.body,me,ke,U)||O);var ge=(0,P.YE)();return ge&&(O=F(ge,me,ke,U)||O),O}function te(me,ke,U){var O=(0,P.zk)();O&&(q(O,me,ke,U),q(O.body,me,ke,U));var oe=(0,P.YE)();oe&&q(oe,me,ke,U)}function B(me,ke,U,O){var oe=!1;return ke&&me&&me[R.oI]>0&&(0,S.Iu)(me,function(ge){ge&&(!U||(0,S.rD)(U,ge)===-1)&&(oe=Z(ge,ke,O)||oe)}),oe}function ae(me,ke,U,O){var oe=!1;return ke&&me&&(0,S.cy)(me)&&(oe=B(me,ke,U,O),!oe&&U&&U[R.oI]>0&&(oe=B(me,ke,null,O))),oe}function xe(me,ke,U){me&&(0,S.cy)(me)&&(0,S.Iu)(me,function(O){O&&te(O,ke,U)})}function he(me,ke,U){return ae([T,p,m],me,ke,U)}function Ne(me,ke){xe([T,p,m],me,ke)}function Te(me,ke,U){function O(we){var ve=(0,P.YE)();me&&ve&&ve.visibilityState==="hidden"&&me(we)}var oe=w(E,U),ge=B([m],me,ke,oe);return(!ke||(0,S.rD)(ke,k)===-1)&&(ge=B([k],O,ke,oe)||ge),!ge&&ke&&(ge=Te(me,null,U)),ge}function X(me,ke){var U=w(E,ke);xe([m],me,U),xe([k],null,U)}function ee(me,ke,U){function O(we){var ve=(0,P.YE)();me&&ve&&ve.visibilityState==="visible"&&me(we)}var oe=w(D,U),ge=B([g],me,ke,oe);return ge=B([k],O,ke,oe)||ge,!ge&&ke&&(ge=ee(me,null,U)),ge}function ce(me,ke){var U=w(D,ke);xe([g],me,U),xe([k],null,U)}},12497:(s,G,N)=>{"use strict";N.d(G,{$8:()=>Ot,$P:()=>O,CP:()=>Cn,Cv:()=>ee,EH:()=>be,Ed:()=>j,Et:()=>Pe,Gh:()=>B,Gv:()=>xe,Iu:()=>gt,Ju:()=>U,KT:()=>se,KY:()=>di,Kg:()=>ve,Lm:()=>Le,N6:()=>at,RF:()=>lt,SA:()=>Nt,SZ:()=>Wt,Tn:()=>he,W$:()=>ne,_u:()=>ze,b0:()=>$,bJ:()=>we,c2:()=>ht,cG:()=>Fe,cH:()=>Te,cy:()=>oe,hW:()=>zt,hX:()=>te,js:()=>ot,lL:()=>pt,mQ:()=>ae,o$:()=>Tt,ol:()=>Xe,qz:()=>kt,r:()=>Ke,rD:()=>de,tG:()=>me,wo:()=>Oi,x3:()=>ct,z:()=>X,zz:()=>Mt});var R=N(47672),I=N(75148),P=N(60830),S=N(1972),c="toISOString",d="endsWith",f="startsWith",h="indexOf",_="map",y="reduce",u="trim",k="toString",m="__proto__",g="constructor",p=R.KU,T=R.s6.freeze,E=R.s6.seal,D=R.s6.keys,x=String[R.vR],W=x[u],b=x[d],L=x[f],z=Date[R.vR],K=z[c],J=Array.isArray,ie=R.Wy[k],Y=R.J$[k],M=Y[P.Ek](R.s6),V=/-([a-z])/g,C=/([^\w\d_$])/g,l=/^(\d+[\w\d_$])/,w=Object.getPrototypeOf;function F(Ie){if(Ie){if(w)return w(Ie);var Ge=Ie[m]||Ie[R.vR]||Ie[g];if(Ge)return Ge}return null}function q(Ie){return ie[_DYN_CALL](Ie)}function j(Ie,Ge){return typeof Ie===Ge}function $(Ie){return Ie===void 0||typeof Ie===R.bA}function Z(Ie){return!$(Ie)}function te(Ie){return Ie===null||$(Ie)}function B(Ie){return!te(Ie)}function ae(Ie,Ge){return!!(Ie&&R.J$[P.Ek](Ie,Ge))}function xe(Ie){return!!(Ie&&typeof Ie===R._1)}function he(Ie){return!!(Ie&&typeof Ie===R.hW)}function Ne(Ie){return Ie&&he(Ie.then)}function Te(Ie){var Ge=Ie;return Ge&&ve(Ge)&&(Ge=Ge[P.W7](V,function(yt,it){return it.toUpperCase()}),Ge=Ge[P.W7](C,"_"),Ge=Ge[P.W7](l,function(yt,it){return"_"+it})),Ge}function X(Ie,Ge){if(Ie)for(var yt in Ie)R.J$[P.Ek](Ie,yt)&&Ge[P.Ek](Ie,yt,Ie[yt])}function ee(Ie,Ge){var yt=!1;return Ie&&Ge&&!(yt=Ie===Ge)&&(yt=b?Ie[d](Ge):ce(Ie,Ge)),yt}function ce(Ie,Ge){var yt=!1,it=Ge?Ge[P.oI]:0,ut=Ie?Ie[P.oI]:0;if(it&&ut&&ut>=it&&!(yt=Ie===Ge)){for(var Xt=ut-1,Rt=it-1;Rt>=0;Rt--){if(Ie[Xt]!=Ge[Rt])return!1;Xt--}yt=!0}return yt}function me(Ie,Ge){var yt=!1;return Ie&&Ge&&!(yt=Ie===Ge)&&(yt=L?Ie[f](Ge):ke(Ie,Ge)),yt}function ke(Ie,Ge){var yt=!1,it=Ge?Ge[P.oI]:0;if(Ie&&it&&Ie[P.oI]>=it&&!(yt=Ie===Ge)){for(var ut=0;ut<it;ut++)if(Ie[ut]!==Ge[ut])return!1;yt=!0}return yt}function U(Ie,Ge){return Ie&&Ge?Ie[P.Sj](Ge)!==-1:!1}function O(Ie){return!!(Ie&&ie[P.Ek](Ie)==="[object Date]")}var oe=J||ge;function ge(Ie){return!!(Ie&&ie[P.Ek](Ie)==="[object Array]")}function we(Ie){return!!(Ie&&ie[P.Ek](Ie)==="[object Error]")}function ve(Ie){return typeof Ie=="string"}function Pe(Ie){return typeof Ie=="number"}function Le(Ie){return typeof Ie=="boolean"}function He(Ie){return typeof Ie=="symbol"}function wt(Ie){var Ge=!1;if(Ie&&typeof Ie=="object"){var yt=w?w(Ie):F(Ie);yt?(yt[g]&&R.J$[P.Ek](yt,g)&&(yt=yt[g]),Ge=typeof yt===R.hW&&Y[P.Ek](yt)===M):Ge=!0}return Ge}function ze(Ie){if(Ie)return K?Ie[c]():et(Ie)}function et(Ie){if(Ie&&Ie.getUTCFullYear){var Ge=function(yt){var it=String(yt);return it[P.oI]===1&&(it="0"+it),it};return Ie.getUTCFullYear()+"-"+Ge(Ie.getUTCMonth()+1)+"-"+Ge(Ie.getUTCDate())+"T"+Ge(Ie.getUTCHours())+":"+Ge(Ie.getUTCMinutes())+":"+Ge(Ie.getUTCSeconds())+"."+String((Ie.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function gt(Ie,Ge,yt){var it=Ie[P.oI];try{for(var ut=0;ut<it&&!(ut in Ie&&Ge[P.Ek](yt||Ie,Ie[ut],ut,Ie)===-1);ut++);}catch{}}function de(Ie,Ge,yt){if(Ie){if(Ie[h])return Ie[h](Ge,yt);var it=Ie[P.oI],ut=yt||0;try{for(var Xt=Math.max(ut>=0?ut:it-Math.abs(ut),0);Xt<it;Xt++)if(Xt in Ie&&Ie[Xt]===Ge)return Xt}catch{}}return-1}function ne(Ie,Ge,yt){var it;if(Ie){if(Ie[_])return Ie[_](Ge,yt);var ut=Ie[P.oI],Xt=yt||Ie;it=new Array(ut);try{for(var Rt=0;Rt<ut;Rt++)Rt in Ie&&(it[Rt]=Ge[P.Ek](Xt,Ie[Rt],Ie))}catch{}}return it}function se(Ie,Ge,yt){var it;if(Ie){if(Ie[y])return Ie[y](Ge,yt);var ut=Ie[P.oI],Xt=0;if(arguments[P.oI]>=3)it=arguments[2];else{for(;Xt<ut&&!(Xt in Ie);)Xt++;it=Ie[Xt++]}for(;Xt<ut;)Xt in Ie&&(it=Ge(it,Ie[Xt],Xt,Ie)),Xt++}return it}function be(Ie){return Ie&&(Ie=W&&Ie[u]?Ie[u]():Ie[P.W7]?Ie[P.W7](/^\s+|(?=\s)\s+$/g,S.m5):Ie),Ie}var Me=!{toString:null}.propertyIsEnumerable("toString"),$e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Fe(Ie){var Ge=typeof Ie;if(Ge!==R.hW&&(Ge!==R._1||Ie===null)&&(0,I.zk)("objKeys called on non-object"),!Me&&D)return D(Ie);var yt=[];for(var it in Ie)Ie&&R.J$[P.Ek](Ie,it)&&yt[P.y5](it);if(Me)for(var ut=$e[P.oI],Xt=0;Xt<ut;Xt++)Ie&&R.J$[P.Ek](Ie,$e[Xt])&&yt[P.y5]($e[Xt]);return yt}function Ke(Ie,Ge,yt,it){if(p)try{var ut={enumerable:!0,configurable:!0};return yt&&(ut.get=yt),it&&(ut.set=it),p(Ie,Ge,ut),!0}catch{}return!1}function Ut(Ie){return Ie}function Xe(Ie){return T&&X(Ie,function(Ge,yt){(oe(yt)||xe(yt))&&T(yt)}),at(Ie)}var at=T||Ut,ot=E||Ut;function ct(){var Ie=Date;return Ie.now?Ie.now():new Ie().getTime()}function pt(Ie){return we(Ie)?Ie[P.RS]:S.m5}function di(Ie,Ge,yt,it,ut){var Xt=yt;return Ie&&(Xt=Ie[Ge],Xt!==yt&&(!ut||ut(Xt))&&(!it||it(yt))&&(Xt=yt,Ie[Ge]=Xt)),Xt}function ht(Ie,Ge,yt){var it;return Ie?(it=Ie[Ge],!it&&te(it)&&(it=$(yt)?{}:yt,Ie[Ge]=it)):it=$(yt)?{}:yt,it}function Nt(Ie,Ge){return te(Ie)?Ge:Ie}function Oi(Ie){return!Ie}function Mt(Ie){return!!Ie}function Ot(Ie){throw new Error(Ie)}function Rn(Ie,Ge){var yt=null,it=null;return he(Ie)?yt=Ie:it=Ie,function(){var ut=arguments;if(yt&&(it=yt()),it)return it[Ge][P.y9](it,ut)}}function kt(Ie,Ge,yt){if(Ie&&Ge&&xe(Ie)&&xe(Ge)){var it=function(Xt){if(ve(Xt)){var Rt=Ge[Xt];he(Rt)?(!yt||yt(Xt,!0,Ge,Ie))&&(Ie[Xt]=Rn(Ge,Xt)):(!yt||yt(Xt,!1,Ge,Ie))&&(ae(Ie,Xt)&&delete Ie[Xt],Ke(Ie,Xt,function(){return Ge[Xt]},function(Dt){Ge[Xt]=Dt})||(Ie[Xt]=Rt))}};for(var ut in Ge)it(ut)}return Ie}function lt(Ie,Ge,yt,it,ut){Ie&&Ge&&yt&&(ut!==!1||$(Ie[Ge]))&&(Ie[Ge]=Rn(yt,it))}function Tt(Ie,Ge,yt,it){return Ie&&Ge&&xe(Ie)&&oe(yt)&&gt(yt,function(ut){ve(ut)&&lt(Ie,ut,Ge,ut,it)}),Ie}function Wt(Ie){return function(){function Ge(){var yt=this;Ie&&X(Ie,function(it,ut){yt[it]=ut})}return Ge}()}function zt(Ie){return Ie&&R.zi&&(Ie=(0,R.s6)((0,R.zi)({},Ie))),Ie}function Cn(Ie,Ge,yt,it,ut,Xt){var Rt=arguments,Dt=Rt[0]||{},At=Rt[P.oI],dt=!1,st=1;for(At>0&&Le(Dt)&&(dt=Dt,Dt=Rt[st]||{},st++),xe(Dt)||(Dt={});st<At;st++){var _t=Rt[st],ei=oe(_t),Zt=xe(_t);for(var Lt in _t){var bi=ei&&Lt in _t||Zt&&R.J$[P.Ek](_t,Lt);if(bi){var ti=_t[Lt],ki=void 0;if(dt&&ti&&((ki=oe(ti))||wt(ti))){var _i=Dt[Lt];ki?oe(_i)||(_i=[]):wt(_i)||(_i={}),ti=Cn(dt,_i,ti)}ti!==void 0&&(Dt[Lt]=ti)}}}return Dt}},1972:(s,G,N)=>{"use strict";N.d(G,{Bw:()=>d,Hr:()=>c,LZ:()=>I,Tj:()=>p,Vo:()=>_,Yd:()=>S,Yp:()=>u,Zi:()=>g,dI:()=>k,eT:()=>P,fc:()=>y,jy:()=>f,kI:()=>T,l0:()=>m,m5:()=>R,qT:()=>h});var R="",I="channels",P="core",S="createPerfMgr",c="disabled",d="extensionConfig",f="extensions",h="processTelemetry",_="priority",y="eventsSent",u="eventsDiscarded",k="eventsSendRequest",m="perfEvent",g="errorToConsole",p="warnToConsole",T="getPerfMgr"},54660:(s,G,N)=>{"use strict";N.d(G,{h:()=>d});var R=N(92457),I=N(60830),P=N(12497),S=N(1972);function c(f,h,_,y){(0,P.Iu)(f,function(u){if(u&&u[h])if(_)setTimeout(function(){return y(u)},0);else try{y(u)}catch{}})}var d=function(){function f(h){this.listeners=[];var _=!!(h||{}).perfEvtsSendAll;(0,R.A)(f,this,function(y){y[I.vR]=function(u){y.listeners[I.y5](u)},y[I.TP]=function(u){for(var k=(0,P.rD)(y[I.lJ],u);k>-1;)y.listeners[I.Ic](k,1),k=(0,P.rD)(y[I.lJ],u)},y[S.fc]=function(u){c(y[I.lJ],S.fc,!0,function(k){k[S.fc](u)})},y[S.Yp]=function(u,k){c(y[I.lJ],S.Yp,!0,function(m){m[S.Yp](u,k)})},y[S.dI]=function(u,k){c(y[I.lJ],S.dI,k,function(m){m[S.dI](u,k)})},y[S.l0]=function(u){u&&(_||!u[I.Zu]())&&c(y[I.lJ],S.l0,!1,function(k){u[I.tI]?setTimeout(function(){return k[S.l0](u)},0):k[S.l0](u)})}})}return f.__ieDyn=1,f}()},5204:(s,G,N)=>{"use strict";N.d(G,{NS:()=>y,Q6:()=>_,Z4:()=>g,r2:()=>k});var R=N(92457),I=N(60830),P=N(12497),S=N(1972),c="ctx",d="ParentContextKey",f="ChildrenContextKey",h=null,_=function(){function p(T,E,D){var x=this,W=!1;if(x.start=(0,P.x3)(),x[I.RS]=T,x[I.tI]=D,x[I.Zu]=function(){return!1},(0,P.Tn)(E)){var b;W=(0,P.r)(x,"payload",function(){return!b&&(0,P.Tn)(E)&&(b=E(),E=null),b})}x[I.O_]=function(L){return L?L===p[d]||L===p[f]?x[L]:(x[c]||{})[L]:null},x[I.e_]=function(L,z){if(L)if(L===p[d])x[L]||(x[I.Zu]=function(){return!0}),x[L]=z;else if(L===p[f])x[L]=z;else{var K=x[c]=x[c]||{};K[L]=z}},x[I.Ru]=function(){var L=0,z=x[I.O_](p[f]);if((0,P.cy)(z))for(var K=0;K<z[I.oI];K++){var J=z[K];J&&(L+=J[I.fA])}x[I.fA]=(0,P.x3)()-x.start,x.exTime=x[I.fA]-L,x[I.Ru]=function(){},!W&&(0,P.Tn)(E)&&(x.payload=E())}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),y=function(){function p(T){this.ctx={},(0,R.A)(p,this,function(E){E.create=function(D,x,W){return new _(D,x,W)},E.fire=function(D){D&&(D[I.Ru](),T&&(0,P.Tn)(T[S.l0])&&T[S.l0](D))},E[I.e_]=function(D,x){if(D){var W=E[c]=E[c]||{};W[D]=x}},E[I.O_]=function(D){return(E[c]||{})[D]}})}return p.__ieDyn=1,p}(),u="CoreUtils.doPerf";function k(p,T,E,D,x){if(p){var W=p;if(W[S.kI]&&(W=W[S.kI]()),W){var b=void 0,L=W[I.O_](u);try{if(b=W.create(T(),D,x),b){if(L&&b[I.e_]&&(b[I.e_](_[d],L),L[I.O_]&&L[I.e_])){var z=L[I.O_](_[f]);z||(z=[],L[I.e_](_[f],z)),z[I.y5](b)}return W[I.e_](u,b),E(b)}}catch(K){b&&b[I.e_]&&b[I.e_]("exception",K)}finally{b&&W.fire(b),W[I.e_](u,L)}}}return E()}function m(p){h=p}function g(){return h}},8997:(s,G,N)=>{"use strict";N.d(G,{PV:()=>E,W0:()=>x,i8:()=>g,nU:()=>T,tS:()=>p});var R=N(60830),I=N(99015),P=N(44180),S=N(12497),c=N(1972),d=N(5204),f=N(33540),h="TelemetryPluginChain",_="_hasRun",y="_getTelCtx",u=0;function k(W,b,L){for(;W;){if(W[R.AP]()===L)return W;W=W[R.uR]()}return E([L],b[R.GA]||{},b)}function m(W,b,L,z){var K=null,J=[];z!==null&&(K=z?k(W,L,z):W);var ie={_next:M,ctx:{core:function(){return L},diagLog:function(){return(0,I.y0)(L,b)},getCfg:function(){return b},getExtCfg:V,getConfig:C,hasNext:function(){return!!K},getNext:function(){return K},setNext:function(w){K=w},iterate:l,onComplete:Y}};function Y(w,F){for(var q=[],j=2;j<arguments.length;j++)q[j-2]=arguments[j];w&&J[R.y5]({func:w,self:(0,S.b0)(F)?ie.ctx:F,args:q})}function M(){var w=K;if(K=w?w[R.uR]():null,!w){var F=J;F&&F[R.oI]>0&&((0,S.Iu)(F,function(q){try{q.func[R.Ek](q.self,q.args)}catch(j){(0,I.ZP)(L[R.Uw],2,73,"Unexpected Exception during onComplete - "+(0,P.mm)(j))}}),J=[])}return w}function V(w,F,q){F===void 0&&(F={}),q===void 0&&(q=0);var j;if(b){var $=b[c.Bw];$&&w&&(j=$[w])}if(!j)j=F;else if((0,S.Gv)(F)&&q!==0){var Z=(0,S.CP)(!0,F,j);b&&q===2&&(0,S.z)(F,function(te){if((0,S.hX)(Z[te])){var B=b[te];(0,S.hX)(B)||(Z[te]=B)}}),j=Z}return j}function C(w,F,q){q===void 0&&(q=!1);var j,$=V(w,null);return $&&!(0,S.hX)($[F])?j=$[F]:b&&!(0,S.hX)(b[F])&&(j=b[F]),(0,S.hX)(j)?q:j}function l(w){for(var F;F=ie._next();){var q=F[R.AP]();q&&w(q)}}return ie}function g(W,b,L,z){var K=m(W,b,L,z),J=K.ctx;function ie(M){var V=K._next();return V&&V[c.qT](M,J),!V}function Y(M,V){return M===void 0&&(M=null),(0,S.cy)(M)&&(M=E(M,b,L,V)),g(M||J[R.uR](),b,L,V)}return J[R.$5]=ie,J[R.$o]=Y,J}function p(W,b,L){var z=b[R.GA]||{},K=m(W,z,b,L),J=K.ctx;function ie(M){var V=K._next();return V&&V.unload(J,M),!V}function Y(M,V){return M===void 0&&(M=null),(0,S.cy)(M)&&(M=E(M,z,b,V)),p(M||J[R.uR](),b,V)}return J[R.$5]=ie,J[R.$o]=Y,J}function T(W,b,L){var z=b[R.GA]||{},K=m(W,z,b,L),J=K.ctx;function ie(M){return J.iterate(function(V){(0,S.Tn)(V[R.HC])&&V[R.HC](J,M)})}function Y(M,V){return M===void 0&&(M=null),(0,S.cy)(M)&&(M=E(M,z,b,V)),T(M||J[R.uR](),b,V)}return J[R.$5]=ie,J[R.$o]=Y,J}function E(W,b,L,z){var K=null,J=!z;if((0,S.cy)(W)&&W[R.oI]>0){var ie=null;(0,S.Iu)(W,function(Y){if(!J&&z===Y&&(J=!0),J&&Y&&(0,S.Tn)(Y[c.qT])){var M=D(Y,b,L);K||(K=M),ie&&ie._setNext(M),ie=M}})}return z&&!K?E([z],b,L):K}function D(W,b,L){var z=null,K=(0,S.Tn)(W[c.qT]),J=(0,S.Tn)(W[R.YH]),ie;W?ie=W[R.Ju]+"-"+W[c.Vo]+"-"+u++:ie="Unknown-0-"+u++;var Y={getPlugin:function(){return W},getNext:function(){return z},processTelemetry:C,unload:l,update:w,_id:ie,_setNext:function(F){z=F}};function M(){var F;return W&&(0,S.Tn)(W[y])&&(F=W[y]()),F||(F=g(Y,b,L)),F}function V(F,q,j,$,Z){var te=!1,B=W?W[R.Ju]:h,ae=F[_];return ae||(ae=F[_]={}),F.setNext(z),W&&(0,d.r2)(F[c.eT](),function(){return B+":"+j},function(){ae[ie]=!0;try{var xe=z?z._id:c.m5;xe&&(ae[xe]=!1),te=q(F)}catch(Ne){var he=z?ae[z._id]:!0;he&&(te=!0),(!z||!he)&&(0,I.ZP)(F[R.e4](),1,73,"Plugin ["+B+"] failed during "+j+" - "+(0,P.mm)(Ne)+", run flags: "+(0,P.mm)(ae))}},$,Z),te}function C(F,q){q=q||M();function j($){if(!W||!K)return!1;var Z=(0,f.Cr)(W);return Z[R.Ik]||Z[c.Hr]?!1:(J&&W[R.YH](z),W[c.qT](F,$),!0)}V(q,j,"processTelemetry",function(){return{item:F}},!F.sync)||q[R.$5](F)}function l(F,q){function j(){var $=!1;if(W){var Z=(0,f.Cr)(W),te=W[c.eT]||Z[c.eT];W&&(!te||te===F.core())&&!Z[R.Ik]&&(Z[c.eT]=null,Z[R.Ik]=!0,Z[R.tZ]=!1,W[R.Ik]&&W[R.Ik](F,q)===!0&&($=!0))}return $}V(F,j,"unload",function(){},q[R.tI])||F[R.$5](q)}function w(F,q){function j(){var $=!1;if(W){var Z=(0,f.Cr)(W),te=W[c.eT]||Z[c.eT];W&&(!te||te===F.core())&&!Z[R.Ik]&&W[R.HC]&&W[R.HC](F,q)===!0&&($=!0)}return $}V(F,j,"update",function(){},!1)||F[R.$5](q)}return(0,S.N6)(Y)}var x=function(){function W(b,L,z,K){var J=this,ie=g(b,L,z,K);(0,S.o$)(J,ie,(0,S.cG)(ie))}return W}()},57679:(s,G,N)=>{"use strict";N.d(G,{Si:()=>T,VN:()=>m,Z1:()=>k,k5:()=>p,yc:()=>g});var R=N(60830),I=N(44180),P=N(12497),S=N(1972),c=4294967296,d=4294967295,f=!1,h=123456789,_=987654321;function y(E){E<0&&(E>>>=0),h=123456789+E&d,_=987654321-E&d,f=!0}function u(){try{var E=(0,P.x3)()&2147483647;y((Math.random()*c^E)+E)}catch{}}function k(E){return E>0?Math.floor(m()/d*(E+1))>>>0:0}function m(E){var D=0,x=(0,I.MY)()||(0,I.iN)();return x&&x.getRandomValues&&(D=x.getRandomValues(new Uint32Array(1))[0]&d),D===0&&(0,I.lT)()&&(f||u(),D=p()&d),D===0&&(D=Math.floor(c*Math.random()|0)),E||(D>>>=0),D}function g(E){E?y(E):u()}function p(E){_=36969*(_&65535)+(_>>16)&d,h=18e3*(h&65535)+(h>>16)&d;var D=(_<<16)+(h&65535)>>>0&d|0;return E||(D>>>=0),D}function T(E){E===void 0&&(E=22);for(var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=m()>>>0,W=0,b=S.m5;b[R.oI]<E;)W++,b+=D.charAt(x&63),x>>>=6,W===5&&(x=(m()<<2&4294967295|x&3)>>>0,W=0);return b}},33540:(s,G,N)=>{"use strict";N.d(G,{Cr:()=>f,Xc:()=>_,pI:()=>h,u7:()=>u});var R=N(60830),I=N(64252),P=N(12497),S=N(1972),c=N(68560),d=(0,I.T)("plugin");function f(k){return d.get(k,"state",{},!0)}function h(k,m){for(var g=[],p=null,T=k[R.uR](),E;T;){var D=T[R.AP]();if(D){p&&(0,P.Tn)(p[R.YH])&&(0,P.Tn)(D[S.qT])&&p[R.YH](D);var x=!1;(0,P.Tn)(D[R.tZ])?x=D[R.tZ]():(E=f(D),x=E[R.tZ]),x||g[R.y5](D),p=D,T=T[R.uR]()}}(0,P.Iu)(g,function(W){var b=k[S.eT]();W[R.mE](k.getCfg(),b,m,k[R.uR]()),E=f(W),!W[S.eT]&&!E[S.eT]&&(E[S.eT]=b),E[R.tZ]=!0,delete E[R.Ik]})}function _(k){return k.sort(function(m,g){var p=0;if(g){var T=(0,P.Tn)(g[S.qT]);(0,P.Tn)(m[S.qT])?p=T?m[S.Vo]-g[S.Vo]:1:T&&(p=-1)}else p=m?1:-1;return p})}function y(k,m,g,p){var T=0;function E(){for(;T<k[_DYN_LENGTH];){var D=k[T++];if(D){var x=D._doUnload||D[_DYN__DO_TEARDOWN];if(isFunction(x)&&x[_DYN_CALL](D,m,g,E)===!0)return!0}}}return E()}function u(k){var m={};return{getName:function(){return m[R.RS]},setName:function(g){k&&k.setName(g),m[R.RS]=g},getTraceId:function(){return m[R.P5]},setTraceId:function(g){k&&k.setTraceId(g),(0,c.hX)(g)&&(m[R.P5]=g)},getSpanId:function(){return m[R.wi]},setSpanId:function(g){k&&k.setSpanId(g),(0,c.wN)(g)&&(m[R.wi]=g)},getTraceFlags:function(){return m[R.Rr]},setTraceFlags:function(g){k&&k.setTraceFlags(g),m[R.Rr]=g}}}},49388:(s,G,N)=>{"use strict";N.d(G,{P:()=>c});var R=N(60830),I=N(99015),P=N(44180),S=N(12497);function c(){var d=[];function f(_){_&&d[R.y5](_)}function h(_,y){(0,S.Iu)(d,function(u){try{u(_,y)}catch(k){(0,I.ZP)(_[R.e4](),2,73,"Unexpected error calling unload handler - "+(0,P.mm)(k))}}),d=[]}return{add:f,run:h}}},68560:(s,G,N)=>{"use strict";N.d(G,{L0:()=>W,N7:()=>x,ZI:()=>p,ef:()=>b,hX:()=>T,mJ:()=>D,wN:()=>E,wk:()=>g});var R=N(60830),I=N(32578),P=N(44180),S=N(12497),c=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,d="00",f="ff",h="00000000000000000000000000000000",_="0000000000000000",y=1;function u(L,z,K){return L&&L[R.oI]===z&&L!==K?!!L.match(/^[\da-f]*$/):!1}function k(L,z,K){return u(L,z)?L:K}function m(L){(isNaN(L)||L<0||L>255)&&(L=1);for(var z=L.toString(16);z[R.oI]<2;)z="0"+z;return z}function g(L,z,K,J){var ie;return ie={},ie[R.s]=u(J,2,f)?J:d,ie[R.P5]=T(L)?L:(0,I.cL)(),ie.spanId=E(z)?z:(0,I.cL)()[R.$4](0,16),ie.traceFlags=K>=0&&K<=255?K:1,ie}function p(L){var z;if(!L||((0,S.cy)(L)&&(L=L[0]||""),!L||!(0,S.Kg)(L)||L[R.oI]>8192))return null;var K=c.exec((0,S.EH)(L));return!K||K[1]===f||K[2]===h||K[3]===_?null:(z={},z[R.s]=K[1],z[R.P5]=K[2],z[R.wi]=K[3],z[R.Rr]=parseInt(K[4],16),z)}function T(L){return u(L,32,h)}function E(L){return u(L,16,_)}function D(L){return!(!L||!u(L[R.s],2,f)||!u(L[R.P5],32,h)||!u(L[R.wi],16,_)||!u(m(L[R.Rr]),2))}function x(L){return D(L)?(L[R.Rr]&y)===y:!1}function W(L){if(L){var z=m(L[R.Rr]);u(z,2)||(z="01");var K=L[R.s]||d;return K!=="00"&&K!=="ff"&&(K=d),"".concat(K,"-").concat(k(L.traceId,32,h),"-").concat(k(L.spanId,16,_),"-").concat(z)}return""}function b(){var L="traceparent",z=p((0,P.$Z)(L));return z||(z=p((0,P.Iu)(L))),z}},60830:(s,G,N)=>{"use strict";N.d(G,{$4:()=>te,$5:()=>k,$o:()=>l,AP:()=>D,Di:()=>T,EX:()=>x,Ek:()=>X,GA:()=>f,H7:()=>W,HC:()=>Y,Ic:()=>b,Ik:()=>L,JR:()=>z,Ju:()=>S,OL:()=>Te,O_:()=>U,P5:()=>ge,QM:()=>ee,RF:()=>P,RS:()=>I,Re:()=>q,Rr:()=>ve,Ru:()=>oe,Sj:()=>F,TP:()=>p,Uw:()=>_,W7:()=>xe,YH:()=>C,Yo:()=>ce,Zu:()=>ke,a$:()=>he,by:()=>E,e4:()=>V,e_:()=>O,fA:()=>u,kt:()=>Z,lJ:()=>me,lK:()=>w,mE:()=>R,oI:()=>y,pM:()=>K,ps:()=>m,re:()=>B,s:()=>Pe,sY:()=>$,sl:()=>h,sx:()=>Ne,tI:()=>J,tX:()=>j,tZ:()=>d,tn:()=>ie,uR:()=>M,vR:()=>g,wi:()=>we,y5:()=>c,y9:()=>ae});var R="initialize",I="name",P="getNotifyMgr",S="identifier",c="push",d="isInitialized",f="config",h="instrumentationKey",_="logger",y="length",u="time",k="processNext",m="getProcessTelContext",g="addNotificationListener",p="removeNotificationListener",T="stopPollingInternalLogs",E="onComplete",D="getPlugin",x="flush",W="_extensions",b="splice",L="teardown",z="messageId",K="message",J="isAsync",ie="_doTeardown",Y="update",M="getNext",V="diagLog",C="setNextPlugin",l="createNew",w="cookieCfg",F="indexOf",q="substring",j="userAgent",$="split",Z="setEnabled",te="substr",B="nodeType",ae="apply",xe="replace",he="enableDebugExceptions",Ne="logInternalMessage",Te="toLowerCase",X="call",ee="type",ce="handler",me="listeners",ke="isChildEvt",U="getCtx",O="setCtx",oe="complete",ge="traceId",we="spanId",ve="traceFlags",Pe="version"},47672:(s,G,N)=>{"use strict";N.d(G,{J$:()=>k,KU:()=>u,OR:()=>y,QV:()=>c,Wy:()=>h,_1:()=>I,bA:()=>P,hW:()=>R,s6:()=>f,vR:()=>S,zi:()=>_});var R="function",I="object",P="undefined",S="prototype",c="hasOwnProperty",d="default",f=Object,h=f[S],_=f.assign,y=f.create,u=f.defineProperty,k=h[c]},75148:(s,G,N)=>{"use strict";N.d(G,{AQ:()=>c,mS:()=>P,zk:()=>S});var R=N(47672),I=null;function P(d){d===void 0&&(d=!0);var f=d===!1?null:I;return f||(typeof globalThis!==R.bA&&(f=globalThis),!f&&typeof self!==R.bA&&(f=self),!f&&typeof window!==R.bA&&(f=window),!f&&typeof N.g!==R.bA&&(f=N.g),I=f),f}function S(d){throw new TypeError(d)}function c(d){var f=R.OR;if(f)return f(d);if(d==null)return{};var h=typeof d;h!==R._1&&h!==R.hW&&S("Object prototype may only be an Object:"+d);function _(){}return _[R.vR]=d,new _}},8747:(s,G,N)=>{"use strict";N.d(G,{Im:()=>k,qU:()=>g,vz:()=>K});var R=N(47672),I=N(75148),P=((0,I.mS)()||{}).Symbol,S=((0,I.mS)()||{}).Reflect,c=!!P,d=!!S,f="decorate",h="metadata",_="getOwnPropertySymbols",y="iterator",u=function(M){for(var V,C=1,l=arguments.length;C<l;C++){V=arguments[C];for(var w in V)R.Wy[R.QV].call(V,w)&&(M[w]=V[w])}return M},k=R.zi||u,m=function(M,V){return m=R.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,l){C.__proto__=l}||function(C,l){for(var w in l)l[R.QV](w)&&(C[w]=l[w])},m(M,V)};function g(M,V){typeof V!==R.hW&&V!==null&&(0,I.zk)("Class extends value "+String(V)+" is not a constructor or null"),m(M,V);function C(){this.constructor=M}M[R.vR]=V===null?(0,I.AQ)(V):(C[R.vR]=V[R.vR],new C)}function p(M,V){var C={};for(var l in M)ObjHasOwnProperty.call(M,l)&&V.indexOf(l)<0&&(C[l]=M[l]);if(M!=null&&typeof ObjClass[_]===strShimFunction)for(var w=0,F=ObjClass[_](M);w<F.length;w++)V.indexOf(F[w])<0&&ObjProto.propertyIsEnumerable.call(M,F[w])&&(C[F[w]]=M[F[w]]);return C}function T(M,V,C,l){var w=arguments.length,F=w<3?V:l===null?l=ObjClass.getOwnPropertyDescriptor(V,C):l,q;if(d&&typeof S[f]===strShimFunction)F=S[f](M,V,C,l);else for(var j=M.length-1;j>=0;j--)(q=M[j])&&(F=(w<3?q(F):w>3?q(V,C,F):q(V,C))||F);return w>3&&F&&ObjDefineProperty(V,C,F),F}function E(M,V){return function(C,l){V(C,l,M)}}function D(M,V){if(d&&S[h]===strShimFunction)return S[h](M,V)}function x(M,V){for(var C in M)C!==strDefault&&!ObjHasOwnProperty.call(V,C)&&W(V,M,C)}function W(M,V,C,l){l===void 0&&(l=C),ObjCreate?ObjDefineProperty(M,l,{enumerable:!0,get:function(){return V[C]}}):M[l]=V[C]}function b(M){var V=typeof P===strShimFunction&&P[y],C=V&&M[V],l=0;if(C)return C.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&l>=M.length&&(M=void 0),{value:M&&M[l++],done:!M}}};throwTypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(M,V){var C=typeof P===strShimFunction&&M[P[y]];if(!C)return M;var l=C.call(M),w,F=[],q;try{for(;(V===void 0||V-- >0)&&!(w=l.next()).done;)F.push(w.value)}catch(j){q={error:j}}finally{try{w&&!w.done&&(C=l.return)&&C.call(l)}finally{if(q)throw q.error}}return F}function z(){for(var M=arguments,V=0,C=0,l=M.length;C<l;C++)V+=M[C].length;for(var w=Array(V),F=0,C=0;C<l;C++)for(var q=M[C],j=0,$=q.length;j<$;j++,F++)w[F]=q[j];return w}function K(M,V){for(var C=0,l=V.length,w=M.length;C<l;C++,w++)M[w]=V[C];return M}function J(M,V){return ObjDefineProperty?ObjDefineProperty(M,"raw",{value:V}):M.raw=V,M}function ie(M){if(M&&M.__esModule)return M;var V={};if(M!=null)for(var C in M)C!==strDefault&&Object.prototype.hasOwnProperty.call(M,C)&&W(V,M,C);return ObjCreate?ObjDefineProperty(V,strDefault,{enumerable:!0,value:M}):V[strDefault]=M,V}function Y(M){return M&&M.__esModule?M:{strDefault:M}}},94731:(s,G,N)=>{"use strict";N.r(G),N.d(G,{AppInsightsCore:()=>Ds._,ApplicationInsights:()=>Sl,CoreUtils:()=>Zt.jS,Sender:()=>Vu,SeverityLevel:()=>_l,_InternalMessageId:()=>Ui.$,arrForEach:()=>we.Iu,isNullOrUndefined:()=>we.hX,proxyFunctions:()=>we.o$,throwError:()=>we.$8});var R=N(92457),I=N(8747),P="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",S="sampleRate",c="ProcessLegacy",d="http.method",f="https://dc.services.visualstudio.com",h="/v2/track",_="not_specified",y="iKey",u="split",k="length",m="toLowerCase",g="ingestionendpoint",p="toString",T="removeItem",E="name",D="message",x="count",W="preTriggerDate",b="disabled",L="interval",z="daysOfMonth",K="date",J="getUTCDate",ie="stringify",Y="pathname",M="correlationHeaderExcludePatterns",V="indexOf",C="extensionConfig",l="exceptions",w="parsedStack",F="properties",q="measurements",j="sizeInBytes",$="typeName",Z="severityLevel",te="problemGroup",B="isManual",ae="CreateFromInterface",xe="hasFullStack",he="level",Ne="method",Te="assembly",X="fileName",ee="line",ce="duration",me="receivedResponse",ke="substring",U="sanitizeKeyAndAddUniqueness",O="sanitizeException",oe="sanitizeProperties",ge="sanitizeMeasurements",we=N(12497),ve=N(99015),Pe=N(44180),Le;function He(_e,fe,Re){var Ce=fe[k],Be=wt(_e,fe);if(Be[k]!==Ce){for(var je=0,Ze=Be;Re[Ze]!==void 0;)je++,Ze=Be[ke](0,147)+$e(je);Be=Ze}return Be}function wt(_e,fe){var Re;return fe&&(fe=(0,we.EH)(fe[p]()),fe[k]>150&&(Re=fe[ke](0,150),(0,ve.ZP)(_e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:fe},!0))),Re||fe}function ze(_e,fe,Re){Re===void 0&&(Re=1024);var Ce;return fe&&(Re=Re||1024,fe=(0,we.EH)(fe),fe.toString()[k]>Re&&(Ce=fe[p]()[ke](0,Re),(0,ve.ZP)(_e,2,61,"string value is too long. It has been truncated to "+Re+" characters.",{value:fe},!0))),Ce||fe}function et(_e,fe){return Me(_e,fe,2048,66)}function gt(_e,fe){var Re;return fe&&fe[k]>32768&&(Re=fe[ke](0,32768),(0,ve.ZP)(_e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:fe},!0)),Re||fe}function de(_e,fe){var Re;if(fe){var Ce=""+fe;Ce[k]>32768&&(Re=Ce[ke](0,32768),(0,ve.ZP)(_e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:fe},!0))}return Re||fe}function ne(_e,fe){if(fe){var Re={};(0,we.z)(fe,function(Ce,Be){if((0,we.Gv)(Be)&&(0,Pe.Z)())try{Be=(0,Pe.hm)()[ie](Be)}catch(je){(0,ve.ZP)(_e,2,49,"custom property is not valid",{exception:je},!0)}Be=ze(_e,Be,8192),Ce=He(_e,Ce,Re),Re[Ce]=Be}),fe=Re}return fe}function se(_e,fe){if(fe){var Re={};(0,we.z)(fe,function(Ce,Be){Ce=He(_e,Ce,Re),Re[Ce]=Be}),fe=Re}return fe}function be(_e,fe){return fe&&Me(_e,fe,128,69)[p]()}function Me(_e,fe,Re,Ce){var Be;return fe&&(fe=(0,we.EH)(fe),fe[k]>Re&&(Be=fe[ke](0,Re),(0,ve.ZP)(_e,2,Ce,"input is too long, it has been truncated to "+Re+" characters.",{data:fe},!0))),Be||fe}function $e(_e){var fe="00"+_e;return fe.substr(fe[k]-3)}var Fe=(Le={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Le[U]=He,Le.sanitizeKey=wt,Le.sanitizeString=ze,Le.sanitizeUrl=et,Le.sanitizeMessage=gt,Le[O]=de,Le[oe]=ne,Le[ge]=se,Le.sanitizeId=be,Le.sanitizeInput=Me,Le.padNumber=$e,Le.trim=we.EH,Le),Ke=function(){function _e(fe,Re,Ce,Be){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var je=this;je.ver=2,je[E]=ze(fe,Re)||_,je[F]=ne(fe,Ce),je[q]=se(fe,Be)}return _e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",_e.dataType="EventData",_e}(),Ut=function(){function _e(fe,Re,Ce,Be,je){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,Re=Re||_,Ze[D]=gt(fe,Re),Ze[F]=ne(fe,Be),Ze[q]=se(fe,je),Ce&&(Ze[Z]=Ce)}return _e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",_e.dataType="MessageData",_e}(),Xe="";function at(_e,fe){return fe===void 0&&(fe=!1),_e==null?fe:_e.toString()[m]()==="true"}function ot(_e){(isNaN(_e)||_e<0)&&(_e=0),_e=Math.round(_e);var fe=Xe+_e%1e3,Re=Xe+Math.floor(_e/1e3)%60,Ce=Xe+Math.floor(_e/(1e3*60))%60,Be=Xe+Math.floor(_e/(1e3*60*60))%24,je=Math.floor(_e/(1e3*60*60*24));return fe=fe[k]===1?"00"+fe:fe[k]===2?"0"+fe:fe,Re=Re[k]<2?"0"+Re:Re,Ce=Ce[k]<2?"0"+Ce:Ce,Be=Be[k]<2?"0"+Be:Be,(je>0?je+".":Xe)+Be+":"+Ce+":"+Re+"."+fe}function ct(_e,fe){var Re=null;return(0,we.Iu)(_e,function(Ce){if(Ce.identifier===fe)return Re=Ce,-1}),Re}function pt(_e,fe,Re,Ce,Be){return!Be&&(0,we.Kg)(_e)&&(_e==="Script error."||_e==="Script error")}var di=function(){function _e(fe,Re,Ce,Be,je,Ze,rt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Ct=this;Ct.ver=2,Ct.id=be(fe,rt),Ct.url=et(fe,Ce),Ct[E]=ze(fe,Re)||_,isNaN(Be)||(Ct[ce]=ot(Be)),Ct[F]=ne(fe,je),Ct[q]=se(fe,Ze)}return _e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",_e.dataType="PageviewData",_e}(),ht=function(){function _e(fe,Re,Ce,Be,je,Ze,rt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Ct=this;Ct.ver=2,Ct.url=et(fe,Ce),Ct[E]=ze(fe,Re)||_,Ct[F]=ne(fe,je),Ct[q]=se(fe,Ze),rt&&(Ct.domProcessing=rt.domProcessing,Ct[ce]=rt[ce],Ct.networkConnect=rt.networkConnect,Ct.perfTotal=rt.perfTotal,Ct[me]=rt[me],Ct.sentRequest=rt.sentRequest)}return _e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",_e.dataType="PageviewPerformanceData",_e}(),Nt="<no_method>",Oi="error",Mt="stack",Ot="stackDetails",Rn="errorSrc",kt="message",lt="description";function Tt(_e,fe){var Re=_e;return Re&&!(0,we.Kg)(Re)&&(JSON&&JSON[ie]?(Re=JSON[ie](_e),fe&&(!Re||Re==="{}")&&((0,we.Tn)(_e[p])?Re=_e[p]():Re=""+_e)):Re=""+_e+" - (Missing JSON.stringify)"),Re||""}function Wt(_e,fe){var Re=_e;return _e&&(Re&&!(0,we.Kg)(Re)&&(Re=_e[kt]||_e[lt]||Re),Re&&!(0,we.Kg)(Re)&&(Re=Tt(Re,!0)),_e.filename&&(Re=Re+" @"+(_e.filename||"")+":"+(_e.lineno||"?")+":"+(_e.colno||"?"))),fe&&fe!=="String"&&fe!=="Object"&&fe!=="Error"&&(Re||"")[V](fe)===-1&&(Re=fe+": "+Re),Re||""}function zt(_e){try{if((0,we.Gv)(_e))return"hasFullStack"in _e&&"typeName"in _e}catch{}return!1}function Cn(_e){try{if((0,we.Gv)(_e))return"ver"in _e&&"exceptions"in _e&&"properties"in _e}catch{}return!1}function Ie(_e){return _e&&_e.src&&(0,we.Kg)(_e.src)&&_e.obj&&(0,we.cy)(_e.obj)}function Ge(_e){var fe=_e||"";(0,we.Kg)(fe)||((0,we.Kg)(fe[Mt])?fe=fe[Mt]:fe=""+fe);var Re=fe[u](`
`);return{src:fe,obj:Re}}function yt(_e){for(var fe=[],Re=_e[u](`
`),Ce=0;Ce<Re[k];Ce++){var Be=Re[Ce];Re[Ce+1]&&(Be+="@"+Re[Ce+1],Ce++),fe.push(Be)}return{src:_e,obj:fe}}function it(_e){var fe=null;if(_e)try{if(_e[Mt])fe=Ge(_e[Mt]);else if(_e[Oi]&&_e[Oi][Mt])fe=Ge(_e[Oi][Mt]);else if(_e.exception&&_e.exception[Mt])fe=Ge(_e.exception[Mt]);else if(Ie(_e))fe=_e;else if(Ie(_e[Ot]))fe=_e[Ot];else if(window&&window.opera&&_e[kt])fe=yt(_e[D]);else if(_e.reason&&_e.reason[Mt])fe=Ge(_e.reason[Mt]);else if((0,we.Kg)(_e))fe=Ge(_e);else{var Re=_e[kt]||_e[lt]||"";(0,we.Kg)(_e[Rn])&&(Re&&(Re+=`
`),Re+=" from "+_e[Rn]),Re&&(fe=Ge(Re))}}catch(Ce){fe=Ge(Ce)}return fe||{src:"",obj:null}}function ut(_e){var fe="";return _e&&(_e.obj?(0,we.Iu)(_e.obj,function(Re){fe+=Re+`
`}):fe=_e.src||""),fe}function Xt(_e){var fe,Re=_e.obj;if(Re&&Re[k]>0){fe=[];var Ce=0,Be=0;(0,we.Iu)(Re,function(xi){var Di=xi[p]();if(st.regex.test(Di)){var tt=new st(Di,Ce++);Be+=tt[j],fe.push(tt)}});var je=32*1024;if(Be>je)for(var Ze=0,rt=fe[k]-1,Ct=0,$t=Ze,Kt=rt;Ze<rt;){var vi=fe[Ze][j],Ei=fe[rt][j];if(Ct+=vi+Ei,Ct>je){var gi=Kt-$t+1;fe.splice($t,gi);break}$t=Ze,Kt=rt,Ze++,rt--}}return fe}function Rt(_e){var fe="";if(_e&&(fe=_e.typeName||_e[E]||"",!fe))try{var Re=/function (.{1,200})\(/,Ce=Re.exec(_e.constructor[p]());fe=Ce&&Ce[k]>1?Ce[1]:""}catch{}return fe}function Dt(_e){if(_e)try{if(!(0,we.Kg)(_e)){var fe=Rt(_e),Re=Tt(_e,!1);return(!Re||Re==="{}")&&(_e[Oi]&&(_e=_e[Oi],fe=Rt(_e)),Re=Tt(_e,!0)),Re[V](fe)!==0&&fe!=="String"?fe+":"+Re:Re}}catch{}return""+(_e||"")}var At=function(){function _e(fe,Re,Ce,Be,je,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var rt=this;rt.ver=2,Cn(Re)?(rt[l]=Re[l]||[],rt[F]=Re[F],rt[q]=Re[q],Re[Z]&&(rt[Z]=Re[Z]),Re.id&&(rt.id=Re.id),Re[te]&&(rt[te]=Re[te]),(0,we.hX)(Re[B])||(rt[B]=Re[B])):(Ce||(Ce={}),rt[l]=[new dt(fe,Re,Ce)],rt[F]=ne(fe,Ce),rt[q]=se(fe,Be),je&&(rt[Z]=je),Ze&&(rt.id=Ze))}return _e.CreateAutoException=function(fe,Re,Ce,Be,je,Ze,rt,Ct){var $t,Kt=Rt(je||Ze||fe);return $t={},$t[D]=Wt(fe,Kt),$t.url=Re,$t.lineNumber=Ce,$t.columnNumber=Be,$t.error=Dt(je||Ze||fe),$t.evt=Dt(Ze||fe),$t[$]=Kt,$t.stackDetails=it(rt||je||Ze),$t.errorSrc=Ct,$t},_e.CreateFromInterface=function(fe,Re,Ce,Be){var je=Re[l]&&(0,we.W$)(Re[l],function(rt){return dt[ae](fe,rt)}),Ze=new _e(fe,(0,I.Im)((0,I.Im)({},Re),{exceptions:je}),Ce,Be);return Ze},_e.prototype.toInterface=function(){var fe,Re=this,Ce=Re.exceptions,Be=Re.properties,je=Re.measurements,Ze=Re.severityLevel,rt=Re.problemGroup,Ct=Re.id,$t=Re.isManual,Kt=Ce instanceof Array&&(0,we.W$)(Ce,function(vi){return vi.toInterface()})||void 0;return fe={ver:"4.0"},fe[l]=Kt,fe.severityLevel=Ze,fe.properties=Be,fe.measurements=je,fe.problemGroup=rt,fe.id=Ct,fe.isManual=$t,fe},_e.CreateSimpleException=function(fe,Re,Ce,Be,je,Ze){var rt;return{exceptions:[(rt={},rt[xe]=!0,rt.message=fe,rt.stack=je,rt.typeName=Re,rt)]}},_e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",_e.dataType="ExceptionData",_e.formatError=Dt,_e}(),dt=function(){function _e(fe,Re,Ce){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var Be=this;if(zt(Re))Be[$]=Re[$],Be[D]=Re[D],Be[Mt]=Re[Mt],Be[w]=Re[w]||[],Be[xe]=Re[xe];else{var je=Re,Ze=je&&je.evt;(0,we.bJ)(je)||(je=je[Oi]||Ze||je),Be[$]=ze(fe,Rt(je))||_,Be[D]=gt(fe,Wt(Re||je,Be[$]))||_;var rt=Re[Ot]||it(Re);Be[w]=Xt(rt),Be[Mt]=de(fe,ut(rt)),Be.hasFullStack=(0,we.cy)(Be.parsedStack)&&Be.parsedStack[k]>0,Ce&&(Ce[$]=Ce[$]||Be[$])}}return _e.prototype.toInterface=function(){var fe,Re=this,Ce=Re[w]instanceof Array&&(0,we.W$)(Re[w],function(je){return je.toInterface()}),Be=(fe={id:Re.id,outerId:Re.outerId,typeName:Re[$],message:Re[D],hasFullStack:Re[xe],stack:Re[Mt]},fe[w]=Ce||void 0,fe);return Be},_e.CreateFromInterface=function(fe,Re){var Ce=Re[w]instanceof Array&&(0,we.W$)(Re[w],function(je){return st[ae](je)})||Re[w],Be=new _e(fe,(0,I.Im)((0,I.Im)({},Re),{parsedStack:Ce}));return Be},_e}(),st=function(){function _e(fe,Re){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Ce=this;if(Ce[j]=0,typeof fe=="string"){var Be=fe;Ce[he]=Re,Ce[Ne]=Nt,Ce[Te]=(0,we.EH)(Be),Ce[X]="",Ce[ee]=0;var je=Be.match(_e.regex);je&&je[k]>=5&&(Ce[Ne]=(0,we.EH)(je[2])||Ce[Ne],Ce[X]=(0,we.EH)(je[4]),Ce[ee]=parseInt(je[5])||0)}else Ce[he]=fe[he],Ce[Ne]=fe[Ne],Ce[Te]=fe[Te],Ce[X]=fe[X],Ce[ee]=fe[ee],Ce[j]=0;Ce.sizeInBytes+=Ce.method[k],Ce.sizeInBytes+=Ce.fileName[k],Ce.sizeInBytes+=Ce.assembly[k],Ce[j]+=_e.baseSize,Ce.sizeInBytes+=Ce.level.toString()[k],Ce.sizeInBytes+=Ce.line.toString()[k]}return _e.CreateFromInterface=function(fe){return new _e(fe,null)},_e.prototype.toInterface=function(){var fe=this;return{level:fe[he],method:fe[Ne],assembly:fe[Te],fileName:fe[X],line:fe[ee]}},_e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,_e.baseSize=58,_e}(),_t=function(){function _e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return _e}(),ei=function(){function _e(fe,Re,Ce,Be,je,Ze,rt,Ct,$t){this.aiDataContract={ver:1,metrics:1,properties:0};var Kt=this;Kt.ver=2;var vi=new _t;vi[x]=Be>0?Be:void 0,vi.max=isNaN(Ze)||Ze===null?void 0:Ze,vi.min=isNaN(je)||je===null?void 0:je,vi[E]=ze(fe,Re)||_,vi.value=Ce,vi.stdDev=isNaN(rt)||rt===null?void 0:rt,Kt.metrics=[vi],Kt[F]=ne(fe,Ct),Kt[q]=se(fe,$t)}return _e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",_e.dataType="MetricData",_e}(),Zt=N(32578),Lt=N(91698),bi=N(57679),ti=N(18413);function ki(_e){var fe=null;if((0,we.Tn)(Event))fe=new Event(_e);else{var Re=(0,Pe.YE)();Re&&Re.createEvent&&(fe=Re.createEvent("Event"),fe.initEvent(_e,!0,!0))}return fe}var _i=N(96434),$i=(0,_i.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Li=N(75148),Ti=(0,_i.Hj)({LocalStorage:0,SessionStorage:1}),Pi=(0,_i.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),Gt=void 0,Jt=void 0;function pi(){return Ki()?ni(Ti.LocalStorage):null}function ni(_e){try{if((0,we.hX)((0,Li.mS)()))return null;var fe=new Date()[p](),Re=(0,Pe.EH)(_e===Ti.LocalStorage?"localStorage":"sessionStorage");Re.setItem(fe,fe);var Ce=Re.getItem(fe)!==fe;if(Re[T](fe),!Ce)return Re}catch{}return null}function oi(){return Vi()?ni(Ti.SessionStorage):null}function Si(){Gt=!1,Jt=!1}function qi(){Gt=Ki(!0),Jt=Vi(!0)}function Ki(_e){return(_e||Gt===void 0)&&(Gt=!!ni(Ti.LocalStorage)),Gt}function Fi(_e,fe){var Re=pi();if(Re!==null)try{return Re.getItem(fe)}catch(Ce){Gt=!1,(0,ve.ZP)(_e,2,1,"Browser failed read of local storage. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return null}function an(_e,fe,Re){var Ce=pi();if(Ce!==null)try{return Ce.setItem(fe,Re),!0}catch(Be){Gt=!1,(0,ve.ZP)(_e,2,3,"Browser failed write to local storage. "+(0,we.lL)(Be),{exception:(0,Pe.mm)(Be)})}return!1}function hn(_e,fe){var Re=pi();if(Re!==null)try{return Re[T](fe),!0}catch(Ce){Gt=!1,(0,ve.ZP)(_e,2,5,"Browser failed removal of local storage item. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return!1}function Vi(_e){return(_e||Jt===void 0)&&(Jt=!!ni(Ti.SessionStorage)),Jt}function mn(){var _e=[];return Vi()&&(0,we.z)((0,Pe.EH)("sessionStorage"),function(fe){_e.push(fe)}),_e}function sn(_e,fe){var Re=oi();if(Re!==null)try{return Re.getItem(fe)}catch(Ce){Jt=!1,(0,ve.ZP)(_e,2,2,"Browser failed read of session storage. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return null}function tn(_e,fe,Re){var Ce=oi();if(Ce!==null)try{return Ce.setItem(fe,Re),!0}catch(Be){Jt=!1,(0,ve.ZP)(_e,2,4,"Browser failed write to session storage. "+(0,we.lL)(Be),{exception:(0,Pe.mm)(Be)})}return!1}function wi(_e,fe){var Re=oi();if(Re!==null)try{return Re[T](fe),!0}catch(Ce){Jt=!1,(0,ve.ZP)(_e,2,6,"Browser failed removal of session storage item. "+(0,we.lL)(Ce),{exception:(0,Pe.mm)(Ce)})}return!1}var ci=(0,Pe.YE)()||{},bn=0,Mr=[null,null,null,null,null];function wn(_e){var fe=bn,Re=Mr,Ce=Re[fe];return ci.createElement?Re[fe]||(Ce=Re[fe]=ci.createElement("a")):Ce={host:fr(_e,!0)},Ce.href=_e,fe++,fe>=Re[k]&&(fe=0),bn=fe,Ce}function or(_e){var fe,Re=wn(_e);return Re&&(fe=Re.href),fe}function Ln(_e){var fe,Re=wn(_e);return Re&&(fe=Re[Y]),fe}function Ar(_e,fe){return _e?_e.toUpperCase()+" "+fe:fe}function fr(_e,fe){var Re=on(_e,fe)||"";if(Re){var Ce=Re.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Ce!=null&&Ce[k]>3&&(0,we.Kg)(Ce[2])&&Ce[2][k]>0)return Ce[2]+(Ce[3]||"")}return Re}function on(_e,fe){var Re=null;if(_e){var Ce=_e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Ce!=null&&Ce[k]>2&&(0,we.Kg)(Ce[2])&&Ce[2][k]>0&&(Re=Ce[2]||"",fe&&Ce[k]>2)){var Be=(Ce[1]||"")[m](),je=Ce[3]||"";(Be==="http"&&je===":80"||Be==="https"&&je===":443")&&(je=""),Re+=je}}return Re}var ir=[f+h,"https://breeze.aimon.applicationinsights.io"+h,"https://dc-int.services.visualstudio.com"+h];function nr(_e){return(0,we.rD)(ir,_e[m]())!==-1}var zn={NotSpecified:_,createDomEvent:ki,disableStorage:Si,isInternalApplicationInsightsEndpoint:nr,canUseLocalStorage:Ki,getStorage:Fi,setStorage:an,removeStorage:hn,canUseSessionStorage:Vi,getSessionStorageKeys:mn,getSessionStorage:sn,setSessionStorage:tn,removeSessionStorage:wi,disableCookies:Zt.WD,canUseCookies:Zt.ht,disallowsSameSiteNone:Lt.It,setCookie:Zt.TV,stringToBoolOrDefault:at,getCookie:Zt.Ri,deleteCookie:Zt.Yj,trim:we.EH,newId:bi.Si,random32:function(){return(0,bi.VN)(!0)},generateW3CId:Zt.cL,isArray:we.cy,isError:we.bJ,isDate:we.$P,toISOStringForIE8:we._u,getIEVersion:Pe.L0,msToTimeSpan:ot,isCrossOriginError:pt,dump:Pe.mm,getExceptionName:we.lL,addEventHandler:ti.Q3,IsBeaconApiSupported:Pe.Uf,getExtension:ct},Gr={parseUrl:wn,getAbsoluteUrl:or,getPathName:Ln,getCompleteUrl:Ar,parseHost:fr,parseFullHost:on},Ir={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(_e,fe,Re){if(!fe||_e&&_e.disableCorrelationHeaders)return!1;if(_e&&_e[M]){for(var Ce=0;Ce<_e.correlationHeaderExcludePatterns[k];Ce++)if(_e[M][Ce].test(fe))return!1}var Be=wn(fe).host[m]();if(Be&&(Be[V](":443")!==-1||Be[V](":80")!==-1)&&(Be=(on(fe,!0)||"")[m]()),(!_e||!_e.enableCorsCorrelation)&&Be&&Be!==Re)return!1;var je=_e&&_e.correlationHeaderDomains;if(je){var Ze;if((0,we.Iu)(je,function($t){var Kt=new RegExp($t.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||Kt.test(Be)}),!Ze)return!1}var rt=_e&&_e.correlationHeaderExcludedDomains;if(!rt||rt[k]===0)return!0;for(var Ce=0;Ce<rt[k];Ce++){var Ct=new RegExp(rt[Ce].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Ct.test(Be))return!1}return Be&&Be[k]>0},getCorrelationContext:function(_e){if(_e){var fe=Ir.getCorrelationContextValue(_e,$i[1]);if(fe&&fe!==Ir.correlationIdPrefix)return fe}},getCorrelationContextValue:function(_e,fe){if(_e)for(var Re=_e[u](","),Ce=0;Ce<Re[k];++Ce){var Be=Re[Ce][u]("=");if(Be[k]===2&&Be[0]===fe)return Be[1]}}};function Vr(_e,fe,Re,Ce){var Be,je=Ce,Ze=Ce;if(fe&&fe[k]>0){var rt=wn(fe);if(Be=rt.host,!je)if(rt[Y]!=null){var Ct=rt.pathname[k]===0?"/":rt[Y];Ct.charAt(0)!=="/"&&(Ct="/"+Ct),Ze=rt[Y],je=ze(_e,Re?Re+" "+Ct:Ct)}else je=ze(_e,fe)}else Be=Ce,je=Ce;return{target:Be,name:je,data:Ze}}function hr(){var _e=(0,Pe.FJ)();if(_e&&_e.now&&_e.timing){var fe=_e.now()+_e.timing.navigationStart;if(fe>0)return fe}return(0,we.x3)()}function va(_e,fe){var Re=null;return _e!==0&&fe!==0&&!(0,we.hX)(_e)&&!(0,we.hX)(fe)&&(Re=fe-_e),Re}var vo={Now:hr,GetDuration:va};function Qa(_e,fe){var Re=_e||{};return{getName:function(){return Re[_DYN_NAME]},setName:function(Ce){fe&&fe.setName(Ce),Re[_DYN_NAME]=Ce},getTraceId:function(){return Re.traceID},setTraceId:function(Ce){fe&&fe.setTraceId(Ce),isValidTraceId(Ce)&&(Re.traceID=Ce)},getSpanId:function(){return Re.parentID},setSpanId:function(Ce){fe&&fe.setSpanId(Ce),isValidSpanId(Ce)&&(Re.parentID=Ce)},getTraceFlags:function(){return Re.traceFlags},setTraceFlags:function(Ce){fe&&fe.setTraceFlags(Ce),Re.traceFlags=Ce}}}var Sr=function(){function _e(fe,Re,Ce,Be,je,Ze,rt,Ct,$t,Kt,vi,Ei){$t===void 0&&($t="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var gi=this;gi.ver=2,gi.id=Re,gi[ce]=ot(je),gi.success=Ze,gi.resultCode=rt+"",gi.type=ze(fe,$t);var xi=Vr(fe,Ce,Ct,Be);gi.data=et(fe,Be)||xi.data,gi.target=ze(fe,xi.target),Kt&&(gi.target="".concat(gi.target," | ").concat(Kt)),gi[E]=ze(fe,xi[E]),gi[F]=ne(fe,vi),gi[q]=se(fe,Ei)}return _e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",_e.dataType="RemoteDependencyData",_e}(),Ya="AppInsightsPropertiesPlugin",ga="AppInsightsChannelPlugin",Xa="ApplicationInsightsAnalytics",jr=N(64252),Wr=N(56489);function cn(_e){var fe="ai."+_e+".";return function(Re){return fe+Re}}var mr=cn("application"),qe=cn("device"),mt=cn("location"),ft=cn("operation"),vt=cn("session"),Bt=cn("user"),hi=cn("cloud"),li=cn("internal"),Ve=function(_e){(0,I.qU)(fe,_e);function fe(){return _e.call(this)||this}return fe}((0,we.SZ)({applicationVersion:mr("ver"),applicationBuild:mr("build"),applicationTypeId:mr("typeId"),applicationId:mr("applicationId"),applicationLayer:mr("layer"),deviceId:qe("id"),deviceIp:qe("ip"),deviceLanguage:qe("language"),deviceLocale:qe("locale"),deviceModel:qe("model"),deviceFriendlyName:qe("friendlyName"),deviceNetwork:qe("network"),deviceNetworkName:qe("networkName"),deviceOEMName:qe("oemName"),deviceOS:qe("os"),deviceOSVersion:qe("osVersion"),deviceRoleInstance:qe("roleInstance"),deviceRoleName:qe("roleName"),deviceScreenResolution:qe("screenResolution"),deviceType:qe("type"),deviceMachineName:qe("machineName"),deviceVMName:qe("vmName"),deviceBrowser:qe("browser"),deviceBrowserVersion:qe("browserVersion"),locationIp:mt("ip"),locationCountry:mt("country"),locationProvince:mt("province"),locationCity:mt("city"),operationId:ft("id"),operationName:ft("name"),operationParentId:ft("parentId"),operationRootId:ft("rootId"),operationSyntheticSource:ft("syntheticSource"),operationCorrelationVector:ft("correlationVector"),sessionId:vt("id"),sessionIsFirst:vt("isFirst"),sessionIsNew:vt("isNew"),userAccountAcquisitionDate:Bt("accountAcquisitionDate"),userAccountId:Bt("accountId"),userAgent:Bt("userAgent"),userId:Bt("id"),userStoreRegion:Bt("storeRegion"),userAuthUserId:Bt("authUserId"),userAnonymousUserAcquisitionDate:Bt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Bt("authUserAcquisitionDate"),cloudName:hi("name"),cloudRole:hi("role"),cloudRoleVer:hi("roleVer"),cloudRoleInstance:hi("roleInstance"),cloudEnvironment:hi("environment"),cloudLocation:hi("location"),cloudDeploymentUnit:hi("deploymentUnit"),internalNodeName:li("nodeName"),internalSdkVersion:li("sdkVersion"),internalAgentVersion:li("agentVersion"),internalSnippet:li("snippet"),internalSdkSrc:li("sdkSrc")})),nt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},We=new Ve,St=function(){function _e(fe,Re,Ce){var Be=this,je=this;je.ver=1,je.sampleRate=100,je.tags={},je[E]=ze(fe,Ce)||_,je.data=Re,je.time=(0,we._u)(new Date),je.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return Be.sampleRate===100?4:1},tags:1,data:1}}return _e}(),bt=function(){function _e(fe,Re){this.aiDataContract={baseType:1,baseData:1},this.baseType=fe,this.baseData=Re}return _e}(),qt="duration",ii="tags",Mi="deviceType",Ci="data",ln="name",lr="traceID",ri="length",Pn="stringify",Un="measurements",Wi="dataType",ba="envelopeType",ya="toString",Cs="onLine",Ja="enqueue",Fa="count",Yi="push",Kn="emitLineDelimitedJson",Bn="clear",Za="batchPayloads",pn="markAsSent",Ht="clearSent",pr="BUFFER_KEY",ur="SENT_BUFFER_KEY",es="MAX_BUFFER_SIZE",wa="namePrefix",go="maxBatchSizeInBytes",Xi="triggerSend",Mn="diagLog",ml="onunloadDisableBeacon",bo="isBeaconApiDisabled",Da="_sender",Zi="_senderConfig",xa="_buffer",Oa="enableSessionStorageBuffer",Ps="samplingPercentage",Ms="instrumentationKey",zr="endpointUrl",ts="customHeaders",is="disableXhr",pl="onunloadDisableFetch",yo="disableTelemetry",wo="baseType",ns="sampleRate",vl="convertUndefined",Bu="_xhrReadyStateChange",vr="_onError",ko="_onPartialSuccess",rs="_onSuccess",As="itemsAccepted",qu="itemsReceived",Kr="isRetryDisabled",_o="setRequestHeader",gl="maxBatchInterval",bl="eventsSendRequest",ka="disableInstrumentationKeyValidation",So="getSamplingScore",yl="getHashCodeScore",Qn="baseType",nn="baseData",Ri="properties",ui="true";function rn(_e,fe,Re){return(0,we.KY)(_e,fe,Re,we.zz)}function Ro(_e,fe,Re){var Ce=Re[ii]=Re[ii]||{},Be=fe.ext=fe.ext||{},je=fe[ii]=fe[ii]||[],Ze=Be.user;Ze&&(rn(Ce,We.userAuthUserId,Ze.authId),rn(Ce,We.userId,Ze.id||Ze.localId));var rt=Be.app;rt&&rn(Ce,We.sessionId,rt.sesId);var Ct=Be.device;Ct&&(rn(Ce,We.deviceId,Ct.id||Ct.localId),rn(Ce,We[Mi],Ct.deviceClass),rn(Ce,We.deviceIp,Ct.ip),rn(Ce,We.deviceModel,Ct.model),rn(Ce,We[Mi],Ct[Mi]));var $t=fe.ext.web;if($t){rn(Ce,We.deviceLanguage,$t.browserLang),rn(Ce,We.deviceBrowserVersion,$t.browserVer),rn(Ce,We.deviceBrowser,$t.browser);var Kt=Re[Ci]=Re[Ci]||{},vi=Kt[nn]=Kt[nn]||{},Ei=vi[Ri]=vi[Ri]||{};rn(Ei,"domain",$t.domain),rn(Ei,"isManual",$t.isManual?ui:null),rn(Ei,"screenRes",$t.screenRes),rn(Ei,"userConsent",$t.userConsent?ui:null)}var gi=Be.os;gi&&rn(Ce,We.deviceOS,gi[ln]);var xi=Be.trace;xi&&(rn(Ce,We.operationParentId,xi.parentID),rn(Ce,We.operationName,ze(_e,xi[ln])),rn(Ce,We.operationId,xi[lr]));for(var Di={},tt=je[ri]-1;tt>=0;tt--){var un=je[tt];(0,we.z)(un,function(La,Ua){Di[La]=Ua}),je.splice(tt,1)}(0,we.z)(je,function(La,Ua){Di[La]=Ua});var gr=(0,I.Im)((0,I.Im)({},Ce),Di);gr[We.internalSdkVersion]||(gr[We.internalSdkVersion]="javascript:".concat(Fr.Version)),Re[ii]=(0,we.hW)(gr)}function Qr(_e,fe,Re){(0,we.hX)(_e)||(0,we.z)(_e,function(Ce,Be){(0,we.Et)(Be)?Re[Ce]=Be:(0,we.Kg)(Be)?fe[Ce]=Be:(0,Pe.Z)()&&(fe[Ce]=(0,Pe.hm)()[Pn](Be))})}function _a(_e,fe){(0,we.hX)(_e)||(0,we.z)(_e,function(Re,Ce){_e[Re]=Ce||fe})}function Sa(_e,fe,Re,Ce){var Be=new St(_e,Ce,fe);rn(Be,"sampleRate",Re[S]),(Re[nn]||{}).startTime&&(Be.time=(0,we._u)(Re[nn].startTime)),Be.iKey=Re.iKey;var je=Re.iKey.replace(/-/g,"");return Be[ln]=Be[ln].replace("{0}",je),Ro(_e,Re,Be),Re[ii]=Re[ii]||[],(0,we.hW)(Be)}function Yr(_e,fe){(0,we.hX)(fe[nn])&&(0,ve.ZP)(_e,1,46,"telemetryItem.baseData cannot be null.")}var Fr={Version:"2.8.10"};function ai(_e,fe,Re){Yr(_e,fe);var Ce=fe[nn][Un]||{},Be=fe[nn][Ri]||{};Qr(fe[Ci],Be,Ce),(0,we.hX)(Re)||_a(Be,Re);var je=fe[nn];if((0,we.hX)(je))return(0,ve.OG)(_e,"Invalid input for dependency data"),null;var Ze=je[Ri]&&je[Ri][d]?je[Ri][d]:"GET",rt=new Sr(_e,je.id,je.target,je[ln],je[qt],je.success,je.responseCode,Ze,je.type,je.correlationContext,Be,Ce),Ct=new bt(Sr[Wi],rt);return Sa(_e,Sr[ba],fe,Ct)}function Is(_e,fe,Re){Yr(_e,fe);var Ce={},Be={};fe[Qn]!==Ke[Wi]&&(Ce.baseTypeSource=fe[Qn]),fe[Qn]===Ke[Wi]?(Ce=fe[nn][Ri]||{},Be=fe[nn][Un]||{}):fe[nn]&&Qr(fe[nn],Ce,Be),Qr(fe[Ci],Ce,Be),(0,we.hX)(Re)||_a(Ce,Re);var je=fe[nn][ln],Ze=new Ke(_e,je,Ce,Be),rt=new bt(Ke[Wi],Ze);return Sa(_e,Ke[ba],fe,rt)}function Dr(_e,fe,Re){Yr(_e,fe);var Ce=fe[nn][Un]||{},Be=fe[nn][Ri]||{};Qr(fe[Ci],Be,Ce),(0,we.hX)(Re)||_a(Be,Re);var je=fe[nn],Ze=At.CreateFromInterface(_e,je,Be,Ce),rt=new bt(At[Wi],Ze);return Sa(_e,At[ba],fe,rt)}function Et(_e,fe,Re){Yr(_e,fe);var Ce=fe[nn],Be=Ce[Ri]||{},je=Ce[Un]||{};Qr(fe[Ci],Be,je),(0,we.hX)(Re)||_a(Be,Re);var Ze=new ei(_e,Ce[ln],Ce.average,Ce.sampleCount,Ce.min,Ce.max,Ce.stdDev,Be,je),rt=new bt(ei[Wi],Ze);return Sa(_e,ei[ba],fe,rt)}function wl(_e,fe,Re){Yr(_e,fe);var Ce,Be=fe[nn];!(0,we.hX)(Be)&&!(0,we.hX)(Be[Ri])&&!(0,we.hX)(Be[Ri][qt])?(Ce=Be[Ri][qt],delete Be[Ri][qt]):!(0,we.hX)(fe[Ci])&&!(0,we.hX)(fe[Ci][qt])&&(Ce=fe[Ci][qt],delete fe[Ci][qt]);var je=fe[nn],Ze;((fe.ext||{}).trace||{})[lr]&&(Ze=fe.ext.trace[lr]);var rt=je.id||Ze,Ct=je[ln],$t=je.uri,Kt=je[Ri]||{},vi=je[Un]||{};if((0,we.hX)(je.refUri)||(Kt.refUri=je.refUri),(0,we.hX)(je.pageType)||(Kt.pageType=je.pageType),(0,we.hX)(je.isLoggedIn)||(Kt.isLoggedIn=je.isLoggedIn[ya]()),!(0,we.hX)(je[Ri])){var Ei=je[Ri];(0,we.z)(Ei,function(Di,tt){Kt[Di]=tt})}Qr(fe[Ci],Kt,vi),(0,we.hX)(Re)||_a(Kt,Re);var gi=new di(_e,Ct,$t,Ce,Kt,vi,rt),xi=new bt(di[Wi],gi);return Sa(_e,di[ba],fe,xi)}function jc(_e,fe,Re){Yr(_e,fe);var Ce=fe[nn],Be=Ce[ln],je=Ce.uri||Ce.url,Ze=Ce[Ri]||{},rt=Ce[Un]||{};Qr(fe[Ci],Ze,rt),(0,we.hX)(Re)||_a(Ze,Re);var Ct=new ht(_e,Be,je,void 0,Ze,rt,Ce),$t=new bt(ht[Wi],Ct);return Sa(_e,ht[ba],fe,$t)}function Wc(_e,fe,Re){Yr(_e,fe);var Ce=fe[nn].message,Be=fe[nn].severityLevel,je=fe[nn][Ri]||{},Ze=fe[nn][Un]||{};Qr(fe[Ci],je,Ze),(0,we.hX)(Re)||_a(je,Re);var rt=new Ut(_e,Ce,Be,je,Ze),Ct=new bt(Ut[Wi],rt);return Sa(_e,Ut[ba],fe,Ct)}function Hu(_e,fe){(0,ti.ML)(_e,null,null,fe)}function Xr(_e){var fe=(0,Pe.YE)(),Re=(0,Pe.w3)(),Ce=!1,Be=!0,je=(0,ti.Hm)((0,jr.Z)("OfflineListener"),_e);try{if(rt((0,Pe.zk)())&&(Ce=!0),fe){var Ze=fe.body||fe;Ze.ononline&&rt(Ze)&&(Ce=!0)}Ce&&Re&&!(0,we.hX)(Re[Cs])&&(Be=Re[Cs])}catch{Ce=!1}function rt(Ei){var gi=!1;return Ei&&(gi=(0,ti.mB)(Ei,"online",Ct,je),gi&&(0,ti.mB)(Ei,"offline",$t,je)),gi}function Ct(){Be=!0}function $t(){Be=!1}function Kt(){var Ei=!0;return Ce?Ei=Be:Re&&!(0,we.hX)(Re[Cs])&&(Ei=Re[Cs]),Ei}function vi(){var Ei=(0,Pe.zk)();if(Ei&&Ce){if(Hu(Ei,je),fe){var gi=fe.body||fe;(0,we.b0)(gi.ononline)||Hu(gi,je)}Ce=!1}}return{isOnline:Kt,isListening:function(){return Ce},unload:vi}}var xr=function(){function _e(fe,Re){var Ce=[],Be=!1;this._get=function(){return Ce},this._set=function(je){return Ce=je,Ce},(0,R.A)(_e,this,function(je){je[Ja]=function(Ze){if(je[Fa]()>=Re.eventsLimitInMem()){Be||((0,ve.ZP)(fe,2,105,"Maximum in-memory buffer size reached: "+je[Fa](),!0),Be=!0);return}Ce[Yi](Ze)},je[Fa]=function(){return Ce[ri]},je.size=function(){for(var Ze=Ce[ri],rt=0;rt<Ce[ri];rt++)Ze+=Ce[rt][ri];return Re[Kn]()||(Ze+=2),Ze},je[Bn]=function(){Ce=[],Be=!1},je.getItems=function(){return Ce.slice(0)},je[Za]=function(Ze){if(Ze&&Ze[ri]>0){var rt=Re[Kn]()?Ze.join(`
`):"["+Ze.join(",")+"]";return rt}return null}})}return _e.__ieDyn=1,_e}(),zc=function(_e){(0,I.qU)(fe,_e);function fe(Re,Ce){var Be=_e.call(this,Re,Ce)||this;return(0,R.A)(fe,Be,function(je,Ze){je[pn]=function(rt){Ze[Bn]()},je[Ht]=function(rt){}}),Be}return fe.__ieDyn=1,fe}(xr),Kc=function(_e){(0,I.qU)(fe,_e);function fe(Re,Ce){var Be=_e.call(this,Re,Ce)||this,je=!1;return(0,R.A)(fe,Be,function(Ze,rt){var Ct=Ei(fe[pr]),$t=Ei(fe[ur]),Kt=Ze._set(Ct.concat($t));Kt[ri]>fe[es]&&(Kt[ri]=fe[es]),gi(fe[ur],[]),gi(fe[pr],Kt),Ze[Ja]=function(xi){if(Ze[Fa]()>=fe[es]){je||((0,ve.ZP)(Re,2,67,"Maximum buffer size reached: "+Ze[Fa](),!0),je=!0);return}rt[Ja](xi),gi(fe[pr],Ze._get())},Ze[Bn]=function(){rt[Bn](),gi(fe[pr],Ze._get()),gi(fe[ur],[]),je=!1},Ze[pn]=function(xi){gi(fe[pr],Ze._set(vi(xi,Ze._get())));var Di=Ei(fe[ur]);Di instanceof Array&&xi instanceof Array&&(Di=Di.concat(xi),Di[ri]>fe[es]&&((0,ve.ZP)(Re,1,67,"Sent buffer reached its maximum size: "+Di[ri],!0),Di[ri]=fe[es]),gi(fe[ur],Di))},Ze[Ht]=function(xi){var Di=Ei(fe[ur]);Di=vi(xi,Di),gi(fe[ur],Di)};function vi(xi,Di){var tt=[];return(0,we.Iu)(Di,function(un){!(0,we.Tn)(un)&&(0,we.rD)(xi,un)===-1&&tt[Yi](un)}),tt}function Ei(xi){var Di=xi;try{Di=Ce[wa]&&Ce[wa]()?Ce[wa]()+"_"+Di:Di;var tt=sn(Re,Di);if(tt){var un=(0,Pe.hm)().parse(tt);if((0,we.Kg)(un)&&(un=(0,Pe.hm)().parse(un)),un&&(0,we.cy)(un))return un}}catch(gr){(0,ve.ZP)(Re,1,42," storage key: "+Di+", "+(0,we.lL)(gr),{exception:(0,Pe.mm)(gr)})}return[]}function gi(xi,Di){var tt=xi;try{tt=Ce[wa]&&Ce[wa]()?Ce[wa]()+"_"+tt:tt;var un=JSON[Pn](Di);tn(Re,tt,un)}catch(gr){tn(Re,tt,JSON[Pn]([])),(0,ve.ZP)(Re,2,41," storage key: "+tt+", "+(0,we.lL)(gr)+". Buffer cleared",{exception:(0,Pe.mm)(gr)})}}}),Be}return fe.BUFFER_KEY="AI_buffer",fe.SENT_BUFFER_KEY="AI_sentBuffer",fe.MAX_BUFFER_SIZE=2e3,fe}(xr),kl=function(){function _e(fe){(0,R.A)(_e,this,function(Re){Re.serialize=function(Ze){var rt=Ce(Ze,"root");try{return(0,Pe.hm)()[Pn](rt)}catch(Ct){(0,ve.ZP)(fe,1,48,Ct&&(0,we.Tn)(Ct[ya])?Ct[ya]():"Error serializing object",null,!0)}};function Ce(Ze,rt){var Ct="__aiCircularRefCheck",$t={};if(!Ze)return(0,ve.ZP)(fe,1,48,"cannot serialize object because it is null or undefined",{name:rt},!0),$t;if(Ze[Ct])return(0,ve.ZP)(fe,2,50,"Circular reference detected while serializing object",{name:rt},!0),$t;if(!Ze.aiDataContract){if(rt==="measurements")$t=je(Ze,"number",rt);else if(rt==="properties")$t=je(Ze,"string",rt);else if(rt==="tags")$t=je(Ze,"string",rt);else if((0,we.cy)(Ze))$t=Be(Ze,rt);else{(0,ve.ZP)(fe,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:rt},!0);try{(0,Pe.hm)()[Pn](Ze),$t=Ze}catch(Kt){(0,ve.ZP)(fe,1,48,Kt&&(0,we.Tn)(Kt[ya])?Kt[ya]():"Error serializing object",null,!0)}}return $t}return Ze[Ct]=!0,(0,we.z)(Ze.aiDataContract,function(Kt,vi){var Ei=(0,we.Tn)(vi)?vi()&1:vi&1,gi=(0,we.Tn)(vi)?vi()&4:vi&4,xi=vi&2,Di=Ze[Kt]!==void 0,tt=(0,we.Gv)(Ze[Kt])&&Ze[Kt]!==null;if(Ei&&!Di&&!xi)(0,ve.ZP)(fe,1,24,"Missing required field specification. The field is required but not present on source",{field:Kt,name:rt});else if(!gi){var un=void 0;tt?xi?un=Be(Ze[Kt],Kt):un=Ce(Ze[Kt],Kt):un=Ze[Kt],un!==void 0&&($t[Kt]=un)}}),delete Ze[Ct],$t}function Be(Ze,rt){var Ct;if(Ze)if(!(0,we.cy)(Ze))(0,ve.ZP)(fe,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:rt},!0);else{Ct=[];for(var $t=0;$t<Ze[ri];$t++){var Kt=Ze[$t],vi=Ce(Kt,rt+"["+$t+"]");Ct[Yi](vi)}}return Ct}function je(Ze,rt,Ct){var $t;return Ze&&($t={},(0,we.z)(Ze,function(Kt,vi){if(rt==="string")vi===void 0?$t[Kt]="undefined":vi===null?$t[Kt]="null":vi[ya]?$t[Kt]=vi[ya]():$t[Kt]="invalid field: toString() is not defined.";else if(rt==="number")if(vi===void 0)$t[Kt]="undefined";else if(vi===null)$t[Kt]="null";else{var Ei=parseFloat(vi);isNaN(Ei)?$t[Kt]="NaN":$t[Kt]=Ei}else $t[Kt]="invalid field: "+Ct+" is of unknown type.",(0,ve.ZP)(fe,1,$t[Kt],null,!0)})),$t}})}return _e.__ieDyn=1,_e}(),$u=8,Qc=function(){function _e(){}return _e.prototype.getHashCodeScore=function(fe){var Re=this.getHashCode(fe)/_e.INT_MAX_VALUE;return Re*100},_e.prototype.getHashCode=function(fe){if(fe==="")return 0;for(;fe[ri]<$u;)fe=fe.concat(fe);for(var Re=5381,Ce=0;Ce<fe[ri];++Ce)Re=(Re<<5)+Re+fe.charCodeAt(Ce),Re=Re&Re;return Math.abs(Re)},_e.INT_MAX_VALUE=2147483647,_e}(),Eo=function(){function _e(){var fe=this,Re=new Qc,Ce=new Ve;fe[So]=function(Be){var je=0;return Be[ii]&&Be[ii][Ce.userId]?je=Re.getHashCodeScore(Be[ii][Ce.userId]):Be.ext&&Be.ext.user&&Be.ext.user.id?je=Re[yl](Be.ext.user.id):Be[ii]&&Be[ii][Ce.operationId]?je=Re.getHashCodeScore(Be[ii][Ce.operationId]):Be.ext&&Be.ext.telemetryTrace&&Be.ext.telemetryTrace[lr]?je=Re.getHashCodeScore(Be.ext.telemetryTrace[lr]):je=Math.random()*100,je}}return _e}(),Fs=function(){function _e(fe,Re){this.INT_MAX_VALUE=2147483647;var Ce=Re||(0,ve.y0)(null);(fe>100||fe<0)&&(Ce.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:fe},!0),fe=100),this[ns]=fe,this.samplingScoreGenerator=new Eo}return _e.prototype.isSampledIn=function(fe){var Re=this[ns],Ce=!1;return Re==null||Re>=100||fe.baseType===ei[Wi]?!0:(Ce=this.samplingScoreGenerator[So](fe)<Re,Ce)},_e}(),Jr,Yc=65e3;function No(_e){try{return _e.responseText}catch{}return null}function Gu(){var _e,fe,Re;return _e={endpointUrl:function(){return f+h}},_e[Kn]=function(){return!1},_e[gl]=function(){return 15e3},_e[go]=function(){return 102400},_e[yo]=function(){return!1},_e[Oa]=function(){return!0},_e[Kr]=function(){return!1},_e[bo]=function(){return!0},_e[is]=function(){return!1},_e[pl]=function(){return!1},_e[ml]=function(){return!1},_e[Ms]=function(){return fe},_e[wa]=function(){return fe},_e[Ps]=function(){return 100},_e[ts]=function(){return Re},_e[vl]=function(){return fe},_e.eventsLimitInMem=function(){return 1e4},_e}var Xc=(Jr={},Jr[Ke.dataType]=Is,Jr[Ut.dataType]=Wc,Jr[di.dataType]=wl,Jr[ht.dataType]=jc,Jr[At.dataType]=Dr,Jr[ei.dataType]=Et,Jr[Sr.dataType]=ai,Jr),Vu=function(_e){(0,I.qU)(fe,_e);function fe(){var Re=_e.call(this)||this;Re.priority=1001,Re.identifier=ga,Re._senderConfig=Gu();var Ce,Be,je,Ze,rt,Ct,$t,Kt,vi=0,Ei,gi,xi,Di;return(0,R.A)(fe,Re,function(tt,un){os(),tt.pause=function(){qa(),Ze=!0},tt.resume=function(){Ze&&(Ze=!1,Be=null,tt._buffer.size()>tt._senderConfig[go]()&&tt[Xi](!0,null,10),Ba())},tt.flush=function(Je,It,jt){if(Je===void 0&&(Je=!0),!Ze){qa();try{tt[Xi](Je,null,jt||1)}catch(si){(0,ve.ZP)(tt[Mn](),1,22,"flush failed, telemetry will not be collected: "+(0,we.lL)(si),{exception:(0,Pe.mm)(si)})}}},tt.onunloadFlush=function(){if(!Ze)if((tt._senderConfig[ml]()===!1||tt[Zi][bo]()===!1)&&(0,Pe.Uf)())try{tt[Xi](!0,Wu,2)}catch(Je){(0,ve.ZP)(tt[Mn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,we.lL)(Je),{exception:(0,Pe.mm)(Je)})}else tt.flush()},tt.addHeader=function(Je,It){Kt[Je]=It},tt.initialize=function(Je,It,jt,si){tt.isInitialized()&&(0,ve.ZP)(tt[Mn](),1,28,"Sender is already initialized"),un.initialize(Je,It,jt,si);var Ai=tt._getTelCtx(),ji=tt.identifier;Ct=new kl(It.logger),Ce=0,Be=null,je=0,tt[Da]=null,$t=0;var Ii=tt[Mn]();Di=(0,ti.Hm)((0,jr.Z)("Sender"),It.evtNamespace&&It.evtNamespace()),xi=Xr(Di);var dn=Gu();(0,we.z)(dn,function(kn,ea){tt[Zi][kn]=function(){var _n=Ai.getConfig(ji,kn,ea());return!_n&&kn==="endpointUrl"&&(_n=ea()),_n}}),tt._buffer=tt[Zi][Oa]()&&Vi()?new Kc(Ii,tt[Zi]):new zc(Ii,tt[Zi]),tt._sample=new Fs(tt[Zi][Ps](),Ii),Yu(Je)||(0,ve.ZP)(Ii,1,100,"Invalid Instrumentation key "+Je[Ms]),!nr(tt._senderConfig.endpointUrl())&&tt._senderConfig.customHeaders()&&tt._senderConfig.customHeaders()[ri]>0&&(0,we.Iu)(tt[Zi][ts](),function(kn){Re.addHeader(kn.header,kn.value)});var An=tt[Zi],yn=null;!An[is]()&&(0,Pe.PV)()?yn=El:!An[is]()&&(0,Pe.xk)()&&(yn=Or),!yn&&(0,Pe.R7)()&&(yn=Ku),Ei=yn||Or,!An[bo]()&&(0,Pe.Uf)()&&(yn=Os),tt[Da]=yn||Or,!An[pl]()&&(0,Pe.R7)(!0)?gi=zu:(0,Pe.Uf)()?gi=Os:!An[is]()&&(0,Pe.PV)()?gi=El:!An[is]()&&(0,Pe.xk)()?gi=Or:gi=Ei},tt.processTelemetry=function(Je,It){It=tt._getTelCtx(It);var jt=It[Mn]();try{if(tt[Zi][yo]())return;if(!Je){(0,ve.ZP)(jt,1,7,"Cannot send empty telemetry");return}if(Je.baseData&&!Je[wo]){(0,ve.ZP)(jt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Je[wo]||(Je[wo]="EventData"),!tt[Da]){(0,ve.ZP)(jt,1,28,"Sender was not initialized");return}if(gr(Je))Je[S]=tt._sample[ns];else{(0,ve.ZP)(jt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:tt._sample[ns]});return}var si=tt[Zi][vl]()||void 0,Ai=Je.iKey||tt[Zi][Ms](),ji=fe.constructEnvelope(Je,Ai,jt,si);if(!ji){(0,ve.ZP)(jt,1,47,"Unable to create an AppInsights envelope");return}var Ii=!1;if(Je[ii]&&Je[ii][c]&&((0,we.Iu)(Je[ii][c],function(kn){try{kn&&kn(ji)===!1&&(Ii=!0,(0,ve.OG)(jt,"Telemetry processor check returns false"))}catch(ea){(0,ve.ZP)(jt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,we.lL)(ea),{exception:(0,Pe.mm)(ea)},!0)}}),delete Je[ii][c]),Ii)return;var dn=Ct.serialize(ji),An=tt[xa],yn=An.size();yn+dn[ri]>tt[Zi][go]()&&tt[Xi](!0,null,10),An[Ja](dn),Ba()}catch(kn){(0,ve.ZP)(jt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,we.lL)(kn),{exception:(0,Pe.mm)(kn)})}tt.processNext(Je,It)},tt[Bu]=function(Je,It,jt){Je.readyState===4&&La(Je.status,It,Je.responseURL,jt,Po(Je),No(Je)||Je.response)},tt[Xi]=function(Je,It,jt){if(Je===void 0&&(Je=!0),!Ze)try{var si=tt[xa];if(tt[Zi][yo]())si[Bn]();else{if(si[Fa]()>0){var Ai=si.getItems();Ao(jt||0,Je),It?It.call(Re,Ai,Je):tt[Da](Ai,Je)}je=+new Date}qa()}catch(Ii){var ji=(0,Pe.L0)();(!ji||ji>9)&&(0,ve.ZP)(tt[Mn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,we.lL)(Ii),{exception:(0,Pe.mm)(Ii)})}},tt._doTeardown=function(Je,It){tt.onunloadFlush(),xi.unload(),os()},tt[vr]=function(Je,It,jt){(0,ve.ZP)(tt[Mn](),2,26,"Failed to send telemetry.",{message:It}),tt._buffer[Ht](Je)},tt[ko]=function(Je,It){for(var jt=[],si=[],Ai=It.errors.reverse(),ji=0,Ii=Ai;ji<Ii.length;ji++){var dn=Ii[ji],An=Je.splice(dn.index,1)[0];ss(dn.statusCode)?si[Yi](An):jt[Yi](An)}Je[ri]>0&&tt[rs](Je,It[As]),jt[ri]>0&&tt[vr](jt,Po(null,["partial success",It[As],"of",It.itemsReceived].join(" "))),si[ri]>0&&(Ra(si),(0,ve.ZP)(tt[Mn](),2,40,"Partial success. Delivered: "+Je[ri]+", Failed: "+jt[ri]+". Will retry to send "+si[ri]+" our of "+It[qu]+" items"))},tt[rs]=function(Je,It){tt._buffer[Ht](Je)},tt._xdrOnLoad=function(Je,It){var jt=No(Je);if(Je&&(jt+""=="200"||jt===""))Ce=0,tt[rs](It,0);else{var si=as(jt);si&&si.itemsReceived&&si.itemsReceived>si[As]&&!tt[Zi][Kr]()?tt[ko](It,si):tt[vr](It,Mo(Je))}};function gr(Je){return tt._sample.isSampledIn(Je)}function La(Je,It,jt,si,Ai,ji){var Ii=null;if(tt._appId||(Ii=as(ji),Ii&&Ii.appId&&(tt._appId=Ii.appId)),(Je<200||Je>=300)&&Je!==0){if((Je===301||Je===307||Je===308)&&!Ua(jt)){tt[vr](It,Ai);return}!tt[Zi][Kr]()&&ss(Je)?(Ra(It),(0,ve.ZP)(tt[Mn](),2,40,". Response code "+Je+". Will retry to send "+It[ri]+" items.")):tt[vr](It,Ai)}else if(xi&&!xi.isOnline()){if(!tt[Zi][Kr]()){var dn=10;Ra(It,dn),(0,ve.ZP)(tt[Mn](),2,40,". Offline - Response Code: ".concat(Je,". Offline status: ").concat(!xi.isOnline(),". Will retry to send ").concat(It.length," items."))}}else Ua(jt),Je===206?(Ii||(Ii=as(ji)),Ii&&!tt[Zi][Kr]()?tt[ko](It,Ii):tt[vr](It,Ai)):(Ce=0,tt[rs](It,si))}function Ua(Je){return $t>=10?!1:!(0,we.hX)(Je)&&Je!==""&&Je!==tt[Zi][zr]()?(tt[Zi][zr]=function(){return Je},++$t,!0):!1}function Wu(Je,It){gi?gi(Je,!1):Os(Je,It)}function Rl(Je){var It=(0,Pe.w3)(),jt=tt[xa],si=tt[Zi][zr](),Ai=tt._buffer[Za](Je),ji=new Blob([Ai],{type:"text/plain;charset=UTF-8"}),Ii=It.sendBeacon(si,ji);return Ii&&(jt[pn](Je),tt._onSuccess(Je,Je[ri])),Ii}function Os(Je,It){if((0,we.cy)(Je)&&Je[ri]>0&&!Rl(Je)){for(var jt=[],si=0;si<Je[ri];si++){var Ai=Je[si];Rl([Ai])||jt[Yi](Ai)}jt[ri]>0&&(Ei&&Ei(jt,!0),(0,ve.ZP)(tt[Mn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Or(Je,It){var jt=new XMLHttpRequest,si=tt[Zi][zr]();try{jt[P]=!0}catch{}jt.open("POST",si,It),jt[_o]("Content-type","application/json"),nr(si)&&jt[_o]($i[6],$i[7]),(0,we.Iu)((0,we.cG)(Kt),function(ji){jt[_o](ji,Kt[ji])}),jt.onreadystatechange=function(){return tt._xhrReadyStateChange(jt,Je,Je[ri])},jt.onerror=function(ji){return tt[vr](Je,Po(jt),ji)};var Ai=tt._buffer[Za](Je);jt.send(Ai),tt._buffer[pn](Je)}function zu(Je,It){if((0,we.cy)(Je)){for(var jt=Je[ri],si=0;si<Je[ri];si++)jt+=Je[si][ri];vi+jt<=Yc?Co(Je,!1):(0,Pe.Uf)()?Os(Je,It):(Ei&&Ei(Je,!0),(0,ve.ZP)(tt[Mn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Ku(Je,It){Co(Je,!0)}function Co(Je,It){var jt,si=tt[Zi][zr](),Ai=tt._buffer[Za](Je),ji=new Blob([Ai],{type:"application/json"}),Ii=new Headers,dn=Ai[ri],An=!1,yn=!1;nr(si)&&Ii.append($i[6],$i[7]),(0,we.Iu)((0,we.cG)(Kt),function(_n){Ii.append(_n,Kt[_n])});var kn=(jt={method:"POST",headers:Ii,body:ji},jt[P]=!0,jt);It||(kn.keepalive=!0,An=!0,vi+=dn);var ea=new Request(si,kn);try{ea[P]=!0}catch{}tt._buffer[pn](Je);try{fetch(ea).then(function(_n){It||(vi-=dn,dn=0),yn||(yn=!0,_n.ok?_n.text().then(function(Io){La(_n.status,Je,_n.url,Je[ri],_n.statusText,Io)}):tt[vr](Je,_n.statusText))}).catch(function(_n){It||(vi-=dn,dn=0),yn||(yn=!0,tt[vr](Je,_n.message))})}catch(_n){yn||tt[vr](Je,(0,Pe.mm)(_n))}An&&!yn&&(yn=!0,tt._onSuccess(Je,Je[ri]))}function as(Je){try{if(Je&&Je!==""){var It=(0,Pe.hm)().parse(Je);if(It&&It.itemsReceived&&It.itemsReceived>=It[As]&&It.itemsReceived-It.itemsAccepted===It.errors[ri])return It}}catch(jt){(0,ve.ZP)(tt[Mn](),1,43,"Cannot parse the response. "+(0,we.lL)(jt),{response:Je})}return null}function Ra(Je,It){if(It===void 0&&(It=1),!(!Je||Je[ri]===0)){var jt=tt[xa];jt[Ht](Je),Ce++;for(var si=0,Ai=Je;si<Ai.length;si++){var ji=Ai[si];jt[Ja](ji)}Zr(It),Ba()}}function Zr(Je){var It=10,jt;if(Ce<=1)jt=It;else{var si=(Math.pow(2,Ce)-1)/2,Ai=Math.floor(Math.random()*si*It)+1;Ai=Je*Ai,jt=Math.max(Math.min(Ai,3600),It)}var ji=(0,we.x3)()+jt*1e3;Be=ji}function Ba(){if(!rt&&!Ze){var Je=Be?Math.max(0,Be-(0,we.x3)()):0,It=Math.max(tt[Zi][gl](),Je);rt=setTimeout(function(){rt=null,tt[Xi](!0,null,1)},It)}}function qa(){clearTimeout(rt),rt=null,Be=null}function ss(Je){return Je===401||Je===403||Je===408||Je===429||Je===500||Je===502||Je===503||Je===504}function Po(Je,It){return Je?"XMLHttpRequest,Status:"+Je.status+",Response:"+No(Je)||0||0:It}function El(Je,It){var jt=tt[xa],si=(0,Pe.zk)(),Ai=new XDomainRequest;Ai.onload=function(){return tt._xdrOnLoad(Ai,Je)},Ai.onerror=function(An){return tt[vr](Je,Mo(Ai),An)};var ji=si&&si.location&&si.location.protocol||"";if(tt[Zi][zr]().lastIndexOf(ji,0)!==0){(0,ve.ZP)(tt[Mn](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),jt[Bn]();return}var Ii=tt[Zi][zr]().replace(/^(https?:)/,"");Ai.open("POST",Ii);var dn=jt[Za](Je);Ai.send(dn),jt[pn](Je)}function Mo(Je,It){return Je?"XDomainRequest,Response:"+No(Je)||0:It}function Qu(){var Je="getNotifyMgr";return tt.core[Je]?tt.core[Je]():tt.core._notificationManager}function Ao(Je,It){var jt=Qu();if(jt&&jt[bl])try{jt[bl](Je,It)}catch(si){(0,ve.ZP)(tt[Mn](),1,74,"send request notification failed: "+(0,we.lL)(si),{exception:(0,Pe.mm)(si)})}}function Yu(Je){var It=(0,we.hX)(Je[ka])?!1:Je[ka];if(It)return!0;var jt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",si=new RegExp(jt);return si.test(Je[Ms])}function os(){tt[Da]=null,tt[xa]=null,tt._appId=null,tt._sample=null,Kt={},xi=null,Ce=0,Be=null,je=null,Ze=!1,rt=null,Ct=null,$t=0,vi=0,Ei=null,gi=null,Di=null}}),Re}return fe.constructEnvelope=function(Re,Ce,Be,je){var Ze;Ce!==Re.iKey&&!(0,we.hX)(Ce)?Ze=(0,I.Im)((0,I.Im)({},Re),{iKey:Ce}):Ze=Re;var rt=Xc[Ze.baseType]||Is;return rt(Be,Ze,je)},fe}(Wr.s),Jc=";",Zc="=";function Rr(_e){if(!_e)return{};var fe=_e[u](Jc),Re=(0,we.KT)(fe,function(Be,je){var Ze=je[u](Zc);if(Ze[k]===2){var rt=Ze[0][m](),Ct=Ze[1];Be[rt]=Ct}return Be},{});if((0,we.cG)(Re)[k]>0){if(Re.endpointsuffix){var Ce=Re.location?Re.location+".":"";Re[g]=Re[g]||"https://"+Ce+"dc."+Re.endpointsuffix}Re[g]=Re[g]||f}return Re}var ju={parse:Rr},Ds=N(12235),xs="instrumentationKey",To="connectionString",vn="diagnosticLogInterval",Ui=N(83897),_l=(0,_i.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Sl=function(){function _e(fe){var Re=new Ds._;((0,we.hX)(fe)||(0,we.hX)(fe[xs])&&(0,we.hX)(fe[To]))&&(0,we.$8)("Invalid input configuration"),(0,R.A)(_e,this,function(Ce){if(fe[To]){var Be=Rr(fe[To]),je=Be.ingestionendpoint;fe.endpointUrl=je?je+h:fe.endpointUrl,fe[xs]=Be.instrumentationkey||fe[xs]}Ce.config=fe,Ze(),Ce.initialize=Ze,Ce.getSKUDefaults=function(){Ce.config[vn]=Ce.config[vn]&&Ce.config[vn]>0?Ce.config[vn]:1e4},Ce.getSKUDefaults(),(0,we.o$)(Ce,Re,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Ze(){Re.initialize(Ce.config,[new Vu]),Re.pollInternalLogs()}})}return _e.__ieDyn=1,_e}()},92457:(s,G,N)=>{"use strict";N.d(G,{A:()=>xe});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var R,I="undefined",P="constructor",S="prototype",c="function",d="_dynInstFuncs",f="_isDynProxy",h="_dynClass",_="_dynCls$",y="_dynInstChk",u=y,k="_dfOpts",m="_unknown_",g="__proto__",p="_dyn"+g,T="__dynProto$Gbl",E="_dynInstProto",D="useBaseInst",x="setInstFuncs",W=Object,b=W.getPrototypeOf,L=W.getOwnPropertyNames;function z(){var he;return typeof globalThis!==I&&(he=globalThis),!he&&typeof self!==I&&(he=self),!he&&typeof window!==I&&(he=window),!he&&typeof N.g!==I&&(he=N.g),he||{}}var K=z(),J=K[T]||(K[T]={o:(R={},R[x]=!0,R[D]=!0,R),n:1e3});function ie(he,Ne){return he&&W[S].hasOwnProperty.call(he,Ne)}function Y(he){return he&&(he===W[S]||he===Array[S])}function M(he){return Y(he)||he===Function[S]}function V(he){var Ne;if(he){if(b)return b(he);var Te=he[g]||he[S]||(he[P]?he[P][S]:null);Ne=he[p]||Te,ie(he,p)||(delete he[E],Ne=he[p]=he[E]||he[p],he[E]=Te)}return Ne}function C(he,Ne){var Te=[];if(L)Te=L(he);else for(var X in he)typeof X=="string"&&ie(he,X)&&Te.push(X);if(Te&&Te.length>0)for(var ee=0;ee<Te.length;ee++)Ne(Te[ee])}function l(he,Ne,Te){return Ne!==P&&typeof he[Ne]===c&&(Te||ie(he,Ne))}function w(he){throw new TypeError("DynamicProto: "+he)}function F(he){var Ne={};return C(he,function(Te){!Ne[Te]&&l(he,Te,!1)&&(Ne[Te]=he[Te])}),Ne}function q(he,Ne){for(var Te=he.length-1;Te>=0;Te--)if(he[Te]===Ne)return!0;return!1}function j(he,Ne,Te,X){function ee(U,O,oe){var ge=O[oe];if(ge[f]&&X){var we=U[d]||{};we[u]!==!1&&(ge=(we[O[h]]||{})[oe]||ge)}return function(){return ge.apply(U,arguments)}}var ce={};C(Te,function(U){ce[U]=ee(Ne,Te,U)});for(var me=V(he),ke=[];me&&!M(me)&&!q(ke,me);)C(me,function(U){!ce[U]&&l(me,U,!b)&&(ce[U]=ee(Ne,me,U))}),ke.push(me),me=V(me);return ce}function $(he,Ne,Te,X){var ee=null;if(he&&ie(Te,h)){var ce=he[d]||{};if(ee=(ce[Te[h]]||{})[Ne],ee||w("Missing ["+Ne+"] "+c),!ee[y]&&ce[u]!==!1){for(var me=!ie(he,Ne),ke=V(he),U=[];me&&ke&&!M(ke)&&!q(U,ke);){var O=ke[Ne];if(O){me=O===X;break}U.push(ke),ke=V(ke)}try{me&&(he[Ne]=ee),ee[y]=1}catch{ce[u]=!1}}}return ee}function Z(he,Ne,Te){var X=Ne[he];return X===Te&&(X=V(Ne)[he]),typeof X!==c&&w("["+he+"] is not a "+c),X}function te(he,Ne,Te,X,ee){function ce(U,O){var oe=function(){var ge=$(this,O,U,oe)||Z(O,U,oe);return ge.apply(this,arguments)};return oe[f]=1,oe}if(!Y(he)){var me=Te[d]=Te[d]||{},ke=me[Ne]=me[Ne]||{};me[u]!==!1&&(me[u]=!!ee),C(Te,function(U){l(Te,U,!1)&&Te[U]!==X[U]&&(ke[U]=Te[U],delete Te[U],(!ie(he,U)||he[U]&&!he[U][f])&&(he[U]=ce(he,U)))})}}function B(he,Ne){if(b){for(var Te=[],X=V(Ne);X&&!M(X)&&!q(Te,X);){if(X===he)return!0;Te.push(X),X=V(X)}return!1}return!0}function ae(he,Ne){return ie(he,S)?he.name||Ne||m:((he||{})[P]||{}).name||Ne||m}function xe(he,Ne,Te,X){ie(he,S)||w("theClass is an invalid class definition.");var ee=he[S];B(ee,Ne)||w("["+ae(he)+"] not in hierarchy of ["+ae(Ne)+"]");var ce=null;ie(ee,h)?ce=ee[h]:(ce=_+ae(he,"_")+"$"+J.n,J.n++,ee[h]=ce);var me=xe[k],ke=!!me[D];ke&&X&&X[D]!==void 0&&(ke=!!X[D]);var U=F(Ne),O=j(ee,Ne,U,ke);Te(Ne,O);var oe=!!b&&!!me[x];oe&&X&&(oe=!!X[x]),te(ee,ce,Ne,U,oe!==!1)}xe[k]=J.o},46925:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.HTMLTracer=void 0;const R=N(12111),I=N(49138);class P{constructor(){xt(this,"traceData");xt(this,"epochs",[])}addRenderEpoch(k){this.epochs.push(k)}includeInEpoch(k){this.epochs[this.epochs.length-1].elements.push(k)}didMaterializeTree(k){this.traceData=k}async serveHTML(){return c.create({epochs:this.epochs,traceData:y(this.traceData)})}serveRouter(k){return new S({baseAddress:k,epochs:this.epochs,traceData:y(this.traceData)})}}G.HTMLTracer=P;class S{constructor(k){xt(this,"opts");xt(this,"serverToken",crypto.randomUUID());this.opts=k}route(k,m){const g=k,p=m,T=new URL(g.url||"/","http://localhost"),E=`/${this.serverToken}`;switch(T.pathname){case E:case`${E}/`:this.onRoot(T,g,p);break;case`${E}/regen`:this.onRegen(T,g,p);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:k,epochs:m}=this.opts;return`<body>
			<style>${R.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(k.budget)};
				const EPOCHS = ${JSON.stringify(m)};
				const DEFAULT_MODEL = ${JSON.stringify(await d(k.tokenizer,k.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${R.tracerSrc}
			<\/script>
		</body>`}async onRegen(k,m,g){const{traceData:p}=this.opts,T=Number(k.searchParams.get("n")||p.budget),E=await p.renderTree(T),D=await d(p.tokenizer,E),x=JSON.stringify(D);g.setHeader("Content-Type","application/json"),g.setHeader("Content-Length",Buffer.byteLength(x)),g.end(x)}onRoot(k,m,g){this.getHTML().then(p=>{g.setHeader("Content-Type","text/html"),g.setHeader("Content-Length",Buffer.byteLength(p)),g.end(p)})}}class c extends S{constructor(m,g){super(m);xt(this,"server");this.server=g}static async create(m){const{createServer:g}=await Promise.resolve().then(()=>N(11568)),p=g((D,x)=>{try{E.route(D,x)||(x.statusCode=404,x.end("Not Found"))}catch(W){x.statusCode=500,x.end(String(W))}}),T=await new Promise((D,x)=>{p.listen(0,"127.0.0.1",()=>D(p.address().port)).on("error",x)}),E=new c({...m,baseAddress:`http://127.0.0.1:${T}`},p);return E}dispose(){this.server.closeAllConnections(),this.server.close()}}async function d(u,k){return{container:await f(u,k.container,!1),removed:k.removed,budget:k.budget}}async function f(u,k,m){const g={metadata:k.metadata.map(_),priority:k.priority};if(k instanceof I.MaterializedChatMessageTextChunk)return{...g,type:2,value:k.text,tokens:await k.upperBoundTokenCount(u)};{const p={...g,id:k.id,name:k.name,children:await Promise.all(k.children.map(T=>f(u,T,m||k instanceof I.MaterializedChatMessage))),tokens:m?await k.upperBoundTokenCount(u):await k.tokenCount(u)};if(k instanceof I.MaterializedContainer)return{...p,type:0};if(k instanceof I.MaterializedChatMessage)return{...p,type:1,role:k.role,text:k.text}}h(k)}function h(u){throw new Error("unreachable")}function _(u){return{name:u.constructor.name,value:JSON.stringify(u)}}const y=u=>{if(u===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return u}},12111:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.tracerCss=G.tracerSrc=void 0,G.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',G.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(s,G,N){"use strict";var R=this&&this.__createBinding||(Object.create?function(m,g,p,T){T===void 0&&(T=p);var E=Object.getOwnPropertyDescriptor(g,p);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[p]}}),Object.defineProperty(m,T,E)}:function(m,g,p,T){T===void 0&&(T=p),m[T]=g[p]}),I=this&&this.__exportStar||function(m,g){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(g,p)&&R(g,m,p)};Object.defineProperty(G,"__esModule",{value:!0}),G.contentType=G.PromptRenderer=G.MetadataMap=G.PromptElement=G.ToolResult=G.UserMessage=G.ToolMessage=G.TextChunk=G.SystemMessage=G.PrioritizedList=G.LegacyPrioritization=G.FunctionMessage=G.Chunk=G.AssistantMessage=G.ChatRole=G.JSONTree=void 0,G.renderPrompt=y,G.renderElementJSON=u,G.toVsCodeChatMessages=k;const P=N(96423),S=N(79420),c=N(82990);I(N(46925),G),G.JSONTree=N(8150);var d=N(96423);Object.defineProperty(G,"ChatRole",{enumerable:!0,get:function(){return d.ChatRole}}),I(N(52727),G),I(N(3804),G),I(N(63479),G),I(N(68504),G);var f=N(75234);Object.defineProperty(G,"AssistantMessage",{enumerable:!0,get:function(){return f.AssistantMessage}}),Object.defineProperty(G,"Chunk",{enumerable:!0,get:function(){return f.Chunk}}),Object.defineProperty(G,"FunctionMessage",{enumerable:!0,get:function(){return f.FunctionMessage}}),Object.defineProperty(G,"LegacyPrioritization",{enumerable:!0,get:function(){return f.LegacyPrioritization}}),Object.defineProperty(G,"PrioritizedList",{enumerable:!0,get:function(){return f.PrioritizedList}}),Object.defineProperty(G,"SystemMessage",{enumerable:!0,get:function(){return f.SystemMessage}}),Object.defineProperty(G,"TextChunk",{enumerable:!0,get:function(){return f.TextChunk}}),Object.defineProperty(G,"ToolMessage",{enumerable:!0,get:function(){return f.ToolMessage}}),Object.defineProperty(G,"UserMessage",{enumerable:!0,get:function(){return f.UserMessage}}),Object.defineProperty(G,"ToolResult",{enumerable:!0,get:function(){return f.ToolResult}});var h=N(3575);Object.defineProperty(G,"PromptElement",{enumerable:!0,get:function(){return h.PromptElement}});var _=N(79420);Object.defineProperty(G,"MetadataMap",{enumerable:!0,get:function(){return _.MetadataMap}}),Object.defineProperty(G,"PromptRenderer",{enumerable:!0,get:function(){return _.PromptRenderer}});async function y(m,g,p,T,E,D,x="vscode"){let W="countTokens"in T?new c.AnyTokenizer((Y,M)=>T.countTokens(Y,M)):T;const b=new S.PromptRenderer(p,m,g,W);let{messages:L,tokenCount:z,references:K,metadata:J}=await b.render(E,D);const ie=b.getUsedContext();return x==="vscode"&&(L=k(L)),{messages:L,tokenCount:z,metadatas:J,usedContext:ie,references:K}}G.contentType="application/vnd.codechat.prompt+json.1";function u(m,g,p,T){var D;return new S.PromptRenderer({modelMaxPromptTokens:(D=p==null?void 0:p.tokenBudget)!=null?D:Number.MAX_SAFE_INTEGER},m,g,{countMessageTokens(x){throw new Error("Tools may only return text, not messages.")},tokenLength(x,W){var b;return Promise.resolve((b=p==null?void 0:p.countTokens(x,W))!=null?b:Promise.resolve(1))}}).renderElementJSON(T)}function k(m){const g=N(91398);return m.map(p=>{switch(p.role){case P.ChatRole.Assistant:const T=g.LanguageModelChatMessage.Assistant(p.content,p.name);return p.tool_calls&&(T.content=[new g.LanguageModelTextPart(p.content),...p.tool_calls.map(E=>new g.LanguageModelToolCallPart(E.id,E.function.name,E.function.arguments))]),T;case P.ChatRole.User:return g.LanguageModelChatMessage.User(p.content,p.name);case P.ChatRole.Function:{const E=g.LanguageModelChatMessage.User("");return E.content=[new g.LanguageModelToolResultPart(p.name,[new g.LanguageModelTextPart(p.content)])],E}case P.ChatRole.Tool:{const E=g.LanguageModelChatMessage.User("");return E.content=[new g.LanguageModelToolResultPart(p.tool_call_id,[new g.LanguageModelTextPart(p.content)])],E}default:throw new Error(`Converting chat message with role ${p.role} to VS Code chat message is not supported.`)}})}},8150:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.forEachNode=N;function N(R,I){if(I(R),R.type===1)for(const P of R.children)N(P,I)}},49138:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MaterializedChatMessage=G.MaterializedChatMessageTextChunk=G.MaterializedContainer=void 0;const R=N(54548),I=N(96423);class P{constructor(p,T,E,D,x,W){xt(this,"id");xt(this,"name");xt(this,"priority");xt(this,"children");xt(this,"metadata");xt(this,"flags");this.id=p,this.name=T,this.priority=E,this.children=D,this.metadata=x,this.flags=W}has(p){return!!(this.flags&p)}async tokenCount(p){let T=0;return await Promise.all(this.children.map(async E=>{f(E);const D=await E.tokenCount(p);T+=D})),T}async upperBoundTokenCount(p){let T=0;return await Promise.all(this.children.map(async E=>{const D=await E.upperBoundTokenCount(p);T+=D})),T}replaceNode(p,T){return m(p,this.children,T)}allMetadata(){return k(this)}*toChatMessages(){for(const p of this.children)f(p),p instanceof P?yield*p.toChatMessages():p.isEmpty||(yield p.toChatMessage())}removeLowestPriorityChild(){this.has(1)?_(this):y(this)}}G.MaterializedContainer=P;class S{constructor(p,T,E=[],D){xt(this,"text");xt(this,"priority");xt(this,"metadata");xt(this,"lineBreakBefore");xt(this,"_upperBound",(0,R.once)(async p=>await p.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=p,this.priority=T,this.metadata=E,this.lineBreakBefore=D}upperBoundTokenCount(p){return this._upperBound(p)}}G.MaterializedChatMessageTextChunk=S;class c{constructor(p,T,E,D,x,W,b,L){xt(this,"id");xt(this,"role");xt(this,"name");xt(this,"toolCalls");xt(this,"toolCallId");xt(this,"priority");xt(this,"metadata");xt(this,"children");xt(this,"_tokenCount",(0,R.once)(async p=>p.countMessageTokens(this.toChatMessage())));xt(this,"_upperBound",(0,R.once)(async p=>{let T=await this._baseMessageTokenCount(p);return await Promise.all(this.children.map(async E=>{const D=await E.upperBoundTokenCount(p);T+=D})),T}));xt(this,"_baseMessageTokenCount",(0,R.once)(p=>p.countMessageTokens({...this.toChatMessage(),content:""})));xt(this,"_text",(0,R.once)(()=>{let p="";for(const{text:T,isTextSibling:E}of h(this))(T.lineBreakBefore===1||T.lineBreakBefore===2&&!E)&&p.length&&!p.endsWith(`
`)&&(p+=`
`),p+=T.text;return p.trim()}));this.id=p,this.role=T,this.name=E,this.toolCalls=D,this.toolCallId=x,this.priority=W,this.metadata=b,this.children=L}async tokenCount(p){return this._tokenCount(p)}async upperBoundTokenCount(p){return this._upperBound(p)}get text(){return this._text()}get isEmpty(){var p;return!/\S/.test(this.text)&&!((p=this.toolCalls)!=null&&p.length)&&!this.toolCallId}replaceNode(p,T){const E=m(p,this.children,T);return E&&this.onChunksChange(),E}removeLowestPriorityChild(){y(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===I.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===I.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===I.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===I.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}G.MaterializedChatMessage=c;function d(g){return!(g instanceof S)}function f(g){if(!(g instanceof P)&&!(g instanceof c))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${g.text}"`)}function*h(g,p=!1){for(const T of g.children)T instanceof S?(yield{text:T,isTextSibling:p},p=!0):(yield*h(T,p),p=!1)}function _(g){let p;function T(x,W){if(x instanceof S)(!p||x.priority<p.node.priority)&&(p={chain:W.slice(),node:x});else{W.push(x);for(const b of x.children)T(b,W);W.pop()}}if(T(g,[]),!p)throw new Error("No lowest priority node found");let E=p.node,D=p.chain.length-1;for(;D>=0;D--){const x=p.chain[D];if(x.children.splice(x.children.indexOf(E),1),x instanceof c&&x.onChunksChange(),x.children.length>0)break;E=x}for(;D>=0;D--){const x=p.chain[D];x instanceof c&&x.onChunksChange()}}function y(g){var D;let p;const T=g.children.map((x,W)=>({chain:[g],index:W}));for(let x=0;x<T.length;x++){const{chain:W,index:b}=T[x],L=W[W.length-1].children[b];if(L instanceof P&&L.has(4)){const z=[...W,L];T.splice(x+1,0,...L.children.map((K,J)=>({chain:z,index:J})))}else if(!p||L.priority<p.value.priority)p={chain:W,index:b,value:L};else if(L.priority===p.value.priority){(D=p.lowestNested)!=null||(p.lowestNested=u(p.value));const z=u(L);z<p.lowestNested&&(p={chain:W,index:b,value:L,lowestNested:z})}}if(!p)throw new Error("No lowest priority node found");const E=p.chain[p.chain.length-1].children;p.value instanceof S||p.value instanceof P&&p.value.has(2)||d(p.value)&&!p.value.children.length?E.splice(p.index,1):(p.value.removeLowestPriorityChild(),p.value.children.length===0&&E.splice(p.index,1));for(const x of p.chain)x instanceof c&&x.onChunksChange()}function u(g){if(!d(g))return-1;let p=Number.MAX_SAFE_INTEGER;for(const T of g.children)p=Math.min(p,T.priority);return p}function*k(g){yield*g.metadata;for(const p of g.children)d(p)?yield*k(p):yield*p.metadata}function m(g,p,T){for(let E=0;E<p.length;E++){const D=p[E];if(d(D)){if(D.id===g){const W=p[E];return p[E]=T,W}const x=D.replaceNode(g,T);if(x)return x}}}},54548:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.once=N;function N(R){let I,P=!1;const S=(...c)=>(P||(I=R(...c),P=!0),I);return S.clear=()=>{P=!1},S}},96423:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.BaseTokensPerName=G.BaseTokensPerMessage=G.BaseTokensPerCompletion=G.ChatRole=void 0;var N;(function(R){R.System="system",R.User="user",R.Assistant="assistant",R.Function="function",R.Tool="tool"})(N||(G.ChatRole=N={})),G.BaseTokensPerCompletion=3,G.BaseTokensPerMessage=3,G.BaseTokensPerName=1},3575:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptElement=void 0,N(10818);class R{constructor(P){xt(this,"props");this.props=P}get priority(){var P;return(P=this.props.priority)!=null?P:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}G.PromptElement=R},75234:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Expandable=G.Chunk=G.LegacyPrioritization=G.ToolResult=G.PrioritizedList=G.TextChunk=G.ToolMessage=G.FunctionMessage=G.AssistantMessage=G.UserMessage=G.SystemMessage=G.BaseChatMessage=void 0,G.isChatMessagePromptElement=P;const R=N(96423),I=N(3575);function P(D){return D instanceof c||D instanceof d||D instanceof f}class S extends I.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.BaseChatMessage=S;class c extends S{constructor(x){x.role=R.ChatRole.System,super(x)}}G.SystemMessage=c;class d extends S{constructor(x){x.role=R.ChatRole.User,super(x)}}G.UserMessage=d;class f extends S{constructor(x){x.role=R.ChatRole.Assistant,super(x)}}G.AssistantMessage=f;const h=/\s+/g;class _ extends S{constructor(x){x.role=R.ChatRole.Function,super(x)}}G.FunctionMessage=_;class y extends S{constructor(x){x.role=R.ChatRole.Tool,super(x)}}G.ToolMessage=y;class u extends I.PromptElement{async prepare(x,W,b){const L=this.props.breakOnWhitespace?h:this.props.breakOn;if(!L)return vscpp(vscppf,null,this.props.children);let z="";const K=[];for(const ie of this.props.children||[])if(ie&&typeof ie=="object"){if(typeof ie.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");ie.ctor==="br"?z+=`
`:K.push(ie)}else ie!=null&&(z+=ie);const J=await k(x,L,z,b);return vscpp(vscppf,null,K,J)}render(x){return x}}G.TextChunk=u;async function k(D,x,W,b){var K,J;if(x instanceof RegExp){if(!x.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${x})`);x.lastIndex=0}let L="",z=-1;for(;z<W.length;){let ie;typeof x=="string"?ie=W.indexOf(x,z===-1?0:z+x.length):ie=(J=(K=x.exec(W))==null?void 0:K.index)!=null?J:-1,ie===-1&&(ie=W.length);const Y=L+W.slice(Math.max(0,z),ie);if(await D.countTokens(Y,b)>D.tokenBudget)return L;L=Y,z=ie}return L}class m extends I.PromptElement{render(){const x=this.props.children;if(x)return vscpp(vscppf,null,x.map((W,b)=>{var z;if(!W)return;const L=this.props.descending?this.props.priority-b:this.props.priority-x.length+b;return typeof W!="object"?vscpp(u,{priority:L},W):((z=W.props)!=null||(W.props={}),W.props.priority=L,W)}))}}G.PrioritizedList=m;class g extends I.PromptElement{render(){const x=N(91398);return vscpp(vscppf,null,this.props.data.content.map(W=>{if(W instanceof x.LanguageModelTextPart)return W.value;if(W instanceof x.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:W.value})}))}}G.ToolResult=g;class p extends I.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.LegacyPrioritization=p;class T extends I.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}G.Chunk=T;class E extends I.PromptElement{async render(x,W){return vscpp(vscppf,null,await this.props.value(W))}}G.Expandable=E},79420:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptRenderer=G.MetadataMap=void 0;const R=N(49138),I=N(75234),P=N(52727);var S;(function(b){b.empty={get:()=>{},getAll:()=>[]}})(S||(G.MetadataMap=S={}));class c{constructor(L,z,K,J){xt(this,"_endpoint");xt(this,"_ctor");xt(this,"_props");xt(this,"_tokenizer");xt(this,"_usedContext",[]);xt(this,"_ignoredFiles",[]);xt(this,"_growables",[]);xt(this,"_root",new m(null,0));xt(this,"tracer");this._endpoint=L,this._ctor=z,this._props=K,this._tokenizer=J}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(L){return new L.ctor(L.props)}async _processPromptPieces(L,z,K,J){var V,C,l,w,F,q,j;const ie=new Map;for(const[$,Z]of z.entries()){if(Array.isArray(Z.children)&&(Z.props=(V=Z.props)!=null?V:{},Z.props.children=Z.children),!Z.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const te=this.createElement(Z);Z.node.setObj(te);const B=(C=Z.props.flexGrow)!=null?C:1/0;let ae=ie.get(B);ae||(ae=[],ie.set(B,ae)),ae.push({element:Z,promptElementInstance:te})}if(ie.size===0)return;const Y=[...ie.entries()].sort(([$],[Z])=>Z-$).map(([$,Z])=>Z),M=$=>{let Z=0;for(let te=$+1;te<Y.length;te++)for(const{element:B}of Y[te]){if(!B.props.flexReserve)continue;const ae=typeof B.props.flexReserve=="string"?Math.floor(L.remainingTokenBudget/Number(B.props.flexReserve.slice(1))):B.props.flexReserve;Z+=ae}return L.consume(Z),Z};for(const[$,Z]of Y.entries()){const te=M($);let B=0;for(const{element:he}of Z)B+=(l=he.props.flex||he.props.flexBasis)!=null?l:1;const ae=Z.map(he=>{var Te;const Ne=((Te=he.element.props.flexBasis)!=null?Te:1)/B;return{tokenBudget:Math.floor(L.remainingTokenBudget*Ne),endpoint:L.endpoint,countTokens:(X,ee)=>this._tokenizer.tokenLength(X,ee)}});L.consume(-te),(j=(w=this.tracer)==null?void 0:w.addRenderEpoch)==null||j.call(w,{inNode:(F=Z[0].element.node.parent)==null?void 0:F.id,flexValue:(q=Z[0].element.props.flexGrow)!=null?q:0,tokenBudget:L.remainingTokenBudget,reservedTokens:te,elements:Z.map((he,Ne)=>({id:he.element.node.id,tokenBudget:ae[Ne].tokenBudget}))}),await Promise.all(Z.map(async({element:he,promptElementInstance:Ne},Te)=>{var ee;const X=await((ee=Ne.prepare)==null?void 0:ee.call(Ne,ae[Te],K,J));he.node.setState(X)}));const xe=await Promise.all(Z.map(async({element:he,promptElementInstance:Ne},Te)=>{const X=ae[Te];return await Ne.render(he.node.getState(),X,K,J)}));for(const[he,{element:Ne,promptElementInstance:Te}]of Z.entries()){const X=ae[he],ee=xe[he];if(!ee)continue;const ce=await this._processPromptRenderPiece(new k(X.tokenBudget,this._endpoint),Ne,Te,ee,K,J);Te instanceof I.Expandable&&this._growables.push({initialConsume:ce,elem:Ne.node}),L.consume(ce)}}}async _processPromptRenderPiece(L,z,K,J,ie,Y){const M=f(J),V=new k(L.tokenBudget,this._endpoint),{tokensConsumed:C}=await d(this._tokenizer,z,K,M);return V.consume(C),await this._handlePromptChildren(z,M,V,ie,Y),V.consumed}async renderElementJSON(L){return await this._processPromptPieces(new k(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,L),{node:this._root.toJSON()}}async render(L,z){var F,q;await this._processPromptPieces(new k(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],L,z);const{container:K,allMetadata:J,removed:ie}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,z);(q=(F=this.tracer)==null?void 0:F.didMaterializeTree)==null||q.call(F,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:K,removed:ie,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:j=>this._getFinalElementTree(j,void 0).then($=>({...$,budget:j}))});const Y=[...K.toChatMessages()],M=await K.tokenCount(this._tokenizer),V=[...K.allMetadata()],C=new Set,l=V.map(j=>{if(!(j instanceof x))return;const $=j.reference,Z="variableName"in $.anchor;if(Z&&!C.has($.anchor.variableName))return C.add($.anchor.variableName),$;if(!Z)return $}).filter(E),w=J.map(j=>{if(!(j instanceof x)||V.includes(j))return;const $=j.reference,Z="variableName"in $.anchor;if(Z&&!C.has($.anchor.variableName))return C.add($.anchor.variableName),$;if(!Z)return $}).filter(E);return{metadata:{get:j=>V.find($=>$ instanceof j),getAll:j=>V.filter($=>$ instanceof j)},messages:Y,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:M,references:l,omittedReferences:w}}async _getFinalElementTree(L,z){const K=this._root.materialize(),J=await K.tokenCount(this._tokenizer);if(J<L&&!await this._grow(K,J,L,z))return{container:K,allMetadata:[...K.allMetadata()],removed:0};const ie=[...K.allMetadata()];let Y=0;for(;await K.upperBoundTokenCount(this._tokenizer)>L&&await K.tokenCount(this._tokenizer)>L;)K.removeLowestPriorityChild(),Y++;return{container:K,allMetadata:ie,removed:Y}}async _grow(L,z,K,J){if(!this._growables.length)return!1;for(const ie of this._growables){const Y=ie.elem.getObj();if(!(Y instanceof I.Expandable))throw new Error("unreachable: expected growable");const M=new m(null,0,ie.elem.id),V=new k(K-z+ie.initialConsume,this._endpoint),C=await this._processPromptRenderPiece(V,{node:M,ctor:this._ctor,props:{},children:[]},Y,await Y.render(void 0,{tokenBudget:V.tokenBudget,endpoint:this._endpoint,countTokens:(F,q)=>this._tokenizer.tokenLength(F,q)}),void 0,J),l=M.materialize();if(!L.replaceNode(ie.elem.id,l))throw new Error("unreachable: could not find old element to replace");if(z-=ie.initialConsume,z+=C,z>=K)break}return!0}_handlePromptChildren(L,z,K,J,ie){var M,V;if(L.ctor===I.TextChunk){this._handleExtrinsicTextChunkChildren(L.node,L.node,L.props,z);return}let Y=[];for(const C of z){if(C.kind==="literal"){L.node.appendStringChild(C.value,(M=L.props.priority)!=null?M:Number.MAX_SAFE_INTEGER);continue}if(C.kind==="intrinsic"){this._handleIntrinsic(L.node,C.name,{priority:(V=L.props.priority)!=null?V:Number.MAX_SAFE_INTEGER,...C.props},h(C.children));continue}const l=L.node.createChild();Y.push({node:l,ctor:C.ctor,props:{priority:L.props.priority,...C.props},children:C.children})}return this._processPromptPieces(K,Y,J,ie)}_handleIntrinsic(L,z,K,J,ie){switch(z){case"meta":return this._handleIntrinsicMeta(L,K,J);case"br":return this._handleIntrinsicLineBreak(L,K,J,K.priority,ie);case"usedContext":return this._handleIntrinsicUsedContext(L,K,J);case"references":return this._handleIntrinsicReferences(L,K,J);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(L,K,J);case"elementJSON":return this._handleIntrinsicElementJSON(L,K.data)}throw new Error(`Unknown intrinsic element ${z}!`)}_handleIntrinsicMeta(L,z,K){if(K.length>0)throw new Error("<meta /> must not have children!");z.local?L.addMetadata(z.value):this._root.addMetadata(z.value)}_handleIntrinsicLineBreak(L,z,K,J,ie){if(K.length>0)throw new Error("<br /> must not have children!");L.appendLineBreak(J!=null?J:Number.MAX_SAFE_INTEGER,ie)}_handleIntrinsicElementJSON(L,z){var J;const K=L.appendPieceJSON(z.node);if((J=this.tracer)!=null&&J.includeInEpoch)for(const ie of K.elements())this.tracer.includeInEpoch({id:ie.id,tokenBudget:0})}_handleIntrinsicUsedContext(L,z,K){if(K.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...z.value)}_handleIntrinsicReferences(L,z,K){if(K.length>0)throw new Error("<reference /> must not have children!");for(const J of z.value)L.addMetadata(new x(J))}_handleIntrinsicIgnoredFiles(L,z,K){if(K.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...z.value)}_handleExtrinsicTextChunkChildren(L,z,K,J){var M;const ie=[],Y=[];for(const V of J){if(V.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(V.kind==="literal"&&ie.push(V.value),V.kind==="intrinsic")if(V.name==="br")ie.push(`
`);else if(V.name==="references")for(const C of V.props.value)Y.push(new x(C));else this._handleIntrinsic(L,V.name,V.props,h(V.children),z.childIndex)}L.appendStringChild(ie.join(""),(M=K==null?void 0:K.priority)!=null?M:Number.MAX_SAFE_INTEGER,Y,z.childIndex,!0)}}G.PromptRenderer=c;async function d(b,L,z,K){let J=0;(0,I.isChatMessagePromptElement)(z)&&(J+=await b.countMessageTokens({role:L.props.role,content:"",...L.props.name?{name:L.props.name}:void 0}));for(const ie of K)ie.kind==="literal"&&(J+=await b.tokenLength(ie.value));return{tokensConsumed:J}}function f(b){return typeof b=="undefined"||typeof b=="boolean"?[]:typeof b=="string"||typeof b=="number"?[new u(String(b))]:p(b)?[...h(b.children)]:typeof b.ctor=="string"?[new _(b.ctor,b.props,b.children)]:[new y(b.ctor,b.props,b.children)]}function h(b){return(b!=null?b:[]).reduce((L,z)=>(L.push(...f(z)),L),[])}class _{constructor(L,z,K){xt(this,"name");xt(this,"props");xt(this,"children");xt(this,"kind","intrinsic");this.name=L,this.props=z,this.children=K}}class y{constructor(L,z,K){xt(this,"ctor");xt(this,"props");xt(this,"children");xt(this,"kind","extrinsic");this.ctor=L,this.props=z,this.children=K}}class u{constructor(L,z){xt(this,"value");xt(this,"priority");xt(this,"kind","literal");this.value=L,this.priority=z}}class k{constructor(L,z){xt(this,"tokenBudget");xt(this,"endpoint");xt(this,"_consumed",0);this.tokenBudget=L,this.endpoint=z}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(L){this._consumed+=L}}const W=class W{constructor(L=null,z,K=W._nextId++){xt(this,"parent");xt(this,"childIndex");xt(this,"id");xt(this,"kind",1);xt(this,"_obj",null);xt(this,"_state");xt(this,"_children",[]);xt(this,"_metadata",[]);this.parent=L,this.childIndex=z,this.id=K}static fromJSON(L,z){var J,ie;const K=new W(null,L);switch(K._metadata=(ie=(J=z.references)==null?void 0:J.map(Y=>new x(P.PromptReference.fromJSON(Y))))!=null?ie:[],K._children=z.children.map((Y,M)=>{switch(Y.type){case 1:return W.fromJSON(M,Y);case 2:return g.fromJSON(K,M,Y);default:}}).filter(E),z.ctor){case 1:K._obj=new I.BaseChatMessage(z.props);break;case 2:break;default:z.ctor}return K}setObj(L){this._obj=L}getObj(){return this._obj}setState(L){this._state=L}getState(){return this._state}createChild(){const L=new W(this,this._children.length);return this._children.push(L),L}appendPieceJSON(L){const z=W.fromJSON(this._children.length,L);return this._children.push(z),z}appendStringChild(L,z,K,J=this._children.length,ie=!1){this._children.push(new g(this,J,L,z,K,ie))}appendLineBreak(L,z=this._children.length){this._children.push(new g(this,z,`
`,L))}toJSON(){var z;const L={type:1,ctor:2,children:this._children.slice().sort((K,J)=>K.childIndex-J.childIndex).map(K=>K.toJSON()),priority:(z=this._obj)==null?void 0:z.props.priority,references:this._metadata.filter(K=>K instanceof x).map(K=>K.reference.toJSON())};return this._obj instanceof I.BaseChatMessage&&(L.ctor=1,L.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),L}materialize(){var L,z,K,J,ie,Y;if(this._children.sort((M,V)=>M.childIndex-V.childIndex),this._obj instanceof I.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new R.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof I.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof I.ToolMessage?this._obj.props.toolCallId:void 0,(L=this._obj.props.priority)!=null?L:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map(V=>V.materialize()))}else{let M=0;return this._obj instanceof I.LegacyPrioritization&&(M|=1),this._obj instanceof I.Chunk&&(M|=2),(z=this._obj)!=null&&z.props.passPriority&&(M|=4),new R.MaterializedContainer(this.id,(K=this._obj)==null?void 0:K.constructor.name,(Y=(J=this._obj)==null?void 0:J.props.priority)!=null?Y:(ie=this._obj)!=null&&ie.props.passPriority?0:Number.MAX_SAFE_INTEGER,this._children.map(V=>V.materialize()),this._metadata,M)}}addMetadata(L){this._metadata.push(L)}*elements(){yield this;for(const L of this._children)L instanceof W&&(yield*L.elements())}};xt(W,"_nextId",0);let m=W;class g{constructor(L,z,K,J,ie,Y=!1){xt(this,"parent");xt(this,"childIndex");xt(this,"text");xt(this,"priority");xt(this,"metadata");xt(this,"lineBreakBefore");xt(this,"kind",2);this.parent=L,this.childIndex=z,this.text=K,this.priority=J,this.metadata=ie,this.lineBreakBefore=Y}static fromJSON(L,z,K){var J;return new g(L,z,K.text,K.priority,(J=K.references)==null?void 0:J.map(ie=>new x(P.PromptReference.fromJSON(ie))),K.lineBreakBefore)}collectLeafs(L){L.push(this)}materialize(){var z;const L=this.lineBreakBefore?1:this.childIndex===0?2:0;return new R.MaterializedChatMessageTextChunk(this.text,(z=this.priority)!=null?z:Number.MAX_SAFE_INTEGER,this.metadata||[],L)}toJSON(){var L;return{type:2,priority:this.priority,text:this.text,references:(L=this.metadata)==null?void 0:L.filter(z=>z instanceof x).map(z=>z.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function p(b){var L;return(L=typeof b.ctor=="function"&&b.ctor.isFragment)!=null?L:!1}function T(b){}function E(b){return b!==void 0}class D extends P.PromptMetadata{}class x extends D{constructor(z){super();xt(this,"reference");this.reference=z}}},52727:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PromptReference=G.ChatResponseReferencePartStatusKind=G.PromptMetadata=void 0;const R=N(84326);class I{constructor(){xt(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}G.PromptMetadata=I;var P;(function(c){c[c.Complete=1]="Complete",c[c.Partial=2]="Partial",c[c.Omitted=3]="Omitted"})(P||(G.ChatResponseReferencePartStatusKind=P={}));class S{constructor(d,f,h){xt(this,"anchor");xt(this,"iconPath");xt(this,"options");this.anchor=d,this.iconPath=f,this.options=h}static fromJSON(d){const f=h=>"scheme"in h?R.URI.from(h):{uri:R.URI.from(h.uri),range:h.range};return new S("variableName"in d.anchor?{variableName:d.anchor.variableName,value:d.anchor.value&&f(d.anchor.value)}:f(d.anchor),d.iconPath&&("scheme"in d.iconPath?R.URI.from(d.iconPath):"light"in d.iconPath?{light:R.URI.from(d.iconPath.light),dark:R.URI.from(d.iconPath.dark)}:d.iconPath),d.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}G.PromptReference=S},82990:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.AnyTokenizer=void 0;const R=N(96423);class I{constructor(S){xt(this,"countTokens");this.countTokens=S}async tokenLength(S,c){return this.countTokens(S,c)}async countMessageTokens(S){const c=await Promise.resolve().then(()=>N(91398));return this.countTokens({role:this.toChatRole(S.role),content:[new c.LanguageModelTextPart(S.content)],name:"name"in S?S.name:void 0})}toChatRole(S){switch(S){case R.ChatRole.User:return 1;case R.ChatRole.Assistant:return 2;case R.ChatRole.System:return 1;case R.ChatRole.Function:return 1;case R.ChatRole.Tool:return 1}}}G.AnyTokenizer=I},3804:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},63479:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},10818:()=>{"use strict";function s(N,R,...I){return{ctor:N,props:R,children:I.flat()}}function G(){throw new Error("This should not be invoked!")}G.isFragment=!0,globalThis.vscpp=s,globalThis.vscppf=G},68504:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0})},22177:(s,G,N)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.delimiter=G.sep=G.toNamespacedPath=G.parse=G.format=G.extname=G.basename=G.dirname=G.relative=G.resolve=G.join=G.isAbsolute=G.normalize=G.posix=G.win32=void 0;const R=N(13),I=65,P=97,S=90,c=122,d=46,f=47,h=92,_=58,y=63;class u extends Error{constructor(z,K,J){let ie;typeof K=="string"&&K.indexOf("not ")===0?(ie="must not be",K=K.replace(/^not /,"")):ie="must be";const Y=z.indexOf(".")!==-1?"property":"argument";let M=`The "${z}" ${Y} ${ie} of type ${K}`;M+=`. Received type ${typeof J}`;super(M);xt(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function k(b,L){if(b===null||typeof b!="object")throw new u(L,"Object",b)}function m(b,L){if(typeof b!="string")throw new u(L,"string",b)}const g=R.platform==="win32";function p(b){return b===f||b===h}function T(b){return b===f}function E(b){return b>=I&&b<=S||b>=P&&b<=c}function D(b,L,z,K){let J="",ie=0,Y=-1,M=0,V=0;for(let C=0;C<=b.length;++C){if(C<b.length)V=b.charCodeAt(C);else{if(K(V))break;V=f}if(K(V)){if(!(Y===C-1||M===1))if(M===2){if(J.length<2||ie!==2||J.charCodeAt(J.length-1)!==d||J.charCodeAt(J.length-2)!==d){if(J.length>2){const l=J.lastIndexOf(z);l===-1?(J="",ie=0):(J=J.slice(0,l),ie=J.length-1-J.lastIndexOf(z)),Y=C,M=0;continue}else if(J.length!==0){J="",ie=0,Y=C,M=0;continue}}L&&(J+=J.length>0?`${z}..`:"..",ie=2)}else J.length>0?J+=`${z}${b.slice(Y+1,C)}`:J=b.slice(Y+1,C),ie=C-Y-1;Y=C,M=0}else V===d&&M!==-1?++M:M=-1}return J}function x(b,L){k(L,"pathObject");const z=L.dir||L.root,K=L.base||`${L.name||""}${L.ext||""}`;return z?z===L.root?`${z}${K}`:`${z}${b}${K}`:K}G.win32={resolve(...b){let L="",z="",K=!1;for(let J=b.length-1;J>=-1;J--){let ie;if(J>=0){if(ie=b[J],m(ie,"path"),ie.length===0)continue}else L.length===0?ie=R.cwd():(ie=R.env[`=${L}`]||R.cwd(),(ie===void 0||ie.slice(0,2).toLowerCase()!==L.toLowerCase()&&ie.charCodeAt(2)===h)&&(ie=`${L}\\`));const Y=ie.length;let M=0,V="",C=!1;const l=ie.charCodeAt(0);if(Y===1)p(l)&&(M=1,C=!0);else if(p(l))if(C=!0,p(ie.charCodeAt(1))){let w=2,F=w;for(;w<Y&&!p(ie.charCodeAt(w));)w++;if(w<Y&&w!==F){const q=ie.slice(F,w);for(F=w;w<Y&&p(ie.charCodeAt(w));)w++;if(w<Y&&w!==F){for(F=w;w<Y&&!p(ie.charCodeAt(w));)w++;(w===Y||w!==F)&&(V=`\\\\${q}\\${ie.slice(F,w)}`,M=w)}}}else M=1;else E(l)&&ie.charCodeAt(1)===_&&(V=ie.slice(0,2),M=2,Y>2&&p(ie.charCodeAt(2))&&(C=!0,M=3));if(V.length>0)if(L.length>0){if(V.toLowerCase()!==L.toLowerCase())continue}else L=V;if(K){if(L.length>0)break}else if(z=`${ie.slice(M)}\\${z}`,K=C,C&&L.length>0)break}return z=D(z,!K,"\\",p),K?`${L}\\${z}`:`${L}${z}`||"."},normalize(b){m(b,"path");const L=b.length;if(L===0)return".";let z=0,K,J=!1;const ie=b.charCodeAt(0);if(L===1)return T(ie)?"\\":b;if(p(ie))if(J=!0,p(b.charCodeAt(1))){let M=2,V=M;for(;M<L&&!p(b.charCodeAt(M));)M++;if(M<L&&M!==V){const C=b.slice(V,M);for(V=M;M<L&&p(b.charCodeAt(M));)M++;if(M<L&&M!==V){for(V=M;M<L&&!p(b.charCodeAt(M));)M++;if(M===L)return`\\\\${C}\\${b.slice(V)}\\`;M!==V&&(K=`\\\\${C}\\${b.slice(V,M)}`,z=M)}}}else z=1;else E(ie)&&b.charCodeAt(1)===_&&(K=b.slice(0,2),z=2,L>2&&p(b.charCodeAt(2))&&(J=!0,z=3));let Y=z<L?D(b.slice(z),!J,"\\",p):"";return Y.length===0&&!J&&(Y="."),Y.length>0&&p(b.charCodeAt(L-1))&&(Y+="\\"),K===void 0?J?`\\${Y}`:Y:J?`${K}\\${Y}`:`${K}${Y}`},isAbsolute(b){m(b,"path");const L=b.length;if(L===0)return!1;const z=b.charCodeAt(0);return p(z)||L>2&&E(z)&&b.charCodeAt(1)===_&&p(b.charCodeAt(2))},join(...b){if(b.length===0)return".";let L,z;for(let ie=0;ie<b.length;++ie){const Y=b[ie];m(Y,"path"),Y.length>0&&(L===void 0?L=z=Y:L+=`\\${Y}`)}if(L===void 0)return".";let K=!0,J=0;if(typeof z=="string"&&p(z.charCodeAt(0))){++J;const ie=z.length;ie>1&&p(z.charCodeAt(1))&&(++J,ie>2&&(p(z.charCodeAt(2))?++J:K=!1))}if(K){for(;J<L.length&&p(L.charCodeAt(J));)J++;J>=2&&(L=`\\${L.slice(J)}`)}return G.win32.normalize(L)},relative(b,L){if(m(b,"from"),m(L,"to"),b===L)return"";const z=G.win32.resolve(b),K=G.win32.resolve(L);if(z===K||(b=z.toLowerCase(),L=K.toLowerCase(),b===L))return"";let J=0;for(;J<b.length&&b.charCodeAt(J)===h;)J++;let ie=b.length;for(;ie-1>J&&b.charCodeAt(ie-1)===h;)ie--;const Y=ie-J;let M=0;for(;M<L.length&&L.charCodeAt(M)===h;)M++;let V=L.length;for(;V-1>M&&L.charCodeAt(V-1)===h;)V--;const C=V-M,l=Y<C?Y:C;let w=-1,F=0;for(;F<l;F++){const j=b.charCodeAt(J+F);if(j!==L.charCodeAt(M+F))break;j===h&&(w=F)}if(F!==l){if(w===-1)return K}else{if(C>l){if(L.charCodeAt(M+F)===h)return K.slice(M+F+1);if(F===2)return K.slice(M+F)}Y>l&&(b.charCodeAt(J+F)===h?w=F:F===2&&(w=3)),w===-1&&(w=0)}let q="";for(F=J+w+1;F<=ie;++F)(F===ie||b.charCodeAt(F)===h)&&(q+=q.length===0?"..":"\\..");return M+=w,q.length>0?`${q}${K.slice(M,V)}`:(K.charCodeAt(M)===h&&++M,K.slice(M,V))},toNamespacedPath(b){if(typeof b!="string"||b.length===0)return b;const L=G.win32.resolve(b);if(L.length<=2)return b;if(L.charCodeAt(0)===h){if(L.charCodeAt(1)===h){const z=L.charCodeAt(2);if(z!==y&&z!==d)return`\\\\?\\UNC\\${L.slice(2)}`}}else if(E(L.charCodeAt(0))&&L.charCodeAt(1)===_&&L.charCodeAt(2)===h)return`\\\\?\\${L}`;return b},dirname(b){m(b,"path");const L=b.length;if(L===0)return".";let z=-1,K=0;const J=b.charCodeAt(0);if(L===1)return p(J)?b:".";if(p(J)){if(z=K=1,p(b.charCodeAt(1))){let M=2,V=M;for(;M<L&&!p(b.charCodeAt(M));)M++;if(M<L&&M!==V){for(V=M;M<L&&p(b.charCodeAt(M));)M++;if(M<L&&M!==V){for(V=M;M<L&&!p(b.charCodeAt(M));)M++;if(M===L)return b;M!==V&&(z=K=M+1)}}}}else E(J)&&b.charCodeAt(1)===_&&(z=L>2&&p(b.charCodeAt(2))?3:2,K=z);let ie=-1,Y=!0;for(let M=L-1;M>=K;--M)if(p(b.charCodeAt(M))){if(!Y){ie=M;break}}else Y=!1;if(ie===-1){if(z===-1)return".";ie=z}return b.slice(0,ie)},basename(b,L){L!==void 0&&m(L,"ext"),m(b,"path");let z=0,K=-1,J=!0,ie;if(b.length>=2&&E(b.charCodeAt(0))&&b.charCodeAt(1)===_&&(z=2),L!==void 0&&L.length>0&&L.length<=b.length){if(L===b)return"";let Y=L.length-1,M=-1;for(ie=b.length-1;ie>=z;--ie){const V=b.charCodeAt(ie);if(p(V)){if(!J){z=ie+1;break}}else M===-1&&(J=!1,M=ie+1),Y>=0&&(V===L.charCodeAt(Y)?--Y===-1&&(K=ie):(Y=-1,K=M))}return z===K?K=M:K===-1&&(K=b.length),b.slice(z,K)}for(ie=b.length-1;ie>=z;--ie)if(p(b.charCodeAt(ie))){if(!J){z=ie+1;break}}else K===-1&&(J=!1,K=ie+1);return K===-1?"":b.slice(z,K)},extname(b){m(b,"path");let L=0,z=-1,K=0,J=-1,ie=!0,Y=0;b.length>=2&&b.charCodeAt(1)===_&&E(b.charCodeAt(0))&&(L=K=2);for(let M=b.length-1;M>=L;--M){const V=b.charCodeAt(M);if(p(V)){if(!ie){K=M+1;break}continue}J===-1&&(ie=!1,J=M+1),V===d?z===-1?z=M:Y!==1&&(Y=1):z!==-1&&(Y=-1)}return z===-1||J===-1||Y===0||Y===1&&z===J-1&&z===K+1?"":b.slice(z,J)},format:x.bind(null,"\\"),parse(b){m(b,"path");const L={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return L;const z=b.length;let K=0,J=b.charCodeAt(0);if(z===1)return p(J)?(L.root=L.dir=b,L):(L.base=L.name=b,L);if(p(J)){if(K=1,p(b.charCodeAt(1))){let w=2,F=w;for(;w<z&&!p(b.charCodeAt(w));)w++;if(w<z&&w!==F){for(F=w;w<z&&p(b.charCodeAt(w));)w++;if(w<z&&w!==F){for(F=w;w<z&&!p(b.charCodeAt(w));)w++;w===z?K=w:w!==F&&(K=w+1)}}}}else if(E(J)&&b.charCodeAt(1)===_){if(z<=2)return L.root=L.dir=b,L;if(K=2,p(b.charCodeAt(2))){if(z===3)return L.root=L.dir=b,L;K=3}}K>0&&(L.root=b.slice(0,K));let ie=-1,Y=K,M=-1,V=!0,C=b.length-1,l=0;for(;C>=K;--C){if(J=b.charCodeAt(C),p(J)){if(!V){Y=C+1;break}continue}M===-1&&(V=!1,M=C+1),J===d?ie===-1?ie=C:l!==1&&(l=1):ie!==-1&&(l=-1)}return M!==-1&&(ie===-1||l===0||l===1&&ie===M-1&&ie===Y+1?L.base=L.name=b.slice(Y,M):(L.name=b.slice(Y,ie),L.base=b.slice(Y,M),L.ext=b.slice(ie,M))),Y>0&&Y!==K?L.dir=b.slice(0,Y-1):L.dir=L.root,L},sep:"\\",delimiter:";",win32:null,posix:null};const W=(()=>{if(g){const b=/\\/g;return()=>{const L=R.cwd().replace(b,"/");return L.slice(L.indexOf("/"))}}return()=>R.cwd()})();G.posix={resolve(...b){let L="",z=!1;for(let K=b.length-1;K>=-1&&!z;K--){const J=K>=0?b[K]:W();m(J,"path"),J.length!==0&&(L=`${J}/${L}`,z=J.charCodeAt(0)===f)}return L=D(L,!z,"/",T),z?`/${L}`:L.length>0?L:"."},normalize(b){if(m(b,"path"),b.length===0)return".";const L=b.charCodeAt(0)===f,z=b.charCodeAt(b.length-1)===f;return b=D(b,!L,"/",T),b.length===0?L?"/":z?"./":".":(z&&(b+="/"),L?`/${b}`:b)},isAbsolute(b){return m(b,"path"),b.length>0&&b.charCodeAt(0)===f},join(...b){if(b.length===0)return".";let L;for(let z=0;z<b.length;++z){const K=b[z];m(K,"path"),K.length>0&&(L===void 0?L=K:L+=`/${K}`)}return L===void 0?".":G.posix.normalize(L)},relative(b,L){if(m(b,"from"),m(L,"to"),b===L||(b=G.posix.resolve(b),L=G.posix.resolve(L),b===L))return"";const z=1,K=b.length,J=K-z,ie=1,Y=L.length-ie,M=J<Y?J:Y;let V=-1,C=0;for(;C<M;C++){const w=b.charCodeAt(z+C);if(w!==L.charCodeAt(ie+C))break;w===f&&(V=C)}if(C===M)if(Y>M){if(L.charCodeAt(ie+C)===f)return L.slice(ie+C+1);if(C===0)return L.slice(ie+C)}else J>M&&(b.charCodeAt(z+C)===f?V=C:C===0&&(V=0));let l="";for(C=z+V+1;C<=K;++C)(C===K||b.charCodeAt(C)===f)&&(l+=l.length===0?"..":"/..");return`${l}${L.slice(ie+V)}`},toNamespacedPath(b){return b},dirname(b){if(m(b,"path"),b.length===0)return".";const L=b.charCodeAt(0)===f;let z=-1,K=!0;for(let J=b.length-1;J>=1;--J)if(b.charCodeAt(J)===f){if(!K){z=J;break}}else K=!1;return z===-1?L?"/":".":L&&z===1?"//":b.slice(0,z)},basename(b,L){L!==void 0&&m(L,"ext"),m(b,"path");let z=0,K=-1,J=!0,ie;if(L!==void 0&&L.length>0&&L.length<=b.length){if(L===b)return"";let Y=L.length-1,M=-1;for(ie=b.length-1;ie>=0;--ie){const V=b.charCodeAt(ie);if(V===f){if(!J){z=ie+1;break}}else M===-1&&(J=!1,M=ie+1),Y>=0&&(V===L.charCodeAt(Y)?--Y===-1&&(K=ie):(Y=-1,K=M))}return z===K?K=M:K===-1&&(K=b.length),b.slice(z,K)}for(ie=b.length-1;ie>=0;--ie)if(b.charCodeAt(ie)===f){if(!J){z=ie+1;break}}else K===-1&&(J=!1,K=ie+1);return K===-1?"":b.slice(z,K)},extname(b){m(b,"path");let L=-1,z=0,K=-1,J=!0,ie=0;for(let Y=b.length-1;Y>=0;--Y){const M=b.charCodeAt(Y);if(M===f){if(!J){z=Y+1;break}continue}K===-1&&(J=!1,K=Y+1),M===d?L===-1?L=Y:ie!==1&&(ie=1):L!==-1&&(ie=-1)}return L===-1||K===-1||ie===0||ie===1&&L===K-1&&L===z+1?"":b.slice(L,K)},format:x.bind(null,"/"),parse(b){m(b,"path");const L={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return L;const z=b.charCodeAt(0)===f;let K;z?(L.root="/",K=1):K=0;let J=-1,ie=0,Y=-1,M=!0,V=b.length-1,C=0;for(;V>=K;--V){const l=b.charCodeAt(V);if(l===f){if(!M){ie=V+1;break}continue}Y===-1&&(M=!1,Y=V+1),l===d?J===-1?J=V:C!==1&&(C=1):J!==-1&&(C=-1)}if(Y!==-1){const l=ie===0&&z?1:ie;J===-1||C===0||C===1&&J===Y-1&&J===ie+1?L.base=L.name=b.slice(l,Y):(L.name=b.slice(l,J),L.base=b.slice(l,Y),L.ext=b.slice(J,Y))}return ie>0?L.dir=b.slice(0,ie-1):z&&(L.dir="/"),L},sep:"/",delimiter:":",win32:null,posix:null},G.posix.win32=G.win32.win32=G.win32,G.posix.posix=G.win32.posix=G.posix,G.normalize=g?G.win32.normalize:G.posix.normalize,G.isAbsolute=g?G.win32.isAbsolute:G.posix.isAbsolute,G.join=g?G.win32.join:G.posix.join,G.resolve=g?G.win32.resolve:G.posix.resolve,G.relative=g?G.win32.relative:G.posix.relative,G.dirname=g?G.win32.dirname:G.posix.dirname,G.basename=g?G.win32.basename:G.posix.basename,G.extname=g?G.win32.extname:G.posix.extname,G.format=g?G.win32.format:G.posix.format,G.parse=g?G.win32.parse:G.posix.parse,G.toNamespacedPath=g?G.win32.toNamespacedPath:G.posix.toNamespacedPath,G.sep=g?G.win32.sep:G.posix.sep,G.delimiter=g?G.win32.delimiter:G.posix.delimiter},821:(s,G,N)=>{"use strict";var V;var R=N(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.isAndroid=G.isEdge=G.isSafari=G.isFirefox=G.isChrome=G.OS=G.setTimeout0=G.setTimeout0IsFaster=G.translationsConfigFile=G.platformLocale=G.locale=G.Language=G.language=G.userAgent=G.platform=G.isCI=G.isMobile=G.isIOS=G.webWorkerOrigin=G.isWebWorker=G.isWeb=G.isElectron=G.isNative=G.isLinuxSnap=G.isLinux=G.isMacintosh=G.isWindows=G.LANGUAGE_DEFAULT=void 0,G.PlatformToString=L,G.isLittleEndian=Y,G.isBigSurOrNewer=M;const I=N(69175);G.LANGUAGE_DEFAULT="en";let P=!1,S=!1,c=!1,d=!1,f=!1,h=!1,_=!1,y=!1,u=!1,k=!1,m,g=G.LANGUAGE_DEFAULT,p=G.LANGUAGE_DEFAULT,T,E;const D=globalThis;let x;typeof D.vscode!="undefined"&&typeof D.vscode.process!="undefined"?x=D.vscode.process:typeof R!="undefined"&&(x=R);const W=typeof((V=x==null?void 0:x.versions)==null?void 0:V.electron)=="string",b=W&&(x==null?void 0:x.type)==="renderer";if(typeof x=="object"){P=x.platform==="win32",S=x.platform==="darwin",c=x.platform==="linux",d=c&&!!x.env.SNAP&&!!x.env.SNAP_REVISION,_=W,u=!!x.env.CI||!!x.env.BUILD_ARTIFACTSTAGINGDIRECTORY,m=G.LANGUAGE_DEFAULT,g=G.LANGUAGE_DEFAULT;const C=x.env.VSCODE_NLS_CONFIG;if(C)try{const l=JSON.parse(C),w=l.availableLanguages["*"];m=l.locale,p=l.osLocale,g=w||G.LANGUAGE_DEFAULT,T=l._translationsConfigFile}catch{}f=!0}else typeof navigator=="object"&&!b?(E=navigator.userAgent,P=E.indexOf("Windows")>=0,S=E.indexOf("Macintosh")>=0,y=(E.indexOf("Macintosh")>=0||E.indexOf("iPad")>=0||E.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,c=E.indexOf("Linux")>=0,k=(E==null?void 0:E.indexOf("Mobi"))>=0,h=!0,m=I.getConfiguredDefaultLocale(I.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||G.LANGUAGE_DEFAULT,g=m,p=navigator.language):console.error("Unable to resolve platform.");function L(C){switch(C){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let z=0;S?z=1:P?z=3:c&&(z=2),G.isWindows=P,G.isMacintosh=S,G.isLinux=c,G.isLinuxSnap=d,G.isNative=f,G.isElectron=_,G.isWeb=h,G.isWebWorker=h&&typeof D.importScripts=="function",G.webWorkerOrigin=G.isWebWorker?D.origin:void 0,G.isIOS=y,G.isMobile=k,G.isCI=u,G.platform=z,G.userAgent=E,G.language=g;var K;(function(C){function l(){return G.language}C.value=l;function w(){return G.language.length===2?G.language==="en":G.language.length>=3?G.language[0]==="e"&&G.language[1]==="n"&&G.language[2]==="-":!1}C.isDefaultVariant=w;function F(){return G.language==="en"}C.isDefault=F})(K||(G.Language=K={})),G.locale=m,G.platformLocale=p,G.translationsConfigFile=T,G.setTimeout0IsFaster=typeof D.postMessage=="function"&&!D.importScripts,G.setTimeout0=(()=>{if(G.setTimeout0IsFaster){const C=[];D.addEventListener("message",w=>{if(w.data&&w.data.vscodeScheduleAsyncWork)for(let F=0,q=C.length;F<q;F++){const j=C[F];if(j.id===w.data.vscodeScheduleAsyncWork){C.splice(F,1),j.callback();return}}});let l=0;return w=>{const F=++l;C.push({id:F,callback:w}),D.postMessage({vscodeScheduleAsyncWork:F},"*")}}return C=>setTimeout(C)})(),G.OS=S||y?2:P?1:3;let J=!0,ie=!1;function Y(){if(!ie){ie=!0;const C=new Uint8Array(2);C[0]=1,C[1]=2,J=new Uint16Array(C.buffer)[0]===513}return J}G.isChrome=!!(G.userAgent&&G.userAgent.indexOf("Chrome")>=0),G.isFirefox=!!(G.userAgent&&G.userAgent.indexOf("Firefox")>=0),G.isSafari=!!(!G.isChrome&&G.userAgent&&G.userAgent.indexOf("Safari")>=0),G.isEdge=!!(G.userAgent&&G.userAgent.indexOf("Edg/")>=0),G.isAndroid=!!(G.userAgent&&G.userAgent.indexOf("Android")>=0);function M(C){return parseFloat(C)>=20}},13:(s,G,N)=>{"use strict";var R=N(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.arch=G.platform=G.env=G.cwd=void 0;const I=N(821);let P;const S=globalThis.vscode;if(typeof S!="undefined"&&typeof S.process!="undefined"){const c=S.process;P={get platform(){return c.platform},get arch(){return c.arch},get env(){return c.env},cwd(){return c.cwd()}}}else typeof R!="undefined"?P={get platform(){return R.platform},get arch(){return R.arch},get env(){return R.env},cwd(){return R.env.VSCODE_CWD||R.cwd()}}:P={get platform(){return I.isWindows?"win32":I.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};G.cwd=P.cwd,G.env=P.env,G.platform=P.platform,G.arch=P.arch},84326:(s,G,N)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.URI=void 0,G.isUriComponents=m,G.uriToFsPath=x;const R=N(22177),I=N(821),P=/^\w[\w\d+.-]*$/,S=/^\//,c=/^\/\//;function d(K,J){if(!K.scheme&&J)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${K.authority}", path: "${K.path}", query: "${K.query}", fragment: "${K.fragment}"}`);if(K.scheme&&!P.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path){if(K.authority){if(!S.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function f(K,J){return!K&&!J?"file":K}function h(K,J){switch(K){case"https":case"http":case"file":J?J[0]!==y&&(J=y+J):J=y;break}return J}const _="",y="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class k{constructor(J,ie,Y,M,V,C=!1){xt(this,"scheme");xt(this,"authority");xt(this,"path");xt(this,"query");xt(this,"fragment");typeof J=="object"?(this.scheme=J.scheme||_,this.authority=J.authority||_,this.path=J.path||_,this.query=J.query||_,this.fragment=J.fragment||_):(this.scheme=f(J,C),this.authority=ie||_,this.path=h(this.scheme,Y||_),this.query=M||_,this.fragment=V||_,d(this,C))}static isUri(J){return J instanceof k?!0:J?typeof J.authority=="string"&&typeof J.fragment=="string"&&typeof J.path=="string"&&typeof J.query=="string"&&typeof J.scheme=="string"&&typeof J.fsPath=="string"&&typeof J.with=="function"&&typeof J.toString=="function":!1}get fsPath(){return x(this,!1)}with(J){if(!J)return this;let{scheme:ie,authority:Y,path:M,query:V,fragment:C}=J;return ie===void 0?ie=this.scheme:ie===null&&(ie=_),Y===void 0?Y=this.authority:Y===null&&(Y=_),M===void 0?M=this.path:M===null&&(M=_),V===void 0?V=this.query:V===null&&(V=_),C===void 0?C=this.fragment:C===null&&(C=_),ie===this.scheme&&Y===this.authority&&M===this.path&&V===this.query&&C===this.fragment?this:new p(ie,Y,M,V,C)}static parse(J,ie=!1){const Y=u.exec(J);return Y?new p(Y[2]||_,z(Y[4]||_),z(Y[5]||_),z(Y[7]||_),z(Y[9]||_),ie):new p(_,_,_,_,_)}static file(J){let ie=_;if(I.isWindows&&(J=J.replace(/\\/g,y)),J[0]===y&&J[1]===y){const Y=J.indexOf(y,2);Y===-1?(ie=J.substring(2),J=y):(ie=J.substring(2,Y),J=J.substring(Y)||y)}return new p("file",ie,J,_,_)}static from(J,ie){return new p(J.scheme,J.authority,J.path,J.query,J.fragment,ie)}static joinPath(J,...ie){if(!J.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Y;return I.isWindows&&J.scheme==="file"?Y=k.file(R.win32.join(x(J,!0),...ie)).path:Y=R.posix.join(J.path,...ie),J.with({path:Y})}toString(J=!1){return W(this,J)}toJSON(){return this}static revive(J){var ie,Y;if(J){if(J instanceof k)return J;{const M=new p(J);return M._formatted=(ie=J.external)!=null?ie:null,M._fsPath=J._sep===g&&(Y=J.fsPath)!=null?Y:null,M}}else return J}}G.URI=k;function m(K){return!K||typeof K!="object"?!1:typeof K.scheme=="string"&&(typeof K.authority=="string"||typeof K.authority=="undefined")&&(typeof K.path=="string"||typeof K.path=="undefined")&&(typeof K.query=="string"||typeof K.query=="undefined")&&(typeof K.fragment=="string"||typeof K.fragment=="undefined")}const g=I.isWindows?1:void 0;class p extends k{constructor(){super(...arguments);xt(this,"_formatted",null);xt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(ie=!1){return ie?W(this,!0):(this._formatted||(this._formatted=W(this,!1)),this._formatted)}toJSON(){const ie={$mid:1};return this._fsPath&&(ie.fsPath=this._fsPath,ie._sep=g),this._formatted&&(ie.external=this._formatted),this.path&&(ie.path=this.path),this.scheme&&(ie.scheme=this.scheme),this.authority&&(ie.authority=this.authority),this.query&&(ie.query=this.query),this.fragment&&(ie.fragment=this.fragment),ie}}const T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(K,J,ie){let Y,M=-1;for(let V=0;V<K.length;V++){const C=K.charCodeAt(V);if(C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===45||C===46||C===95||C===126||J&&C===47||ie&&C===91||ie&&C===93||ie&&C===58)M!==-1&&(Y+=encodeURIComponent(K.substring(M,V)),M=-1),Y!==void 0&&(Y+=K.charAt(V));else{Y===void 0&&(Y=K.substr(0,V));const l=T[C];l!==void 0?(M!==-1&&(Y+=encodeURIComponent(K.substring(M,V)),M=-1),Y+=l):M===-1&&(M=V)}}return M!==-1&&(Y+=encodeURIComponent(K.substring(M))),Y!==void 0?Y:K}function D(K){let J;for(let ie=0;ie<K.length;ie++){const Y=K.charCodeAt(ie);Y===35||Y===63?(J===void 0&&(J=K.substr(0,ie)),J+=T[Y]):J!==void 0&&(J+=K[ie])}return J!==void 0?J:K}function x(K,J){let ie;return K.authority&&K.path.length>1&&K.scheme==="file"?ie=`//${K.authority}${K.path}`:K.path.charCodeAt(0)===47&&(K.path.charCodeAt(1)>=65&&K.path.charCodeAt(1)<=90||K.path.charCodeAt(1)>=97&&K.path.charCodeAt(1)<=122)&&K.path.charCodeAt(2)===58?J?ie=K.path.substr(1):ie=K.path[1].toLowerCase()+K.path.substr(2):ie=K.path,I.isWindows&&(ie=ie.replace(/\//g,"\\")),ie}function W(K,J){const ie=J?D:E;let Y="",{scheme:M,authority:V,path:C,query:l,fragment:w}=K;if(M&&(Y+=M,Y+=":"),(V||M==="file")&&(Y+=y,Y+=y),V){let F=V.indexOf("@");if(F!==-1){const q=V.substr(0,F);V=V.substr(F+1),F=q.lastIndexOf(":"),F===-1?Y+=ie(q,!1,!1):(Y+=ie(q.substr(0,F),!1,!1),Y+=":",Y+=ie(q.substr(F+1),!1,!0)),Y+="@"}V=V.toLowerCase(),F=V.lastIndexOf(":"),F===-1?Y+=ie(V,!1,!0):(Y+=ie(V.substr(0,F),!1,!0),Y+=V.substr(F))}if(C){if(C.length>=3&&C.charCodeAt(0)===47&&C.charCodeAt(2)===58){const F=C.charCodeAt(1);F>=65&&F<=90&&(C=`/${String.fromCharCode(F+32)}:${C.substr(3)}`)}else if(C.length>=2&&C.charCodeAt(1)===58){const F=C.charCodeAt(0);F>=65&&F<=90&&(C=`${String.fromCharCode(F+32)}:${C.substr(2)}`)}Y+=ie(C,!0,!1)}return l&&(Y+="?",Y+=ie(l,!1,!1)),w&&(Y+="#",Y+=J?w:E(w,!1,!1)),Y}function b(K){try{return decodeURIComponent(K)}catch{return K.length>3?K.substr(0,3)+b(K.substr(3)):K}}const L=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function z(K){return K.match(L)?K.replace(L,J=>b(J)):K}},69175:(s,G)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(G,"__esModule",{value:!0}),G.localize=R,G.localize2=I,G.getConfiguredDefaultLocale=P;function N(S,c){let d;return c.length===0?d=S:d=S.replace(/\{(\d+)\}/g,function(f,h){const _=h[0];return typeof c[_]!="undefined"?c[_]:f}),d}function R(S,c,...d){return N(c,d)}function I(S,c,...d){const f=N(c,d);return{original:f,value:f}}function P(S){}},87568:(s,G,N)=>{"use strict";const R=G;R.bignum=N(39404),R.define=N(47363).define,R.base=N(9673),R.constants=N(22153),R.decoders=N(22853),R.encoders=N(24669)},47363:(s,G,N)=>{"use strict";const R=N(24669),I=N(22853),P=N(56698),S=G;S.define=function(f,h){return new c(f,h)};function c(d,f){this.name=d,this.body=f,this.decoders={},this.encoders={}}c.prototype._createNamed=function(f){const h=this.name;function _(y){this._initNamed(y,h)}return P(_,f),_.prototype._initNamed=function(u,k){f.call(this,u,k)},new _(this)},c.prototype._getDecoder=function(f){return f=f||"der",this.decoders.hasOwnProperty(f)||(this.decoders[f]=this._createNamed(I[f])),this.decoders[f]},c.prototype.decode=function(f,h,_){return this._getDecoder(h).decode(f,_)},c.prototype._getEncoder=function(f){return f=f||"der",this.encoders.hasOwnProperty(f)||(this.encoders[f]=this._createNamed(R[f])),this.encoders[f]},c.prototype.encode=function(f,h,_){return this._getEncoder(h).encode(f,_)}},47227:(s,G,N)=>{"use strict";const R=N(56698),I=N(89220).a,P=N(54774).Buffer;function S(d,f){if(I.call(this,f),!P.isBuffer(d)){this.error("Input not Buffer");return}this.base=d,this.offset=0,this.length=d.length}R(S,I),G.t=S,S.isDecoderBuffer=function(f){return f instanceof S?!0:typeof f=="object"&&P.isBuffer(f.base)&&f.constructor.name==="DecoderBuffer"&&typeof f.offset=="number"&&typeof f.length=="number"&&typeof f.save=="function"&&typeof f.restore=="function"&&typeof f.isEmpty=="function"&&typeof f.readUInt8=="function"&&typeof f.skip=="function"&&typeof f.raw=="function"},S.prototype.save=function(){return{offset:this.offset,reporter:I.prototype.save.call(this)}},S.prototype.restore=function(f){const h=new S(this.base);return h.offset=f.offset,h.length=this.offset,this.offset=f.offset,I.prototype.restore.call(this,f.reporter),h},S.prototype.isEmpty=function(){return this.offset===this.length},S.prototype.readUInt8=function(f){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(f||"DecoderBuffer overrun")},S.prototype.skip=function(f,h){if(!(this.offset+f<=this.length))return this.error(h||"DecoderBuffer overrun");const _=new S(this.base);return _._reporterState=this._reporterState,_.offset=this.offset,_.length=this.offset+f,this.offset+=f,_},S.prototype.raw=function(f){return this.base.slice(f?f.offset:this.offset,this.length)};function c(d,f){if(Array.isArray(d))this.length=0,this.value=d.map(function(h){return c.isEncoderBuffer(h)||(h=new c(h,f)),this.length+=h.length,h},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return f.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=P.byteLength(d);else if(P.isBuffer(d))this.value=d,this.length=d.length;else return f.error("Unsupported type: "+typeof d)}G.d=c,c.isEncoderBuffer=function(f){return f instanceof c?!0:typeof f=="object"&&f.constructor.name==="EncoderBuffer"&&typeof f.length=="number"&&typeof f.join=="function"},c.prototype.join=function(f,h){return f||(f=P.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(_){_.join(f,h),h+=_.length}):(typeof this.value=="number"?f[h]=this.value:typeof this.value=="string"?f.write(this.value,h):P.isBuffer(this.value)&&this.value.copy(f,h),h+=this.length)),f}},9673:(s,G,N)=>{"use strict";const R=G;R.Reporter=N(89220).a,R.DecoderBuffer=N(47227).t,R.EncoderBuffer=N(47227).d,R.Node=N(90993)},90993:(s,G,N)=>{"use strict";const R=N(89220).a,I=N(47227).d,P=N(47227).t,S=N(43349),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),f=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function h(y,u,k){const m={};this._baseState=m,m.name=k,m.enc=y,m.parent=u||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}s.exports=h;const _=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const u=this._baseState,k={};_.forEach(function(g){k[g]=u[g]});const m=new this.constructor(k.parent);return m._baseState=k,m},h.prototype._wrap=function(){const u=this._baseState;d.forEach(function(k){this[k]=function(){const g=new this.constructor(this);return u.children.push(g),g[k].apply(g,arguments)}},this)},h.prototype._init=function(u){const k=this._baseState;S(k.parent===null),u.call(this),k.children=k.children.filter(function(m){return m._baseState.parent===this},this),S.equal(k.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(u){const k=this._baseState,m=u.filter(function(g){return g instanceof this.constructor},this);u=u.filter(function(g){return!(g instanceof this.constructor)},this),m.length!==0&&(S(k.children===null),k.children=m,m.forEach(function(g){g._baseState.parent=this},this)),u.length!==0&&(S(k.args===null),k.args=u,k.reverseArgs=u.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const p={};return Object.keys(g).forEach(function(T){T==(T|0)&&(T|=0);const E=g[T];p[E]=T}),p}))},f.forEach(function(y){h.prototype[y]=function(){const k=this._baseState;throw new Error(y+" not implemented for encoding: "+k.enc)}}),c.forEach(function(y){h.prototype[y]=function(){const k=this._baseState,m=Array.prototype.slice.call(arguments);return S(k.tag===null),k.tag=y,this._useArgs(m),this}}),h.prototype.use=function(u){S(u);const k=this._baseState;return S(k.use===null),k.use=u,this},h.prototype.optional=function(){const u=this._baseState;return u.optional=!0,this},h.prototype.def=function(u){const k=this._baseState;return S(k.default===null),k.default=u,k.optional=!0,this},h.prototype.explicit=function(u){const k=this._baseState;return S(k.explicit===null&&k.implicit===null),k.explicit=u,this},h.prototype.implicit=function(u){const k=this._baseState;return S(k.explicit===null&&k.implicit===null),k.implicit=u,this},h.prototype.obj=function(){const u=this._baseState,k=Array.prototype.slice.call(arguments);return u.obj=!0,k.length!==0&&this._useArgs(k),this},h.prototype.key=function(u){const k=this._baseState;return S(k.key===null),k.key=u,this},h.prototype.any=function(){const u=this._baseState;return u.any=!0,this},h.prototype.choice=function(u){const k=this._baseState;return S(k.choice===null),k.choice=u,this._useArgs(Object.keys(u).map(function(m){return u[m]})),this},h.prototype.contains=function(u){const k=this._baseState;return S(k.use===null),k.contains=u,this},h.prototype._decode=function(u,k){const m=this._baseState;if(m.parent===null)return u.wrapResult(m.children[0]._decode(u,k));let g=m.default,p=!0,T=null;if(m.key!==null&&(T=u.enterKey(m.key)),m.optional){let D=null;if(m.explicit!==null?D=m.explicit:m.implicit!==null?D=m.implicit:m.tag!==null&&(D=m.tag),D===null&&!m.any){const x=u.save();try{m.choice===null?this._decodeGeneric(m.tag,u,k):this._decodeChoice(u,k),p=!0}catch{p=!1}u.restore(x)}else if(p=this._peekTag(u,D,m.any),u.isError(p))return p}let E;if(m.obj&&p&&(E=u.enterObject()),p){if(m.explicit!==null){const x=this._decodeTag(u,m.explicit);if(u.isError(x))return x;u=x}const D=u.offset;if(m.use===null&&m.choice===null){let x;m.any&&(x=u.save());const W=this._decodeTag(u,m.implicit!==null?m.implicit:m.tag,m.any);if(u.isError(W))return W;m.any?g=u.raw(x):u=W}if(k&&k.track&&m.tag!==null&&k.track(u.path(),D,u.length,"tagged"),k&&k.track&&m.tag!==null&&k.track(u.path(),u.offset,u.length,"content"),m.any||(m.choice===null?g=this._decodeGeneric(m.tag,u,k):g=this._decodeChoice(u,k)),u.isError(g))return g;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(W){W._decode(u,k)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const x=new P(g);g=this._getUse(m.contains,u._reporterState.obj)._decode(x,k)}}return m.obj&&p&&(g=u.leaveObject(E)),m.key!==null&&(g!==null||p===!0)?u.leaveKey(T,m.key,g):T!==null&&u.exitKey(T),g},h.prototype._decodeGeneric=function(u,k,m){const g=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(k,u,g.args[0],m):/str$/.test(u)?this._decodeStr(k,u,m):u==="objid"&&g.args?this._decodeObjid(k,g.args[0],g.args[1],m):u==="objid"?this._decodeObjid(k,null,null,m):u==="gentime"||u==="utctime"?this._decodeTime(k,u,m):u==="null_"?this._decodeNull(k,m):u==="bool"?this._decodeBool(k,m):u==="objDesc"?this._decodeStr(k,u,m):u==="int"||u==="enum"?this._decodeInt(k,g.args&&g.args[0],m):g.use!==null?this._getUse(g.use,k._reporterState.obj)._decode(k,m):k.error("unknown tag: "+u)},h.prototype._getUse=function(u,k){const m=this._baseState;return m.useDecoder=this._use(u,k),S(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},h.prototype._decodeChoice=function(u,k){const m=this._baseState;let g=null,p=!1;return Object.keys(m.choice).some(function(T){const E=u.save(),D=m.choice[T];try{const x=D._decode(u,k);if(u.isError(x))return!1;g={type:T,value:x},p=!0}catch{return u.restore(E),!1}return!0},this),p?g:u.error("Choice not matched")},h.prototype._createEncoderBuffer=function(u){return new I(u,this.reporter)},h.prototype._encode=function(u,k,m){const g=this._baseState;if(g.default!==null&&g.default===u)return;const p=this._encodeValue(u,k,m);if(p!==void 0&&!this._skipDefault(p,k,m))return p},h.prototype._encodeValue=function(u,k,m){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(u,k||new R);let p=null;if(this.reporter=k,g.optional&&u===void 0)if(g.default!==null)u=g.default;else return;let T=null,E=!1;if(g.any)p=this._createEncoderBuffer(u);else if(g.choice)p=this._encodeChoice(u,k);else if(g.contains)T=this._getUse(g.contains,m)._encode(u,k),E=!0;else if(g.children)T=g.children.map(function(D){if(D._baseState.tag==="null_")return D._encode(null,k,u);if(D._baseState.key===null)return k.error("Child should have a key");const x=k.enterKey(D._baseState.key);if(typeof u!="object")return k.error("Child expected, but input is not object");const W=D._encode(u[D._baseState.key],k,u);return k.leaveKey(x),W},this).filter(function(D){return D}),T=this._createEncoderBuffer(T);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return k.error("Too many args for : "+g.tag);if(!Array.isArray(u))return k.error("seqof/setof, but data is not Array");const D=this.clone();D._baseState.implicit=null,T=this._createEncoderBuffer(u.map(function(x){const W=this._baseState;return this._getUse(W.args[0],u)._encode(x,k)},D))}else g.use!==null?p=this._getUse(g.use,m)._encode(u,k):(T=this._encodePrimitive(g.tag,u),E=!0);if(!g.any&&g.choice===null){const D=g.implicit!==null?g.implicit:g.tag,x=g.implicit===null?"universal":"context";D===null?g.use===null&&k.error("Tag could be omitted only for .use()"):g.use===null&&(p=this._encodeComposite(D,E,x,T))}return g.explicit!==null&&(p=this._encodeComposite(g.explicit,!1,"context",p)),p},h.prototype._encodeChoice=function(u,k){const m=this._baseState,g=m.choice[u.type];return g||S(!1,u.type+" not found in "+JSON.stringify(Object.keys(m.choice))),g._encode(u.value,k)},h.prototype._encodePrimitive=function(u,k){const m=this._baseState;if(/str$/.test(u))return this._encodeStr(k,u);if(u==="objid"&&m.args)return this._encodeObjid(k,m.reverseArgs[0],m.args[1]);if(u==="objid")return this._encodeObjid(k,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(k,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(k,m.args&&m.reverseArgs[0]);if(u==="bool")return this._encodeBool(k);if(u==="objDesc")return this._encodeStr(k,u);throw new Error("Unsupported tag: "+u)},h.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},h.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},89220:(s,G,N)=>{"use strict";const R=N(56698);function I(S){this._reporterState={obj:null,path:[],options:S||{},errors:[]}}G.a=I,I.prototype.isError=function(c){return c instanceof P},I.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},I.prototype.restore=function(c){const d=this._reporterState;d.obj=c.obj,d.path=d.path.slice(0,c.pathLen)},I.prototype.enterKey=function(c){return this._reporterState.path.push(c)},I.prototype.exitKey=function(c){const d=this._reporterState;d.path=d.path.slice(0,c-1)},I.prototype.leaveKey=function(c,d,f){const h=this._reporterState;this.exitKey(c),h.obj!==null&&(h.obj[d]=f)},I.prototype.path=function(){return this._reporterState.path.join("/")},I.prototype.enterObject=function(){const c=this._reporterState,d=c.obj;return c.obj={},d},I.prototype.leaveObject=function(c){const d=this._reporterState,f=d.obj;return d.obj=c,f},I.prototype.error=function(c){let d;const f=this._reporterState,h=c instanceof P;if(h?d=c:d=new P(f.path.map(function(_){return"["+JSON.stringify(_)+"]"}).join(""),c.message||c,c.stack),!f.options.partial)throw d;return h||f.errors.push(d),d},I.prototype.wrapResult=function(c){const d=this._reporterState;return d.options.partial?{result:this.isError(c)?null:c,errors:d.errors}:c};function P(S,c){this.path=S,this.rethrow(c)}R(P,Error),P.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,P),!this.stack)try{throw new Error(this.message)}catch(d){this.stack=d.stack}return this}},74598:(s,G)=>{"use strict";function N(R){const I={};return Object.keys(R).forEach(function(P){(P|0)==P&&(P=P|0);const S=R[P];I[S]=P}),I}G.tagClass={0:"universal",1:"application",2:"context",3:"private"},G.tagClassByName=N(G.tagClass),G.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},G.tagByName=N(G.tag)},22153:(s,G,N)=>{"use strict";const R=G;R._reverse=function(P){const S={};return Object.keys(P).forEach(function(c){(c|0)==c&&(c=c|0);const d=P[c];S[d]=c}),S},R.der=N(74598)},62010:(s,G,N)=>{"use strict";const R=N(56698),I=N(39404),P=N(47227).t,S=N(90993),c=N(74598);function d(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new f,this.tree._init(y.body)}s.exports=d,d.prototype.decode=function(u,k){return P.isDecoderBuffer(u)||(u=new P(u,k)),this.tree._decode(u,k)};function f(y){S.call(this,"der",y)}R(f,S),f.prototype._peekTag=function(u,k,m){if(u.isEmpty())return!1;const g=u.save(),p=h(u,'Failed to peek tag: "'+k+'"');return u.isError(p)?p:(u.restore(g),p.tag===k||p.tagStr===k||p.tagStr+"of"===k||m)},f.prototype._decodeTag=function(u,k,m){const g=h(u,'Failed to decode tag of "'+k+'"');if(u.isError(g))return g;let p=_(u,g.primitive,'Failed to get length of "'+k+'"');if(u.isError(p))return p;if(!m&&g.tag!==k&&g.tagStr!==k&&g.tagStr+"of"!==k)return u.error('Failed to match tag: "'+k+'"');if(g.primitive||p!==null)return u.skip(p,'Failed to match body of: "'+k+'"');const T=u.save(),E=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(E)?E:(p=u.offset-T.offset,u.restore(T),u.skip(p,'Failed to match body of: "'+k+'"'))},f.prototype._skipUntilEnd=function(u,k){for(;;){const m=h(u,k);if(u.isError(m))return m;const g=_(u,m.primitive,k);if(u.isError(g))return g;let p;if(m.primitive||g!==null?p=u.skip(g):p=this._skipUntilEnd(u,k),u.isError(p))return p;if(m.tagStr==="end")break}},f.prototype._decodeList=function(u,k,m,g){const p=[];for(;!u.isEmpty();){const T=this._peekTag(u,"end");if(u.isError(T))return T;const E=m.decode(u,"der",g);if(u.isError(E)&&T)break;p.push(E)}return p},f.prototype._decodeStr=function(u,k){if(k==="bitstr"){const m=u.readUInt8();return u.isError(m)?m:{unused:m,data:u.raw()}}else if(k==="bmpstr"){const m=u.raw();if(m.length%2===1)return u.error("Decoding of string type: bmpstr length mismatch");let g="";for(let p=0;p<m.length/2;p++)g+=String.fromCharCode(m.readUInt16BE(p*2));return g}else if(k==="numstr"){const m=u.raw().toString("ascii");return this._isNumstr(m)?m:u.error("Decoding of string type: numstr unsupported characters")}else{if(k==="octstr")return u.raw();if(k==="objDesc")return u.raw();if(k==="printstr"){const m=u.raw().toString("ascii");return this._isPrintstr(m)?m:u.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(k)?u.raw().toString():u.error("Decoding of string type: "+k+" unsupported")}},f.prototype._decodeObjid=function(u,k,m){let g;const p=[];let T=0,E=0;for(;!u.isEmpty();)E=u.readUInt8(),T<<=7,T|=E&127,E&128||(p.push(T),T=0);E&128&&p.push(T);const D=p[0]/40|0,x=p[0]%40;if(m?g=p:g=[D,x].concat(p.slice(1)),k){let W=k[g.join(" ")];W===void 0&&(W=k[g.join(".")]),W!==void 0&&(g=W)}return g},f.prototype._decodeTime=function(u,k){const m=u.raw().toString();let g,p,T,E,D,x;if(k==="gentime")g=m.slice(0,4)|0,p=m.slice(4,6)|0,T=m.slice(6,8)|0,E=m.slice(8,10)|0,D=m.slice(10,12)|0,x=m.slice(12,14)|0;else if(k==="utctime")g=m.slice(0,2)|0,p=m.slice(2,4)|0,T=m.slice(4,6)|0,E=m.slice(6,8)|0,D=m.slice(8,10)|0,x=m.slice(10,12)|0,g<70?g=2e3+g:g=1900+g;else return u.error("Decoding "+k+" time is not supported yet");return Date.UTC(g,p-1,T,E,D,x,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(u){const k=u.readUInt8();return u.isError(k)?k:k!==0},f.prototype._decodeInt=function(u,k){const m=u.raw();let g=new I(m);return k&&(g=k[g.toString(10)]||g),g},f.prototype._use=function(u,k){return typeof u=="function"&&(u=u(k)),u._getDecoder("der").tree};function h(y,u){let k=y.readUInt8(u);if(y.isError(k))return k;const m=c.tagClass[k>>6],g=(k&32)===0;if((k&31)===31){let T=k;for(k=0;(T&128)===128;){if(T=y.readUInt8(u),y.isError(T))return T;k<<=7,k|=T&127}}else k&=31;const p=c.tag[k];return{cls:m,primitive:g,tag:k,tagStr:p}}function _(y,u,k){let m=y.readUInt8(k);if(y.isError(m))return m;if(!u&&m===128)return null;if(!(m&128))return m;const g=m&127;if(g>4)return y.error("length octect is too long");m=0;for(let p=0;p<g;p++){m<<=8;const T=y.readUInt8(k);if(y.isError(T))return T;m|=T}return m}},22853:(s,G,N)=>{"use strict";const R=G;R.der=N(62010),R.pem=N(58903)},58903:(s,G,N)=>{"use strict";const R=N(56698),I=N(54774).Buffer,P=N(62010);function S(c){P.call(this,c),this.enc="pem"}R(S,P),s.exports=S,S.prototype.decode=function(d,f){const h=d.toString().split(/[\r\n]+/g),_=f.label.toUpperCase(),y=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,k=-1;for(let p=0;p<h.length;p++){const T=h[p].match(y);if(T!==null&&T[2]===_)if(u===-1){if(T[1]!=="BEGIN")break;u=p}else{if(T[1]!=="END")break;k=p;break}}if(u===-1||k===-1)throw new Error("PEM section not found for: "+_);const m=h.slice(u+1,k).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const g=I.from(m,"base64");return P.prototype.decode.call(this,g,f)}},70082:(s,G,N)=>{"use strict";const R=N(56698),I=N(54774).Buffer,P=N(90993),S=N(74598);function c(_){this.enc="der",this.name=_.name,this.entity=_,this.tree=new d,this.tree._init(_.body)}s.exports=c,c.prototype.encode=function(y,u){return this.tree._encode(y,u).join()};function d(_){P.call(this,"der",_)}R(d,P),d.prototype._encodeComposite=function(y,u,k,m){const g=h(y,u,k,this.reporter);if(m.length<128){const E=I.alloc(2);return E[0]=g,E[1]=m.length,this._createEncoderBuffer([E,m])}let p=1;for(let E=m.length;E>=256;E>>=8)p++;const T=I.alloc(2+p);T[0]=g,T[1]=128|p;for(let E=1+p,D=m.length;D>0;E--,D>>=8)T[E]=D&255;return this._createEncoderBuffer([T,m])},d.prototype._encodeStr=function(y,u){if(u==="bitstr")return this._createEncoderBuffer([y.unused|0,y.data]);if(u==="bmpstr"){const k=I.alloc(y.length*2);for(let m=0;m<y.length;m++)k.writeUInt16BE(y.charCodeAt(m),m*2);return this._createEncoderBuffer(k)}else return u==="numstr"?this._isNumstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(y)?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(y):u==="objDesc"?this._createEncoderBuffer(y):this.reporter.error("Encoding of string type: "+u+" unsupported")},d.prototype._encodeObjid=function(y,u,k){if(typeof y=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(y))return this.reporter.error("objid not found in values map");y=u[y].split(/[\s.]+/g);for(let T=0;T<y.length;T++)y[T]|=0}else if(Array.isArray(y)){y=y.slice();for(let T=0;T<y.length;T++)y[T]|=0}if(!Array.isArray(y))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(y));if(!k){if(y[1]>=40)return this.reporter.error("Second objid identifier OOB");y.splice(0,2,y[0]*40+y[1])}let m=0;for(let T=0;T<y.length;T++){let E=y[T];for(m++;E>=128;E>>=7)m++}const g=I.alloc(m);let p=g.length-1;for(let T=y.length-1;T>=0;T--){let E=y[T];for(g[p--]=E&127;(E>>=7)>0;)g[p--]=128|E&127}return this._createEncoderBuffer(g)};function f(_){return _<10?"0"+_:_}d.prototype._encodeTime=function(y,u){let k;const m=new Date(y);return u==="gentime"?k=[f(m.getUTCFullYear()),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):u==="utctime"?k=[f(m.getUTCFullYear()%100),f(m.getUTCMonth()+1),f(m.getUTCDate()),f(m.getUTCHours()),f(m.getUTCMinutes()),f(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(k,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(y,u){if(typeof y=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(y))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(y));y=u[y]}if(typeof y!="number"&&!I.isBuffer(y)){const g=y.toArray();!y.sign&&g[0]&128&&g.unshift(0),y=I.from(g)}if(I.isBuffer(y)){let g=y.length;y.length===0&&g++;const p=I.alloc(g);return y.copy(p),y.length===0&&(p[0]=0),this._createEncoderBuffer(p)}if(y<128)return this._createEncoderBuffer(y);if(y<256)return this._createEncoderBuffer([0,y]);let k=1;for(let g=y;g>=256;g>>=8)k++;const m=new Array(k);for(let g=m.length-1;g>=0;g--)m[g]=y&255,y>>=8;return m[0]&128&&m.unshift(0),this._createEncoderBuffer(I.from(m))},d.prototype._encodeBool=function(y){return this._createEncoderBuffer(y?255:0)},d.prototype._use=function(y,u){return typeof y=="function"&&(y=y(u)),y._getEncoder("der").tree},d.prototype._skipDefault=function(y,u,k){const m=this._baseState;let g;if(m.default===null)return!1;const p=y.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,u,k).join()),p.length!==m.defaultBuffer.length)return!1;for(g=0;g<p.length;g++)if(p[g]!==m.defaultBuffer[g])return!1;return!0};function h(_,y,u,k){let m;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),S.tagByName.hasOwnProperty(_))m=S.tagByName[_];else if(typeof _=="number"&&(_|0)===_)m=_;else return k.error("Unknown tag: "+_);return m>=31?k.error("Multi-octet tag encoding unsupported"):(y||(m|=32),m|=S.tagClassByName[u||"universal"]<<6,m)}},24669:(s,G,N)=>{"use strict";const R=G;R.der=N(70082),R.pem=N(90735)},90735:(s,G,N)=>{"use strict";const R=N(56698),I=N(70082);function P(S){I.call(this,S),this.enc="pem"}R(P,I),s.exports=P,P.prototype.encode=function(c,d){const h=I.prototype.encode.call(this,c).toString("base64"),_=["-----BEGIN "+d.label+"-----"];for(let y=0;y<h.length;y+=64)_.push(h.slice(y,y+64));return _.push("-----END "+d.label+"-----"),_.join(`
`)}},67526:(s,G)=>{"use strict";G.byteLength=f,G.toByteArray=_,G.fromByteArray=k;for(var N=[],R=[],I=typeof Uint8Array!="undefined"?Uint8Array:Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,c=P.length;S<c;++S)N[S]=P[S],R[P.charCodeAt(S)]=S;R[45]=62,R[95]=63;function d(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=m.indexOf("=");p===-1&&(p=g);var T=p===g?0:4-p%4;return[p,T]}function f(m){var g=d(m),p=g[0],T=g[1];return(p+T)*3/4-T}function h(m,g,p){return(g+p)*3/4-p}function _(m){var g,p=d(m),T=p[0],E=p[1],D=new I(h(m,T,E)),x=0,W=E>0?T-4:T,b;for(b=0;b<W;b+=4)g=R[m.charCodeAt(b)]<<18|R[m.charCodeAt(b+1)]<<12|R[m.charCodeAt(b+2)]<<6|R[m.charCodeAt(b+3)],D[x++]=g>>16&255,D[x++]=g>>8&255,D[x++]=g&255;return E===2&&(g=R[m.charCodeAt(b)]<<2|R[m.charCodeAt(b+1)]>>4,D[x++]=g&255),E===1&&(g=R[m.charCodeAt(b)]<<10|R[m.charCodeAt(b+1)]<<4|R[m.charCodeAt(b+2)]>>2,D[x++]=g>>8&255,D[x++]=g&255),D}function y(m){return N[m>>18&63]+N[m>>12&63]+N[m>>6&63]+N[m&63]}function u(m,g,p){for(var T,E=[],D=g;D<p;D+=3)T=(m[D]<<16&16711680)+(m[D+1]<<8&65280)+(m[D+2]&255),E.push(y(T));return E.join("")}function k(m){for(var g,p=m.length,T=p%3,E=[],D=16383,x=0,W=p-T;x<W;x+=D)E.push(u(m,x,x+D>W?W:x+D));return T===1?(g=m[p-1],E.push(N[g>>2]+N[g<<4&63]+"==")):T===2&&(g=(m[p-2]<<8)+m[p-1],E.push(N[g>>10]+N[g>>4&63]+N[g<<2&63]+"=")),E.join("")}},80811:(s,G,N)=>{var R=N(84346),I=N(21640),P=N(25447),S=Function.bind,c=S.bind(S);function d(u,k,m){var g=c(P,null).apply(null,m?[k,m]:[k]);u.api={remove:g},u.remove=g,["before","error","after","wrap"].forEach(function(p){var T=m?[k,p,m]:[k,p];u[p]=u.api[p]=c(I,null).apply(null,T)})}function f(){var u="h",k={registry:{}},m=R.bind(null,k,u);return d(m,k,u),m}function h(){var u={registry:{}},k=R.bind(null,u);return d(k,u),k}var _=!1;function y(){return _||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),_=!0),h()}y.Singular=f.bind(),y.Collection=h.bind(),s.exports=y,s.exports.Hook=y,s.exports.Singular=y.Singular,s.exports.Collection=y.Collection},21640:s=>{s.exports=G;function G(N,R,I,P){var S=P;N.registry[I]||(N.registry[I]=[]),R==="before"&&(P=function(c,d){return Promise.resolve().then(S.bind(null,d)).then(c.bind(null,d))}),R==="after"&&(P=function(c,d){var f;return Promise.resolve().then(c.bind(null,d)).then(function(h){return f=h,S(f,d)}).then(function(){return f})}),R==="error"&&(P=function(c,d){return Promise.resolve().then(c.bind(null,d)).catch(function(f){return S(f,d)})}),N.registry[I].push({hook:P,orig:S})}},84346:s=>{s.exports=G;function G(N,R,I,P){if(typeof I!="function")throw new Error("method for before hook must be a function");return P||(P={}),Array.isArray(R)?R.reverse().reduce(function(S,c){return G.bind(null,N,c,S,P)},I)():Promise.resolve().then(function(){return N.registry[R]?N.registry[R].reduce(function(S,c){return c.hook.bind(null,S,P)},I)():I(P)})}},25447:s=>{s.exports=G;function G(N,R,I){if(N.registry[R]){var P=N.registry[R].map(function(S){return S.orig}).indexOf(I);P!==-1&&N.registry[R].splice(P,1)}}},39404:function(s,G,N){s=N.nmd(s),function(R,I){"use strict";function P(Y,M){if(!Y)throw new Error(M||"Assertion failed")}function S(Y,M){Y.super_=M;var V=function(){};V.prototype=M.prototype,Y.prototype=new V,Y.prototype.constructor=Y}function c(Y,M,V){if(c.isBN(Y))return Y;this.negative=0,this.words=null,this.length=0,this.red=null,Y!==null&&((M==="le"||M==="be")&&(V=M,M=10),this._init(Y||0,M||10,V||"be"))}typeof R=="object"?R.exports=c:I.BN=c,c.BN=c,c.wordSize=26;var d;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?d=window.Buffer:d=N(47790).Buffer}catch{}c.isBN=function(M){return M instanceof c?!0:M!==null&&typeof M=="object"&&M.constructor.wordSize===c.wordSize&&Array.isArray(M.words)},c.max=function(M,V){return M.cmp(V)>0?M:V},c.min=function(M,V){return M.cmp(V)<0?M:V},c.prototype._init=function(M,V,C){if(typeof M=="number")return this._initNumber(M,V,C);if(typeof M=="object")return this._initArray(M,V,C);V==="hex"&&(V=16),P(V===(V|0)&&V>=2&&V<=36),M=M.toString().replace(/\s+/g,"");var l=0;M[0]==="-"&&(l++,this.negative=1),l<M.length&&(V===16?this._parseHex(M,l,C):(this._parseBase(M,V,l),C==="le"&&this._initArray(this.toArray(),V,C)))},c.prototype._initNumber=function(M,V,C){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[M&67108863],this.length=1):M<4503599627370496?(this.words=[M&67108863,M/67108864&67108863],this.length=2):(P(M<9007199254740992),this.words=[M&67108863,M/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),V,C)},c.prototype._initArray=function(M,V,C){if(P(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var w,F,q=0;if(C==="be")for(l=M.length-1,w=0;l>=0;l-=3)F=M[l]|M[l-1]<<8|M[l-2]<<16,this.words[w]|=F<<q&67108863,this.words[w+1]=F>>>26-q&67108863,q+=24,q>=26&&(q-=26,w++);else if(C==="le")for(l=0,w=0;l<M.length;l+=3)F=M[l]|M[l+1]<<8|M[l+2]<<16,this.words[w]|=F<<q&67108863,this.words[w+1]=F>>>26-q&67108863,q+=24,q>=26&&(q-=26,w++);return this.strip()};function f(Y,M){var V=Y.charCodeAt(M);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function h(Y,M,V){var C=f(Y,V);return V-1>=M&&(C|=f(Y,V-1)<<4),C}c.prototype._parseHex=function(M,V,C){this.length=Math.ceil((M.length-V)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var w=0,F=0,q;if(C==="be")for(l=M.length-1;l>=V;l-=2)q=h(M,V,l)<<w,this.words[F]|=q&67108863,w>=18?(w-=18,F+=1,this.words[F]|=q>>>26):w+=8;else{var j=M.length-V;for(l=j%2===0?V+1:V;l<M.length;l+=2)q=h(M,V,l)<<w,this.words[F]|=q&67108863,w>=18?(w-=18,F+=1,this.words[F]|=q>>>26):w+=8}this.strip()};function _(Y,M,V,C){for(var l=0,w=Math.min(Y.length,V),F=M;F<w;F++){var q=Y.charCodeAt(F)-48;l*=C,q>=49?l+=q-49+10:q>=17?l+=q-17+10:l+=q}return l}c.prototype._parseBase=function(M,V,C){this.words=[0],this.length=1;for(var l=0,w=1;w<=67108863;w*=V)l++;l--,w=w/V|0;for(var F=M.length-C,q=F%l,j=Math.min(F,F-q)+C,$=0,Z=C;Z<j;Z+=l)$=_(M,Z,Z+l,V),this.imuln(w),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(q!==0){var te=1;for($=_(M,Z,M.length,V),Z=0;Z<q;Z++)te*=V;this.imuln(te),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this.strip()},c.prototype.copy=function(M){M.words=new Array(this.length);for(var V=0;V<this.length;V++)M.words[V]=this.words[V];M.length=this.length,M.negative=this.negative,M.red=this.red},c.prototype.clone=function(){var M=new c(null);return this.copy(M),M},c.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(M,V){M=M||10,V=V|0||1;var C;if(M===16||M==="hex"){C="";for(var l=0,w=0,F=0;F<this.length;F++){var q=this.words[F],j=((q<<l|w)&16777215).toString(16);w=q>>>24-l&16777215,w!==0||F!==this.length-1?C=y[6-j.length]+j+C:C=j+C,l+=2,l>=26&&(l-=26,F--)}for(w!==0&&(C=w.toString(16)+C);C.length%V!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(M===(M|0)&&M>=2&&M<=36){var $=u[M],Z=k[M];C="";var te=this.clone();for(te.negative=0;!te.isZero();){var B=te.modn(Z).toString(M);te=te.idivn(Z),te.isZero()?C=B+C:C=y[$-B.length]+B+C}for(this.isZero()&&(C="0"+C);C.length%V!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}P(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=this.words[1]*67108864:this.length===3&&this.words[2]===1?M+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(M,V){return P(typeof d!="undefined"),this.toArrayLike(d,M,V)},c.prototype.toArray=function(M,V){return this.toArrayLike(Array,M,V)},c.prototype.toArrayLike=function(M,V,C){var l=this.byteLength(),w=C||Math.max(1,l);P(l<=w,"byte array longer than desired length"),P(w>0,"Requested array length <= 0"),this.strip();var F=V==="le",q=new M(w),j,$,Z=this.clone();if(F){for($=0;!Z.isZero();$++)j=Z.andln(255),Z.iushrn(8),q[$]=j;for(;$<w;$++)q[$]=0}else{for($=0;$<w-l;$++)q[$]=0;for($=0;!Z.isZero();$++)j=Z.andln(255),Z.iushrn(8),q[w-$-1]=j}return q},Math.clz32?c.prototype._countBits=function(M){return 32-Math.clz32(M)}:c.prototype._countBits=function(M){var V=M,C=0;return V>=4096&&(C+=13,V>>>=13),V>=64&&(C+=7,V>>>=7),V>=8&&(C+=4,V>>>=4),V>=2&&(C+=2,V>>>=2),C+V},c.prototype._zeroBits=function(M){if(M===0)return 26;var V=M,C=0;return V&8191||(C+=13,V>>>=13),V&127||(C+=7,V>>>=7),V&15||(C+=4,V>>>=4),V&3||(C+=2,V>>>=2),V&1||C++,C},c.prototype.bitLength=function(){var M=this.words[this.length-1],V=this._countBits(M);return(this.length-1)*26+V};function m(Y){for(var M=new Array(Y.bitLength()),V=0;V<M.length;V++){var C=V/26|0,l=V%26;M[V]=(Y.words[C]&1<<l)>>>l}return M}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,V=0;V<this.length;V++){var C=this._zeroBits(this.words[V]);if(M+=C,C!==26)break}return M},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},c.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var V=0;V<M.length;V++)this.words[V]=this.words[V]|M.words[V];return this.strip()},c.prototype.ior=function(M){return P((this.negative|M.negative)===0),this.iuor(M)},c.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},c.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},c.prototype.iuand=function(M){var V;this.length>M.length?V=M:V=this;for(var C=0;C<V.length;C++)this.words[C]=this.words[C]&M.words[C];return this.length=V.length,this.strip()},c.prototype.iand=function(M){return P((this.negative|M.negative)===0),this.iuand(M)},c.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},c.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},c.prototype.iuxor=function(M){var V,C;this.length>M.length?(V=this,C=M):(V=M,C=this);for(var l=0;l<C.length;l++)this.words[l]=V.words[l]^C.words[l];if(this!==V)for(;l<V.length;l++)this.words[l]=V.words[l];return this.length=V.length,this.strip()},c.prototype.ixor=function(M){return P((this.negative|M.negative)===0),this.iuxor(M)},c.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},c.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},c.prototype.inotn=function(M){P(typeof M=="number"&&M>=0);var V=Math.ceil(M/26)|0,C=M%26;this._expand(V),C>0&&V--;for(var l=0;l<V;l++)this.words[l]=~this.words[l]&67108863;return C>0&&(this.words[l]=~this.words[l]&67108863>>26-C),this.strip()},c.prototype.notn=function(M){return this.clone().inotn(M)},c.prototype.setn=function(M,V){P(typeof M=="number"&&M>=0);var C=M/26|0,l=M%26;return this._expand(C+1),V?this.words[C]=this.words[C]|1<<l:this.words[C]=this.words[C]&~(1<<l),this.strip()},c.prototype.iadd=function(M){var V;if(this.negative!==0&&M.negative===0)return this.negative=0,V=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,V=this.isub(M),M.negative=1,V._normSign();var C,l;this.length>M.length?(C=this,l=M):(C=M,l=this);for(var w=0,F=0;F<l.length;F++)V=(C.words[F]|0)+(l.words[F]|0)+w,this.words[F]=V&67108863,w=V>>>26;for(;w!==0&&F<C.length;F++)V=(C.words[F]|0)+w,this.words[F]=V&67108863,w=V>>>26;if(this.length=C.length,w!==0)this.words[this.length]=w,this.length++;else if(C!==this)for(;F<C.length;F++)this.words[F]=C.words[F];return this},c.prototype.add=function(M){var V;return M.negative!==0&&this.negative===0?(M.negative=0,V=this.sub(M),M.negative^=1,V):M.negative===0&&this.negative!==0?(this.negative=0,V=M.sub(this),this.negative=1,V):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},c.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var V=this.iadd(M);return M.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var C=this.cmp(M);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,w;C>0?(l=this,w=M):(l=M,w=this);for(var F=0,q=0;q<w.length;q++)V=(l.words[q]|0)-(w.words[q]|0)+F,F=V>>26,this.words[q]=V&67108863;for(;F!==0&&q<l.length;q++)V=(l.words[q]|0)+F,F=V>>26,this.words[q]=V&67108863;if(F===0&&q<l.length&&l!==this)for(;q<l.length;q++)this.words[q]=l.words[q];return this.length=Math.max(this.length,q),l!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(M){return this.clone().isub(M)};function g(Y,M,V){V.negative=M.negative^Y.negative;var C=Y.length+M.length|0;V.length=C,C=C-1|0;var l=Y.words[0]|0,w=M.words[0]|0,F=l*w,q=F&67108863,j=F/67108864|0;V.words[0]=q;for(var $=1;$<C;$++){for(var Z=j>>>26,te=j&67108863,B=Math.min($,M.length-1),ae=Math.max(0,$-Y.length+1);ae<=B;ae++){var xe=$-ae|0;l=Y.words[xe]|0,w=M.words[ae]|0,F=l*w+te,Z+=F/67108864|0,te=F&67108863}V.words[$]=te|0,j=Z|0}return j!==0?V.words[$]=j|0:V.length--,V.strip()}var p=function(M,V,C){var l=M.words,w=V.words,F=C.words,q=0,j,$,Z,te=l[0]|0,B=te&8191,ae=te>>>13,xe=l[1]|0,he=xe&8191,Ne=xe>>>13,Te=l[2]|0,X=Te&8191,ee=Te>>>13,ce=l[3]|0,me=ce&8191,ke=ce>>>13,U=l[4]|0,O=U&8191,oe=U>>>13,ge=l[5]|0,we=ge&8191,ve=ge>>>13,Pe=l[6]|0,Le=Pe&8191,He=Pe>>>13,wt=l[7]|0,ze=wt&8191,et=wt>>>13,gt=l[8]|0,de=gt&8191,ne=gt>>>13,se=l[9]|0,be=se&8191,Me=se>>>13,$e=w[0]|0,Fe=$e&8191,Ke=$e>>>13,Ut=w[1]|0,Xe=Ut&8191,at=Ut>>>13,ot=w[2]|0,ct=ot&8191,pt=ot>>>13,di=w[3]|0,ht=di&8191,Nt=di>>>13,Oi=w[4]|0,Mt=Oi&8191,Ot=Oi>>>13,Rn=w[5]|0,kt=Rn&8191,lt=Rn>>>13,Tt=w[6]|0,Wt=Tt&8191,zt=Tt>>>13,Cn=w[7]|0,Ie=Cn&8191,Ge=Cn>>>13,yt=w[8]|0,it=yt&8191,ut=yt>>>13,Xt=w[9]|0,Rt=Xt&8191,Dt=Xt>>>13;C.negative=M.negative^V.negative,C.length=19,j=Math.imul(B,Fe),$=Math.imul(B,Ke),$=$+Math.imul(ae,Fe)|0,Z=Math.imul(ae,Ke);var At=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(At>>>26)|0,At&=67108863,j=Math.imul(he,Fe),$=Math.imul(he,Ke),$=$+Math.imul(Ne,Fe)|0,Z=Math.imul(Ne,Ke),j=j+Math.imul(B,Xe)|0,$=$+Math.imul(B,at)|0,$=$+Math.imul(ae,Xe)|0,Z=Z+Math.imul(ae,at)|0;var dt=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(dt>>>26)|0,dt&=67108863,j=Math.imul(X,Fe),$=Math.imul(X,Ke),$=$+Math.imul(ee,Fe)|0,Z=Math.imul(ee,Ke),j=j+Math.imul(he,Xe)|0,$=$+Math.imul(he,at)|0,$=$+Math.imul(Ne,Xe)|0,Z=Z+Math.imul(Ne,at)|0,j=j+Math.imul(B,ct)|0,$=$+Math.imul(B,pt)|0,$=$+Math.imul(ae,ct)|0,Z=Z+Math.imul(ae,pt)|0;var st=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(st>>>26)|0,st&=67108863,j=Math.imul(me,Fe),$=Math.imul(me,Ke),$=$+Math.imul(ke,Fe)|0,Z=Math.imul(ke,Ke),j=j+Math.imul(X,Xe)|0,$=$+Math.imul(X,at)|0,$=$+Math.imul(ee,Xe)|0,Z=Z+Math.imul(ee,at)|0,j=j+Math.imul(he,ct)|0,$=$+Math.imul(he,pt)|0,$=$+Math.imul(Ne,ct)|0,Z=Z+Math.imul(Ne,pt)|0,j=j+Math.imul(B,ht)|0,$=$+Math.imul(B,Nt)|0,$=$+Math.imul(ae,ht)|0,Z=Z+Math.imul(ae,Nt)|0;var _t=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(_t>>>26)|0,_t&=67108863,j=Math.imul(O,Fe),$=Math.imul(O,Ke),$=$+Math.imul(oe,Fe)|0,Z=Math.imul(oe,Ke),j=j+Math.imul(me,Xe)|0,$=$+Math.imul(me,at)|0,$=$+Math.imul(ke,Xe)|0,Z=Z+Math.imul(ke,at)|0,j=j+Math.imul(X,ct)|0,$=$+Math.imul(X,pt)|0,$=$+Math.imul(ee,ct)|0,Z=Z+Math.imul(ee,pt)|0,j=j+Math.imul(he,ht)|0,$=$+Math.imul(he,Nt)|0,$=$+Math.imul(Ne,ht)|0,Z=Z+Math.imul(Ne,Nt)|0,j=j+Math.imul(B,Mt)|0,$=$+Math.imul(B,Ot)|0,$=$+Math.imul(ae,Mt)|0,Z=Z+Math.imul(ae,Ot)|0;var ei=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(ei>>>26)|0,ei&=67108863,j=Math.imul(we,Fe),$=Math.imul(we,Ke),$=$+Math.imul(ve,Fe)|0,Z=Math.imul(ve,Ke),j=j+Math.imul(O,Xe)|0,$=$+Math.imul(O,at)|0,$=$+Math.imul(oe,Xe)|0,Z=Z+Math.imul(oe,at)|0,j=j+Math.imul(me,ct)|0,$=$+Math.imul(me,pt)|0,$=$+Math.imul(ke,ct)|0,Z=Z+Math.imul(ke,pt)|0,j=j+Math.imul(X,ht)|0,$=$+Math.imul(X,Nt)|0,$=$+Math.imul(ee,ht)|0,Z=Z+Math.imul(ee,Nt)|0,j=j+Math.imul(he,Mt)|0,$=$+Math.imul(he,Ot)|0,$=$+Math.imul(Ne,Mt)|0,Z=Z+Math.imul(Ne,Ot)|0,j=j+Math.imul(B,kt)|0,$=$+Math.imul(B,lt)|0,$=$+Math.imul(ae,kt)|0,Z=Z+Math.imul(ae,lt)|0;var Zt=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,j=Math.imul(Le,Fe),$=Math.imul(Le,Ke),$=$+Math.imul(He,Fe)|0,Z=Math.imul(He,Ke),j=j+Math.imul(we,Xe)|0,$=$+Math.imul(we,at)|0,$=$+Math.imul(ve,Xe)|0,Z=Z+Math.imul(ve,at)|0,j=j+Math.imul(O,ct)|0,$=$+Math.imul(O,pt)|0,$=$+Math.imul(oe,ct)|0,Z=Z+Math.imul(oe,pt)|0,j=j+Math.imul(me,ht)|0,$=$+Math.imul(me,Nt)|0,$=$+Math.imul(ke,ht)|0,Z=Z+Math.imul(ke,Nt)|0,j=j+Math.imul(X,Mt)|0,$=$+Math.imul(X,Ot)|0,$=$+Math.imul(ee,Mt)|0,Z=Z+Math.imul(ee,Ot)|0,j=j+Math.imul(he,kt)|0,$=$+Math.imul(he,lt)|0,$=$+Math.imul(Ne,kt)|0,Z=Z+Math.imul(Ne,lt)|0,j=j+Math.imul(B,Wt)|0,$=$+Math.imul(B,zt)|0,$=$+Math.imul(ae,Wt)|0,Z=Z+Math.imul(ae,zt)|0;var Lt=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,j=Math.imul(ze,Fe),$=Math.imul(ze,Ke),$=$+Math.imul(et,Fe)|0,Z=Math.imul(et,Ke),j=j+Math.imul(Le,Xe)|0,$=$+Math.imul(Le,at)|0,$=$+Math.imul(He,Xe)|0,Z=Z+Math.imul(He,at)|0,j=j+Math.imul(we,ct)|0,$=$+Math.imul(we,pt)|0,$=$+Math.imul(ve,ct)|0,Z=Z+Math.imul(ve,pt)|0,j=j+Math.imul(O,ht)|0,$=$+Math.imul(O,Nt)|0,$=$+Math.imul(oe,ht)|0,Z=Z+Math.imul(oe,Nt)|0,j=j+Math.imul(me,Mt)|0,$=$+Math.imul(me,Ot)|0,$=$+Math.imul(ke,Mt)|0,Z=Z+Math.imul(ke,Ot)|0,j=j+Math.imul(X,kt)|0,$=$+Math.imul(X,lt)|0,$=$+Math.imul(ee,kt)|0,Z=Z+Math.imul(ee,lt)|0,j=j+Math.imul(he,Wt)|0,$=$+Math.imul(he,zt)|0,$=$+Math.imul(Ne,Wt)|0,Z=Z+Math.imul(Ne,zt)|0,j=j+Math.imul(B,Ie)|0,$=$+Math.imul(B,Ge)|0,$=$+Math.imul(ae,Ie)|0,Z=Z+Math.imul(ae,Ge)|0;var bi=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(bi>>>26)|0,bi&=67108863,j=Math.imul(de,Fe),$=Math.imul(de,Ke),$=$+Math.imul(ne,Fe)|0,Z=Math.imul(ne,Ke),j=j+Math.imul(ze,Xe)|0,$=$+Math.imul(ze,at)|0,$=$+Math.imul(et,Xe)|0,Z=Z+Math.imul(et,at)|0,j=j+Math.imul(Le,ct)|0,$=$+Math.imul(Le,pt)|0,$=$+Math.imul(He,ct)|0,Z=Z+Math.imul(He,pt)|0,j=j+Math.imul(we,ht)|0,$=$+Math.imul(we,Nt)|0,$=$+Math.imul(ve,ht)|0,Z=Z+Math.imul(ve,Nt)|0,j=j+Math.imul(O,Mt)|0,$=$+Math.imul(O,Ot)|0,$=$+Math.imul(oe,Mt)|0,Z=Z+Math.imul(oe,Ot)|0,j=j+Math.imul(me,kt)|0,$=$+Math.imul(me,lt)|0,$=$+Math.imul(ke,kt)|0,Z=Z+Math.imul(ke,lt)|0,j=j+Math.imul(X,Wt)|0,$=$+Math.imul(X,zt)|0,$=$+Math.imul(ee,Wt)|0,Z=Z+Math.imul(ee,zt)|0,j=j+Math.imul(he,Ie)|0,$=$+Math.imul(he,Ge)|0,$=$+Math.imul(Ne,Ie)|0,Z=Z+Math.imul(Ne,Ge)|0,j=j+Math.imul(B,it)|0,$=$+Math.imul(B,ut)|0,$=$+Math.imul(ae,it)|0,Z=Z+Math.imul(ae,ut)|0;var ti=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(ti>>>26)|0,ti&=67108863,j=Math.imul(be,Fe),$=Math.imul(be,Ke),$=$+Math.imul(Me,Fe)|0,Z=Math.imul(Me,Ke),j=j+Math.imul(de,Xe)|0,$=$+Math.imul(de,at)|0,$=$+Math.imul(ne,Xe)|0,Z=Z+Math.imul(ne,at)|0,j=j+Math.imul(ze,ct)|0,$=$+Math.imul(ze,pt)|0,$=$+Math.imul(et,ct)|0,Z=Z+Math.imul(et,pt)|0,j=j+Math.imul(Le,ht)|0,$=$+Math.imul(Le,Nt)|0,$=$+Math.imul(He,ht)|0,Z=Z+Math.imul(He,Nt)|0,j=j+Math.imul(we,Mt)|0,$=$+Math.imul(we,Ot)|0,$=$+Math.imul(ve,Mt)|0,Z=Z+Math.imul(ve,Ot)|0,j=j+Math.imul(O,kt)|0,$=$+Math.imul(O,lt)|0,$=$+Math.imul(oe,kt)|0,Z=Z+Math.imul(oe,lt)|0,j=j+Math.imul(me,Wt)|0,$=$+Math.imul(me,zt)|0,$=$+Math.imul(ke,Wt)|0,Z=Z+Math.imul(ke,zt)|0,j=j+Math.imul(X,Ie)|0,$=$+Math.imul(X,Ge)|0,$=$+Math.imul(ee,Ie)|0,Z=Z+Math.imul(ee,Ge)|0,j=j+Math.imul(he,it)|0,$=$+Math.imul(he,ut)|0,$=$+Math.imul(Ne,it)|0,Z=Z+Math.imul(Ne,ut)|0,j=j+Math.imul(B,Rt)|0,$=$+Math.imul(B,Dt)|0,$=$+Math.imul(ae,Rt)|0,Z=Z+Math.imul(ae,Dt)|0;var ki=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(ki>>>26)|0,ki&=67108863,j=Math.imul(be,Xe),$=Math.imul(be,at),$=$+Math.imul(Me,Xe)|0,Z=Math.imul(Me,at),j=j+Math.imul(de,ct)|0,$=$+Math.imul(de,pt)|0,$=$+Math.imul(ne,ct)|0,Z=Z+Math.imul(ne,pt)|0,j=j+Math.imul(ze,ht)|0,$=$+Math.imul(ze,Nt)|0,$=$+Math.imul(et,ht)|0,Z=Z+Math.imul(et,Nt)|0,j=j+Math.imul(Le,Mt)|0,$=$+Math.imul(Le,Ot)|0,$=$+Math.imul(He,Mt)|0,Z=Z+Math.imul(He,Ot)|0,j=j+Math.imul(we,kt)|0,$=$+Math.imul(we,lt)|0,$=$+Math.imul(ve,kt)|0,Z=Z+Math.imul(ve,lt)|0,j=j+Math.imul(O,Wt)|0,$=$+Math.imul(O,zt)|0,$=$+Math.imul(oe,Wt)|0,Z=Z+Math.imul(oe,zt)|0,j=j+Math.imul(me,Ie)|0,$=$+Math.imul(me,Ge)|0,$=$+Math.imul(ke,Ie)|0,Z=Z+Math.imul(ke,Ge)|0,j=j+Math.imul(X,it)|0,$=$+Math.imul(X,ut)|0,$=$+Math.imul(ee,it)|0,Z=Z+Math.imul(ee,ut)|0,j=j+Math.imul(he,Rt)|0,$=$+Math.imul(he,Dt)|0,$=$+Math.imul(Ne,Rt)|0,Z=Z+Math.imul(Ne,Dt)|0;var _i=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(_i>>>26)|0,_i&=67108863,j=Math.imul(be,ct),$=Math.imul(be,pt),$=$+Math.imul(Me,ct)|0,Z=Math.imul(Me,pt),j=j+Math.imul(de,ht)|0,$=$+Math.imul(de,Nt)|0,$=$+Math.imul(ne,ht)|0,Z=Z+Math.imul(ne,Nt)|0,j=j+Math.imul(ze,Mt)|0,$=$+Math.imul(ze,Ot)|0,$=$+Math.imul(et,Mt)|0,Z=Z+Math.imul(et,Ot)|0,j=j+Math.imul(Le,kt)|0,$=$+Math.imul(Le,lt)|0,$=$+Math.imul(He,kt)|0,Z=Z+Math.imul(He,lt)|0,j=j+Math.imul(we,Wt)|0,$=$+Math.imul(we,zt)|0,$=$+Math.imul(ve,Wt)|0,Z=Z+Math.imul(ve,zt)|0,j=j+Math.imul(O,Ie)|0,$=$+Math.imul(O,Ge)|0,$=$+Math.imul(oe,Ie)|0,Z=Z+Math.imul(oe,Ge)|0,j=j+Math.imul(me,it)|0,$=$+Math.imul(me,ut)|0,$=$+Math.imul(ke,it)|0,Z=Z+Math.imul(ke,ut)|0,j=j+Math.imul(X,Rt)|0,$=$+Math.imul(X,Dt)|0,$=$+Math.imul(ee,Rt)|0,Z=Z+Math.imul(ee,Dt)|0;var $i=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+($i>>>26)|0,$i&=67108863,j=Math.imul(be,ht),$=Math.imul(be,Nt),$=$+Math.imul(Me,ht)|0,Z=Math.imul(Me,Nt),j=j+Math.imul(de,Mt)|0,$=$+Math.imul(de,Ot)|0,$=$+Math.imul(ne,Mt)|0,Z=Z+Math.imul(ne,Ot)|0,j=j+Math.imul(ze,kt)|0,$=$+Math.imul(ze,lt)|0,$=$+Math.imul(et,kt)|0,Z=Z+Math.imul(et,lt)|0,j=j+Math.imul(Le,Wt)|0,$=$+Math.imul(Le,zt)|0,$=$+Math.imul(He,Wt)|0,Z=Z+Math.imul(He,zt)|0,j=j+Math.imul(we,Ie)|0,$=$+Math.imul(we,Ge)|0,$=$+Math.imul(ve,Ie)|0,Z=Z+Math.imul(ve,Ge)|0,j=j+Math.imul(O,it)|0,$=$+Math.imul(O,ut)|0,$=$+Math.imul(oe,it)|0,Z=Z+Math.imul(oe,ut)|0,j=j+Math.imul(me,Rt)|0,$=$+Math.imul(me,Dt)|0,$=$+Math.imul(ke,Rt)|0,Z=Z+Math.imul(ke,Dt)|0;var Li=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Li>>>26)|0,Li&=67108863,j=Math.imul(be,Mt),$=Math.imul(be,Ot),$=$+Math.imul(Me,Mt)|0,Z=Math.imul(Me,Ot),j=j+Math.imul(de,kt)|0,$=$+Math.imul(de,lt)|0,$=$+Math.imul(ne,kt)|0,Z=Z+Math.imul(ne,lt)|0,j=j+Math.imul(ze,Wt)|0,$=$+Math.imul(ze,zt)|0,$=$+Math.imul(et,Wt)|0,Z=Z+Math.imul(et,zt)|0,j=j+Math.imul(Le,Ie)|0,$=$+Math.imul(Le,Ge)|0,$=$+Math.imul(He,Ie)|0,Z=Z+Math.imul(He,Ge)|0,j=j+Math.imul(we,it)|0,$=$+Math.imul(we,ut)|0,$=$+Math.imul(ve,it)|0,Z=Z+Math.imul(ve,ut)|0,j=j+Math.imul(O,Rt)|0,$=$+Math.imul(O,Dt)|0,$=$+Math.imul(oe,Rt)|0,Z=Z+Math.imul(oe,Dt)|0;var Ti=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,j=Math.imul(be,kt),$=Math.imul(be,lt),$=$+Math.imul(Me,kt)|0,Z=Math.imul(Me,lt),j=j+Math.imul(de,Wt)|0,$=$+Math.imul(de,zt)|0,$=$+Math.imul(ne,Wt)|0,Z=Z+Math.imul(ne,zt)|0,j=j+Math.imul(ze,Ie)|0,$=$+Math.imul(ze,Ge)|0,$=$+Math.imul(et,Ie)|0,Z=Z+Math.imul(et,Ge)|0,j=j+Math.imul(Le,it)|0,$=$+Math.imul(Le,ut)|0,$=$+Math.imul(He,it)|0,Z=Z+Math.imul(He,ut)|0,j=j+Math.imul(we,Rt)|0,$=$+Math.imul(we,Dt)|0,$=$+Math.imul(ve,Rt)|0,Z=Z+Math.imul(ve,Dt)|0;var Pi=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,j=Math.imul(be,Wt),$=Math.imul(be,zt),$=$+Math.imul(Me,Wt)|0,Z=Math.imul(Me,zt),j=j+Math.imul(de,Ie)|0,$=$+Math.imul(de,Ge)|0,$=$+Math.imul(ne,Ie)|0,Z=Z+Math.imul(ne,Ge)|0,j=j+Math.imul(ze,it)|0,$=$+Math.imul(ze,ut)|0,$=$+Math.imul(et,it)|0,Z=Z+Math.imul(et,ut)|0,j=j+Math.imul(Le,Rt)|0,$=$+Math.imul(Le,Dt)|0,$=$+Math.imul(He,Rt)|0,Z=Z+Math.imul(He,Dt)|0;var Gt=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,j=Math.imul(be,Ie),$=Math.imul(be,Ge),$=$+Math.imul(Me,Ie)|0,Z=Math.imul(Me,Ge),j=j+Math.imul(de,it)|0,$=$+Math.imul(de,ut)|0,$=$+Math.imul(ne,it)|0,Z=Z+Math.imul(ne,ut)|0,j=j+Math.imul(ze,Rt)|0,$=$+Math.imul(ze,Dt)|0,$=$+Math.imul(et,Rt)|0,Z=Z+Math.imul(et,Dt)|0;var Jt=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,j=Math.imul(be,it),$=Math.imul(be,ut),$=$+Math.imul(Me,it)|0,Z=Math.imul(Me,ut),j=j+Math.imul(de,Rt)|0,$=$+Math.imul(de,Dt)|0,$=$+Math.imul(ne,Rt)|0,Z=Z+Math.imul(ne,Dt)|0;var pi=(q+j|0)+(($&8191)<<13)|0;q=(Z+($>>>13)|0)+(pi>>>26)|0,pi&=67108863,j=Math.imul(be,Rt),$=Math.imul(be,Dt),$=$+Math.imul(Me,Rt)|0,Z=Math.imul(Me,Dt);var ni=(q+j|0)+(($&8191)<<13)|0;return q=(Z+($>>>13)|0)+(ni>>>26)|0,ni&=67108863,F[0]=At,F[1]=dt,F[2]=st,F[3]=_t,F[4]=ei,F[5]=Zt,F[6]=Lt,F[7]=bi,F[8]=ti,F[9]=ki,F[10]=_i,F[11]=$i,F[12]=Li,F[13]=Ti,F[14]=Pi,F[15]=Gt,F[16]=Jt,F[17]=pi,F[18]=ni,q!==0&&(F[19]=q,C.length++),C};Math.imul||(p=g);function T(Y,M,V){V.negative=M.negative^Y.negative,V.length=Y.length+M.length;for(var C=0,l=0,w=0;w<V.length-1;w++){var F=l;l=0;for(var q=C&67108863,j=Math.min(w,M.length-1),$=Math.max(0,w-Y.length+1);$<=j;$++){var Z=w-$,te=Y.words[Z]|0,B=M.words[$]|0,ae=te*B,xe=ae&67108863;F=F+(ae/67108864|0)|0,xe=xe+q|0,q=xe&67108863,F=F+(xe>>>26)|0,l+=F>>>26,F&=67108863}V.words[w]=q,C=F,F=l}return C!==0?V.words[w]=C:V.length--,V.strip()}function E(Y,M,V){var C=new D;return C.mulp(Y,M,V)}c.prototype.mulTo=function(M,V){var C,l=this.length+M.length;return this.length===10&&M.length===10?C=p(this,M,V):l<63?C=g(this,M,V):l<1024?C=T(this,M,V):C=E(this,M,V),C};function D(Y,M){this.x=Y,this.y=M}D.prototype.makeRBT=function(M){for(var V=new Array(M),C=c.prototype._countBits(M)-1,l=0;l<M;l++)V[l]=this.revBin(l,C,M);return V},D.prototype.revBin=function(M,V,C){if(M===0||M===C-1)return M;for(var l=0,w=0;w<V;w++)l|=(M&1)<<V-w-1,M>>=1;return l},D.prototype.permute=function(M,V,C,l,w,F){for(var q=0;q<F;q++)l[q]=V[M[q]],w[q]=C[M[q]]},D.prototype.transform=function(M,V,C,l,w,F){this.permute(F,M,V,C,l,w);for(var q=1;q<w;q<<=1)for(var j=q<<1,$=Math.cos(2*Math.PI/j),Z=Math.sin(2*Math.PI/j),te=0;te<w;te+=j)for(var B=$,ae=Z,xe=0;xe<q;xe++){var he=C[te+xe],Ne=l[te+xe],Te=C[te+xe+q],X=l[te+xe+q],ee=B*Te-ae*X;X=B*X+ae*Te,Te=ee,C[te+xe]=he+Te,l[te+xe]=Ne+X,C[te+xe+q]=he-Te,l[te+xe+q]=Ne-X,xe!==j&&(ee=$*B-Z*ae,ae=$*ae+Z*B,B=ee)}},D.prototype.guessLen13b=function(M,V){var C=Math.max(V,M)|1,l=C&1,w=0;for(C=C/2|0;C;C=C>>>1)w++;return 1<<w+1+l},D.prototype.conjugate=function(M,V,C){if(!(C<=1))for(var l=0;l<C/2;l++){var w=M[l];M[l]=M[C-l-1],M[C-l-1]=w,w=V[l],V[l]=-V[C-l-1],V[C-l-1]=-w}},D.prototype.normalize13b=function(M,V){for(var C=0,l=0;l<V/2;l++){var w=Math.round(M[2*l+1]/V)*8192+Math.round(M[2*l]/V)+C;M[l]=w&67108863,w<67108864?C=0:C=w/67108864|0}return M},D.prototype.convert13b=function(M,V,C,l){for(var w=0,F=0;F<V;F++)w=w+(M[F]|0),C[2*F]=w&8191,w=w>>>13,C[2*F+1]=w&8191,w=w>>>13;for(F=2*V;F<l;++F)C[F]=0;P(w===0),P((w&-8192)===0)},D.prototype.stub=function(M){for(var V=new Array(M),C=0;C<M;C++)V[C]=0;return V},D.prototype.mulp=function(M,V,C){var l=2*this.guessLen13b(M.length,V.length),w=this.makeRBT(l),F=this.stub(l),q=new Array(l),j=new Array(l),$=new Array(l),Z=new Array(l),te=new Array(l),B=new Array(l),ae=C.words;ae.length=l,this.convert13b(M.words,M.length,q,l),this.convert13b(V.words,V.length,Z,l),this.transform(q,F,j,$,l,w),this.transform(Z,F,te,B,l,w);for(var xe=0;xe<l;xe++){var he=j[xe]*te[xe]-$[xe]*B[xe];$[xe]=j[xe]*B[xe]+$[xe]*te[xe],j[xe]=he}return this.conjugate(j,$,l),this.transform(j,$,ae,F,l,w),this.conjugate(ae,F,l),this.normalize13b(ae,l),C.negative=M.negative^V.negative,C.length=M.length+V.length,C.strip()},c.prototype.mul=function(M){var V=new c(null);return V.words=new Array(this.length+M.length),this.mulTo(M,V)},c.prototype.mulf=function(M){var V=new c(null);return V.words=new Array(this.length+M.length),E(this,M,V)},c.prototype.imul=function(M){return this.clone().mulTo(M,this)},c.prototype.imuln=function(M){P(typeof M=="number"),P(M<67108864);for(var V=0,C=0;C<this.length;C++){var l=(this.words[C]|0)*M,w=(l&67108863)+(V&67108863);V>>=26,V+=l/67108864|0,V+=w>>>26,this.words[C]=w&67108863}return V!==0&&(this.words[C]=V,this.length++),this},c.prototype.muln=function(M){return this.clone().imuln(M)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(M){var V=m(M);if(V.length===0)return new c(1);for(var C=this,l=0;l<V.length&&V[l]===0;l++,C=C.sqr());if(++l<V.length)for(var w=C.sqr();l<V.length;l++,w=w.sqr())V[l]!==0&&(C=C.mul(w));return C},c.prototype.iushln=function(M){P(typeof M=="number"&&M>=0);var V=M%26,C=(M-V)/26,l=67108863>>>26-V<<26-V,w;if(V!==0){var F=0;for(w=0;w<this.length;w++){var q=this.words[w]&l,j=(this.words[w]|0)-q<<V;this.words[w]=j|F,F=q>>>26-V}F&&(this.words[w]=F,this.length++)}if(C!==0){for(w=this.length-1;w>=0;w--)this.words[w+C]=this.words[w];for(w=0;w<C;w++)this.words[w]=0;this.length+=C}return this.strip()},c.prototype.ishln=function(M){return P(this.negative===0),this.iushln(M)},c.prototype.iushrn=function(M,V,C){P(typeof M=="number"&&M>=0);var l;V?l=(V-V%26)/26:l=0;var w=M%26,F=Math.min((M-w)/26,this.length),q=67108863^67108863>>>w<<w,j=C;if(l-=F,l=Math.max(0,l),j){for(var $=0;$<F;$++)j.words[$]=this.words[$];j.length=F}if(F!==0)if(this.length>F)for(this.length-=F,$=0;$<this.length;$++)this.words[$]=this.words[$+F];else this.words[0]=0,this.length=1;var Z=0;for($=this.length-1;$>=0&&(Z!==0||$>=l);$--){var te=this.words[$]|0;this.words[$]=Z<<26-w|te>>>w,Z=te&q}return j&&Z!==0&&(j.words[j.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(M,V,C){return P(this.negative===0),this.iushrn(M,V,C)},c.prototype.shln=function(M){return this.clone().ishln(M)},c.prototype.ushln=function(M){return this.clone().iushln(M)},c.prototype.shrn=function(M){return this.clone().ishrn(M)},c.prototype.ushrn=function(M){return this.clone().iushrn(M)},c.prototype.testn=function(M){P(typeof M=="number"&&M>=0);var V=M%26,C=(M-V)/26,l=1<<V;if(this.length<=C)return!1;var w=this.words[C];return!!(w&l)},c.prototype.imaskn=function(M){P(typeof M=="number"&&M>=0);var V=M%26,C=(M-V)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(V!==0&&C++,this.length=Math.min(C,this.length),V!==0){var l=67108863^67108863>>>V<<V;this.words[this.length-1]&=l}return this.strip()},c.prototype.maskn=function(M){return this.clone().imaskn(M)},c.prototype.iaddn=function(M){return P(typeof M=="number"),P(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(this.words[0]|0)<M?(this.words[0]=M-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},c.prototype._iaddn=function(M){this.words[0]+=M;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},c.prototype.isubn=function(M){if(P(typeof M=="number"),P(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},c.prototype.addn=function(M){return this.clone().iaddn(M)},c.prototype.subn=function(M){return this.clone().isubn(M)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(M,V,C){var l=M.length+C,w;this._expand(l);var F,q=0;for(w=0;w<M.length;w++){F=(this.words[w+C]|0)+q;var j=(M.words[w]|0)*V;F-=j&67108863,q=(F>>26)-(j/67108864|0),this.words[w+C]=F&67108863}for(;w<this.length-C;w++)F=(this.words[w+C]|0)+q,q=F>>26,this.words[w+C]=F&67108863;if(q===0)return this.strip();for(P(q===-1),q=0,w=0;w<this.length;w++)F=-(this.words[w]|0)+q,q=F>>26,this.words[w]=F&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(M,V){var C=this.length-M.length,l=this.clone(),w=M,F=w.words[w.length-1]|0,q=this._countBits(F);C=26-q,C!==0&&(w=w.ushln(C),l.iushln(C),F=w.words[w.length-1]|0);var j=l.length-w.length,$;if(V!=="mod"){$=new c(null),$.length=j+1,$.words=new Array($.length);for(var Z=0;Z<$.length;Z++)$.words[Z]=0}var te=l.clone()._ishlnsubmul(w,1,j);te.negative===0&&(l=te,$&&($.words[j]=1));for(var B=j-1;B>=0;B--){var ae=(l.words[w.length+B]|0)*67108864+(l.words[w.length+B-1]|0);for(ae=Math.min(ae/F|0,67108863),l._ishlnsubmul(w,ae,B);l.negative!==0;)ae--,l.negative=0,l._ishlnsubmul(w,1,B),l.isZero()||(l.negative^=1);$&&($.words[B]=ae)}return $&&$.strip(),l.strip(),V!=="div"&&C!==0&&l.iushrn(C),{div:$||null,mod:l}},c.prototype.divmod=function(M,V,C){if(P(!M.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var l,w,F;return this.negative!==0&&M.negative===0?(F=this.neg().divmod(M,V),V!=="mod"&&(l=F.div.neg()),V!=="div"&&(w=F.mod.neg(),C&&w.negative!==0&&w.iadd(M)),{div:l,mod:w}):this.negative===0&&M.negative!==0?(F=this.divmod(M.neg(),V),V!=="mod"&&(l=F.div.neg()),{div:l,mod:F.mod}):this.negative&M.negative?(F=this.neg().divmod(M.neg(),V),V!=="div"&&(w=F.mod.neg(),C&&w.negative!==0&&w.isub(M)),{div:F.div,mod:w}):M.length>this.length||this.cmp(M)<0?{div:new c(0),mod:this}:M.length===1?V==="div"?{div:this.divn(M.words[0]),mod:null}:V==="mod"?{div:null,mod:new c(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new c(this.modn(M.words[0]))}:this._wordDiv(M,V)},c.prototype.div=function(M){return this.divmod(M,"div",!1).div},c.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},c.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},c.prototype.divRound=function(M){var V=this.divmod(M);if(V.mod.isZero())return V.div;var C=V.div.negative!==0?V.mod.isub(M):V.mod,l=M.ushrn(1),w=M.andln(1),F=C.cmp(l);return F<0||w===1&&F===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},c.prototype.modn=function(M){P(M<=67108863);for(var V=(1<<26)%M,C=0,l=this.length-1;l>=0;l--)C=(V*C+(this.words[l]|0))%M;return C},c.prototype.idivn=function(M){P(M<=67108863);for(var V=0,C=this.length-1;C>=0;C--){var l=(this.words[C]|0)+V*67108864;this.words[C]=l/M|0,V=l%M}return this.strip()},c.prototype.divn=function(M){return this.clone().idivn(M)},c.prototype.egcd=function(M){P(M.negative===0),P(!M.isZero());var V=this,C=M.clone();V.negative!==0?V=V.umod(M):V=V.clone();for(var l=new c(1),w=new c(0),F=new c(0),q=new c(1),j=0;V.isEven()&&C.isEven();)V.iushrn(1),C.iushrn(1),++j;for(var $=C.clone(),Z=V.clone();!V.isZero();){for(var te=0,B=1;!(V.words[0]&B)&&te<26;++te,B<<=1);if(te>0)for(V.iushrn(te);te-- >0;)(l.isOdd()||w.isOdd())&&(l.iadd($),w.isub(Z)),l.iushrn(1),w.iushrn(1);for(var ae=0,xe=1;!(C.words[0]&xe)&&ae<26;++ae,xe<<=1);if(ae>0)for(C.iushrn(ae);ae-- >0;)(F.isOdd()||q.isOdd())&&(F.iadd($),q.isub(Z)),F.iushrn(1),q.iushrn(1);V.cmp(C)>=0?(V.isub(C),l.isub(F),w.isub(q)):(C.isub(V),F.isub(l),q.isub(w))}return{a:F,b:q,gcd:C.iushln(j)}},c.prototype._invmp=function(M){P(M.negative===0),P(!M.isZero());var V=this,C=M.clone();V.negative!==0?V=V.umod(M):V=V.clone();for(var l=new c(1),w=new c(0),F=C.clone();V.cmpn(1)>0&&C.cmpn(1)>0;){for(var q=0,j=1;!(V.words[0]&j)&&q<26;++q,j<<=1);if(q>0)for(V.iushrn(q);q-- >0;)l.isOdd()&&l.iadd(F),l.iushrn(1);for(var $=0,Z=1;!(C.words[0]&Z)&&$<26;++$,Z<<=1);if($>0)for(C.iushrn($);$-- >0;)w.isOdd()&&w.iadd(F),w.iushrn(1);V.cmp(C)>=0?(V.isub(C),l.isub(w)):(C.isub(V),w.isub(l))}var te;return V.cmpn(1)===0?te=l:te=w,te.cmpn(0)<0&&te.iadd(M),te},c.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var V=this.clone(),C=M.clone();V.negative=0,C.negative=0;for(var l=0;V.isEven()&&C.isEven();l++)V.iushrn(1),C.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;C.isEven();)C.iushrn(1);var w=V.cmp(C);if(w<0){var F=V;V=C,C=F}else if(w===0||C.cmpn(1)===0)break;V.isub(C)}while(!0);return C.iushln(l)},c.prototype.invm=function(M){return this.egcd(M).a.umod(M)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(M){return this.words[0]&M},c.prototype.bincn=function(M){P(typeof M=="number");var V=M%26,C=(M-V)/26,l=1<<V;if(this.length<=C)return this._expand(C+1),this.words[C]|=l,this;for(var w=l,F=C;w!==0&&F<this.length;F++){var q=this.words[F]|0;q+=w,w=q>>>26,q&=67108863,this.words[F]=q}return w!==0&&(this.words[F]=w,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(M){var V=M<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var C;if(this.length>1)C=1;else{V&&(M=-M),P(M<=67108863,"Number is too big");var l=this.words[0]|0;C=l===M?0:l<M?-1:1}return this.negative!==0?-C|0:C},c.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var V=this.ucmp(M);return this.negative!==0?-V|0:V},c.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var V=0,C=this.length-1;C>=0;C--){var l=this.words[C]|0,w=M.words[C]|0;if(l!==w){l<w?V=-1:l>w&&(V=1);break}}return V},c.prototype.gtn=function(M){return this.cmpn(M)===1},c.prototype.gt=function(M){return this.cmp(M)===1},c.prototype.gten=function(M){return this.cmpn(M)>=0},c.prototype.gte=function(M){return this.cmp(M)>=0},c.prototype.ltn=function(M){return this.cmpn(M)===-1},c.prototype.lt=function(M){return this.cmp(M)===-1},c.prototype.lten=function(M){return this.cmpn(M)<=0},c.prototype.lte=function(M){return this.cmp(M)<=0},c.prototype.eqn=function(M){return this.cmpn(M)===0},c.prototype.eq=function(M){return this.cmp(M)===0},c.red=function(M){return new J(M)},c.prototype.toRed=function(M){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},c.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(M){return this.red=M,this},c.prototype.forceRed=function(M){return P(!this.red,"Already a number in reduction context"),this._forceRed(M)},c.prototype.redAdd=function(M){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},c.prototype.redIAdd=function(M){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},c.prototype.redSub=function(M){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},c.prototype.redISub=function(M){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},c.prototype.redShl=function(M){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},c.prototype.redMul=function(M){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},c.prototype.redIMul=function(M){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},c.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(M){return P(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var x={k256:null,p224:null,p192:null,p25519:null};function W(Y,M){this.name=Y,this.p=new c(M,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var M=new c(null);return M.words=new Array(Math.ceil(this.n/13)),M},W.prototype.ireduce=function(M){var V=M,C;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),C=V.bitLength();while(C>this.n);var l=C<this.n?-1:V.ucmp(this.p);return l===0?(V.words[0]=0,V.length=1):l>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},W.prototype.split=function(M,V){M.iushrn(this.n,0,V)},W.prototype.imulK=function(M){return M.imul(this.k)};function b(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(b,W),b.prototype.split=function(M,V){for(var C=4194303,l=Math.min(M.length,9),w=0;w<l;w++)V.words[w]=M.words[w];if(V.length=l,M.length<=9){M.words[0]=0,M.length=1;return}var F=M.words[9];for(V.words[V.length++]=F&C,w=10;w<M.length;w++){var q=M.words[w]|0;M.words[w-10]=(q&C)<<4|F>>>22,F=q}F>>>=22,M.words[w-10]=F,F===0&&M.length>10?M.length-=10:M.length-=9},b.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var V=0,C=0;C<M.length;C++){var l=M.words[C]|0;V+=l*977,M.words[C]=V&67108863,V=l*64+(V/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M};function L(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(L,W);function z(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(z,W);function K(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(K,W),K.prototype.imulK=function(M){for(var V=0,C=0;C<M.length;C++){var l=(M.words[C]|0)*19+V,w=l&67108863;l>>>=26,M.words[C]=w,V=l}return V!==0&&(M.words[M.length++]=V),M},c._prime=function(M){if(x[M])return x[M];var V;if(M==="k256")V=new b;else if(M==="p224")V=new L;else if(M==="p192")V=new z;else if(M==="p25519")V=new K;else throw new Error("Unknown prime "+M);return x[M]=V,V};function J(Y){if(typeof Y=="string"){var M=c._prime(Y);this.m=M.p,this.prime=M}else P(Y.gtn(1),"modulus must be greater than 1"),this.m=Y,this.prime=null}J.prototype._verify1=function(M){P(M.negative===0,"red works only with positives"),P(M.red,"red works only with red numbers")},J.prototype._verify2=function(M,V){P((M.negative|V.negative)===0,"red works only with positives"),P(M.red&&M.red===V.red,"red works only with red numbers")},J.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},J.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},J.prototype.add=function(M,V){this._verify2(M,V);var C=M.add(V);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},J.prototype.iadd=function(M,V){this._verify2(M,V);var C=M.iadd(V);return C.cmp(this.m)>=0&&C.isub(this.m),C},J.prototype.sub=function(M,V){this._verify2(M,V);var C=M.sub(V);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},J.prototype.isub=function(M,V){this._verify2(M,V);var C=M.isub(V);return C.cmpn(0)<0&&C.iadd(this.m),C},J.prototype.shl=function(M,V){return this._verify1(M),this.imod(M.ushln(V))},J.prototype.imul=function(M,V){return this._verify2(M,V),this.imod(M.imul(V))},J.prototype.mul=function(M,V){return this._verify2(M,V),this.imod(M.mul(V))},J.prototype.isqr=function(M){return this.imul(M,M.clone())},J.prototype.sqr=function(M){return this.mul(M,M)},J.prototype.sqrt=function(M){if(M.isZero())return M.clone();var V=this.m.andln(3);if(P(V%2===1),V===3){var C=this.m.add(new c(1)).iushrn(2);return this.pow(M,C)}for(var l=this.m.subn(1),w=0;!l.isZero()&&l.andln(1)===0;)w++,l.iushrn(1);P(!l.isZero());var F=new c(1).toRed(this),q=F.redNeg(),j=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new c(2*$*$).toRed(this);this.pow($,j).cmp(q)!==0;)$.redIAdd(q);for(var Z=this.pow($,l),te=this.pow(M,l.addn(1).iushrn(1)),B=this.pow(M,l),ae=w;B.cmp(F)!==0;){for(var xe=B,he=0;xe.cmp(F)!==0;he++)xe=xe.redSqr();P(he<ae);var Ne=this.pow(Z,new c(1).iushln(ae-he-1));te=te.redMul(Ne),Z=Ne.redSqr(),B=B.redMul(Z),ae=he}return te},J.prototype.invm=function(M){var V=M._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},J.prototype.pow=function(M,V){if(V.isZero())return new c(1).toRed(this);if(V.cmpn(1)===0)return M.clone();var C=4,l=new Array(1<<C);l[0]=new c(1).toRed(this),l[1]=M;for(var w=2;w<l.length;w++)l[w]=this.mul(l[w-1],M);var F=l[0],q=0,j=0,$=V.bitLength()%26;for($===0&&($=26),w=V.length-1;w>=0;w--){for(var Z=V.words[w],te=$-1;te>=0;te--){var B=Z>>te&1;if(F!==l[0]&&(F=this.sqr(F)),B===0&&q===0){j=0;continue}q<<=1,q|=B,j++,!(j!==C&&(w!==0||te!==0))&&(F=this.mul(F,l[q]),j=0,q=0)}$=26}return F},J.prototype.convertTo=function(M){var V=M.umod(this.m);return V===M?V.clone():V},J.prototype.convertFrom=function(M){var V=M.clone();return V.red=null,V},c.mont=function(M){return new ie(M)};function ie(Y){J.call(this,Y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(ie,J),ie.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},ie.prototype.convertFrom=function(M){var V=this.imod(M.mul(this.rinv));return V.red=null,V},ie.prototype.imul=function(M,V){if(M.isZero()||V.isZero())return M.words[0]=0,M.length=1,M;var C=M.imul(V),l=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(l).iushrn(this.shift),F=w;return w.cmp(this.m)>=0?F=w.isub(this.m):w.cmpn(0)<0&&(F=w.iadd(this.m)),F._forceRed(this)},ie.prototype.mul=function(M,V){if(M.isZero()||V.isZero())return new c(0)._forceRed(this);var C=M.mul(V),l=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(l).iushrn(this.shift),F=w;return w.cmp(this.m)>=0?F=w.isub(this.m):w.cmpn(0)<0&&(F=w.iadd(this.m)),F._forceRed(this)},ie.prototype.invm=function(M){var V=this.imod(M._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(s,this)},15037:(s,G,N)=>{var R;s.exports=function(c){return R||(R=new I(null)),R.generate(c)};function I(S){this.rand=S}if(s.exports.Rand=I,I.prototype.generate=function(c){return this._rand(c)},I.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var d=new Uint8Array(c),f=0;f<d.length;f++)d[f]=this.rand.getByte();return d},typeof self=="object")self.crypto&&self.crypto.getRandomValues?I.prototype._rand=function(c){var d=new Uint8Array(c);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?I.prototype._rand=function(c){var d=new Uint8Array(c);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(I.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var P=N(73776);if(typeof P.randomBytes!="function")throw new Error("Not supported");I.prototype._rand=function(c){return P.randomBytes(c)}}catch{}},50462:(s,G,N)=>{var R=N(92861).Buffer;function I(h){R.isBuffer(h)||(h=R.from(h));for(var _=h.length/4|0,y=new Array(_),u=0;u<_;u++)y[u]=h.readUInt32BE(u*4);return y}function P(h){for(var _=0;_<h.length;h++)h[_]=0}function S(h,_,y,u,k){for(var m=y[0],g=y[1],p=y[2],T=y[3],E=h[0]^_[0],D=h[1]^_[1],x=h[2]^_[2],W=h[3]^_[3],b,L,z,K,J=4,ie=1;ie<k;ie++)b=m[E>>>24]^g[D>>>16&255]^p[x>>>8&255]^T[W&255]^_[J++],L=m[D>>>24]^g[x>>>16&255]^p[W>>>8&255]^T[E&255]^_[J++],z=m[x>>>24]^g[W>>>16&255]^p[E>>>8&255]^T[D&255]^_[J++],K=m[W>>>24]^g[E>>>16&255]^p[D>>>8&255]^T[x&255]^_[J++],E=b,D=L,x=z,W=K;return b=(u[E>>>24]<<24|u[D>>>16&255]<<16|u[x>>>8&255]<<8|u[W&255])^_[J++],L=(u[D>>>24]<<24|u[x>>>16&255]<<16|u[W>>>8&255]<<8|u[E&255])^_[J++],z=(u[x>>>24]<<24|u[W>>>16&255]<<16|u[E>>>8&255]<<8|u[D&255])^_[J++],K=(u[W>>>24]<<24|u[E>>>16&255]<<16|u[D>>>8&255]<<8|u[x&255])^_[J++],b=b>>>0,L=L>>>0,z=z>>>0,K=K>>>0,[b,L,z,K]}var c=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var h=new Array(256),_=0;_<256;_++)_<128?h[_]=_<<1:h[_]=_<<1^283;for(var y=[],u=[],k=[[],[],[],[]],m=[[],[],[],[]],g=0,p=0,T=0;T<256;++T){var E=p^p<<1^p<<2^p<<3^p<<4;E=E>>>8^E&255^99,y[g]=E,u[E]=g;var D=h[g],x=h[D],W=h[x],b=h[E]*257^E*16843008;k[0][g]=b<<24|b>>>8,k[1][g]=b<<16|b>>>16,k[2][g]=b<<8|b>>>24,k[3][g]=b,b=W*16843009^x*65537^D*257^g*16843008,m[0][E]=b<<24|b>>>8,m[1][E]=b<<16|b>>>16,m[2][E]=b<<8|b>>>24,m[3][E]=b,g===0?g=p=1:(g=D^h[h[h[W^D]]],p^=h[h[p]])}return{SBOX:y,INV_SBOX:u,SUB_MIX:k,INV_SUB_MIX:m}}();function f(h){this._key=I(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,_=h.length,y=_+6,u=(y+1)*4,k=[],m=0;m<_;m++)k[m]=h[m];for(m=_;m<u;m++){var g=k[m-1];m%_===0?(g=g<<8|g>>>24,g=d.SBOX[g>>>24]<<24|d.SBOX[g>>>16&255]<<16|d.SBOX[g>>>8&255]<<8|d.SBOX[g&255],g^=c[m/_|0]<<24):_>6&&m%_===4&&(g=d.SBOX[g>>>24]<<24|d.SBOX[g>>>16&255]<<16|d.SBOX[g>>>8&255]<<8|d.SBOX[g&255]),k[m]=k[m-_]^g}for(var p=[],T=0;T<u;T++){var E=u-T,D=k[E-(T%4?0:4)];T<4||E<=4?p[T]=D:p[T]=d.INV_SUB_MIX[0][d.SBOX[D>>>24]]^d.INV_SUB_MIX[1][d.SBOX[D>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[D>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[D&255]]}this._nRounds=y,this._keySchedule=k,this._invKeySchedule=p},f.prototype.encryptBlockRaw=function(h){return h=I(h),S(h,this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var _=this.encryptBlockRaw(h),y=R.allocUnsafe(16);return y.writeUInt32BE(_[0],0),y.writeUInt32BE(_[1],4),y.writeUInt32BE(_[2],8),y.writeUInt32BE(_[3],12),y},f.prototype.decryptBlock=function(h){h=I(h);var _=h[1];h[1]=h[3],h[3]=_;var y=S(h,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),u=R.allocUnsafe(16);return u.writeUInt32BE(y[0],0),u.writeUInt32BE(y[3],4),u.writeUInt32BE(y[2],8),u.writeUInt32BE(y[1],12),u},f.prototype.scrub=function(){P(this._keySchedule),P(this._invKeySchedule),P(this._key)},s.exports.AES=f},92356:(s,G,N)=>{var R=N(50462),I=N(92861).Buffer,P=N(56168),S=N(56698),c=N(25892),d=N(30295),f=N(45122);function h(u,k){var m=0;u.length!==k.length&&m++;for(var g=Math.min(u.length,k.length),p=0;p<g;++p)m+=u[p]^k[p];return m}function _(u,k,m){if(k.length===12)return u._finID=I.concat([k,I.from([0,0,0,1])]),I.concat([k,I.from([0,0,0,2])]);var g=new c(m),p=k.length,T=p%16;g.update(k),T&&(T=16-T,g.update(I.alloc(T,0))),g.update(I.alloc(8,0));var E=p*8,D=I.alloc(8);D.writeUIntBE(E,0,8),g.update(D),u._finID=g.state;var x=I.from(u._finID);return f(x),x}function y(u,k,m,g){P.call(this);var p=I.alloc(4,0);this._cipher=new R.AES(k);var T=this._cipher.encryptBlock(p);this._ghash=new c(T),m=_(this,m,T),this._prev=I.from(m),this._cache=I.allocUnsafe(0),this._secCache=I.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}S(y,P),y.prototype._update=function(u){if(!this._called&&this._alen){var k=16-this._alen%16;k<16&&(k=I.alloc(k,0),this._ghash.update(k))}this._called=!0;var m=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(m),this._len+=u.length,m},y.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=d(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&h(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},y.prototype.getAuthTag=function(){if(this._decrypt||!I.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},y.prototype.setAuthTag=function(k){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=k},y.prototype.setAAD=function(k){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(k),this._alen+=k.length},s.exports=y},1241:(s,G,N)=>{var R=N(25799),I=N(36171),P=N(3219);function S(){return Object.keys(P)}G.createCipher=G.Cipher=R.createCipher,G.createCipheriv=G.Cipheriv=R.createCipheriv,G.createDecipher=G.Decipher=I.createDecipher,G.createDecipheriv=G.Decipheriv=I.createDecipheriv,G.listCiphers=G.getCiphers=S},36171:(s,G,N)=>{var R=N(92356),I=N(92861).Buffer,P=N(530),S=N(50650),c=N(56168),d=N(50462),f=N(68078),h=N(56698);function _(g,p,T){c.call(this),this._cache=new y,this._last=void 0,this._cipher=new d.AES(p),this._prev=I.from(T),this._mode=g,this._autopadding=!0}h(_,c),_.prototype._update=function(g){this._cache.add(g);for(var p,T,E=[];p=this._cache.get(this._autopadding);)T=this._mode.decrypt(this,p),E.push(T);return I.concat(E)},_.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function y(){this.cache=I.allocUnsafe(0)}y.prototype.add=function(g){this.cache=I.concat([this.cache,g])},y.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},y.prototype.flush=function(){if(this.cache.length)return this.cache};function u(g){var p=g[15];if(p<1||p>16)throw new Error("unable to decrypt data");for(var T=-1;++T<p;)if(g[T+(16-p)]!==p)throw new Error("unable to decrypt data");if(p!==16)return g.slice(0,16-p)}function k(g,p,T){var E=P[g.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof T=="string"&&(T=I.from(T)),E.mode!=="GCM"&&T.length!==E.iv)throw new TypeError("invalid iv length "+T.length);if(typeof p=="string"&&(p=I.from(p)),p.length!==E.key/8)throw new TypeError("invalid key length "+p.length);return E.type==="stream"?new S(E.module,p,T,!0):E.type==="auth"?new R(E.module,p,T,!0):new _(E.module,p,T)}function m(g,p){var T=P[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var E=f(p,!1,T.key,T.iv);return k(g,E.key,E.iv)}G.createDecipher=m,G.createDecipheriv=k},25799:(s,G,N)=>{var R=N(530),I=N(92356),P=N(92861).Buffer,S=N(50650),c=N(56168),d=N(50462),f=N(68078),h=N(56698);function _(g,p,T){c.call(this),this._cache=new u,this._cipher=new d.AES(p),this._prev=P.from(T),this._mode=g,this._autopadding=!0}h(_,c),_.prototype._update=function(g){this._cache.add(g);for(var p,T,E=[];p=this._cache.get();)T=this._mode.encrypt(this,p),E.push(T);return P.concat(E)};var y=P.alloc(16,16);_.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(y))throw this._cipher.scrub(),new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function u(){this.cache=P.allocUnsafe(0)}u.prototype.add=function(g){this.cache=P.concat([this.cache,g])},u.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},u.prototype.flush=function(){for(var g=16-this.cache.length,p=P.allocUnsafe(g),T=-1;++T<g;)p.writeUInt8(g,T);return P.concat([this.cache,p])};function k(g,p,T){var E=R[g.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof p=="string"&&(p=P.from(p)),p.length!==E.key/8)throw new TypeError("invalid key length "+p.length);if(typeof T=="string"&&(T=P.from(T)),E.mode!=="GCM"&&T.length!==E.iv)throw new TypeError("invalid iv length "+T.length);return E.type==="stream"?new S(E.module,p,T):E.type==="auth"?new I(E.module,p,T):new _(E.module,p,T)}function m(g,p){var T=R[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var E=f(p,!1,T.key,T.iv);return k(g,E.key,E.iv)}G.createCipheriv=k,G.createCipher=m},25892:(s,G,N)=>{var R=N(92861).Buffer,I=R.alloc(16,0);function P(d){return[d.readUInt32BE(0),d.readUInt32BE(4),d.readUInt32BE(8),d.readUInt32BE(12)]}function S(d){var f=R.allocUnsafe(16);return f.writeUInt32BE(d[0]>>>0,0),f.writeUInt32BE(d[1]>>>0,4),f.writeUInt32BE(d[2]>>>0,8),f.writeUInt32BE(d[3]>>>0,12),f}function c(d){this.h=d,this.state=R.alloc(16,0),this.cache=R.allocUnsafe(0)}c.prototype.ghash=function(d){for(var f=-1;++f<d.length;)this.state[f]^=d[f];this._multiply()},c.prototype._multiply=function(){for(var d=P(this.h),f=[0,0,0,0],h,_,y,u=-1;++u<128;){for(_=(this.state[~~(u/8)]&1<<7-u%8)!==0,_&&(f[0]^=d[0],f[1]^=d[1],f[2]^=d[2],f[3]^=d[3]),y=(d[3]&1)!==0,h=3;h>0;h--)d[h]=d[h]>>>1|(d[h-1]&1)<<31;d[0]=d[0]>>>1,y&&(d[0]=d[0]^-520093696)}this.state=S(f)},c.prototype.update=function(d){this.cache=R.concat([this.cache,d]);for(var f;this.cache.length>=16;)f=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(f)},c.prototype.final=function(d,f){return this.cache.length&&this.ghash(R.concat([this.cache,I],16)),this.ghash(S([0,d,0,f])),this.state},s.exports=c},45122:s=>{function G(N){for(var R=N.length,I;R--;)if(I=N.readUInt8(R),I===255)N.writeUInt8(0,R);else{I++,N.writeUInt8(I,R);break}}s.exports=G},92884:(s,G,N)=>{var R=N(30295);G.encrypt=function(I,P){var S=R(P,I._prev);return I._prev=I._cipher.encryptBlock(S),I._prev},G.decrypt=function(I,P){var S=I._prev;I._prev=P;var c=I._cipher.decryptBlock(P);return R(c,S)}},46383:(s,G,N)=>{var R=N(92861).Buffer,I=N(30295);function P(S,c,d){var f=c.length,h=I(c,S._cache);return S._cache=S._cache.slice(f),S._prev=R.concat([S._prev,d?c:h]),h}G.encrypt=function(S,c,d){for(var f=R.allocUnsafe(0),h;c.length;)if(S._cache.length===0&&(S._cache=S._cipher.encryptBlock(S._prev),S._prev=R.allocUnsafe(0)),S._cache.length<=c.length)h=S._cache.length,f=R.concat([f,P(S,c.slice(0,h),d)]),c=c.slice(h);else{f=R.concat([f,P(S,c,d)]);break}return f}},55264:(s,G,N)=>{var R=N(92861).Buffer;function I(S,c,d){for(var f,h=-1,_=8,y=0,u,k;++h<_;)f=S._cipher.encryptBlock(S._prev),u=c&1<<7-h?128:0,k=f[0]^u,y+=(k&128)>>h%8,S._prev=P(S._prev,d?u:k);return y}function P(S,c){var d=S.length,f=-1,h=R.allocUnsafe(S.length);for(S=R.concat([S,R.from([c])]);++f<d;)h[f]=S[f]<<1|S[f+1]>>7;return h}G.encrypt=function(S,c,d){for(var f=c.length,h=R.allocUnsafe(f),_=-1;++_<f;)h[_]=I(S,c[_],d);return h}},86975:(s,G,N)=>{var R=N(92861).Buffer;function I(P,S,c){var d=P._cipher.encryptBlock(P._prev),f=d[0]^S;return P._prev=R.concat([P._prev.slice(1),R.from([c?S:f])]),f}G.encrypt=function(P,S,c){for(var d=S.length,f=R.allocUnsafe(d),h=-1;++h<d;)f[h]=I(P,S[h],c);return f}},63053:(s,G,N)=>{var R=N(30295),I=N(92861).Buffer,P=N(45122);function S(d){var f=d._cipher.encryptBlockRaw(d._prev);return P(d._prev),f}var c=16;G.encrypt=function(d,f){var h=Math.ceil(f.length/c),_=d._cache.length;d._cache=I.concat([d._cache,I.allocUnsafe(h*c)]);for(var y=0;y<h;y++){var u=S(d),k=_+y*c;d._cache.writeUInt32BE(u[0],k+0),d._cache.writeUInt32BE(u[1],k+4),d._cache.writeUInt32BE(u[2],k+8),d._cache.writeUInt32BE(u[3],k+12)}var m=d._cache.slice(0,f.length);return d._cache=d._cache.slice(f.length),R(f,m)}},52632:(s,G)=>{G.encrypt=function(N,R){return N._cipher.encryptBlock(R)},G.decrypt=function(N,R){return N._cipher.decryptBlock(R)}},530:(s,G,N)=>{var R={ECB:N(52632),CBC:N(92884),CFB:N(46383),CFB8:N(86975),CFB1:N(55264),OFB:N(46843),CTR:N(63053),GCM:N(63053)},I=N(3219);for(var P in I)I[P].module=R[I[P].mode];s.exports=I},46843:(s,G,N)=>{var R=N(30295);function I(P){return P._prev=P._cipher.encryptBlock(P._prev),P._prev}G.encrypt=function(P,S){for(;P._cache.length<S.length;)P._cache=Buffer.concat([P._cache,I(P)]);var c=P._cache.slice(0,S.length);return P._cache=P._cache.slice(S.length),R(S,c)}},50650:(s,G,N)=>{var R=N(50462),I=N(92861).Buffer,P=N(56168),S=N(56698);function c(d,f,h,_){P.call(this),this._cipher=new R.AES(f),this._prev=I.from(h),this._cache=I.allocUnsafe(0),this._secCache=I.allocUnsafe(0),this._decrypt=_,this._mode=d}S(c,P),c.prototype._update=function(d){return this._mode.encrypt(this,d,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},s.exports=c},30125:(s,G,N)=>{var R=N(84050),I=N(1241),P=N(530),S=N(32438),c=N(68078);function d(u,k){u=u.toLowerCase();var m,g;if(P[u])m=P[u].key,g=P[u].iv;else if(S[u])m=S[u].key*8,g=S[u].iv;else throw new TypeError("invalid suite type");var p=c(k,!1,m,g);return h(u,p.key,p.iv)}function f(u,k){u=u.toLowerCase();var m,g;if(P[u])m=P[u].key,g=P[u].iv;else if(S[u])m=S[u].key*8,g=S[u].iv;else throw new TypeError("invalid suite type");var p=c(k,!1,m,g);return _(u,p.key,p.iv)}function h(u,k,m){if(u=u.toLowerCase(),P[u])return I.createCipheriv(u,k,m);if(S[u])return new R({key:k,iv:m,mode:u});throw new TypeError("invalid suite type")}function _(u,k,m){if(u=u.toLowerCase(),P[u])return I.createDecipheriv(u,k,m);if(S[u])return new R({key:k,iv:m,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}function y(){return Object.keys(S).concat(I.getCiphers())}G.createCipher=G.Cipher=d,G.createCipheriv=G.Cipheriv=h,G.createDecipher=G.Decipher=f,G.createDecipheriv=G.Decipheriv=_,G.listCiphers=G.getCiphers=y},84050:(s,G,N)=>{var R=N(56168),I=N(29560),P=N(56698),S=N(92861).Buffer,c={"des-ede3-cbc":I.CBC.instantiate(I.EDE),"des-ede3":I.EDE,"des-ede-cbc":I.CBC.instantiate(I.EDE),"des-ede":I.EDE,"des-cbc":I.CBC.instantiate(I.DES),"des-ecb":I.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],s.exports=d,P(d,R);function d(f){R.call(this);var h=f.mode.toLowerCase(),_=c[h],y;f.decrypt?y="decrypt":y="encrypt";var u=f.key;S.isBuffer(u)||(u=S.from(u)),(h==="des-ede"||h==="des-ede-cbc")&&(u=S.concat([u,u.slice(0,8)]));var k=f.iv;S.isBuffer(k)||(k=S.from(k)),this._des=_.create({key:u,iv:k,type:y})}d.prototype._update=function(f){return S.from(this._des.update(f))},d.prototype._final=function(){return S.from(this._des.final())}},32438:(s,G)=>{G["des-ecb"]={key:8,iv:0},G["des-cbc"]=G.des={key:8,iv:8},G["des-ede3-cbc"]=G.des3={key:24,iv:8},G["des-ede3"]={key:24,iv:0},G["des-ede-cbc"]={key:16,iv:8},G["des-ede"]={key:16,iv:0}},67332:(s,G,N)=>{var R=N(78893),I=N(53209);function P(d){var f=S(d),h=f.toRed(R.mont(d.modulus)).redPow(new R(d.publicExponent)).fromRed();return{blinder:h,unblinder:f.invm(d.modulus)}}function S(d){var f=d.modulus.byteLength(),h;do h=new R(I(f));while(h.cmp(d.modulus)>=0||!h.umod(d.prime1)||!h.umod(d.prime2));return h}function c(d,f){var h=P(f),_=f.modulus.byteLength(),y=new R(d).mul(h.blinder).umod(f.modulus),u=y.toRed(R.mont(f.prime1)),k=y.toRed(R.mont(f.prime2)),m=f.coefficient,g=f.prime1,p=f.prime2,T=u.redPow(f.exponent1).fromRed(),E=k.redPow(f.exponent2).fromRed(),D=T.isub(E).imul(m).umod(g).imul(p);return E.iadd(D).imul(h.unblinder).umod(f.modulus).toArrayLike(Buffer,"be",_)}c.getr=S,s.exports=c},78893:function(s,G,N){s=N.nmd(s),function(R,I){"use strict";function P(C,l){if(!C)throw new Error(l||"Assertion failed")}function S(C,l){C.super_=l;var w=function(){};w.prototype=l.prototype,C.prototype=new w,C.prototype.constructor=C}function c(C,l,w){if(c.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((l==="le"||l==="be")&&(w=l,l=10),this._init(C||0,l||10,w||"be"))}typeof R=="object"?R.exports=c:I.BN=c,c.BN=c,c.wordSize=26;var d;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?d=window.Buffer:d=N(98285).Buffer}catch{}c.isBN=function(l){return l instanceof c?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===c.wordSize&&Array.isArray(l.words)},c.max=function(l,w){return l.cmp(w)>0?l:w},c.min=function(l,w){return l.cmp(w)<0?l:w},c.prototype._init=function(l,w,F){if(typeof l=="number")return this._initNumber(l,w,F);if(typeof l=="object")return this._initArray(l,w,F);w==="hex"&&(w=16),P(w===(w|0)&&w>=2&&w<=36),l=l.toString().replace(/\s+/g,"");var q=0;l[0]==="-"&&(q++,this.negative=1),q<l.length&&(w===16?this._parseHex(l,q,F):(this._parseBase(l,w,q),F==="le"&&this._initArray(this.toArray(),w,F)))},c.prototype._initNumber=function(l,w,F){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(P(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),F==="le"&&this._initArray(this.toArray(),w,F)},c.prototype._initArray=function(l,w,F){if(P(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,$,Z=0;if(F==="be")for(q=l.length-1,j=0;q>=0;q-=3)$=l[q]|l[q-1]<<8|l[q-2]<<16,this.words[j]|=$<<Z&67108863,this.words[j+1]=$>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);else if(F==="le")for(q=0,j=0;q<l.length;q+=3)$=l[q]|l[q+1]<<8|l[q+2]<<16,this.words[j]|=$<<Z&67108863,this.words[j+1]=$>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);return this._strip()};function f(C,l){var w=C.charCodeAt(l);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;P(!1,"Invalid character in "+C)}function h(C,l,w){var F=f(C,w);return w-1>=l&&(F|=f(C,w-1)<<4),F}c.prototype._parseHex=function(l,w,F){this.length=Math.ceil((l.length-w)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,$=0,Z;if(F==="be")for(q=l.length-1;q>=w;q-=2)Z=h(l,w,q)<<j,this.words[$]|=Z&67108863,j>=18?(j-=18,$+=1,this.words[$]|=Z>>>26):j+=8;else{var te=l.length-w;for(q=te%2===0?w+1:w;q<l.length;q+=2)Z=h(l,w,q)<<j,this.words[$]|=Z&67108863,j>=18?(j-=18,$+=1,this.words[$]|=Z>>>26):j+=8}this._strip()};function _(C,l,w,F){for(var q=0,j=0,$=Math.min(C.length,w),Z=l;Z<$;Z++){var te=C.charCodeAt(Z)-48;q*=F,te>=49?j=te-49+10:te>=17?j=te-17+10:j=te,P(te>=0&&j<F,"Invalid character"),q+=j}return q}c.prototype._parseBase=function(l,w,F){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=w)q++;q--,j=j/w|0;for(var $=l.length-F,Z=$%q,te=Math.min($,$-Z)+F,B=0,ae=F;ae<te;ae+=q)B=_(l,ae,ae+q,w),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(Z!==0){var xe=1;for(B=_(l,ae,l.length,w),ae=0;ae<Z;ae++)xe*=w;this.imuln(xe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},c.prototype.copy=function(l){l.words=new Array(this.length);for(var w=0;w<this.length;w++)l.words[w]=this.words[w];l.length=this.length,l.negative=this.negative,l.red=this.red};function y(C,l){C.words=l.words,C.length=l.length,C.negative=l.negative,C.red=l.red}if(c.prototype._move=function(l){y(l,this)},c.prototype.clone=function(){var l=new c(null);return this.copy(l),l},c.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{c.prototype.inspect=u}else c.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(l,w){l=l||10,w=w|0||1;var F;if(l===16||l==="hex"){F="";for(var q=0,j=0,$=0;$<this.length;$++){var Z=this.words[$],te=((Z<<q|j)&16777215).toString(16);j=Z>>>24-q&16777215,j!==0||$!==this.length-1?F=k[6-te.length]+te+F:F=te+F,q+=2,q>=26&&(q-=26,$--)}for(j!==0&&(F=j.toString(16)+F);F.length%w!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}if(l===(l|0)&&l>=2&&l<=36){var B=m[l],ae=g[l];F="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var he=xe.modrn(ae).toString(l);xe=xe.idivn(ae),xe.isZero()?F=he+F:F=k[B-he.length]+he+F}for(this.isZero()&&(F="0"+F);F.length%w!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}P(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},c.prototype.toJSON=function(){return this.toString(16,2)},d&&(c.prototype.toBuffer=function(l,w){return this.toArrayLike(d,l,w)}),c.prototype.toArray=function(l,w){return this.toArrayLike(Array,l,w)};var p=function(l,w){return l.allocUnsafe?l.allocUnsafe(w):new l(w)};c.prototype.toArrayLike=function(l,w,F){this._strip();var q=this.byteLength(),j=F||Math.max(1,q);P(q<=j,"byte array longer than desired length"),P(j>0,"Requested array length <= 0");var $=p(l,j),Z=w==="le"?"LE":"BE";return this["_toArrayLike"+Z]($,q),$},c.prototype._toArrayLikeLE=function(l,w){for(var F=0,q=0,j=0,$=0;j<this.length;j++){var Z=this.words[j]<<$|q;l[F++]=Z&255,F<l.length&&(l[F++]=Z>>8&255),F<l.length&&(l[F++]=Z>>16&255),$===6?(F<l.length&&(l[F++]=Z>>24&255),q=0,$=0):(q=Z>>>24,$+=2)}if(F<l.length)for(l[F++]=q;F<l.length;)l[F++]=0},c.prototype._toArrayLikeBE=function(l,w){for(var F=l.length-1,q=0,j=0,$=0;j<this.length;j++){var Z=this.words[j]<<$|q;l[F--]=Z&255,F>=0&&(l[F--]=Z>>8&255),F>=0&&(l[F--]=Z>>16&255),$===6?(F>=0&&(l[F--]=Z>>24&255),q=0,$=0):(q=Z>>>24,$+=2)}if(F>=0)for(l[F--]=q;F>=0;)l[F--]=0},Math.clz32?c.prototype._countBits=function(l){return 32-Math.clz32(l)}:c.prototype._countBits=function(l){var w=l,F=0;return w>=4096&&(F+=13,w>>>=13),w>=64&&(F+=7,w>>>=7),w>=8&&(F+=4,w>>>=4),w>=2&&(F+=2,w>>>=2),F+w},c.prototype._zeroBits=function(l){if(l===0)return 26;var w=l,F=0;return w&8191||(F+=13,w>>>=13),w&127||(F+=7,w>>>=7),w&15||(F+=4,w>>>=4),w&3||(F+=2,w>>>=2),w&1||F++,F},c.prototype.bitLength=function(){var l=this.words[this.length-1],w=this._countBits(l);return(this.length-1)*26+w};function T(C){for(var l=new Array(C.bitLength()),w=0;w<l.length;w++){var F=w/26|0,q=w%26;l[w]=C.words[F]>>>q&1}return l}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,w=0;w<this.length;w++){var F=this._zeroBits(this.words[w]);if(l+=F,F!==26)break}return l},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},c.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var w=0;w<l.length;w++)this.words[w]=this.words[w]|l.words[w];return this._strip()},c.prototype.ior=function(l){return P((this.negative|l.negative)===0),this.iuor(l)},c.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},c.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},c.prototype.iuand=function(l){var w;this.length>l.length?w=l:w=this;for(var F=0;F<w.length;F++)this.words[F]=this.words[F]&l.words[F];return this.length=w.length,this._strip()},c.prototype.iand=function(l){return P((this.negative|l.negative)===0),this.iuand(l)},c.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},c.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},c.prototype.iuxor=function(l){var w,F;this.length>l.length?(w=this,F=l):(w=l,F=this);for(var q=0;q<F.length;q++)this.words[q]=w.words[q]^F.words[q];if(this!==w)for(;q<w.length;q++)this.words[q]=w.words[q];return this.length=w.length,this._strip()},c.prototype.ixor=function(l){return P((this.negative|l.negative)===0),this.iuxor(l)},c.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},c.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},c.prototype.inotn=function(l){P(typeof l=="number"&&l>=0);var w=Math.ceil(l/26)|0,F=l%26;this._expand(w),F>0&&w--;for(var q=0;q<w;q++)this.words[q]=~this.words[q]&67108863;return F>0&&(this.words[q]=~this.words[q]&67108863>>26-F),this._strip()},c.prototype.notn=function(l){return this.clone().inotn(l)},c.prototype.setn=function(l,w){P(typeof l=="number"&&l>=0);var F=l/26|0,q=l%26;return this._expand(F+1),w?this.words[F]=this.words[F]|1<<q:this.words[F]=this.words[F]&~(1<<q),this._strip()},c.prototype.iadd=function(l){var w;if(this.negative!==0&&l.negative===0)return this.negative=0,w=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,w=this.isub(l),l.negative=1,w._normSign();var F,q;this.length>l.length?(F=this,q=l):(F=l,q=this);for(var j=0,$=0;$<q.length;$++)w=(F.words[$]|0)+(q.words[$]|0)+j,this.words[$]=w&67108863,j=w>>>26;for(;j!==0&&$<F.length;$++)w=(F.words[$]|0)+j,this.words[$]=w&67108863,j=w>>>26;if(this.length=F.length,j!==0)this.words[this.length]=j,this.length++;else if(F!==this)for(;$<F.length;$++)this.words[$]=F.words[$];return this},c.prototype.add=function(l){var w;return l.negative!==0&&this.negative===0?(l.negative=0,w=this.sub(l),l.negative^=1,w):l.negative===0&&this.negative!==0?(this.negative=0,w=l.sub(this),this.negative=1,w):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},c.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var w=this.iadd(l);return l.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var F=this.cmp(l);if(F===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;F>0?(q=this,j=l):(q=l,j=this);for(var $=0,Z=0;Z<j.length;Z++)w=(q.words[Z]|0)-(j.words[Z]|0)+$,$=w>>26,this.words[Z]=w&67108863;for(;$!==0&&Z<q.length;Z++)w=(q.words[Z]|0)+$,$=w>>26,this.words[Z]=w&67108863;if($===0&&Z<q.length&&q!==this)for(;Z<q.length;Z++)this.words[Z]=q.words[Z];return this.length=Math.max(this.length,Z),q!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(l){return this.clone().isub(l)};function E(C,l,w){w.negative=l.negative^C.negative;var F=C.length+l.length|0;w.length=F,F=F-1|0;var q=C.words[0]|0,j=l.words[0]|0,$=q*j,Z=$&67108863,te=$/67108864|0;w.words[0]=Z;for(var B=1;B<F;B++){for(var ae=te>>>26,xe=te&67108863,he=Math.min(B,l.length-1),Ne=Math.max(0,B-C.length+1);Ne<=he;Ne++){var Te=B-Ne|0;q=C.words[Te]|0,j=l.words[Ne]|0,$=q*j+xe,ae+=$/67108864|0,xe=$&67108863}w.words[B]=xe|0,te=ae|0}return te!==0?w.words[B]=te|0:w.length--,w._strip()}var D=function(l,w,F){var q=l.words,j=w.words,$=F.words,Z=0,te,B,ae,xe=q[0]|0,he=xe&8191,Ne=xe>>>13,Te=q[1]|0,X=Te&8191,ee=Te>>>13,ce=q[2]|0,me=ce&8191,ke=ce>>>13,U=q[3]|0,O=U&8191,oe=U>>>13,ge=q[4]|0,we=ge&8191,ve=ge>>>13,Pe=q[5]|0,Le=Pe&8191,He=Pe>>>13,wt=q[6]|0,ze=wt&8191,et=wt>>>13,gt=q[7]|0,de=gt&8191,ne=gt>>>13,se=q[8]|0,be=se&8191,Me=se>>>13,$e=q[9]|0,Fe=$e&8191,Ke=$e>>>13,Ut=j[0]|0,Xe=Ut&8191,at=Ut>>>13,ot=j[1]|0,ct=ot&8191,pt=ot>>>13,di=j[2]|0,ht=di&8191,Nt=di>>>13,Oi=j[3]|0,Mt=Oi&8191,Ot=Oi>>>13,Rn=j[4]|0,kt=Rn&8191,lt=Rn>>>13,Tt=j[5]|0,Wt=Tt&8191,zt=Tt>>>13,Cn=j[6]|0,Ie=Cn&8191,Ge=Cn>>>13,yt=j[7]|0,it=yt&8191,ut=yt>>>13,Xt=j[8]|0,Rt=Xt&8191,Dt=Xt>>>13,At=j[9]|0,dt=At&8191,st=At>>>13;F.negative=l.negative^w.negative,F.length=19,te=Math.imul(he,Xe),B=Math.imul(he,at),B=B+Math.imul(Ne,Xe)|0,ae=Math.imul(Ne,at);var _t=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(_t>>>26)|0,_t&=67108863,te=Math.imul(X,Xe),B=Math.imul(X,at),B=B+Math.imul(ee,Xe)|0,ae=Math.imul(ee,at),te=te+Math.imul(he,ct)|0,B=B+Math.imul(he,pt)|0,B=B+Math.imul(Ne,ct)|0,ae=ae+Math.imul(Ne,pt)|0;var ei=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ei>>>26)|0,ei&=67108863,te=Math.imul(me,Xe),B=Math.imul(me,at),B=B+Math.imul(ke,Xe)|0,ae=Math.imul(ke,at),te=te+Math.imul(X,ct)|0,B=B+Math.imul(X,pt)|0,B=B+Math.imul(ee,ct)|0,ae=ae+Math.imul(ee,pt)|0,te=te+Math.imul(he,ht)|0,B=B+Math.imul(he,Nt)|0,B=B+Math.imul(Ne,ht)|0,ae=ae+Math.imul(Ne,Nt)|0;var Zt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,te=Math.imul(O,Xe),B=Math.imul(O,at),B=B+Math.imul(oe,Xe)|0,ae=Math.imul(oe,at),te=te+Math.imul(me,ct)|0,B=B+Math.imul(me,pt)|0,B=B+Math.imul(ke,ct)|0,ae=ae+Math.imul(ke,pt)|0,te=te+Math.imul(X,ht)|0,B=B+Math.imul(X,Nt)|0,B=B+Math.imul(ee,ht)|0,ae=ae+Math.imul(ee,Nt)|0,te=te+Math.imul(he,Mt)|0,B=B+Math.imul(he,Ot)|0,B=B+Math.imul(Ne,Mt)|0,ae=ae+Math.imul(Ne,Ot)|0;var Lt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,te=Math.imul(we,Xe),B=Math.imul(we,at),B=B+Math.imul(ve,Xe)|0,ae=Math.imul(ve,at),te=te+Math.imul(O,ct)|0,B=B+Math.imul(O,pt)|0,B=B+Math.imul(oe,ct)|0,ae=ae+Math.imul(oe,pt)|0,te=te+Math.imul(me,ht)|0,B=B+Math.imul(me,Nt)|0,B=B+Math.imul(ke,ht)|0,ae=ae+Math.imul(ke,Nt)|0,te=te+Math.imul(X,Mt)|0,B=B+Math.imul(X,Ot)|0,B=B+Math.imul(ee,Mt)|0,ae=ae+Math.imul(ee,Ot)|0,te=te+Math.imul(he,kt)|0,B=B+Math.imul(he,lt)|0,B=B+Math.imul(Ne,kt)|0,ae=ae+Math.imul(Ne,lt)|0;var bi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(bi>>>26)|0,bi&=67108863,te=Math.imul(Le,Xe),B=Math.imul(Le,at),B=B+Math.imul(He,Xe)|0,ae=Math.imul(He,at),te=te+Math.imul(we,ct)|0,B=B+Math.imul(we,pt)|0,B=B+Math.imul(ve,ct)|0,ae=ae+Math.imul(ve,pt)|0,te=te+Math.imul(O,ht)|0,B=B+Math.imul(O,Nt)|0,B=B+Math.imul(oe,ht)|0,ae=ae+Math.imul(oe,Nt)|0,te=te+Math.imul(me,Mt)|0,B=B+Math.imul(me,Ot)|0,B=B+Math.imul(ke,Mt)|0,ae=ae+Math.imul(ke,Ot)|0,te=te+Math.imul(X,kt)|0,B=B+Math.imul(X,lt)|0,B=B+Math.imul(ee,kt)|0,ae=ae+Math.imul(ee,lt)|0,te=te+Math.imul(he,Wt)|0,B=B+Math.imul(he,zt)|0,B=B+Math.imul(Ne,Wt)|0,ae=ae+Math.imul(Ne,zt)|0;var ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ti>>>26)|0,ti&=67108863,te=Math.imul(ze,Xe),B=Math.imul(ze,at),B=B+Math.imul(et,Xe)|0,ae=Math.imul(et,at),te=te+Math.imul(Le,ct)|0,B=B+Math.imul(Le,pt)|0,B=B+Math.imul(He,ct)|0,ae=ae+Math.imul(He,pt)|0,te=te+Math.imul(we,ht)|0,B=B+Math.imul(we,Nt)|0,B=B+Math.imul(ve,ht)|0,ae=ae+Math.imul(ve,Nt)|0,te=te+Math.imul(O,Mt)|0,B=B+Math.imul(O,Ot)|0,B=B+Math.imul(oe,Mt)|0,ae=ae+Math.imul(oe,Ot)|0,te=te+Math.imul(me,kt)|0,B=B+Math.imul(me,lt)|0,B=B+Math.imul(ke,kt)|0,ae=ae+Math.imul(ke,lt)|0,te=te+Math.imul(X,Wt)|0,B=B+Math.imul(X,zt)|0,B=B+Math.imul(ee,Wt)|0,ae=ae+Math.imul(ee,zt)|0,te=te+Math.imul(he,Ie)|0,B=B+Math.imul(he,Ge)|0,B=B+Math.imul(Ne,Ie)|0,ae=ae+Math.imul(Ne,Ge)|0;var ki=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ki>>>26)|0,ki&=67108863,te=Math.imul(de,Xe),B=Math.imul(de,at),B=B+Math.imul(ne,Xe)|0,ae=Math.imul(ne,at),te=te+Math.imul(ze,ct)|0,B=B+Math.imul(ze,pt)|0,B=B+Math.imul(et,ct)|0,ae=ae+Math.imul(et,pt)|0,te=te+Math.imul(Le,ht)|0,B=B+Math.imul(Le,Nt)|0,B=B+Math.imul(He,ht)|0,ae=ae+Math.imul(He,Nt)|0,te=te+Math.imul(we,Mt)|0,B=B+Math.imul(we,Ot)|0,B=B+Math.imul(ve,Mt)|0,ae=ae+Math.imul(ve,Ot)|0,te=te+Math.imul(O,kt)|0,B=B+Math.imul(O,lt)|0,B=B+Math.imul(oe,kt)|0,ae=ae+Math.imul(oe,lt)|0,te=te+Math.imul(me,Wt)|0,B=B+Math.imul(me,zt)|0,B=B+Math.imul(ke,Wt)|0,ae=ae+Math.imul(ke,zt)|0,te=te+Math.imul(X,Ie)|0,B=B+Math.imul(X,Ge)|0,B=B+Math.imul(ee,Ie)|0,ae=ae+Math.imul(ee,Ge)|0,te=te+Math.imul(he,it)|0,B=B+Math.imul(he,ut)|0,B=B+Math.imul(Ne,it)|0,ae=ae+Math.imul(Ne,ut)|0;var _i=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,te=Math.imul(be,Xe),B=Math.imul(be,at),B=B+Math.imul(Me,Xe)|0,ae=Math.imul(Me,at),te=te+Math.imul(de,ct)|0,B=B+Math.imul(de,pt)|0,B=B+Math.imul(ne,ct)|0,ae=ae+Math.imul(ne,pt)|0,te=te+Math.imul(ze,ht)|0,B=B+Math.imul(ze,Nt)|0,B=B+Math.imul(et,ht)|0,ae=ae+Math.imul(et,Nt)|0,te=te+Math.imul(Le,Mt)|0,B=B+Math.imul(Le,Ot)|0,B=B+Math.imul(He,Mt)|0,ae=ae+Math.imul(He,Ot)|0,te=te+Math.imul(we,kt)|0,B=B+Math.imul(we,lt)|0,B=B+Math.imul(ve,kt)|0,ae=ae+Math.imul(ve,lt)|0,te=te+Math.imul(O,Wt)|0,B=B+Math.imul(O,zt)|0,B=B+Math.imul(oe,Wt)|0,ae=ae+Math.imul(oe,zt)|0,te=te+Math.imul(me,Ie)|0,B=B+Math.imul(me,Ge)|0,B=B+Math.imul(ke,Ie)|0,ae=ae+Math.imul(ke,Ge)|0,te=te+Math.imul(X,it)|0,B=B+Math.imul(X,ut)|0,B=B+Math.imul(ee,it)|0,ae=ae+Math.imul(ee,ut)|0,te=te+Math.imul(he,Rt)|0,B=B+Math.imul(he,Dt)|0,B=B+Math.imul(Ne,Rt)|0,ae=ae+Math.imul(Ne,Dt)|0;var $i=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+($i>>>26)|0,$i&=67108863,te=Math.imul(Fe,Xe),B=Math.imul(Fe,at),B=B+Math.imul(Ke,Xe)|0,ae=Math.imul(Ke,at),te=te+Math.imul(be,ct)|0,B=B+Math.imul(be,pt)|0,B=B+Math.imul(Me,ct)|0,ae=ae+Math.imul(Me,pt)|0,te=te+Math.imul(de,ht)|0,B=B+Math.imul(de,Nt)|0,B=B+Math.imul(ne,ht)|0,ae=ae+Math.imul(ne,Nt)|0,te=te+Math.imul(ze,Mt)|0,B=B+Math.imul(ze,Ot)|0,B=B+Math.imul(et,Mt)|0,ae=ae+Math.imul(et,Ot)|0,te=te+Math.imul(Le,kt)|0,B=B+Math.imul(Le,lt)|0,B=B+Math.imul(He,kt)|0,ae=ae+Math.imul(He,lt)|0,te=te+Math.imul(we,Wt)|0,B=B+Math.imul(we,zt)|0,B=B+Math.imul(ve,Wt)|0,ae=ae+Math.imul(ve,zt)|0,te=te+Math.imul(O,Ie)|0,B=B+Math.imul(O,Ge)|0,B=B+Math.imul(oe,Ie)|0,ae=ae+Math.imul(oe,Ge)|0,te=te+Math.imul(me,it)|0,B=B+Math.imul(me,ut)|0,B=B+Math.imul(ke,it)|0,ae=ae+Math.imul(ke,ut)|0,te=te+Math.imul(X,Rt)|0,B=B+Math.imul(X,Dt)|0,B=B+Math.imul(ee,Rt)|0,ae=ae+Math.imul(ee,Dt)|0,te=te+Math.imul(he,dt)|0,B=B+Math.imul(he,st)|0,B=B+Math.imul(Ne,dt)|0,ae=ae+Math.imul(Ne,st)|0;var Li=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Li>>>26)|0,Li&=67108863,te=Math.imul(Fe,ct),B=Math.imul(Fe,pt),B=B+Math.imul(Ke,ct)|0,ae=Math.imul(Ke,pt),te=te+Math.imul(be,ht)|0,B=B+Math.imul(be,Nt)|0,B=B+Math.imul(Me,ht)|0,ae=ae+Math.imul(Me,Nt)|0,te=te+Math.imul(de,Mt)|0,B=B+Math.imul(de,Ot)|0,B=B+Math.imul(ne,Mt)|0,ae=ae+Math.imul(ne,Ot)|0,te=te+Math.imul(ze,kt)|0,B=B+Math.imul(ze,lt)|0,B=B+Math.imul(et,kt)|0,ae=ae+Math.imul(et,lt)|0,te=te+Math.imul(Le,Wt)|0,B=B+Math.imul(Le,zt)|0,B=B+Math.imul(He,Wt)|0,ae=ae+Math.imul(He,zt)|0,te=te+Math.imul(we,Ie)|0,B=B+Math.imul(we,Ge)|0,B=B+Math.imul(ve,Ie)|0,ae=ae+Math.imul(ve,Ge)|0,te=te+Math.imul(O,it)|0,B=B+Math.imul(O,ut)|0,B=B+Math.imul(oe,it)|0,ae=ae+Math.imul(oe,ut)|0,te=te+Math.imul(me,Rt)|0,B=B+Math.imul(me,Dt)|0,B=B+Math.imul(ke,Rt)|0,ae=ae+Math.imul(ke,Dt)|0,te=te+Math.imul(X,dt)|0,B=B+Math.imul(X,st)|0,B=B+Math.imul(ee,dt)|0,ae=ae+Math.imul(ee,st)|0;var Ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,te=Math.imul(Fe,ht),B=Math.imul(Fe,Nt),B=B+Math.imul(Ke,ht)|0,ae=Math.imul(Ke,Nt),te=te+Math.imul(be,Mt)|0,B=B+Math.imul(be,Ot)|0,B=B+Math.imul(Me,Mt)|0,ae=ae+Math.imul(Me,Ot)|0,te=te+Math.imul(de,kt)|0,B=B+Math.imul(de,lt)|0,B=B+Math.imul(ne,kt)|0,ae=ae+Math.imul(ne,lt)|0,te=te+Math.imul(ze,Wt)|0,B=B+Math.imul(ze,zt)|0,B=B+Math.imul(et,Wt)|0,ae=ae+Math.imul(et,zt)|0,te=te+Math.imul(Le,Ie)|0,B=B+Math.imul(Le,Ge)|0,B=B+Math.imul(He,Ie)|0,ae=ae+Math.imul(He,Ge)|0,te=te+Math.imul(we,it)|0,B=B+Math.imul(we,ut)|0,B=B+Math.imul(ve,it)|0,ae=ae+Math.imul(ve,ut)|0,te=te+Math.imul(O,Rt)|0,B=B+Math.imul(O,Dt)|0,B=B+Math.imul(oe,Rt)|0,ae=ae+Math.imul(oe,Dt)|0,te=te+Math.imul(me,dt)|0,B=B+Math.imul(me,st)|0,B=B+Math.imul(ke,dt)|0,ae=ae+Math.imul(ke,st)|0;var Pi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,te=Math.imul(Fe,Mt),B=Math.imul(Fe,Ot),B=B+Math.imul(Ke,Mt)|0,ae=Math.imul(Ke,Ot),te=te+Math.imul(be,kt)|0,B=B+Math.imul(be,lt)|0,B=B+Math.imul(Me,kt)|0,ae=ae+Math.imul(Me,lt)|0,te=te+Math.imul(de,Wt)|0,B=B+Math.imul(de,zt)|0,B=B+Math.imul(ne,Wt)|0,ae=ae+Math.imul(ne,zt)|0,te=te+Math.imul(ze,Ie)|0,B=B+Math.imul(ze,Ge)|0,B=B+Math.imul(et,Ie)|0,ae=ae+Math.imul(et,Ge)|0,te=te+Math.imul(Le,it)|0,B=B+Math.imul(Le,ut)|0,B=B+Math.imul(He,it)|0,ae=ae+Math.imul(He,ut)|0,te=te+Math.imul(we,Rt)|0,B=B+Math.imul(we,Dt)|0,B=B+Math.imul(ve,Rt)|0,ae=ae+Math.imul(ve,Dt)|0,te=te+Math.imul(O,dt)|0,B=B+Math.imul(O,st)|0,B=B+Math.imul(oe,dt)|0,ae=ae+Math.imul(oe,st)|0;var Gt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,te=Math.imul(Fe,kt),B=Math.imul(Fe,lt),B=B+Math.imul(Ke,kt)|0,ae=Math.imul(Ke,lt),te=te+Math.imul(be,Wt)|0,B=B+Math.imul(be,zt)|0,B=B+Math.imul(Me,Wt)|0,ae=ae+Math.imul(Me,zt)|0,te=te+Math.imul(de,Ie)|0,B=B+Math.imul(de,Ge)|0,B=B+Math.imul(ne,Ie)|0,ae=ae+Math.imul(ne,Ge)|0,te=te+Math.imul(ze,it)|0,B=B+Math.imul(ze,ut)|0,B=B+Math.imul(et,it)|0,ae=ae+Math.imul(et,ut)|0,te=te+Math.imul(Le,Rt)|0,B=B+Math.imul(Le,Dt)|0,B=B+Math.imul(He,Rt)|0,ae=ae+Math.imul(He,Dt)|0,te=te+Math.imul(we,dt)|0,B=B+Math.imul(we,st)|0,B=B+Math.imul(ve,dt)|0,ae=ae+Math.imul(ve,st)|0;var Jt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,te=Math.imul(Fe,Wt),B=Math.imul(Fe,zt),B=B+Math.imul(Ke,Wt)|0,ae=Math.imul(Ke,zt),te=te+Math.imul(be,Ie)|0,B=B+Math.imul(be,Ge)|0,B=B+Math.imul(Me,Ie)|0,ae=ae+Math.imul(Me,Ge)|0,te=te+Math.imul(de,it)|0,B=B+Math.imul(de,ut)|0,B=B+Math.imul(ne,it)|0,ae=ae+Math.imul(ne,ut)|0,te=te+Math.imul(ze,Rt)|0,B=B+Math.imul(ze,Dt)|0,B=B+Math.imul(et,Rt)|0,ae=ae+Math.imul(et,Dt)|0,te=te+Math.imul(Le,dt)|0,B=B+Math.imul(Le,st)|0,B=B+Math.imul(He,dt)|0,ae=ae+Math.imul(He,st)|0;var pi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(pi>>>26)|0,pi&=67108863,te=Math.imul(Fe,Ie),B=Math.imul(Fe,Ge),B=B+Math.imul(Ke,Ie)|0,ae=Math.imul(Ke,Ge),te=te+Math.imul(be,it)|0,B=B+Math.imul(be,ut)|0,B=B+Math.imul(Me,it)|0,ae=ae+Math.imul(Me,ut)|0,te=te+Math.imul(de,Rt)|0,B=B+Math.imul(de,Dt)|0,B=B+Math.imul(ne,Rt)|0,ae=ae+Math.imul(ne,Dt)|0,te=te+Math.imul(ze,dt)|0,B=B+Math.imul(ze,st)|0,B=B+Math.imul(et,dt)|0,ae=ae+Math.imul(et,st)|0;var ni=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ni>>>26)|0,ni&=67108863,te=Math.imul(Fe,it),B=Math.imul(Fe,ut),B=B+Math.imul(Ke,it)|0,ae=Math.imul(Ke,ut),te=te+Math.imul(be,Rt)|0,B=B+Math.imul(be,Dt)|0,B=B+Math.imul(Me,Rt)|0,ae=ae+Math.imul(Me,Dt)|0,te=te+Math.imul(de,dt)|0,B=B+Math.imul(de,st)|0,B=B+Math.imul(ne,dt)|0,ae=ae+Math.imul(ne,st)|0;var oi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,te=Math.imul(Fe,Rt),B=Math.imul(Fe,Dt),B=B+Math.imul(Ke,Rt)|0,ae=Math.imul(Ke,Dt),te=te+Math.imul(be,dt)|0,B=B+Math.imul(be,st)|0,B=B+Math.imul(Me,dt)|0,ae=ae+Math.imul(Me,st)|0;var Si=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Si>>>26)|0,Si&=67108863,te=Math.imul(Fe,dt),B=Math.imul(Fe,st),B=B+Math.imul(Ke,dt)|0,ae=Math.imul(Ke,st);var qi=(Z+te|0)+((B&8191)<<13)|0;return Z=(ae+(B>>>13)|0)+(qi>>>26)|0,qi&=67108863,$[0]=_t,$[1]=ei,$[2]=Zt,$[3]=Lt,$[4]=bi,$[5]=ti,$[6]=ki,$[7]=_i,$[8]=$i,$[9]=Li,$[10]=Ti,$[11]=Pi,$[12]=Gt,$[13]=Jt,$[14]=pi,$[15]=ni,$[16]=oi,$[17]=Si,$[18]=qi,Z!==0&&($[19]=Z,F.length++),F};Math.imul||(D=E);function x(C,l,w){w.negative=l.negative^C.negative,w.length=C.length+l.length;for(var F=0,q=0,j=0;j<w.length-1;j++){var $=q;q=0;for(var Z=F&67108863,te=Math.min(j,l.length-1),B=Math.max(0,j-C.length+1);B<=te;B++){var ae=j-B,xe=C.words[ae]|0,he=l.words[B]|0,Ne=xe*he,Te=Ne&67108863;$=$+(Ne/67108864|0)|0,Te=Te+Z|0,Z=Te&67108863,$=$+(Te>>>26)|0,q+=$>>>26,$&=67108863}w.words[j]=Z,F=$,$=q}return F!==0?w.words[j]=F:w.length--,w._strip()}function W(C,l,w){return x(C,l,w)}c.prototype.mulTo=function(l,w){var F,q=this.length+l.length;return this.length===10&&l.length===10?F=D(this,l,w):q<63?F=E(this,l,w):q<1024?F=x(this,l,w):F=W(this,l,w),F};function b(C,l){this.x=C,this.y=l}b.prototype.makeRBT=function(l){for(var w=new Array(l),F=c.prototype._countBits(l)-1,q=0;q<l;q++)w[q]=this.revBin(q,F,l);return w},b.prototype.revBin=function(l,w,F){if(l===0||l===F-1)return l;for(var q=0,j=0;j<w;j++)q|=(l&1)<<w-j-1,l>>=1;return q},b.prototype.permute=function(l,w,F,q,j,$){for(var Z=0;Z<$;Z++)q[Z]=w[l[Z]],j[Z]=F[l[Z]]},b.prototype.transform=function(l,w,F,q,j,$){this.permute($,l,w,F,q,j);for(var Z=1;Z<j;Z<<=1)for(var te=Z<<1,B=Math.cos(2*Math.PI/te),ae=Math.sin(2*Math.PI/te),xe=0;xe<j;xe+=te)for(var he=B,Ne=ae,Te=0;Te<Z;Te++){var X=F[xe+Te],ee=q[xe+Te],ce=F[xe+Te+Z],me=q[xe+Te+Z],ke=he*ce-Ne*me;me=he*me+Ne*ce,ce=ke,F[xe+Te]=X+ce,q[xe+Te]=ee+me,F[xe+Te+Z]=X-ce,q[xe+Te+Z]=ee-me,Te!==te&&(ke=B*he-ae*Ne,Ne=B*Ne+ae*he,he=ke)}},b.prototype.guessLen13b=function(l,w){var F=Math.max(w,l)|1,q=F&1,j=0;for(F=F/2|0;F;F=F>>>1)j++;return 1<<j+1+q},b.prototype.conjugate=function(l,w,F){if(!(F<=1))for(var q=0;q<F/2;q++){var j=l[q];l[q]=l[F-q-1],l[F-q-1]=j,j=w[q],w[q]=-w[F-q-1],w[F-q-1]=-j}},b.prototype.normalize13b=function(l,w){for(var F=0,q=0;q<w/2;q++){var j=Math.round(l[2*q+1]/w)*8192+Math.round(l[2*q]/w)+F;l[q]=j&67108863,j<67108864?F=0:F=j/67108864|0}return l},b.prototype.convert13b=function(l,w,F,q){for(var j=0,$=0;$<w;$++)j=j+(l[$]|0),F[2*$]=j&8191,j=j>>>13,F[2*$+1]=j&8191,j=j>>>13;for($=2*w;$<q;++$)F[$]=0;P(j===0),P((j&-8192)===0)},b.prototype.stub=function(l){for(var w=new Array(l),F=0;F<l;F++)w[F]=0;return w},b.prototype.mulp=function(l,w,F){var q=2*this.guessLen13b(l.length,w.length),j=this.makeRBT(q),$=this.stub(q),Z=new Array(q),te=new Array(q),B=new Array(q),ae=new Array(q),xe=new Array(q),he=new Array(q),Ne=F.words;Ne.length=q,this.convert13b(l.words,l.length,Z,q),this.convert13b(w.words,w.length,ae,q),this.transform(Z,$,te,B,q,j),this.transform(ae,$,xe,he,q,j);for(var Te=0;Te<q;Te++){var X=te[Te]*xe[Te]-B[Te]*he[Te];B[Te]=te[Te]*he[Te]+B[Te]*xe[Te],te[Te]=X}return this.conjugate(te,B,q),this.transform(te,B,Ne,$,q,j),this.conjugate(Ne,$,q),this.normalize13b(Ne,q),F.negative=l.negative^w.negative,F.length=l.length+w.length,F._strip()},c.prototype.mul=function(l){var w=new c(null);return w.words=new Array(this.length+l.length),this.mulTo(l,w)},c.prototype.mulf=function(l){var w=new c(null);return w.words=new Array(this.length+l.length),W(this,l,w)},c.prototype.imul=function(l){return this.clone().mulTo(l,this)},c.prototype.imuln=function(l){var w=l<0;w&&(l=-l),P(typeof l=="number"),P(l<67108864);for(var F=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*l,$=(j&67108863)+(F&67108863);F>>=26,F+=j/67108864|0,F+=$>>>26,this.words[q]=$&67108863}return F!==0&&(this.words[q]=F,this.length++),w?this.ineg():this},c.prototype.muln=function(l){return this.clone().imuln(l)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(l){var w=T(l);if(w.length===0)return new c(1);for(var F=this,q=0;q<w.length&&w[q]===0;q++,F=F.sqr());if(++q<w.length)for(var j=F.sqr();q<w.length;q++,j=j.sqr())w[q]!==0&&(F=F.mul(j));return F},c.prototype.iushln=function(l){P(typeof l=="number"&&l>=0);var w=l%26,F=(l-w)/26,q=67108863>>>26-w<<26-w,j;if(w!==0){var $=0;for(j=0;j<this.length;j++){var Z=this.words[j]&q,te=(this.words[j]|0)-Z<<w;this.words[j]=te|$,$=Z>>>26-w}$&&(this.words[j]=$,this.length++)}if(F!==0){for(j=this.length-1;j>=0;j--)this.words[j+F]=this.words[j];for(j=0;j<F;j++)this.words[j]=0;this.length+=F}return this._strip()},c.prototype.ishln=function(l){return P(this.negative===0),this.iushln(l)},c.prototype.iushrn=function(l,w,F){P(typeof l=="number"&&l>=0);var q;w?q=(w-w%26)/26:q=0;var j=l%26,$=Math.min((l-j)/26,this.length),Z=67108863^67108863>>>j<<j,te=F;if(q-=$,q=Math.max(0,q),te){for(var B=0;B<$;B++)te.words[B]=this.words[B];te.length=$}if($!==0)if(this.length>$)for(this.length-=$,B=0;B<this.length;B++)this.words[B]=this.words[B+$];else this.words[0]=0,this.length=1;var ae=0;for(B=this.length-1;B>=0&&(ae!==0||B>=q);B--){var xe=this.words[B]|0;this.words[B]=ae<<26-j|xe>>>j,ae=xe&Z}return te&&ae!==0&&(te.words[te.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(l,w,F){return P(this.negative===0),this.iushrn(l,w,F)},c.prototype.shln=function(l){return this.clone().ishln(l)},c.prototype.ushln=function(l){return this.clone().iushln(l)},c.prototype.shrn=function(l){return this.clone().ishrn(l)},c.prototype.ushrn=function(l){return this.clone().iushrn(l)},c.prototype.testn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,F=(l-w)/26,q=1<<w;if(this.length<=F)return!1;var j=this.words[F];return!!(j&q)},c.prototype.imaskn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,F=(l-w)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=F)return this;if(w!==0&&F++,this.length=Math.min(F,this.length),w!==0){var q=67108863^67108863>>>w<<w;this.words[this.length-1]&=q}return this._strip()},c.prototype.maskn=function(l){return this.clone().imaskn(l)},c.prototype.iaddn=function(l){return P(typeof l=="number"),P(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},c.prototype._iaddn=function(l){this.words[0]+=l;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(l){if(P(typeof l=="number"),P(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(l){return this.clone().iaddn(l)},c.prototype.subn=function(l){return this.clone().isubn(l)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(l,w,F){var q=l.length+F,j;this._expand(q);var $,Z=0;for(j=0;j<l.length;j++){$=(this.words[j+F]|0)+Z;var te=(l.words[j]|0)*w;$-=te&67108863,Z=($>>26)-(te/67108864|0),this.words[j+F]=$&67108863}for(;j<this.length-F;j++)$=(this.words[j+F]|0)+Z,Z=$>>26,this.words[j+F]=$&67108863;if(Z===0)return this._strip();for(P(Z===-1),Z=0,j=0;j<this.length;j++)$=-(this.words[j]|0)+Z,Z=$>>26,this.words[j]=$&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(l,w){var F=this.length-l.length,q=this.clone(),j=l,$=j.words[j.length-1]|0,Z=this._countBits($);F=26-Z,F!==0&&(j=j.ushln(F),q.iushln(F),$=j.words[j.length-1]|0);var te=q.length-j.length,B;if(w!=="mod"){B=new c(null),B.length=te+1,B.words=new Array(B.length);for(var ae=0;ae<B.length;ae++)B.words[ae]=0}var xe=q.clone()._ishlnsubmul(j,1,te);xe.negative===0&&(q=xe,B&&(B.words[te]=1));for(var he=te-1;he>=0;he--){var Ne=(q.words[j.length+he]|0)*67108864+(q.words[j.length+he-1]|0);for(Ne=Math.min(Ne/$|0,67108863),q._ishlnsubmul(j,Ne,he);q.negative!==0;)Ne--,q.negative=0,q._ishlnsubmul(j,1,he),q.isZero()||(q.negative^=1);B&&(B.words[he]=Ne)}return B&&B._strip(),q._strip(),w!=="div"&&F!==0&&q.iushrn(F),{div:B||null,mod:q}},c.prototype.divmod=function(l,w,F){if(P(!l.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var q,j,$;return this.negative!==0&&l.negative===0?($=this.neg().divmod(l,w),w!=="mod"&&(q=$.div.neg()),w!=="div"&&(j=$.mod.neg(),F&&j.negative!==0&&j.iadd(l)),{div:q,mod:j}):this.negative===0&&l.negative!==0?($=this.divmod(l.neg(),w),w!=="mod"&&(q=$.div.neg()),{div:q,mod:$.mod}):this.negative&l.negative?($=this.neg().divmod(l.neg(),w),w!=="div"&&(j=$.mod.neg(),F&&j.negative!==0&&j.isub(l)),{div:$.div,mod:j}):l.length>this.length||this.cmp(l)<0?{div:new c(0),mod:this}:l.length===1?w==="div"?{div:this.divn(l.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new c(this.modrn(l.words[0]))}:this._wordDiv(l,w)},c.prototype.div=function(l){return this.divmod(l,"div",!1).div},c.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},c.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},c.prototype.divRound=function(l){var w=this.divmod(l);if(w.mod.isZero())return w.div;var F=w.div.negative!==0?w.mod.isub(l):w.mod,q=l.ushrn(1),j=l.andln(1),$=F.cmp(q);return $<0||j===1&&$===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var F=(1<<26)%l,q=0,j=this.length-1;j>=0;j--)q=(F*q+(this.words[j]|0))%l;return w?-q:q},c.prototype.modn=function(l){return this.modrn(l)},c.prototype.idivn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var F=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+F*67108864;this.words[q]=j/l|0,F=j%l}return this._strip(),w?this.ineg():this},c.prototype.divn=function(l){return this.clone().idivn(l)},c.prototype.egcd=function(l){P(l.negative===0),P(!l.isZero());var w=this,F=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new c(1),j=new c(0),$=new c(0),Z=new c(1),te=0;w.isEven()&&F.isEven();)w.iushrn(1),F.iushrn(1),++te;for(var B=F.clone(),ae=w.clone();!w.isZero();){for(var xe=0,he=1;!(w.words[0]&he)&&xe<26;++xe,he<<=1);if(xe>0)for(w.iushrn(xe);xe-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(ae)),q.iushrn(1),j.iushrn(1);for(var Ne=0,Te=1;!(F.words[0]&Te)&&Ne<26;++Ne,Te<<=1);if(Ne>0)for(F.iushrn(Ne);Ne-- >0;)($.isOdd()||Z.isOdd())&&($.iadd(B),Z.isub(ae)),$.iushrn(1),Z.iushrn(1);w.cmp(F)>=0?(w.isub(F),q.isub($),j.isub(Z)):(F.isub(w),$.isub(q),Z.isub(j))}return{a:$,b:Z,gcd:F.iushln(te)}},c.prototype._invmp=function(l){P(l.negative===0),P(!l.isZero());var w=this,F=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new c(1),j=new c(0),$=F.clone();w.cmpn(1)>0&&F.cmpn(1)>0;){for(var Z=0,te=1;!(w.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)q.isOdd()&&q.iadd($),q.iushrn(1);for(var B=0,ae=1;!(F.words[0]&ae)&&B<26;++B,ae<<=1);if(B>0)for(F.iushrn(B);B-- >0;)j.isOdd()&&j.iadd($),j.iushrn(1);w.cmp(F)>=0?(w.isub(F),q.isub(j)):(F.isub(w),j.isub(q))}var xe;return w.cmpn(1)===0?xe=q:xe=j,xe.cmpn(0)<0&&xe.iadd(l),xe},c.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var w=this.clone(),F=l.clone();w.negative=0,F.negative=0;for(var q=0;w.isEven()&&F.isEven();q++)w.iushrn(1),F.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;F.isEven();)F.iushrn(1);var j=w.cmp(F);if(j<0){var $=w;w=F,F=$}else if(j===0||F.cmpn(1)===0)break;w.isub(F)}while(!0);return F.iushln(q)},c.prototype.invm=function(l){return this.egcd(l).a.umod(l)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(l){return this.words[0]&l},c.prototype.bincn=function(l){P(typeof l=="number");var w=l%26,F=(l-w)/26,q=1<<w;if(this.length<=F)return this._expand(F+1),this.words[F]|=q,this;for(var j=q,$=F;j!==0&&$<this.length;$++){var Z=this.words[$]|0;Z+=j,j=Z>>>26,Z&=67108863,this.words[$]=Z}return j!==0&&(this.words[$]=j,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(l){var w=l<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var F;if(this.length>1)F=1;else{w&&(l=-l),P(l<=67108863,"Number is too big");var q=this.words[0]|0;F=q===l?0:q<l?-1:1}return this.negative!==0?-F|0:F},c.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var w=this.ucmp(l);return this.negative!==0?-w|0:w},c.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var w=0,F=this.length-1;F>=0;F--){var q=this.words[F]|0,j=l.words[F]|0;if(q!==j){q<j?w=-1:q>j&&(w=1);break}}return w},c.prototype.gtn=function(l){return this.cmpn(l)===1},c.prototype.gt=function(l){return this.cmp(l)===1},c.prototype.gten=function(l){return this.cmpn(l)>=0},c.prototype.gte=function(l){return this.cmp(l)>=0},c.prototype.ltn=function(l){return this.cmpn(l)===-1},c.prototype.lt=function(l){return this.cmp(l)===-1},c.prototype.lten=function(l){return this.cmpn(l)<=0},c.prototype.lte=function(l){return this.cmp(l)<=0},c.prototype.eqn=function(l){return this.cmpn(l)===0},c.prototype.eq=function(l){return this.cmp(l)===0},c.red=function(l){return new M(l)},c.prototype.toRed=function(l){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},c.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(l){return this.red=l,this},c.prototype.forceRed=function(l){return P(!this.red,"Already a number in reduction context"),this._forceRed(l)},c.prototype.redAdd=function(l){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},c.prototype.redIAdd=function(l){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},c.prototype.redSub=function(l){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},c.prototype.redISub=function(l){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},c.prototype.redShl=function(l){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},c.prototype.redMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},c.prototype.redIMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},c.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(l){return P(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function z(C,l){this.name=C,this.p=new c(l,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var l=new c(null);return l.words=new Array(Math.ceil(this.n/13)),l},z.prototype.ireduce=function(l){var w=l,F;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),F=w.bitLength();while(F>this.n);var q=F<this.n?-1:w.ucmp(this.p);return q===0?(w.words[0]=0,w.length=1):q>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},z.prototype.split=function(l,w){l.iushrn(this.n,0,w)},z.prototype.imulK=function(l){return l.imul(this.k)};function K(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(K,z),K.prototype.split=function(l,w){for(var F=4194303,q=Math.min(l.length,9),j=0;j<q;j++)w.words[j]=l.words[j];if(w.length=q,l.length<=9){l.words[0]=0,l.length=1;return}var $=l.words[9];for(w.words[w.length++]=$&F,j=10;j<l.length;j++){var Z=l.words[j]|0;l.words[j-10]=(Z&F)<<4|$>>>22,$=Z}$>>>=22,l.words[j-10]=$,$===0&&l.length>10?l.length-=10:l.length-=9},K.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var w=0,F=0;F<l.length;F++){var q=l.words[F]|0;w+=q*977,l.words[F]=w&67108863,w=q*64+(w/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function J(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(J,z);function ie(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(ie,z);function Y(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(Y,z),Y.prototype.imulK=function(l){for(var w=0,F=0;F<l.length;F++){var q=(l.words[F]|0)*19+w,j=q&67108863;q>>>=26,l.words[F]=j,w=q}return w!==0&&(l.words[l.length++]=w),l},c._prime=function(l){if(L[l])return L[l];var w;if(l==="k256")w=new K;else if(l==="p224")w=new J;else if(l==="p192")w=new ie;else if(l==="p25519")w=new Y;else throw new Error("Unknown prime "+l);return L[l]=w,w};function M(C){if(typeof C=="string"){var l=c._prime(C);this.m=l.p,this.prime=l}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}M.prototype._verify1=function(l){P(l.negative===0,"red works only with positives"),P(l.red,"red works only with red numbers")},M.prototype._verify2=function(l,w){P((l.negative|w.negative)===0,"red works only with positives"),P(l.red&&l.red===w.red,"red works only with red numbers")},M.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(y(l,l.umod(this.m)._forceRed(this)),l)},M.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},M.prototype.add=function(l,w){this._verify2(l,w);var F=l.add(w);return F.cmp(this.m)>=0&&F.isub(this.m),F._forceRed(this)},M.prototype.iadd=function(l,w){this._verify2(l,w);var F=l.iadd(w);return F.cmp(this.m)>=0&&F.isub(this.m),F},M.prototype.sub=function(l,w){this._verify2(l,w);var F=l.sub(w);return F.cmpn(0)<0&&F.iadd(this.m),F._forceRed(this)},M.prototype.isub=function(l,w){this._verify2(l,w);var F=l.isub(w);return F.cmpn(0)<0&&F.iadd(this.m),F},M.prototype.shl=function(l,w){return this._verify1(l),this.imod(l.ushln(w))},M.prototype.imul=function(l,w){return this._verify2(l,w),this.imod(l.imul(w))},M.prototype.mul=function(l,w){return this._verify2(l,w),this.imod(l.mul(w))},M.prototype.isqr=function(l){return this.imul(l,l.clone())},M.prototype.sqr=function(l){return this.mul(l,l)},M.prototype.sqrt=function(l){if(l.isZero())return l.clone();var w=this.m.andln(3);if(P(w%2===1),w===3){var F=this.m.add(new c(1)).iushrn(2);return this.pow(l,F)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);P(!q.isZero());var $=new c(1).toRed(this),Z=$.redNeg(),te=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new c(2*B*B).toRed(this);this.pow(B,te).cmp(Z)!==0;)B.redIAdd(Z);for(var ae=this.pow(B,q),xe=this.pow(l,q.addn(1).iushrn(1)),he=this.pow(l,q),Ne=j;he.cmp($)!==0;){for(var Te=he,X=0;Te.cmp($)!==0;X++)Te=Te.redSqr();P(X<Ne);var ee=this.pow(ae,new c(1).iushln(Ne-X-1));xe=xe.redMul(ee),ae=ee.redSqr(),he=he.redMul(ae),Ne=X}return xe},M.prototype.invm=function(l){var w=l._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(l,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return l.clone();var F=4,q=new Array(1<<F);q[0]=new c(1).toRed(this),q[1]=l;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],l);var $=q[0],Z=0,te=0,B=w.bitLength()%26;for(B===0&&(B=26),j=w.length-1;j>=0;j--){for(var ae=w.words[j],xe=B-1;xe>=0;xe--){var he=ae>>xe&1;if($!==q[0]&&($=this.sqr($)),he===0&&Z===0){te=0;continue}Z<<=1,Z|=he,te++,!(te!==F&&(j!==0||xe!==0))&&($=this.mul($,q[Z]),te=0,Z=0)}B=26}return $},M.prototype.convertTo=function(l){var w=l.umod(this.m);return w===l?w.clone():w},M.prototype.convertFrom=function(l){var w=l.clone();return w.red=null,w},c.mont=function(l){return new V(l)};function V(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(V,M),V.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},V.prototype.convertFrom=function(l){var w=this.imod(l.mul(this.rinv));return w.red=null,w},V.prototype.imul=function(l,w){if(l.isZero()||w.isZero())return l.words[0]=0,l.length=1,l;var F=l.imul(w),q=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=F.isub(q).iushrn(this.shift),$=j;return j.cmp(this.m)>=0?$=j.isub(this.m):j.cmpn(0)<0&&($=j.iadd(this.m)),$._forceRed(this)},V.prototype.mul=function(l,w){if(l.isZero()||w.isZero())return new c(0)._forceRed(this);var F=l.mul(w),q=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=F.isub(q).iushrn(this.shift),$=j;return j.cmp(this.m)>=0?$=j.isub(this.m):j.cmpn(0)<0&&($=j.iadd(this.m)),$._forceRed(this)},V.prototype.invm=function(l){var w=this.imod(l._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(s,this)},55715:(s,G,N)=>{"use strict";s.exports=N(62951)},20:(s,G,N)=>{"use strict";var R=N(92861).Buffer,I=N(47108),P=N(46737),S=N(56698),c=N(35359),d=N(74847),f=N(62951);Object.keys(f).forEach(function(k){f[k].id=R.from(f[k].id,"hex"),f[k.toLowerCase()]=f[k]});function h(k){P.Writable.call(this);var m=f[k];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=I(m.hash),this._tag=m.id,this._signType=m.sign}S(h,P.Writable),h.prototype._write=function(m,g,p){this._hash.update(m),p()},h.prototype.update=function(m,g){return this._hash.update(typeof m=="string"?R.from(m,g):m),this},h.prototype.sign=function(m,g){this.end();var p=this._hash.digest(),T=c(p,m,this._hashType,this._signType,this._tag);return g?T.toString(g):T};function _(k){P.Writable.call(this);var m=f[k];if(!m)throw new Error("Unknown message digest");this._hash=I(m.hash),this._tag=m.id,this._signType=m.sign}S(_,P.Writable),_.prototype._write=function(m,g,p){this._hash.update(m),p()},_.prototype.update=function(m,g){return this._hash.update(typeof m=="string"?R.from(m,g):m),this},_.prototype.verify=function(m,g,p){var T=typeof g=="string"?R.from(g,p):g;this.end();var E=this._hash.digest();return d(T,E,m,this._signType,this._tag)};function y(k){return new h(k)}function u(k){return new _(k)}s.exports={Sign:y,Verify:u,createSign:y,createVerify:u}},35359:(s,G,N)=>{"use strict";var R=N(92861).Buffer,I=N(83507),P=N(67332),S=N(86729).ec,c=N(26162),d=N(78170),f=N(64589),h=1;function _(D,x,W,b,L){var z=d(x);if(z.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return y(D,z)}else if(z.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return u(D,z,W)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");if(x.padding!==void 0&&x.padding!==h)throw new Error("illegal or unsupported padding mode");D=R.concat([L,D]);for(var K=z.modulus.byteLength(),J=[0,1];D.length+J.length+1<K;)J.push(255);J.push(0);for(var ie=-1;++ie<D.length;)J.push(D[ie]);var Y=P(J,z);return Y}function y(D,x){var W=f[x.curve.join(".")];if(!W)throw new Error("unknown curve "+x.curve.join("."));var b=new S(W),L=b.keyFromPrivate(x.privateKey),z=L.sign(D);return R.from(z.toDER())}function u(D,x,W){for(var b=x.params.priv_key,L=x.params.p,z=x.params.q,K=x.params.g,J=new c(0),ie,Y=g(D,z).mod(z),M=!1,V=m(b,z,D,W);M===!1;)ie=T(z,V,W),J=E(K,ie,L,z),M=ie.invm(z).imul(Y.add(b.mul(J))).mod(z),M.cmpn(0)===0&&(M=!1,J=new c(0));return k(J,M)}function k(D,x){D=D.toArray(),x=x.toArray(),D[0]&128&&(D=[0].concat(D)),x[0]&128&&(x=[0].concat(x));var W=D.length+x.length+4,b=[48,W,2,D.length];return b=b.concat(D,[2,x.length],x),R.from(b)}function m(D,x,W,b){if(D=R.from(D.toArray()),D.length<x.byteLength()){var L=R.alloc(x.byteLength()-D.length);D=R.concat([L,D])}var z=W.length,K=p(W,x),J=R.alloc(z);J.fill(1);var ie=R.alloc(z);return ie=I(b,ie).update(J).update(R.from([0])).update(D).update(K).digest(),J=I(b,ie).update(J).digest(),ie=I(b,ie).update(J).update(R.from([1])).update(D).update(K).digest(),J=I(b,ie).update(J).digest(),{k:ie,v:J}}function g(D,x){var W=new c(D),b=(D.length<<3)-x.bitLength();return b>0&&W.ishrn(b),W}function p(D,x){D=g(D,x),D=D.mod(x);var W=R.from(D.toArray());if(W.length<x.byteLength()){var b=R.alloc(x.byteLength()-W.length);W=R.concat([b,W])}return W}function T(D,x,W){var b,L;do{for(b=R.alloc(0);b.length*8<D.bitLength();)x.v=I(W,x.k).update(x.v).digest(),b=R.concat([b,x.v]);L=g(b,D),x.k=I(W,x.k).update(x.v).update(R.from([0])).digest(),x.v=I(W,x.k).update(x.v).digest()}while(L.cmp(D)!==-1);return L}function E(D,x,W,b){return D.toRed(c.mont(W)).redPow(x).fromRed().mod(b)}s.exports=_,s.exports.getKey=m,s.exports.makeKey=T},74847:(s,G,N)=>{"use strict";var R=N(92861).Buffer,I=N(26162),P=N(86729).ec,S=N(78170),c=N(64589);function d(y,u,k,m,g){var p=S(k);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return f(y,u,p)}else if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return h(y,u,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");u=R.concat([g,u]);for(var T=p.modulus.byteLength(),E=[1],D=0;u.length+E.length+2<T;)E.push(255),D+=1;E.push(0);for(var x=-1;++x<u.length;)E.push(u[x]);E=R.from(E);var W=I.mont(p.modulus);y=new I(y).toRed(W),y=y.redPow(new I(p.publicExponent)),y=R.from(y.fromRed().toArray());var b=D<8?1:0;for(T=Math.min(y.length,E.length),y.length!==E.length&&(b=1),x=-1;++x<T;)b|=y[x]^E[x];return b===0}function f(y,u,k){var m=c[k.data.algorithm.curve.join(".")];if(!m)throw new Error("unknown curve "+k.data.algorithm.curve.join("."));var g=new P(m),p=k.data.subjectPrivateKey.data;return g.verify(u,y,p)}function h(y,u,k){var m=k.data.p,g=k.data.q,p=k.data.g,T=k.data.pub_key,E=S.signature.decode(y,"der"),D=E.s,x=E.r;_(D,g),_(x,g);var W=I.mont(m),b=D.invm(g),L=p.toRed(W).redPow(new I(u).mul(b).mod(g)).fromRed().mul(T.toRed(W).redPow(x.mul(b).mod(g)).fromRed()).mod(m).mod(g);return L.cmp(x)===0}function _(y,u){if(y.cmpn(0)<=0)throw new Error("invalid sig");if(y.cmp(u)>=0)throw new Error("invalid sig")}s.exports=d},26162:function(s,G,N){s=N.nmd(s),function(R,I){"use strict";function P(C,l){if(!C)throw new Error(l||"Assertion failed")}function S(C,l){C.super_=l;var w=function(){};w.prototype=l.prototype,C.prototype=new w,C.prototype.constructor=C}function c(C,l,w){if(c.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((l==="le"||l==="be")&&(w=l,l=10),this._init(C||0,l||10,w||"be"))}typeof R=="object"?R.exports=c:I.BN=c,c.BN=c,c.wordSize=26;var d;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?d=window.Buffer:d=N(38664).Buffer}catch{}c.isBN=function(l){return l instanceof c?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===c.wordSize&&Array.isArray(l.words)},c.max=function(l,w){return l.cmp(w)>0?l:w},c.min=function(l,w){return l.cmp(w)<0?l:w},c.prototype._init=function(l,w,F){if(typeof l=="number")return this._initNumber(l,w,F);if(typeof l=="object")return this._initArray(l,w,F);w==="hex"&&(w=16),P(w===(w|0)&&w>=2&&w<=36),l=l.toString().replace(/\s+/g,"");var q=0;l[0]==="-"&&(q++,this.negative=1),q<l.length&&(w===16?this._parseHex(l,q,F):(this._parseBase(l,w,q),F==="le"&&this._initArray(this.toArray(),w,F)))},c.prototype._initNumber=function(l,w,F){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(P(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),F==="le"&&this._initArray(this.toArray(),w,F)},c.prototype._initArray=function(l,w,F){if(P(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,$,Z=0;if(F==="be")for(q=l.length-1,j=0;q>=0;q-=3)$=l[q]|l[q-1]<<8|l[q-2]<<16,this.words[j]|=$<<Z&67108863,this.words[j+1]=$>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);else if(F==="le")for(q=0,j=0;q<l.length;q+=3)$=l[q]|l[q+1]<<8|l[q+2]<<16,this.words[j]|=$<<Z&67108863,this.words[j+1]=$>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,j++);return this._strip()};function f(C,l){var w=C.charCodeAt(l);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;P(!1,"Invalid character in "+C)}function h(C,l,w){var F=f(C,w);return w-1>=l&&(F|=f(C,w-1)<<4),F}c.prototype._parseHex=function(l,w,F){this.length=Math.ceil((l.length-w)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,$=0,Z;if(F==="be")for(q=l.length-1;q>=w;q-=2)Z=h(l,w,q)<<j,this.words[$]|=Z&67108863,j>=18?(j-=18,$+=1,this.words[$]|=Z>>>26):j+=8;else{var te=l.length-w;for(q=te%2===0?w+1:w;q<l.length;q+=2)Z=h(l,w,q)<<j,this.words[$]|=Z&67108863,j>=18?(j-=18,$+=1,this.words[$]|=Z>>>26):j+=8}this._strip()};function _(C,l,w,F){for(var q=0,j=0,$=Math.min(C.length,w),Z=l;Z<$;Z++){var te=C.charCodeAt(Z)-48;q*=F,te>=49?j=te-49+10:te>=17?j=te-17+10:j=te,P(te>=0&&j<F,"Invalid character"),q+=j}return q}c.prototype._parseBase=function(l,w,F){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=w)q++;q--,j=j/w|0;for(var $=l.length-F,Z=$%q,te=Math.min($,$-Z)+F,B=0,ae=F;ae<te;ae+=q)B=_(l,ae,ae+q,w),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(Z!==0){var xe=1;for(B=_(l,ae,l.length,w),ae=0;ae<Z;ae++)xe*=w;this.imuln(xe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},c.prototype.copy=function(l){l.words=new Array(this.length);for(var w=0;w<this.length;w++)l.words[w]=this.words[w];l.length=this.length,l.negative=this.negative,l.red=this.red};function y(C,l){C.words=l.words,C.length=l.length,C.negative=l.negative,C.red=l.red}if(c.prototype._move=function(l){y(l,this)},c.prototype.clone=function(){var l=new c(null);return this.copy(l),l},c.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{c.prototype.inspect=u}else c.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(l,w){l=l||10,w=w|0||1;var F;if(l===16||l==="hex"){F="";for(var q=0,j=0,$=0;$<this.length;$++){var Z=this.words[$],te=((Z<<q|j)&16777215).toString(16);j=Z>>>24-q&16777215,q+=2,q>=26&&(q-=26,$--),j!==0||$!==this.length-1?F=k[6-te.length]+te+F:F=te+F}for(j!==0&&(F=j.toString(16)+F);F.length%w!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}if(l===(l|0)&&l>=2&&l<=36){var B=m[l],ae=g[l];F="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var he=xe.modrn(ae).toString(l);xe=xe.idivn(ae),xe.isZero()?F=he+F:F=k[B-he.length]+he+F}for(this.isZero()&&(F="0"+F);F.length%w!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}P(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},c.prototype.toJSON=function(){return this.toString(16,2)},d&&(c.prototype.toBuffer=function(l,w){return this.toArrayLike(d,l,w)}),c.prototype.toArray=function(l,w){return this.toArrayLike(Array,l,w)};var p=function(l,w){return l.allocUnsafe?l.allocUnsafe(w):new l(w)};c.prototype.toArrayLike=function(l,w,F){this._strip();var q=this.byteLength(),j=F||Math.max(1,q);P(q<=j,"byte array longer than desired length"),P(j>0,"Requested array length <= 0");var $=p(l,j),Z=w==="le"?"LE":"BE";return this["_toArrayLike"+Z]($,q),$},c.prototype._toArrayLikeLE=function(l,w){for(var F=0,q=0,j=0,$=0;j<this.length;j++){var Z=this.words[j]<<$|q;l[F++]=Z&255,F<l.length&&(l[F++]=Z>>8&255),F<l.length&&(l[F++]=Z>>16&255),$===6?(F<l.length&&(l[F++]=Z>>24&255),q=0,$=0):(q=Z>>>24,$+=2)}if(F<l.length)for(l[F++]=q;F<l.length;)l[F++]=0},c.prototype._toArrayLikeBE=function(l,w){for(var F=l.length-1,q=0,j=0,$=0;j<this.length;j++){var Z=this.words[j]<<$|q;l[F--]=Z&255,F>=0&&(l[F--]=Z>>8&255),F>=0&&(l[F--]=Z>>16&255),$===6?(F>=0&&(l[F--]=Z>>24&255),q=0,$=0):(q=Z>>>24,$+=2)}if(F>=0)for(l[F--]=q;F>=0;)l[F--]=0},Math.clz32?c.prototype._countBits=function(l){return 32-Math.clz32(l)}:c.prototype._countBits=function(l){var w=l,F=0;return w>=4096&&(F+=13,w>>>=13),w>=64&&(F+=7,w>>>=7),w>=8&&(F+=4,w>>>=4),w>=2&&(F+=2,w>>>=2),F+w},c.prototype._zeroBits=function(l){if(l===0)return 26;var w=l,F=0;return w&8191||(F+=13,w>>>=13),w&127||(F+=7,w>>>=7),w&15||(F+=4,w>>>=4),w&3||(F+=2,w>>>=2),w&1||F++,F},c.prototype.bitLength=function(){var l=this.words[this.length-1],w=this._countBits(l);return(this.length-1)*26+w};function T(C){for(var l=new Array(C.bitLength()),w=0;w<l.length;w++){var F=w/26|0,q=w%26;l[w]=C.words[F]>>>q&1}return l}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,w=0;w<this.length;w++){var F=this._zeroBits(this.words[w]);if(l+=F,F!==26)break}return l},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},c.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var w=0;w<l.length;w++)this.words[w]=this.words[w]|l.words[w];return this._strip()},c.prototype.ior=function(l){return P((this.negative|l.negative)===0),this.iuor(l)},c.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},c.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},c.prototype.iuand=function(l){var w;this.length>l.length?w=l:w=this;for(var F=0;F<w.length;F++)this.words[F]=this.words[F]&l.words[F];return this.length=w.length,this._strip()},c.prototype.iand=function(l){return P((this.negative|l.negative)===0),this.iuand(l)},c.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},c.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},c.prototype.iuxor=function(l){var w,F;this.length>l.length?(w=this,F=l):(w=l,F=this);for(var q=0;q<F.length;q++)this.words[q]=w.words[q]^F.words[q];if(this!==w)for(;q<w.length;q++)this.words[q]=w.words[q];return this.length=w.length,this._strip()},c.prototype.ixor=function(l){return P((this.negative|l.negative)===0),this.iuxor(l)},c.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},c.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},c.prototype.inotn=function(l){P(typeof l=="number"&&l>=0);var w=Math.ceil(l/26)|0,F=l%26;this._expand(w),F>0&&w--;for(var q=0;q<w;q++)this.words[q]=~this.words[q]&67108863;return F>0&&(this.words[q]=~this.words[q]&67108863>>26-F),this._strip()},c.prototype.notn=function(l){return this.clone().inotn(l)},c.prototype.setn=function(l,w){P(typeof l=="number"&&l>=0);var F=l/26|0,q=l%26;return this._expand(F+1),w?this.words[F]=this.words[F]|1<<q:this.words[F]=this.words[F]&~(1<<q),this._strip()},c.prototype.iadd=function(l){var w;if(this.negative!==0&&l.negative===0)return this.negative=0,w=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,w=this.isub(l),l.negative=1,w._normSign();var F,q;this.length>l.length?(F=this,q=l):(F=l,q=this);for(var j=0,$=0;$<q.length;$++)w=(F.words[$]|0)+(q.words[$]|0)+j,this.words[$]=w&67108863,j=w>>>26;for(;j!==0&&$<F.length;$++)w=(F.words[$]|0)+j,this.words[$]=w&67108863,j=w>>>26;if(this.length=F.length,j!==0)this.words[this.length]=j,this.length++;else if(F!==this)for(;$<F.length;$++)this.words[$]=F.words[$];return this},c.prototype.add=function(l){var w;return l.negative!==0&&this.negative===0?(l.negative=0,w=this.sub(l),l.negative^=1,w):l.negative===0&&this.negative!==0?(this.negative=0,w=l.sub(this),this.negative=1,w):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},c.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var w=this.iadd(l);return l.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var F=this.cmp(l);if(F===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;F>0?(q=this,j=l):(q=l,j=this);for(var $=0,Z=0;Z<j.length;Z++)w=(q.words[Z]|0)-(j.words[Z]|0)+$,$=w>>26,this.words[Z]=w&67108863;for(;$!==0&&Z<q.length;Z++)w=(q.words[Z]|0)+$,$=w>>26,this.words[Z]=w&67108863;if($===0&&Z<q.length&&q!==this)for(;Z<q.length;Z++)this.words[Z]=q.words[Z];return this.length=Math.max(this.length,Z),q!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(l){return this.clone().isub(l)};function E(C,l,w){w.negative=l.negative^C.negative;var F=C.length+l.length|0;w.length=F,F=F-1|0;var q=C.words[0]|0,j=l.words[0]|0,$=q*j,Z=$&67108863,te=$/67108864|0;w.words[0]=Z;for(var B=1;B<F;B++){for(var ae=te>>>26,xe=te&67108863,he=Math.min(B,l.length-1),Ne=Math.max(0,B-C.length+1);Ne<=he;Ne++){var Te=B-Ne|0;q=C.words[Te]|0,j=l.words[Ne]|0,$=q*j+xe,ae+=$/67108864|0,xe=$&67108863}w.words[B]=xe|0,te=ae|0}return te!==0?w.words[B]=te|0:w.length--,w._strip()}var D=function(l,w,F){var q=l.words,j=w.words,$=F.words,Z=0,te,B,ae,xe=q[0]|0,he=xe&8191,Ne=xe>>>13,Te=q[1]|0,X=Te&8191,ee=Te>>>13,ce=q[2]|0,me=ce&8191,ke=ce>>>13,U=q[3]|0,O=U&8191,oe=U>>>13,ge=q[4]|0,we=ge&8191,ve=ge>>>13,Pe=q[5]|0,Le=Pe&8191,He=Pe>>>13,wt=q[6]|0,ze=wt&8191,et=wt>>>13,gt=q[7]|0,de=gt&8191,ne=gt>>>13,se=q[8]|0,be=se&8191,Me=se>>>13,$e=q[9]|0,Fe=$e&8191,Ke=$e>>>13,Ut=j[0]|0,Xe=Ut&8191,at=Ut>>>13,ot=j[1]|0,ct=ot&8191,pt=ot>>>13,di=j[2]|0,ht=di&8191,Nt=di>>>13,Oi=j[3]|0,Mt=Oi&8191,Ot=Oi>>>13,Rn=j[4]|0,kt=Rn&8191,lt=Rn>>>13,Tt=j[5]|0,Wt=Tt&8191,zt=Tt>>>13,Cn=j[6]|0,Ie=Cn&8191,Ge=Cn>>>13,yt=j[7]|0,it=yt&8191,ut=yt>>>13,Xt=j[8]|0,Rt=Xt&8191,Dt=Xt>>>13,At=j[9]|0,dt=At&8191,st=At>>>13;F.negative=l.negative^w.negative,F.length=19,te=Math.imul(he,Xe),B=Math.imul(he,at),B=B+Math.imul(Ne,Xe)|0,ae=Math.imul(Ne,at);var _t=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(_t>>>26)|0,_t&=67108863,te=Math.imul(X,Xe),B=Math.imul(X,at),B=B+Math.imul(ee,Xe)|0,ae=Math.imul(ee,at),te=te+Math.imul(he,ct)|0,B=B+Math.imul(he,pt)|0,B=B+Math.imul(Ne,ct)|0,ae=ae+Math.imul(Ne,pt)|0;var ei=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ei>>>26)|0,ei&=67108863,te=Math.imul(me,Xe),B=Math.imul(me,at),B=B+Math.imul(ke,Xe)|0,ae=Math.imul(ke,at),te=te+Math.imul(X,ct)|0,B=B+Math.imul(X,pt)|0,B=B+Math.imul(ee,ct)|0,ae=ae+Math.imul(ee,pt)|0,te=te+Math.imul(he,ht)|0,B=B+Math.imul(he,Nt)|0,B=B+Math.imul(Ne,ht)|0,ae=ae+Math.imul(Ne,Nt)|0;var Zt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,te=Math.imul(O,Xe),B=Math.imul(O,at),B=B+Math.imul(oe,Xe)|0,ae=Math.imul(oe,at),te=te+Math.imul(me,ct)|0,B=B+Math.imul(me,pt)|0,B=B+Math.imul(ke,ct)|0,ae=ae+Math.imul(ke,pt)|0,te=te+Math.imul(X,ht)|0,B=B+Math.imul(X,Nt)|0,B=B+Math.imul(ee,ht)|0,ae=ae+Math.imul(ee,Nt)|0,te=te+Math.imul(he,Mt)|0,B=B+Math.imul(he,Ot)|0,B=B+Math.imul(Ne,Mt)|0,ae=ae+Math.imul(Ne,Ot)|0;var Lt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,te=Math.imul(we,Xe),B=Math.imul(we,at),B=B+Math.imul(ve,Xe)|0,ae=Math.imul(ve,at),te=te+Math.imul(O,ct)|0,B=B+Math.imul(O,pt)|0,B=B+Math.imul(oe,ct)|0,ae=ae+Math.imul(oe,pt)|0,te=te+Math.imul(me,ht)|0,B=B+Math.imul(me,Nt)|0,B=B+Math.imul(ke,ht)|0,ae=ae+Math.imul(ke,Nt)|0,te=te+Math.imul(X,Mt)|0,B=B+Math.imul(X,Ot)|0,B=B+Math.imul(ee,Mt)|0,ae=ae+Math.imul(ee,Ot)|0,te=te+Math.imul(he,kt)|0,B=B+Math.imul(he,lt)|0,B=B+Math.imul(Ne,kt)|0,ae=ae+Math.imul(Ne,lt)|0;var bi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(bi>>>26)|0,bi&=67108863,te=Math.imul(Le,Xe),B=Math.imul(Le,at),B=B+Math.imul(He,Xe)|0,ae=Math.imul(He,at),te=te+Math.imul(we,ct)|0,B=B+Math.imul(we,pt)|0,B=B+Math.imul(ve,ct)|0,ae=ae+Math.imul(ve,pt)|0,te=te+Math.imul(O,ht)|0,B=B+Math.imul(O,Nt)|0,B=B+Math.imul(oe,ht)|0,ae=ae+Math.imul(oe,Nt)|0,te=te+Math.imul(me,Mt)|0,B=B+Math.imul(me,Ot)|0,B=B+Math.imul(ke,Mt)|0,ae=ae+Math.imul(ke,Ot)|0,te=te+Math.imul(X,kt)|0,B=B+Math.imul(X,lt)|0,B=B+Math.imul(ee,kt)|0,ae=ae+Math.imul(ee,lt)|0,te=te+Math.imul(he,Wt)|0,B=B+Math.imul(he,zt)|0,B=B+Math.imul(Ne,Wt)|0,ae=ae+Math.imul(Ne,zt)|0;var ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ti>>>26)|0,ti&=67108863,te=Math.imul(ze,Xe),B=Math.imul(ze,at),B=B+Math.imul(et,Xe)|0,ae=Math.imul(et,at),te=te+Math.imul(Le,ct)|0,B=B+Math.imul(Le,pt)|0,B=B+Math.imul(He,ct)|0,ae=ae+Math.imul(He,pt)|0,te=te+Math.imul(we,ht)|0,B=B+Math.imul(we,Nt)|0,B=B+Math.imul(ve,ht)|0,ae=ae+Math.imul(ve,Nt)|0,te=te+Math.imul(O,Mt)|0,B=B+Math.imul(O,Ot)|0,B=B+Math.imul(oe,Mt)|0,ae=ae+Math.imul(oe,Ot)|0,te=te+Math.imul(me,kt)|0,B=B+Math.imul(me,lt)|0,B=B+Math.imul(ke,kt)|0,ae=ae+Math.imul(ke,lt)|0,te=te+Math.imul(X,Wt)|0,B=B+Math.imul(X,zt)|0,B=B+Math.imul(ee,Wt)|0,ae=ae+Math.imul(ee,zt)|0,te=te+Math.imul(he,Ie)|0,B=B+Math.imul(he,Ge)|0,B=B+Math.imul(Ne,Ie)|0,ae=ae+Math.imul(Ne,Ge)|0;var ki=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ki>>>26)|0,ki&=67108863,te=Math.imul(de,Xe),B=Math.imul(de,at),B=B+Math.imul(ne,Xe)|0,ae=Math.imul(ne,at),te=te+Math.imul(ze,ct)|0,B=B+Math.imul(ze,pt)|0,B=B+Math.imul(et,ct)|0,ae=ae+Math.imul(et,pt)|0,te=te+Math.imul(Le,ht)|0,B=B+Math.imul(Le,Nt)|0,B=B+Math.imul(He,ht)|0,ae=ae+Math.imul(He,Nt)|0,te=te+Math.imul(we,Mt)|0,B=B+Math.imul(we,Ot)|0,B=B+Math.imul(ve,Mt)|0,ae=ae+Math.imul(ve,Ot)|0,te=te+Math.imul(O,kt)|0,B=B+Math.imul(O,lt)|0,B=B+Math.imul(oe,kt)|0,ae=ae+Math.imul(oe,lt)|0,te=te+Math.imul(me,Wt)|0,B=B+Math.imul(me,zt)|0,B=B+Math.imul(ke,Wt)|0,ae=ae+Math.imul(ke,zt)|0,te=te+Math.imul(X,Ie)|0,B=B+Math.imul(X,Ge)|0,B=B+Math.imul(ee,Ie)|0,ae=ae+Math.imul(ee,Ge)|0,te=te+Math.imul(he,it)|0,B=B+Math.imul(he,ut)|0,B=B+Math.imul(Ne,it)|0,ae=ae+Math.imul(Ne,ut)|0;var _i=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,te=Math.imul(be,Xe),B=Math.imul(be,at),B=B+Math.imul(Me,Xe)|0,ae=Math.imul(Me,at),te=te+Math.imul(de,ct)|0,B=B+Math.imul(de,pt)|0,B=B+Math.imul(ne,ct)|0,ae=ae+Math.imul(ne,pt)|0,te=te+Math.imul(ze,ht)|0,B=B+Math.imul(ze,Nt)|0,B=B+Math.imul(et,ht)|0,ae=ae+Math.imul(et,Nt)|0,te=te+Math.imul(Le,Mt)|0,B=B+Math.imul(Le,Ot)|0,B=B+Math.imul(He,Mt)|0,ae=ae+Math.imul(He,Ot)|0,te=te+Math.imul(we,kt)|0,B=B+Math.imul(we,lt)|0,B=B+Math.imul(ve,kt)|0,ae=ae+Math.imul(ve,lt)|0,te=te+Math.imul(O,Wt)|0,B=B+Math.imul(O,zt)|0,B=B+Math.imul(oe,Wt)|0,ae=ae+Math.imul(oe,zt)|0,te=te+Math.imul(me,Ie)|0,B=B+Math.imul(me,Ge)|0,B=B+Math.imul(ke,Ie)|0,ae=ae+Math.imul(ke,Ge)|0,te=te+Math.imul(X,it)|0,B=B+Math.imul(X,ut)|0,B=B+Math.imul(ee,it)|0,ae=ae+Math.imul(ee,ut)|0,te=te+Math.imul(he,Rt)|0,B=B+Math.imul(he,Dt)|0,B=B+Math.imul(Ne,Rt)|0,ae=ae+Math.imul(Ne,Dt)|0;var $i=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+($i>>>26)|0,$i&=67108863,te=Math.imul(Fe,Xe),B=Math.imul(Fe,at),B=B+Math.imul(Ke,Xe)|0,ae=Math.imul(Ke,at),te=te+Math.imul(be,ct)|0,B=B+Math.imul(be,pt)|0,B=B+Math.imul(Me,ct)|0,ae=ae+Math.imul(Me,pt)|0,te=te+Math.imul(de,ht)|0,B=B+Math.imul(de,Nt)|0,B=B+Math.imul(ne,ht)|0,ae=ae+Math.imul(ne,Nt)|0,te=te+Math.imul(ze,Mt)|0,B=B+Math.imul(ze,Ot)|0,B=B+Math.imul(et,Mt)|0,ae=ae+Math.imul(et,Ot)|0,te=te+Math.imul(Le,kt)|0,B=B+Math.imul(Le,lt)|0,B=B+Math.imul(He,kt)|0,ae=ae+Math.imul(He,lt)|0,te=te+Math.imul(we,Wt)|0,B=B+Math.imul(we,zt)|0,B=B+Math.imul(ve,Wt)|0,ae=ae+Math.imul(ve,zt)|0,te=te+Math.imul(O,Ie)|0,B=B+Math.imul(O,Ge)|0,B=B+Math.imul(oe,Ie)|0,ae=ae+Math.imul(oe,Ge)|0,te=te+Math.imul(me,it)|0,B=B+Math.imul(me,ut)|0,B=B+Math.imul(ke,it)|0,ae=ae+Math.imul(ke,ut)|0,te=te+Math.imul(X,Rt)|0,B=B+Math.imul(X,Dt)|0,B=B+Math.imul(ee,Rt)|0,ae=ae+Math.imul(ee,Dt)|0,te=te+Math.imul(he,dt)|0,B=B+Math.imul(he,st)|0,B=B+Math.imul(Ne,dt)|0,ae=ae+Math.imul(Ne,st)|0;var Li=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Li>>>26)|0,Li&=67108863,te=Math.imul(Fe,ct),B=Math.imul(Fe,pt),B=B+Math.imul(Ke,ct)|0,ae=Math.imul(Ke,pt),te=te+Math.imul(be,ht)|0,B=B+Math.imul(be,Nt)|0,B=B+Math.imul(Me,ht)|0,ae=ae+Math.imul(Me,Nt)|0,te=te+Math.imul(de,Mt)|0,B=B+Math.imul(de,Ot)|0,B=B+Math.imul(ne,Mt)|0,ae=ae+Math.imul(ne,Ot)|0,te=te+Math.imul(ze,kt)|0,B=B+Math.imul(ze,lt)|0,B=B+Math.imul(et,kt)|0,ae=ae+Math.imul(et,lt)|0,te=te+Math.imul(Le,Wt)|0,B=B+Math.imul(Le,zt)|0,B=B+Math.imul(He,Wt)|0,ae=ae+Math.imul(He,zt)|0,te=te+Math.imul(we,Ie)|0,B=B+Math.imul(we,Ge)|0,B=B+Math.imul(ve,Ie)|0,ae=ae+Math.imul(ve,Ge)|0,te=te+Math.imul(O,it)|0,B=B+Math.imul(O,ut)|0,B=B+Math.imul(oe,it)|0,ae=ae+Math.imul(oe,ut)|0,te=te+Math.imul(me,Rt)|0,B=B+Math.imul(me,Dt)|0,B=B+Math.imul(ke,Rt)|0,ae=ae+Math.imul(ke,Dt)|0,te=te+Math.imul(X,dt)|0,B=B+Math.imul(X,st)|0,B=B+Math.imul(ee,dt)|0,ae=ae+Math.imul(ee,st)|0;var Ti=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,te=Math.imul(Fe,ht),B=Math.imul(Fe,Nt),B=B+Math.imul(Ke,ht)|0,ae=Math.imul(Ke,Nt),te=te+Math.imul(be,Mt)|0,B=B+Math.imul(be,Ot)|0,B=B+Math.imul(Me,Mt)|0,ae=ae+Math.imul(Me,Ot)|0,te=te+Math.imul(de,kt)|0,B=B+Math.imul(de,lt)|0,B=B+Math.imul(ne,kt)|0,ae=ae+Math.imul(ne,lt)|0,te=te+Math.imul(ze,Wt)|0,B=B+Math.imul(ze,zt)|0,B=B+Math.imul(et,Wt)|0,ae=ae+Math.imul(et,zt)|0,te=te+Math.imul(Le,Ie)|0,B=B+Math.imul(Le,Ge)|0,B=B+Math.imul(He,Ie)|0,ae=ae+Math.imul(He,Ge)|0,te=te+Math.imul(we,it)|0,B=B+Math.imul(we,ut)|0,B=B+Math.imul(ve,it)|0,ae=ae+Math.imul(ve,ut)|0,te=te+Math.imul(O,Rt)|0,B=B+Math.imul(O,Dt)|0,B=B+Math.imul(oe,Rt)|0,ae=ae+Math.imul(oe,Dt)|0,te=te+Math.imul(me,dt)|0,B=B+Math.imul(me,st)|0,B=B+Math.imul(ke,dt)|0,ae=ae+Math.imul(ke,st)|0;var Pi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,te=Math.imul(Fe,Mt),B=Math.imul(Fe,Ot),B=B+Math.imul(Ke,Mt)|0,ae=Math.imul(Ke,Ot),te=te+Math.imul(be,kt)|0,B=B+Math.imul(be,lt)|0,B=B+Math.imul(Me,kt)|0,ae=ae+Math.imul(Me,lt)|0,te=te+Math.imul(de,Wt)|0,B=B+Math.imul(de,zt)|0,B=B+Math.imul(ne,Wt)|0,ae=ae+Math.imul(ne,zt)|0,te=te+Math.imul(ze,Ie)|0,B=B+Math.imul(ze,Ge)|0,B=B+Math.imul(et,Ie)|0,ae=ae+Math.imul(et,Ge)|0,te=te+Math.imul(Le,it)|0,B=B+Math.imul(Le,ut)|0,B=B+Math.imul(He,it)|0,ae=ae+Math.imul(He,ut)|0,te=te+Math.imul(we,Rt)|0,B=B+Math.imul(we,Dt)|0,B=B+Math.imul(ve,Rt)|0,ae=ae+Math.imul(ve,Dt)|0,te=te+Math.imul(O,dt)|0,B=B+Math.imul(O,st)|0,B=B+Math.imul(oe,dt)|0,ae=ae+Math.imul(oe,st)|0;var Gt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,te=Math.imul(Fe,kt),B=Math.imul(Fe,lt),B=B+Math.imul(Ke,kt)|0,ae=Math.imul(Ke,lt),te=te+Math.imul(be,Wt)|0,B=B+Math.imul(be,zt)|0,B=B+Math.imul(Me,Wt)|0,ae=ae+Math.imul(Me,zt)|0,te=te+Math.imul(de,Ie)|0,B=B+Math.imul(de,Ge)|0,B=B+Math.imul(ne,Ie)|0,ae=ae+Math.imul(ne,Ge)|0,te=te+Math.imul(ze,it)|0,B=B+Math.imul(ze,ut)|0,B=B+Math.imul(et,it)|0,ae=ae+Math.imul(et,ut)|0,te=te+Math.imul(Le,Rt)|0,B=B+Math.imul(Le,Dt)|0,B=B+Math.imul(He,Rt)|0,ae=ae+Math.imul(He,Dt)|0,te=te+Math.imul(we,dt)|0,B=B+Math.imul(we,st)|0,B=B+Math.imul(ve,dt)|0,ae=ae+Math.imul(ve,st)|0;var Jt=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,te=Math.imul(Fe,Wt),B=Math.imul(Fe,zt),B=B+Math.imul(Ke,Wt)|0,ae=Math.imul(Ke,zt),te=te+Math.imul(be,Ie)|0,B=B+Math.imul(be,Ge)|0,B=B+Math.imul(Me,Ie)|0,ae=ae+Math.imul(Me,Ge)|0,te=te+Math.imul(de,it)|0,B=B+Math.imul(de,ut)|0,B=B+Math.imul(ne,it)|0,ae=ae+Math.imul(ne,ut)|0,te=te+Math.imul(ze,Rt)|0,B=B+Math.imul(ze,Dt)|0,B=B+Math.imul(et,Rt)|0,ae=ae+Math.imul(et,Dt)|0,te=te+Math.imul(Le,dt)|0,B=B+Math.imul(Le,st)|0,B=B+Math.imul(He,dt)|0,ae=ae+Math.imul(He,st)|0;var pi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(pi>>>26)|0,pi&=67108863,te=Math.imul(Fe,Ie),B=Math.imul(Fe,Ge),B=B+Math.imul(Ke,Ie)|0,ae=Math.imul(Ke,Ge),te=te+Math.imul(be,it)|0,B=B+Math.imul(be,ut)|0,B=B+Math.imul(Me,it)|0,ae=ae+Math.imul(Me,ut)|0,te=te+Math.imul(de,Rt)|0,B=B+Math.imul(de,Dt)|0,B=B+Math.imul(ne,Rt)|0,ae=ae+Math.imul(ne,Dt)|0,te=te+Math.imul(ze,dt)|0,B=B+Math.imul(ze,st)|0,B=B+Math.imul(et,dt)|0,ae=ae+Math.imul(et,st)|0;var ni=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(ni>>>26)|0,ni&=67108863,te=Math.imul(Fe,it),B=Math.imul(Fe,ut),B=B+Math.imul(Ke,it)|0,ae=Math.imul(Ke,ut),te=te+Math.imul(be,Rt)|0,B=B+Math.imul(be,Dt)|0,B=B+Math.imul(Me,Rt)|0,ae=ae+Math.imul(Me,Dt)|0,te=te+Math.imul(de,dt)|0,B=B+Math.imul(de,st)|0,B=B+Math.imul(ne,dt)|0,ae=ae+Math.imul(ne,st)|0;var oi=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,te=Math.imul(Fe,Rt),B=Math.imul(Fe,Dt),B=B+Math.imul(Ke,Rt)|0,ae=Math.imul(Ke,Dt),te=te+Math.imul(be,dt)|0,B=B+Math.imul(be,st)|0,B=B+Math.imul(Me,dt)|0,ae=ae+Math.imul(Me,st)|0;var Si=(Z+te|0)+((B&8191)<<13)|0;Z=(ae+(B>>>13)|0)+(Si>>>26)|0,Si&=67108863,te=Math.imul(Fe,dt),B=Math.imul(Fe,st),B=B+Math.imul(Ke,dt)|0,ae=Math.imul(Ke,st);var qi=(Z+te|0)+((B&8191)<<13)|0;return Z=(ae+(B>>>13)|0)+(qi>>>26)|0,qi&=67108863,$[0]=_t,$[1]=ei,$[2]=Zt,$[3]=Lt,$[4]=bi,$[5]=ti,$[6]=ki,$[7]=_i,$[8]=$i,$[9]=Li,$[10]=Ti,$[11]=Pi,$[12]=Gt,$[13]=Jt,$[14]=pi,$[15]=ni,$[16]=oi,$[17]=Si,$[18]=qi,Z!==0&&($[19]=Z,F.length++),F};Math.imul||(D=E);function x(C,l,w){w.negative=l.negative^C.negative,w.length=C.length+l.length;for(var F=0,q=0,j=0;j<w.length-1;j++){var $=q;q=0;for(var Z=F&67108863,te=Math.min(j,l.length-1),B=Math.max(0,j-C.length+1);B<=te;B++){var ae=j-B,xe=C.words[ae]|0,he=l.words[B]|0,Ne=xe*he,Te=Ne&67108863;$=$+(Ne/67108864|0)|0,Te=Te+Z|0,Z=Te&67108863,$=$+(Te>>>26)|0,q+=$>>>26,$&=67108863}w.words[j]=Z,F=$,$=q}return F!==0?w.words[j]=F:w.length--,w._strip()}function W(C,l,w){return x(C,l,w)}c.prototype.mulTo=function(l,w){var F,q=this.length+l.length;return this.length===10&&l.length===10?F=D(this,l,w):q<63?F=E(this,l,w):q<1024?F=x(this,l,w):F=W(this,l,w),F};function b(C,l){this.x=C,this.y=l}b.prototype.makeRBT=function(l){for(var w=new Array(l),F=c.prototype._countBits(l)-1,q=0;q<l;q++)w[q]=this.revBin(q,F,l);return w},b.prototype.revBin=function(l,w,F){if(l===0||l===F-1)return l;for(var q=0,j=0;j<w;j++)q|=(l&1)<<w-j-1,l>>=1;return q},b.prototype.permute=function(l,w,F,q,j,$){for(var Z=0;Z<$;Z++)q[Z]=w[l[Z]],j[Z]=F[l[Z]]},b.prototype.transform=function(l,w,F,q,j,$){this.permute($,l,w,F,q,j);for(var Z=1;Z<j;Z<<=1)for(var te=Z<<1,B=Math.cos(2*Math.PI/te),ae=Math.sin(2*Math.PI/te),xe=0;xe<j;xe+=te)for(var he=B,Ne=ae,Te=0;Te<Z;Te++){var X=F[xe+Te],ee=q[xe+Te],ce=F[xe+Te+Z],me=q[xe+Te+Z],ke=he*ce-Ne*me;me=he*me+Ne*ce,ce=ke,F[xe+Te]=X+ce,q[xe+Te]=ee+me,F[xe+Te+Z]=X-ce,q[xe+Te+Z]=ee-me,Te!==te&&(ke=B*he-ae*Ne,Ne=B*Ne+ae*he,he=ke)}},b.prototype.guessLen13b=function(l,w){var F=Math.max(w,l)|1,q=F&1,j=0;for(F=F/2|0;F;F=F>>>1)j++;return 1<<j+1+q},b.prototype.conjugate=function(l,w,F){if(!(F<=1))for(var q=0;q<F/2;q++){var j=l[q];l[q]=l[F-q-1],l[F-q-1]=j,j=w[q],w[q]=-w[F-q-1],w[F-q-1]=-j}},b.prototype.normalize13b=function(l,w){for(var F=0,q=0;q<w/2;q++){var j=Math.round(l[2*q+1]/w)*8192+Math.round(l[2*q]/w)+F;l[q]=j&67108863,j<67108864?F=0:F=j/67108864|0}return l},b.prototype.convert13b=function(l,w,F,q){for(var j=0,$=0;$<w;$++)j=j+(l[$]|0),F[2*$]=j&8191,j=j>>>13,F[2*$+1]=j&8191,j=j>>>13;for($=2*w;$<q;++$)F[$]=0;P(j===0),P((j&-8192)===0)},b.prototype.stub=function(l){for(var w=new Array(l),F=0;F<l;F++)w[F]=0;return w},b.prototype.mulp=function(l,w,F){var q=2*this.guessLen13b(l.length,w.length),j=this.makeRBT(q),$=this.stub(q),Z=new Array(q),te=new Array(q),B=new Array(q),ae=new Array(q),xe=new Array(q),he=new Array(q),Ne=F.words;Ne.length=q,this.convert13b(l.words,l.length,Z,q),this.convert13b(w.words,w.length,ae,q),this.transform(Z,$,te,B,q,j),this.transform(ae,$,xe,he,q,j);for(var Te=0;Te<q;Te++){var X=te[Te]*xe[Te]-B[Te]*he[Te];B[Te]=te[Te]*he[Te]+B[Te]*xe[Te],te[Te]=X}return this.conjugate(te,B,q),this.transform(te,B,Ne,$,q,j),this.conjugate(Ne,$,q),this.normalize13b(Ne,q),F.negative=l.negative^w.negative,F.length=l.length+w.length,F._strip()},c.prototype.mul=function(l){var w=new c(null);return w.words=new Array(this.length+l.length),this.mulTo(l,w)},c.prototype.mulf=function(l){var w=new c(null);return w.words=new Array(this.length+l.length),W(this,l,w)},c.prototype.imul=function(l){return this.clone().mulTo(l,this)},c.prototype.imuln=function(l){var w=l<0;w&&(l=-l),P(typeof l=="number"),P(l<67108864);for(var F=0,q=0;q<this.length;q++){var j=(this.words[q]|0)*l,$=(j&67108863)+(F&67108863);F>>=26,F+=j/67108864|0,F+=$>>>26,this.words[q]=$&67108863}return F!==0&&(this.words[q]=F,this.length++),w?this.ineg():this},c.prototype.muln=function(l){return this.clone().imuln(l)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(l){var w=T(l);if(w.length===0)return new c(1);for(var F=this,q=0;q<w.length&&w[q]===0;q++,F=F.sqr());if(++q<w.length)for(var j=F.sqr();q<w.length;q++,j=j.sqr())w[q]!==0&&(F=F.mul(j));return F},c.prototype.iushln=function(l){P(typeof l=="number"&&l>=0);var w=l%26,F=(l-w)/26,q=67108863>>>26-w<<26-w,j;if(w!==0){var $=0;for(j=0;j<this.length;j++){var Z=this.words[j]&q,te=(this.words[j]|0)-Z<<w;this.words[j]=te|$,$=Z>>>26-w}$&&(this.words[j]=$,this.length++)}if(F!==0){for(j=this.length-1;j>=0;j--)this.words[j+F]=this.words[j];for(j=0;j<F;j++)this.words[j]=0;this.length+=F}return this._strip()},c.prototype.ishln=function(l){return P(this.negative===0),this.iushln(l)},c.prototype.iushrn=function(l,w,F){P(typeof l=="number"&&l>=0);var q;w?q=(w-w%26)/26:q=0;var j=l%26,$=Math.min((l-j)/26,this.length),Z=67108863^67108863>>>j<<j,te=F;if(q-=$,q=Math.max(0,q),te){for(var B=0;B<$;B++)te.words[B]=this.words[B];te.length=$}if($!==0)if(this.length>$)for(this.length-=$,B=0;B<this.length;B++)this.words[B]=this.words[B+$];else this.words[0]=0,this.length=1;var ae=0;for(B=this.length-1;B>=0&&(ae!==0||B>=q);B--){var xe=this.words[B]|0;this.words[B]=ae<<26-j|xe>>>j,ae=xe&Z}return te&&ae!==0&&(te.words[te.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(l,w,F){return P(this.negative===0),this.iushrn(l,w,F)},c.prototype.shln=function(l){return this.clone().ishln(l)},c.prototype.ushln=function(l){return this.clone().iushln(l)},c.prototype.shrn=function(l){return this.clone().ishrn(l)},c.prototype.ushrn=function(l){return this.clone().iushrn(l)},c.prototype.testn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,F=(l-w)/26,q=1<<w;if(this.length<=F)return!1;var j=this.words[F];return!!(j&q)},c.prototype.imaskn=function(l){P(typeof l=="number"&&l>=0);var w=l%26,F=(l-w)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=F)return this;if(w!==0&&F++,this.length=Math.min(F,this.length),w!==0){var q=67108863^67108863>>>w<<w;this.words[this.length-1]&=q}return this._strip()},c.prototype.maskn=function(l){return this.clone().imaskn(l)},c.prototype.iaddn=function(l){return P(typeof l=="number"),P(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},c.prototype._iaddn=function(l){this.words[0]+=l;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(l){if(P(typeof l=="number"),P(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(l){return this.clone().iaddn(l)},c.prototype.subn=function(l){return this.clone().isubn(l)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(l,w,F){var q=l.length+F,j;this._expand(q);var $,Z=0;for(j=0;j<l.length;j++){$=(this.words[j+F]|0)+Z;var te=(l.words[j]|0)*w;$-=te&67108863,Z=($>>26)-(te/67108864|0),this.words[j+F]=$&67108863}for(;j<this.length-F;j++)$=(this.words[j+F]|0)+Z,Z=$>>26,this.words[j+F]=$&67108863;if(Z===0)return this._strip();for(P(Z===-1),Z=0,j=0;j<this.length;j++)$=-(this.words[j]|0)+Z,Z=$>>26,this.words[j]=$&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(l,w){var F=this.length-l.length,q=this.clone(),j=l,$=j.words[j.length-1]|0,Z=this._countBits($);F=26-Z,F!==0&&(j=j.ushln(F),q.iushln(F),$=j.words[j.length-1]|0);var te=q.length-j.length,B;if(w!=="mod"){B=new c(null),B.length=te+1,B.words=new Array(B.length);for(var ae=0;ae<B.length;ae++)B.words[ae]=0}var xe=q.clone()._ishlnsubmul(j,1,te);xe.negative===0&&(q=xe,B&&(B.words[te]=1));for(var he=te-1;he>=0;he--){var Ne=(q.words[j.length+he]|0)*67108864+(q.words[j.length+he-1]|0);for(Ne=Math.min(Ne/$|0,67108863),q._ishlnsubmul(j,Ne,he);q.negative!==0;)Ne--,q.negative=0,q._ishlnsubmul(j,1,he),q.isZero()||(q.negative^=1);B&&(B.words[he]=Ne)}return B&&B._strip(),q._strip(),w!=="div"&&F!==0&&q.iushrn(F),{div:B||null,mod:q}},c.prototype.divmod=function(l,w,F){if(P(!l.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var q,j,$;return this.negative!==0&&l.negative===0?($=this.neg().divmod(l,w),w!=="mod"&&(q=$.div.neg()),w!=="div"&&(j=$.mod.neg(),F&&j.negative!==0&&j.iadd(l)),{div:q,mod:j}):this.negative===0&&l.negative!==0?($=this.divmod(l.neg(),w),w!=="mod"&&(q=$.div.neg()),{div:q,mod:$.mod}):this.negative&l.negative?($=this.neg().divmod(l.neg(),w),w!=="div"&&(j=$.mod.neg(),F&&j.negative!==0&&j.isub(l)),{div:$.div,mod:j}):l.length>this.length||this.cmp(l)<0?{div:new c(0),mod:this}:l.length===1?w==="div"?{div:this.divn(l.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new c(this.modrn(l.words[0]))}:this._wordDiv(l,w)},c.prototype.div=function(l){return this.divmod(l,"div",!1).div},c.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},c.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},c.prototype.divRound=function(l){var w=this.divmod(l);if(w.mod.isZero())return w.div;var F=w.div.negative!==0?w.mod.isub(l):w.mod,q=l.ushrn(1),j=l.andln(1),$=F.cmp(q);return $<0||j===1&&$===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var F=(1<<26)%l,q=0,j=this.length-1;j>=0;j--)q=(F*q+(this.words[j]|0))%l;return w?-q:q},c.prototype.modn=function(l){return this.modrn(l)},c.prototype.idivn=function(l){var w=l<0;w&&(l=-l),P(l<=67108863);for(var F=0,q=this.length-1;q>=0;q--){var j=(this.words[q]|0)+F*67108864;this.words[q]=j/l|0,F=j%l}return this._strip(),w?this.ineg():this},c.prototype.divn=function(l){return this.clone().idivn(l)},c.prototype.egcd=function(l){P(l.negative===0),P(!l.isZero());var w=this,F=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new c(1),j=new c(0),$=new c(0),Z=new c(1),te=0;w.isEven()&&F.isEven();)w.iushrn(1),F.iushrn(1),++te;for(var B=F.clone(),ae=w.clone();!w.isZero();){for(var xe=0,he=1;!(w.words[0]&he)&&xe<26;++xe,he<<=1);if(xe>0)for(w.iushrn(xe);xe-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(ae)),q.iushrn(1),j.iushrn(1);for(var Ne=0,Te=1;!(F.words[0]&Te)&&Ne<26;++Ne,Te<<=1);if(Ne>0)for(F.iushrn(Ne);Ne-- >0;)($.isOdd()||Z.isOdd())&&($.iadd(B),Z.isub(ae)),$.iushrn(1),Z.iushrn(1);w.cmp(F)>=0?(w.isub(F),q.isub($),j.isub(Z)):(F.isub(w),$.isub(q),Z.isub(j))}return{a:$,b:Z,gcd:F.iushln(te)}},c.prototype._invmp=function(l){P(l.negative===0),P(!l.isZero());var w=this,F=l.clone();w.negative!==0?w=w.umod(l):w=w.clone();for(var q=new c(1),j=new c(0),$=F.clone();w.cmpn(1)>0&&F.cmpn(1)>0;){for(var Z=0,te=1;!(w.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)q.isOdd()&&q.iadd($),q.iushrn(1);for(var B=0,ae=1;!(F.words[0]&ae)&&B<26;++B,ae<<=1);if(B>0)for(F.iushrn(B);B-- >0;)j.isOdd()&&j.iadd($),j.iushrn(1);w.cmp(F)>=0?(w.isub(F),q.isub(j)):(F.isub(w),j.isub(q))}var xe;return w.cmpn(1)===0?xe=q:xe=j,xe.cmpn(0)<0&&xe.iadd(l),xe},c.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var w=this.clone(),F=l.clone();w.negative=0,F.negative=0;for(var q=0;w.isEven()&&F.isEven();q++)w.iushrn(1),F.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;F.isEven();)F.iushrn(1);var j=w.cmp(F);if(j<0){var $=w;w=F,F=$}else if(j===0||F.cmpn(1)===0)break;w.isub(F)}while(!0);return F.iushln(q)},c.prototype.invm=function(l){return this.egcd(l).a.umod(l)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(l){return this.words[0]&l},c.prototype.bincn=function(l){P(typeof l=="number");var w=l%26,F=(l-w)/26,q=1<<w;if(this.length<=F)return this._expand(F+1),this.words[F]|=q,this;for(var j=q,$=F;j!==0&&$<this.length;$++){var Z=this.words[$]|0;Z+=j,j=Z>>>26,Z&=67108863,this.words[$]=Z}return j!==0&&(this.words[$]=j,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(l){var w=l<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var F;if(this.length>1)F=1;else{w&&(l=-l),P(l<=67108863,"Number is too big");var q=this.words[0]|0;F=q===l?0:q<l?-1:1}return this.negative!==0?-F|0:F},c.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var w=this.ucmp(l);return this.negative!==0?-w|0:w},c.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var w=0,F=this.length-1;F>=0;F--){var q=this.words[F]|0,j=l.words[F]|0;if(q!==j){q<j?w=-1:q>j&&(w=1);break}}return w},c.prototype.gtn=function(l){return this.cmpn(l)===1},c.prototype.gt=function(l){return this.cmp(l)===1},c.prototype.gten=function(l){return this.cmpn(l)>=0},c.prototype.gte=function(l){return this.cmp(l)>=0},c.prototype.ltn=function(l){return this.cmpn(l)===-1},c.prototype.lt=function(l){return this.cmp(l)===-1},c.prototype.lten=function(l){return this.cmpn(l)<=0},c.prototype.lte=function(l){return this.cmp(l)<=0},c.prototype.eqn=function(l){return this.cmpn(l)===0},c.prototype.eq=function(l){return this.cmp(l)===0},c.red=function(l){return new M(l)},c.prototype.toRed=function(l){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},c.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(l){return this.red=l,this},c.prototype.forceRed=function(l){return P(!this.red,"Already a number in reduction context"),this._forceRed(l)},c.prototype.redAdd=function(l){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},c.prototype.redIAdd=function(l){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},c.prototype.redSub=function(l){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},c.prototype.redISub=function(l){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},c.prototype.redShl=function(l){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},c.prototype.redMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},c.prototype.redIMul=function(l){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},c.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(l){return P(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function z(C,l){this.name=C,this.p=new c(l,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var l=new c(null);return l.words=new Array(Math.ceil(this.n/13)),l},z.prototype.ireduce=function(l){var w=l,F;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),F=w.bitLength();while(F>this.n);var q=F<this.n?-1:w.ucmp(this.p);return q===0?(w.words[0]=0,w.length=1):q>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},z.prototype.split=function(l,w){l.iushrn(this.n,0,w)},z.prototype.imulK=function(l){return l.imul(this.k)};function K(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}S(K,z),K.prototype.split=function(l,w){for(var F=4194303,q=Math.min(l.length,9),j=0;j<q;j++)w.words[j]=l.words[j];if(w.length=q,l.length<=9){l.words[0]=0,l.length=1;return}var $=l.words[9];for(w.words[w.length++]=$&F,j=10;j<l.length;j++){var Z=l.words[j]|0;l.words[j-10]=(Z&F)<<4|$>>>22,$=Z}$>>>=22,l.words[j-10]=$,$===0&&l.length>10?l.length-=10:l.length-=9},K.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var w=0,F=0;F<l.length;F++){var q=l.words[F]|0;w+=q*977,l.words[F]=w&67108863,w=q*64+(w/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function J(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}S(J,z);function ie(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}S(ie,z);function Y(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}S(Y,z),Y.prototype.imulK=function(l){for(var w=0,F=0;F<l.length;F++){var q=(l.words[F]|0)*19+w,j=q&67108863;q>>>=26,l.words[F]=j,w=q}return w!==0&&(l.words[l.length++]=w),l},c._prime=function(l){if(L[l])return L[l];var w;if(l==="k256")w=new K;else if(l==="p224")w=new J;else if(l==="p192")w=new ie;else if(l==="p25519")w=new Y;else throw new Error("Unknown prime "+l);return L[l]=w,w};function M(C){if(typeof C=="string"){var l=c._prime(C);this.m=l.p,this.prime=l}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}M.prototype._verify1=function(l){P(l.negative===0,"red works only with positives"),P(l.red,"red works only with red numbers")},M.prototype._verify2=function(l,w){P((l.negative|w.negative)===0,"red works only with positives"),P(l.red&&l.red===w.red,"red works only with red numbers")},M.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(y(l,l.umod(this.m)._forceRed(this)),l)},M.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},M.prototype.add=function(l,w){this._verify2(l,w);var F=l.add(w);return F.cmp(this.m)>=0&&F.isub(this.m),F._forceRed(this)},M.prototype.iadd=function(l,w){this._verify2(l,w);var F=l.iadd(w);return F.cmp(this.m)>=0&&F.isub(this.m),F},M.prototype.sub=function(l,w){this._verify2(l,w);var F=l.sub(w);return F.cmpn(0)<0&&F.iadd(this.m),F._forceRed(this)},M.prototype.isub=function(l,w){this._verify2(l,w);var F=l.isub(w);return F.cmpn(0)<0&&F.iadd(this.m),F},M.prototype.shl=function(l,w){return this._verify1(l),this.imod(l.ushln(w))},M.prototype.imul=function(l,w){return this._verify2(l,w),this.imod(l.imul(w))},M.prototype.mul=function(l,w){return this._verify2(l,w),this.imod(l.mul(w))},M.prototype.isqr=function(l){return this.imul(l,l.clone())},M.prototype.sqr=function(l){return this.mul(l,l)},M.prototype.sqrt=function(l){if(l.isZero())return l.clone();var w=this.m.andln(3);if(P(w%2===1),w===3){var F=this.m.add(new c(1)).iushrn(2);return this.pow(l,F)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);P(!q.isZero());var $=new c(1).toRed(this),Z=$.redNeg(),te=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new c(2*B*B).toRed(this);this.pow(B,te).cmp(Z)!==0;)B.redIAdd(Z);for(var ae=this.pow(B,q),xe=this.pow(l,q.addn(1).iushrn(1)),he=this.pow(l,q),Ne=j;he.cmp($)!==0;){for(var Te=he,X=0;Te.cmp($)!==0;X++)Te=Te.redSqr();P(X<Ne);var ee=this.pow(ae,new c(1).iushln(Ne-X-1));xe=xe.redMul(ee),ae=ee.redSqr(),he=he.redMul(ae),Ne=X}return xe},M.prototype.invm=function(l){var w=l._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(l,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return l.clone();var F=4,q=new Array(1<<F);q[0]=new c(1).toRed(this),q[1]=l;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],l);var $=q[0],Z=0,te=0,B=w.bitLength()%26;for(B===0&&(B=26),j=w.length-1;j>=0;j--){for(var ae=w.words[j],xe=B-1;xe>=0;xe--){var he=ae>>xe&1;if($!==q[0]&&($=this.sqr($)),he===0&&Z===0){te=0;continue}Z<<=1,Z|=he,te++,!(te!==F&&(j!==0||xe!==0))&&($=this.mul($,q[Z]),te=0,Z=0)}B=26}return $},M.prototype.convertTo=function(l){var w=l.umod(this.m);return w===l?w.clone():w},M.prototype.convertFrom=function(l){var w=l.clone();return w.red=null,w},c.mont=function(l){return new V(l)};function V(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S(V,M),V.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},V.prototype.convertFrom=function(l){var w=this.imod(l.mul(this.rinv));return w.red=null,w},V.prototype.imul=function(l,w){if(l.isZero()||w.isZero())return l.words[0]=0,l.length=1,l;var F=l.imul(w),q=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=F.isub(q).iushrn(this.shift),$=j;return j.cmp(this.m)>=0?$=j.isub(this.m):j.cmpn(0)<0&&($=j.iadd(this.m)),$._forceRed(this)},V.prototype.mul=function(l,w){if(l.isZero()||w.isZero())return new c(0)._forceRed(this);var F=l.mul(w),q=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=F.isub(q).iushrn(this.shift),$=j;return j.cmp(this.m)>=0?$=j.isub(this.m):j.cmpn(0)<0&&($=j.iadd(this.m)),$._forceRed(this)},V.prototype.invm=function(l){var w=this.imod(l._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(s,this)},2686:s=>{"use strict";function G(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f}var N={};function R(d,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var y=function(u){G(k,u);function k(m,g,p){return u.call(this,_(m,g,p))||this}return k}(h);y.prototype.name=h.name,y.prototype.code=d,N[d]=y}function I(d,f){if(Array.isArray(d)){var h=d.length;return d=d.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(d.slice(0,h-1).join(", "),", or ")+d[h-1]:h===2?"one of ".concat(f," ").concat(d[0]," or ").concat(d[1]):"of ".concat(f," ").concat(d[0])}else return"of ".concat(f," ").concat(String(d))}function P(d,f,h){return d.substr(!h||h<0?0:+h,f.length)===f}function S(d,f,h){return(h===void 0||h>d.length)&&(h=d.length),d.substring(h-f.length,h)===f}function c(d,f,h){return typeof h!="number"&&(h=0),h+f.length>d.length?!1:d.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(d,f){return'The value "'+f+'" is invalid for option "'+d+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(d,f,h){var _;typeof f=="string"&&P(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var y;if(S(d," argument"))y="The ".concat(d," ").concat(_," ").concat(I(f,"type"));else{var u=c(d,".")?"property":"argument";y='The "'.concat(d,'" ').concat(u," ").concat(_," ").concat(I(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=N},26248:(s,G,N)=>{"use strict";var R=N(65606),I=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var P=N(30206),S=N(7314);N(56698)(h,P);for(var c=I(S.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},75242:(s,G,N)=>{"use strict";s.exports=I;var R=N(81816);N(56698)(I,R);function I(P){if(!(this instanceof I))return new I(P);R.call(this,P)}I.prototype._transform=function(P,S,c){c(null,P)}},30206:(s,G,N)=>{"use strict";var R=N(65606);s.exports=M;var I;M.ReadableState=Y;var P=N(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},c=N(5567),d=N(48287).Buffer,f=(typeof N.g!="undefined"?N.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function h(U){return d.from(U)}function _(U){return d.isBuffer(U)||U instanceof f}var y=N(92668),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var k=N(72851),m=N(36278),g=N(57385),p=g.getHighWaterMark,T=N(2686).F,E=T.ERR_INVALID_ARG_TYPE,D=T.ERR_STREAM_PUSH_AFTER_EOF,x=T.ERR_METHOD_NOT_IMPLEMENTED,W=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;N(56698)(M,c);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){I=I||N(26248),U=U||{},typeof oe!="boolean"&&(oe=O instanceof I),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=N(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(I=I||N(26248),!(this instanceof M))return new M(U);var O=this instanceof I;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=d.from(U,O),O=""),ge=!0),V(this,U,O,!1,ge)},M.prototype.unshift=function(U){return V(this,U,null,!0,!1)};function V(U,O,oe,ge,we){u("readableAddChunk",O);var ve=U._readableState;if(O===null)ve.reading=!1,j(U,ve);else{var Pe;if(we||(Pe=l(ve,O)),Pe)K(U,Pe);else if(ve.objectMode||O&&O.length>0)if(typeof O!="string"&&!ve.objectMode&&Object.getPrototypeOf(O)!==d.prototype&&(O=h(O)),ge)ve.endEmitted?K(U,new W):C(U,ve,O,!0);else if(ve.ended)K(U,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!oe?(O=ve.decoder.write(O),ve.objectMode||O.length!==0?C(U,ve,O,!1):te(U,ve)):C(U,ve,O,!1)}else ge||(ve.reading=!1,te(U,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function C(U,O,oe,ge){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ge?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&$(U)),te(U,O)}function l(U,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=N(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var w=1073741824;function F(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=F(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?ce(this):$(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&ce(this),null;var ge=O.needReadable;u("need readable",ge),(O.length===0||O.length-U<O.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),O.ended||O.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&ce(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?$(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function $(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new x("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=U;break;case 1:ge.pipes=[ge.pipes,U];break;default:ge.pipes.push(U);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,ve=we?Le:se;ge.endEmitted?R.nextTick(ve):oe.once("end",ve),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,ze())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var wt=!1;function ze(){u("cleanup"),U.removeListener("close",de),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",gt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",et),wt=!0,ge.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",et);function et(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ge.pipesCount===1&&ge.pipes===U||ge.pipesCount>1&&ke(ge.pipes,U)!==-1)&&!wt&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function gt(be){u("onerror",be),se(),U.removeListener("error",gt),S(U,"error")===0&&K(U,be)}ie(U,"error",gt);function de(){U.removeListener("finish",ne),se()}U.once("close",de);function ne(){u("onfinish"),U.removeListener("close",de),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ge=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ve=0;ve<we;ve++)ge[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=ke(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=c.prototype.on.call(this,U,O),ge=this._readableState;return U==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):U==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?$(this):ge.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=c.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=c.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ne(this,U)),U.paused=!1,this};function Ne(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Te,U,O))}function Te(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ge=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ge=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var ve=0;ve<J.length;ve++)U.on(J[ve],this.emit.bind(this,J[ve]));return this._read=function(Pe){u("wrapped _read",Pe),ge&&(ge=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=N(72485)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function ce(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=N(28591)),z(M,U,O)});function ke(U,O){for(var oe=0,ge=U.length;oe<ge;oe++)if(U[oe]===O)return oe;return-1}},81816:(s,G,N)=>{"use strict";s.exports=h;var R=N(2686).F,I=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,d=N(26248);N(56698)(h,d);function f(u,k){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);d.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){y(u,k,m)}):y(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,d.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new I("_transform()"))},h.prototype._write=function(u,k,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=k,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){d.prototype._destroy.call(this,u,function(m){k(m)})};function y(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new S;return u.push(null)}},7314:(s,G,N)=>{"use strict";var R=N(65606);s.exports=Y;function I(X,ee,ce){this.chunk=X,this.encoding=ee,this.callback=ce,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Te(ee,X)}}var S;Y.WritableState=J;var c={deprecate:N(94643)},d=N(5567),f=N(48287).Buffer,h=(typeof N.g!="undefined"?N.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function _(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=N(36278),k=N(57385),m=k.getHighWaterMark,g=N(2686).F,p=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,D=g.ERR_STREAM_CANNOT_PIPE,x=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;N(56698)(Y,d);function K(){}function J(X,ee,ce){S=S||N(26248),X=X||{},typeof ce!="boolean"&&(ce=ee instanceof S),this.objectMode=!!X.objectMode,ce&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){j(ee,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(J.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||N(26248);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),d.call(this)}Y.prototype.pipe=function(){z(this,new D)};function M(X,ee){var ce=new b;z(X,ce),R.nextTick(ee,ce)}function V(X,ee,ce,me){var ke;return ce===null?ke=new W:typeof ce!="string"&&!ee.objectMode&&(ke=new p("chunk",["string","Buffer"],ce)),ke?(z(X,ke),R.nextTick(me,ke),!1):!0}Y.prototype.write=function(X,ee,ce){var me=this._writableState,ke=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=_(X)),typeof ee=="function"&&(ce=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(U||V(this,me,X,ce))&&(me.pendingcb++,ke=l(this,me,U,X,ee,ce)),ke},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,ce){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,ce)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,ce,me,ke,U){if(!ce){var O=C(ee,me,ke);me!==O&&(ce=!0,ke="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ge=ee.length<ee.highWaterMark;if(ge||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:ke,isBuf:ce,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,ke,U);return ge}function w(X,ee,ce,me,ke,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new x("write")):ce?X._writev(ke,ee.onwrite):X._write(ke,U,ee.onwrite),ee.sync=!1}function F(X,ee,ce,me,ke){--ee.pendingcb,ce?(R.nextTick(ke,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(ke(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var ce=X._writableState,me=ce.sync,ke=ce.writecb;if(typeof ke!="function")throw new E;if(q(ce),ee)F(X,ce,me,ee,ke);else{var U=B(ce)||X.destroyed;!U&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(X,ce),me?R.nextTick($,X,ce,U,ke):$(X,ce,U,ke)}}function $(X,ee,ce,me){ce||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(X._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,ke=new Array(me),U=ee.corkedRequestsFree;U.entry=ce;for(var O=0,oe=!0;ce;)ke[O]=ce,ce.isBuf||(oe=!1),ce=ce.next,O+=1;ke.allBuffers=oe,w(X,ee,!0,ee.length,ke,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,we=ce.encoding,ve=ce.callback,Pe=ee.objectMode?1:ge.length;if(w(X,ee,!1,Pe,ge,we,ve),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,ce){ce(new T("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,ce){var me=this._writableState;return typeof X=="function"?(ce=X,X=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ne(this,me,ce),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(ce){ee.pendingcb--,ce&&z(X,ce),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var ce=B(ee);if(ce&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return ce}function Ne(X,ee,ce){ee.ending=!0,he(X,ee),ce&&(ee.finished?R.nextTick(ce):X.once("finish",ce)),ee.ended=!0,X.writable=!1}function Te(X,ee,ce){var me=X.entry;for(X.entry=null;me;){var ke=me.callback;ee.pendingcb--,ke(ce),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},72485:(s,G,N)=>{"use strict";var R=N(65606),I;function P(b,L,z){return L=S(L),L in b?Object.defineProperty(b,L,{value:z,enumerable:!0,configurable:!0,writable:!0}):b[L]=z,b}function S(b){var L=c(b,"string");return typeof L=="symbol"?L:String(L)}function c(b,L){if(typeof b!="object"||b===null)return b;var z=b[Symbol.toPrimitive];if(z!==void 0){var K=z.call(b,L||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(b)}var d=N(23532),f=Symbol("lastResolve"),h=Symbol("lastReject"),_=Symbol("error"),y=Symbol("ended"),u=Symbol("lastPromise"),k=Symbol("handlePromise"),m=Symbol("stream");function g(b,L){return{value:b,done:L}}function p(b){var L=b[f];if(L!==null){var z=b[m].read();z!==null&&(b[u]=null,b[f]=null,b[h]=null,L(g(z,!1)))}}function T(b){R.nextTick(p,b)}function E(b,L){return function(z,K){b.then(function(){if(L[y]){z(g(void 0,!0));return}L[k](z,K)},K)}}var D=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((I={get stream(){return this[m]},next:function(){var L=this,z=this[_];if(z!==null)return Promise.reject(z);if(this[y])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(Y,M){R.nextTick(function(){L[_]?M(L[_]):Y(g(void 0,!0))})});var K=this[u],J;if(K)J=new Promise(E(K,this));else{var ie=this[m].read();if(ie!==null)return Promise.resolve(g(ie,!1));J=new Promise(this[k])}return this[u]=J,J}},P(I,Symbol.asyncIterator,function(){return this}),P(I,"return",function(){var L=this;return new Promise(function(z,K){L[m].destroy(null,function(J){if(J){K(J);return}z(g(void 0,!0))})})}),I),D),W=function(L){var z,K=Object.create(x,(z={},P(z,m,{value:L,writable:!0}),P(z,f,{value:null,writable:!0}),P(z,h,{value:null,writable:!0}),P(z,_,{value:null,writable:!0}),P(z,y,{value:L._readableState.endEmitted,writable:!0}),P(z,k,{value:function(ie,Y){var M=K[m].read();M?(K[u]=null,K[f]=null,K[h]=null,ie(g(M,!1))):(K[f]=ie,K[h]=Y)},writable:!0}),z));return K[u]=null,d(L,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=K[h];ie!==null&&(K[u]=null,K[f]=null,K[h]=null,ie(J)),K[_]=J;return}var Y=K[f];Y!==null&&(K[u]=null,K[f]=null,K[h]=null,Y(g(void 0,!0))),K[y]=!0}),L.on("readable",T.bind(null,K)),K};s.exports=W},72851:(s,G,N)=>{"use strict";function R(p,T){var E=Object.keys(p);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(p);T&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),E.push.apply(E,D)}return E}function I(p){for(var T=1;T<arguments.length;T++){var E=arguments[T]!=null?arguments[T]:{};T%2?R(Object(E),!0).forEach(function(D){P(p,D,E[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(E)):R(Object(E)).forEach(function(D){Object.defineProperty(p,D,Object.getOwnPropertyDescriptor(E,D))})}return p}function P(p,T,E){return T=f(T),T in p?Object.defineProperty(p,T,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[T]=E,p}function S(p,T){if(!(p instanceof T))throw new TypeError("Cannot call a class as a function")}function c(p,T){for(var E=0;E<T.length;E++){var D=T[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(p,f(D.key),D)}}function d(p,T,E){return T&&c(p.prototype,T),E&&c(p,E),Object.defineProperty(p,"prototype",{writable:!1}),p}function f(p){var T=h(p,"string");return typeof T=="symbol"?T:String(T)}function h(p,T){if(typeof p!="object"||p===null)return p;var E=p[Symbol.toPrimitive];if(E!==void 0){var D=E.call(p,T||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(p)}var _=N(48287),y=_.Buffer,u=N(21638),k=u.inspect,m=k&&k.custom||"inspect";function g(p,T,E){y.prototype.copy.call(p,T,E)}s.exports=function(){function p(){S(this,p),this.head=null,this.tail=null,this.length=0}return d(p,[{key:"push",value:function(E){var D={data:E,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(E){var D={data:E,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var D=this.head,x=""+D.data;D=D.next;)x+=E+D.data;return x}},{key:"concat",value:function(E){if(this.length===0)return y.alloc(0);for(var D=y.allocUnsafe(E>>>0),x=this.head,W=0;x;)g(x.data,D,W),W+=x.data.length,x=x.next;return D}},{key:"consume",value:function(E,D){var x;return E<this.head.data.length?(x=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?x=this.shift():x=D?this._getString(E):this._getBuffer(E),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var D=this.head,x=1,W=D.data;for(E-=W.length;D=D.next;){var b=D.data,L=E>b.length?b.length:E;if(L===b.length?W+=b:W+=b.slice(0,E),E-=L,E===0){L===b.length?(++x,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=b.slice(L));break}++x}return this.length-=x,W}},{key:"_getBuffer",value:function(E){var D=y.allocUnsafe(E),x=this.head,W=1;for(x.data.copy(D),E-=x.data.length;x=x.next;){var b=x.data,L=E>b.length?b.length:E;if(b.copy(D,D.length-E,0,L),E-=L,E===0){L===b.length?(++W,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=b.slice(L));break}++W}return this.length-=W,D}},{key:m,value:function(E,D){return k(this,I(I({},D),{},{depth:0,customInspect:!1}))}}]),p}()},36278:(s,G,N)=>{"use strict";var R=N(65606);function I(h,_){var y=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(d,this,h)):R.nextTick(d,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):_?(R.nextTick(S,y),_(m)):R.nextTick(S,y)}),this)}function P(h,_){d(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(h,_){h.emit("error",_)}function f(h,_){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:I,undestroy:c,errorOrDestroy:f}},23532:(s,G,N)=>{"use strict";var R=N(2686).F.ERR_STREAM_PREMATURE_CLOSE;function I(d){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),y=0;y<h;y++)_[y]=arguments[y];d.apply(this,_)}}}function P(){}function S(d){return d.setHeader&&typeof d.abort=="function"}function c(d,f,h){if(typeof f=="function")return c(d,null,f);f||(f={}),h=I(h||P);var _=f.readable||f.readable!==!1&&d.readable,y=f.writable||f.writable!==!1&&d.writable,u=function(){d.writable||m()},k=d._writableState&&d._writableState.finished,m=function(){y=!1,k=!0,_||h.call(d)},g=d._readableState&&d._readableState.endEmitted,p=function(){_=!1,g=!0,y||h.call(d)},T=function(W){h.call(d,W)},E=function(){var W;if(_&&!g)return(!d._readableState||!d._readableState.ended)&&(W=new R),h.call(d,W);if(y&&!k)return(!d._writableState||!d._writableState.ended)&&(W=new R),h.call(d,W)},D=function(){d.req.on("finish",m)};return S(d)?(d.on("complete",m),d.on("abort",E),d.req?D():d.on("request",D)):y&&!d._writableState&&(d.on("end",u),d.on("close",u)),d.on("end",p),d.on("finish",m),f.error!==!1&&d.on("error",T),d.on("close",E),function(){d.removeListener("complete",m),d.removeListener("abort",E),d.removeListener("request",D),d.req&&d.req.removeListener("finish",m),d.removeListener("end",u),d.removeListener("close",u),d.removeListener("finish",m),d.removeListener("end",p),d.removeListener("error",T),d.removeListener("close",E)}}s.exports=c},28591:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(s,G,N)=>{"use strict";var R;function I(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=N(2686).F,S=P.ERR_MISSING_ARGS,c=P.ERR_STREAM_DESTROYED;function d(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,T){T=I(T);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=N(23532)),R(m,{readable:g,writable:p},function(x){if(x)return T(x);E=!0,T()});var D=!1;return function(x){if(!E&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(x||new c("pipe"))}}}function _(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?d:m.pop()}function k(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,D=g.map(function(x,W){var b=W<g.length-1,L=W>0;return h(x,b,L,function(z){E||(E=z),z&&D.forEach(_),!b&&(D.forEach(_),T(E))})});return g.reduce(y)}s.exports=k},57385:(s,G,N)=>{"use strict";var R=N(2686).F.ERR_INVALID_OPT_VALUE;function I(S,c,d){return S.highWaterMark!=null?S.highWaterMark:c?S[d]:null}function P(S,c,d,f){var h=I(c,f,d);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?d:"highWaterMark";throw new R(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},5567:(s,G,N)=>{s.exports=N(37007).EventEmitter},46737:(s,G,N)=>{G=s.exports=N(30206),G.Stream=G,G.Readable=G,G.Writable=N(7314),G.Duplex=N(26248),G.Transform=N(81816),G.PassThrough=N(75242),G.finished=N(23532),G.pipeline=N(43440)},30295:s=>{s.exports=function(N,R){for(var I=Math.min(N.length,R.length),P=new Buffer(I),S=0;S<I;++S)P[S]=N[S]^R[S];return P}},48287:(s,G,N)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const R=N(67526),I=N(251),P=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;G.Buffer=f,G.SlowBuffer=D,G.INSPECT_MAX_BYTES=50;const S=2147483647;G.kMaxLength=S,f.TYPED_ARRAY_SUPPORT=c(),!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const de=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(de,ne),de.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function d(de){if(de>S)throw new RangeError('The value "'+de+'" is invalid for option "size"');const ne=new Uint8Array(de);return Object.setPrototypeOf(ne,f.prototype),ne}function f(de,ne,se){if(typeof de=="number"){if(typeof ne=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(de)}return h(de,ne,se)}f.poolSize=8192;function h(de,ne,se){if(typeof de=="string")return k(de,ne);if(ArrayBuffer.isView(de))return g(de);if(de==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof de);if(He(de,ArrayBuffer)||de&&He(de.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(He(de,SharedArrayBuffer)||de&&He(de.buffer,SharedArrayBuffer)))return p(de,ne,se);if(typeof de=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const be=de.valueOf&&de.valueOf();if(be!=null&&be!==de)return f.from(be,ne,se);const Me=T(de);if(Me)return Me;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof de[Symbol.toPrimitive]=="function")return f.from(de[Symbol.toPrimitive]("string"),ne,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof de)}f.from=function(de,ne,se){return h(de,ne,se)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function _(de){if(typeof de!="number")throw new TypeError('"size" argument must be of type number');if(de<0)throw new RangeError('The value "'+de+'" is invalid for option "size"')}function y(de,ne,se){return _(de),de<=0?d(de):ne!==void 0?typeof se=="string"?d(de).fill(ne,se):d(de).fill(ne):d(de)}f.alloc=function(de,ne,se){return y(de,ne,se)};function u(de){return _(de),d(de<0?0:E(de)|0)}f.allocUnsafe=function(de){return u(de)},f.allocUnsafeSlow=function(de){return u(de)};function k(de,ne){if((typeof ne!="string"||ne==="")&&(ne="utf8"),!f.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);const se=x(de,ne)|0;let be=d(se);const Me=be.write(de,ne);return Me!==se&&(be=be.slice(0,Me)),be}function m(de){const ne=de.length<0?0:E(de.length)|0,se=d(ne);for(let be=0;be<ne;be+=1)se[be]=de[be]&255;return se}function g(de){if(He(de,Uint8Array)){const ne=new Uint8Array(de);return p(ne.buffer,ne.byteOffset,ne.byteLength)}return m(de)}function p(de,ne,se){if(ne<0||de.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<ne+(se||0))throw new RangeError('"length" is outside of buffer bounds');let be;return ne===void 0&&se===void 0?be=new Uint8Array(de):se===void 0?be=new Uint8Array(de,ne):be=new Uint8Array(de,ne,se),Object.setPrototypeOf(be,f.prototype),be}function T(de){if(f.isBuffer(de)){const ne=E(de.length)|0,se=d(ne);return se.length===0||de.copy(se,0,0,ne),se}if(de.length!==void 0)return typeof de.length!="number"||wt(de.length)?d(0):m(de);if(de.type==="Buffer"&&Array.isArray(de.data))return m(de.data)}function E(de){if(de>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return de|0}function D(de){return+de!=de&&(de=0),f.alloc(+de)}f.isBuffer=function(ne){return ne!=null&&ne._isBuffer===!0&&ne!==f.prototype},f.compare=function(ne,se){if(He(ne,Uint8Array)&&(ne=f.from(ne,ne.offset,ne.byteLength)),He(se,Uint8Array)&&(se=f.from(se,se.offset,se.byteLength)),!f.isBuffer(ne)||!f.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===se)return 0;let be=ne.length,Me=se.length;for(let $e=0,Fe=Math.min(be,Me);$e<Fe;++$e)if(ne[$e]!==se[$e]){be=ne[$e],Me=se[$e];break}return be<Me?-1:Me<be?1:0},f.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(ne,se){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return f.alloc(0);let be;if(se===void 0)for(se=0,be=0;be<ne.length;++be)se+=ne[be].length;const Me=f.allocUnsafe(se);let $e=0;for(be=0;be<ne.length;++be){let Fe=ne[be];if(He(Fe,Uint8Array))$e+Fe.length>Me.length?(f.isBuffer(Fe)||(Fe=f.from(Fe)),Fe.copy(Me,$e)):Uint8Array.prototype.set.call(Me,Fe,$e);else if(f.isBuffer(Fe))Fe.copy(Me,$e);else throw new TypeError('"list" argument must be an Array of Buffers');$e+=Fe.length}return Me};function x(de,ne){if(f.isBuffer(de))return de.length;if(ArrayBuffer.isView(de)||He(de,ArrayBuffer))return de.byteLength;if(typeof de!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof de);const se=de.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&se===0)return 0;let Me=!1;for(;;)switch(ne){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return ge(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se*2;case"hex":return se>>>1;case"base64":return Pe(de).length;default:if(Me)return be?-1:ge(de).length;ne=(""+ne).toLowerCase(),Me=!0}}f.byteLength=x;function W(de,ne,se){let be=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((se===void 0||se>this.length)&&(se=this.length),se<=0)||(se>>>=0,ne>>>=0,se<=ne))return"";for(de||(de="utf8");;)switch(de){case"hex":return j(this,ne,se);case"utf8":case"utf-8":return C(this,ne,se);case"ascii":return F(this,ne,se);case"latin1":case"binary":return q(this,ne,se);case"base64":return V(this,ne,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,ne,se);default:if(be)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),be=!0}}f.prototype._isBuffer=!0;function b(de,ne,se){const be=de[ne];de[ne]=de[se],de[se]=be}f.prototype.swap16=function(){const ne=this.length;if(ne%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let se=0;se<ne;se+=2)b(this,se,se+1);return this},f.prototype.swap32=function(){const ne=this.length;if(ne%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let se=0;se<ne;se+=4)b(this,se,se+3),b(this,se+1,se+2);return this},f.prototype.swap64=function(){const ne=this.length;if(ne%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let se=0;se<ne;se+=8)b(this,se,se+7),b(this,se+1,se+6),b(this,se+2,se+5),b(this,se+3,se+4);return this},f.prototype.toString=function(){const ne=this.length;return ne===0?"":arguments.length===0?C(this,0,ne):W.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(ne){if(!f.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne?!0:f.compare(this,ne)===0},f.prototype.inspect=function(){let ne="";const se=G.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(ne+=" ... "),"<Buffer "+ne+">"},P&&(f.prototype[P]=f.prototype.inspect),f.prototype.compare=function(ne,se,be,Me,$e){if(He(ne,Uint8Array)&&(ne=f.from(ne,ne.offset,ne.byteLength)),!f.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(se===void 0&&(se=0),be===void 0&&(be=ne?ne.length:0),Me===void 0&&(Me=0),$e===void 0&&($e=this.length),se<0||be>ne.length||Me<0||$e>this.length)throw new RangeError("out of range index");if(Me>=$e&&se>=be)return 0;if(Me>=$e)return-1;if(se>=be)return 1;if(se>>>=0,be>>>=0,Me>>>=0,$e>>>=0,this===ne)return 0;let Fe=$e-Me,Ke=be-se;const Ut=Math.min(Fe,Ke),Xe=this.slice(Me,$e),at=ne.slice(se,be);for(let ot=0;ot<Ut;++ot)if(Xe[ot]!==at[ot]){Fe=Xe[ot],Ke=at[ot];break}return Fe<Ke?-1:Ke<Fe?1:0};function L(de,ne,se,be,Me){if(de.length===0)return-1;if(typeof se=="string"?(be=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,wt(se)&&(se=Me?0:de.length-1),se<0&&(se=de.length+se),se>=de.length){if(Me)return-1;se=de.length-1}else if(se<0)if(Me)se=0;else return-1;if(typeof ne=="string"&&(ne=f.from(ne,be)),f.isBuffer(ne))return ne.length===0?-1:z(de,ne,se,be,Me);if(typeof ne=="number")return ne=ne&255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(de,ne,se):Uint8Array.prototype.lastIndexOf.call(de,ne,se):z(de,[ne],se,be,Me);throw new TypeError("val must be string, number or Buffer")}function z(de,ne,se,be,Me){let $e=1,Fe=de.length,Ke=ne.length;if(be!==void 0&&(be=String(be).toLowerCase(),be==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(de.length<2||ne.length<2)return-1;$e=2,Fe/=2,Ke/=2,se/=2}function Ut(at,ot){return $e===1?at[ot]:at.readUInt16BE(ot*$e)}let Xe;if(Me){let at=-1;for(Xe=se;Xe<Fe;Xe++)if(Ut(de,Xe)===Ut(ne,at===-1?0:Xe-at)){if(at===-1&&(at=Xe),Xe-at+1===Ke)return at*$e}else at!==-1&&(Xe-=Xe-at),at=-1}else for(se+Ke>Fe&&(se=Fe-Ke),Xe=se;Xe>=0;Xe--){let at=!0;for(let ot=0;ot<Ke;ot++)if(Ut(de,Xe+ot)!==Ut(ne,ot)){at=!1;break}if(at)return Xe}return-1}f.prototype.includes=function(ne,se,be){return this.indexOf(ne,se,be)!==-1},f.prototype.indexOf=function(ne,se,be){return L(this,ne,se,be,!0)},f.prototype.lastIndexOf=function(ne,se,be){return L(this,ne,se,be,!1)};function K(de,ne,se,be){se=Number(se)||0;const Me=de.length-se;be?(be=Number(be),be>Me&&(be=Me)):be=Me;const $e=ne.length;be>$e/2&&(be=$e/2);let Fe;for(Fe=0;Fe<be;++Fe){const Ke=parseInt(ne.substr(Fe*2,2),16);if(wt(Ke))return Fe;de[se+Fe]=Ke}return Fe}function J(de,ne,se,be){return Le(ge(ne,de.length-se),de,se,be)}function ie(de,ne,se,be){return Le(we(ne),de,se,be)}function Y(de,ne,se,be){return Le(Pe(ne),de,se,be)}function M(de,ne,se,be){return Le(ve(ne,de.length-se),de,se,be)}f.prototype.write=function(ne,se,be,Me){if(se===void 0)Me="utf8",be=this.length,se=0;else if(be===void 0&&typeof se=="string")Me=se,be=this.length,se=0;else if(isFinite(se))se=se>>>0,isFinite(be)?(be=be>>>0,Me===void 0&&(Me="utf8")):(Me=be,be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $e=this.length-se;if((be===void 0||be>$e)&&(be=$e),ne.length>0&&(be<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");let Fe=!1;for(;;)switch(Me){case"hex":return K(this,ne,se,be);case"utf8":case"utf-8":return J(this,ne,se,be);case"ascii":case"latin1":case"binary":return ie(this,ne,se,be);case"base64":return Y(this,ne,se,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,ne,se,be);default:if(Fe)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),Fe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(de,ne,se){return ne===0&&se===de.length?R.fromByteArray(de):R.fromByteArray(de.slice(ne,se))}function C(de,ne,se){se=Math.min(de.length,se);const be=[];let Me=ne;for(;Me<se;){const $e=de[Me];let Fe=null,Ke=$e>239?4:$e>223?3:$e>191?2:1;if(Me+Ke<=se){let Ut,Xe,at,ot;switch(Ke){case 1:$e<128&&(Fe=$e);break;case 2:Ut=de[Me+1],(Ut&192)===128&&(ot=($e&31)<<6|Ut&63,ot>127&&(Fe=ot));break;case 3:Ut=de[Me+1],Xe=de[Me+2],(Ut&192)===128&&(Xe&192)===128&&(ot=($e&15)<<12|(Ut&63)<<6|Xe&63,ot>2047&&(ot<55296||ot>57343)&&(Fe=ot));break;case 4:Ut=de[Me+1],Xe=de[Me+2],at=de[Me+3],(Ut&192)===128&&(Xe&192)===128&&(at&192)===128&&(ot=($e&15)<<18|(Ut&63)<<12|(Xe&63)<<6|at&63,ot>65535&&ot<1114112&&(Fe=ot))}}Fe===null?(Fe=65533,Ke=1):Fe>65535&&(Fe-=65536,be.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),be.push(Fe),Me+=Ke}return w(be)}const l=4096;function w(de){const ne=de.length;if(ne<=l)return String.fromCharCode.apply(String,de);let se="",be=0;for(;be<ne;)se+=String.fromCharCode.apply(String,de.slice(be,be+=l));return se}function F(de,ne,se){let be="";se=Math.min(de.length,se);for(let Me=ne;Me<se;++Me)be+=String.fromCharCode(de[Me]&127);return be}function q(de,ne,se){let be="";se=Math.min(de.length,se);for(let Me=ne;Me<se;++Me)be+=String.fromCharCode(de[Me]);return be}function j(de,ne,se){const be=de.length;(!ne||ne<0)&&(ne=0),(!se||se<0||se>be)&&(se=be);let Me="";for(let $e=ne;$e<se;++$e)Me+=ze[de[$e]];return Me}function $(de,ne,se){const be=de.slice(ne,se);let Me="";for(let $e=0;$e<be.length-1;$e+=2)Me+=String.fromCharCode(be[$e]+be[$e+1]*256);return Me}f.prototype.slice=function(ne,se){const be=this.length;ne=~~ne,se=se===void 0?be:~~se,ne<0?(ne+=be,ne<0&&(ne=0)):ne>be&&(ne=be),se<0?(se+=be,se<0&&(se=0)):se>be&&(se=be),se<ne&&(se=ne);const Me=this.subarray(ne,se);return Object.setPrototypeOf(Me,f.prototype),Me};function Z(de,ne,se){if(de%1!==0||de<0)throw new RangeError("offset is not uint");if(de+ne>se)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=this[ne],$e=1,Fe=0;for(;++Fe<se&&($e*=256);)Me+=this[ne+Fe]*$e;return Me},f.prototype.readUintBE=f.prototype.readUIntBE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=this[ne+--se],$e=1;for(;se>0&&($e*=256);)Me+=this[ne+--se]*$e;return Me},f.prototype.readUint8=f.prototype.readUInt8=function(ne,se){return ne=ne>>>0,se||Z(ne,1,this.length),this[ne]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(ne,se){return ne=ne>>>0,se||Z(ne,2,this.length),this[ne]|this[ne+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(ne,se){return ne=ne>>>0,se||Z(ne,2,this.length),this[ne]<<8|this[ne+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+this[ne+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),this[ne]*16777216+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},f.prototype.readBigUInt64LE=et(function(ne){ne=ne>>>0,ke(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=se+this[++ne]*2**8+this[++ne]*2**16+this[++ne]*2**24,$e=this[++ne]+this[++ne]*2**8+this[++ne]*2**16+be*2**24;return BigInt(Me)+(BigInt($e)<<BigInt(32))}),f.prototype.readBigUInt64BE=et(function(ne){ne=ne>>>0,ke(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=se*2**24+this[++ne]*2**16+this[++ne]*2**8+this[++ne],$e=this[++ne]*2**24+this[++ne]*2**16+this[++ne]*2**8+be;return(BigInt(Me)<<BigInt(32))+BigInt($e)}),f.prototype.readIntLE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=this[ne],$e=1,Fe=0;for(;++Fe<se&&($e*=256);)Me+=this[ne+Fe]*$e;return $e*=128,Me>=$e&&(Me-=Math.pow(2,8*se)),Me},f.prototype.readIntBE=function(ne,se,be){ne=ne>>>0,se=se>>>0,be||Z(ne,se,this.length);let Me=se,$e=1,Fe=this[ne+--Me];for(;Me>0&&($e*=256);)Fe+=this[ne+--Me]*$e;return $e*=128,Fe>=$e&&(Fe-=Math.pow(2,8*se)),Fe},f.prototype.readInt8=function(ne,se){return ne=ne>>>0,se||Z(ne,1,this.length),this[ne]&128?(255-this[ne]+1)*-1:this[ne]},f.prototype.readInt16LE=function(ne,se){ne=ne>>>0,se||Z(ne,2,this.length);const be=this[ne]|this[ne+1]<<8;return be&32768?be|4294901760:be},f.prototype.readInt16BE=function(ne,se){ne=ne>>>0,se||Z(ne,2,this.length);const be=this[ne+1]|this[ne]<<8;return be&32768?be|4294901760:be},f.prototype.readInt32LE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},f.prototype.readInt32BE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},f.prototype.readBigInt64LE=et(function(ne){ne=ne>>>0,ke(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=this[ne+4]+this[ne+5]*2**8+this[ne+6]*2**16+(be<<24);return(BigInt(Me)<<BigInt(32))+BigInt(se+this[++ne]*256+this[++ne]*65536+this[++ne]*16777216)}),f.prototype.readBigInt64BE=et(function(ne){ne=ne>>>0,ke(ne,"offset");const se=this[ne],be=this[ne+7];(se===void 0||be===void 0)&&U(ne,this.length-8);const Me=(se<<24)+this[++ne]*2**16+this[++ne]*2**8+this[++ne];return(BigInt(Me)<<BigInt(32))+BigInt(this[++ne]*16777216+this[++ne]*65536+this[++ne]*256+be)}),f.prototype.readFloatLE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),I.read(this,ne,!0,23,4)},f.prototype.readFloatBE=function(ne,se){return ne=ne>>>0,se||Z(ne,4,this.length),I.read(this,ne,!1,23,4)},f.prototype.readDoubleLE=function(ne,se){return ne=ne>>>0,se||Z(ne,8,this.length),I.read(this,ne,!0,52,8)},f.prototype.readDoubleBE=function(ne,se){return ne=ne>>>0,se||Z(ne,8,this.length),I.read(this,ne,!1,52,8)};function te(de,ne,se,be,Me,$e){if(!f.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>Me||ne<$e)throw new RangeError('"value" argument is out of bounds');if(se+be>de.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,be=be>>>0,!Me){const Ke=Math.pow(2,8*be)-1;te(this,ne,se,be,Ke,0)}let $e=1,Fe=0;for(this[se]=ne&255;++Fe<be&&($e*=256);)this[se+Fe]=ne/$e&255;return se+be},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,be=be>>>0,!Me){const Ke=Math.pow(2,8*be)-1;te(this,ne,se,be,Ke,0)}let $e=be-1,Fe=1;for(this[se+$e]=ne&255;--$e>=0&&(Fe*=256);)this[se+$e]=ne/Fe&255;return se+be},f.prototype.writeUint8=f.prototype.writeUInt8=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,1,255,0),this[se]=ne&255,se+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,65535,0),this[se]=ne&255,this[se+1]=ne>>>8,se+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,65535,0),this[se]=ne>>>8,this[se+1]=ne&255,se+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,4294967295,0),this[se+3]=ne>>>24,this[se+2]=ne>>>16,this[se+1]=ne>>>8,this[se]=ne&255,se+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,4294967295,0),this[se]=ne>>>24,this[se+1]=ne>>>16,this[se+2]=ne>>>8,this[se+3]=ne&255,se+4};function B(de,ne,se,be,Me){me(ne,be,Me,de,se,7);let $e=Number(ne&BigInt(4294967295));de[se++]=$e,$e=$e>>8,de[se++]=$e,$e=$e>>8,de[se++]=$e,$e=$e>>8,de[se++]=$e;let Fe=Number(ne>>BigInt(32)&BigInt(4294967295));return de[se++]=Fe,Fe=Fe>>8,de[se++]=Fe,Fe=Fe>>8,de[se++]=Fe,Fe=Fe>>8,de[se++]=Fe,se}function ae(de,ne,se,be,Me){me(ne,be,Me,de,se,7);let $e=Number(ne&BigInt(4294967295));de[se+7]=$e,$e=$e>>8,de[se+6]=$e,$e=$e>>8,de[se+5]=$e,$e=$e>>8,de[se+4]=$e;let Fe=Number(ne>>BigInt(32)&BigInt(4294967295));return de[se+3]=Fe,Fe=Fe>>8,de[se+2]=Fe,Fe=Fe>>8,de[se+1]=Fe,Fe=Fe>>8,de[se]=Fe,se+8}f.prototype.writeBigUInt64LE=et(function(ne,se=0){return B(this,ne,se,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=et(function(ne,se=0){return ae(this,ne,se,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,!Me){const Ut=Math.pow(2,8*be-1);te(this,ne,se,be,Ut-1,-Ut)}let $e=0,Fe=1,Ke=0;for(this[se]=ne&255;++$e<be&&(Fe*=256);)ne<0&&Ke===0&&this[se+$e-1]!==0&&(Ke=1),this[se+$e]=(ne/Fe>>0)-Ke&255;return se+be},f.prototype.writeIntBE=function(ne,se,be,Me){if(ne=+ne,se=se>>>0,!Me){const Ut=Math.pow(2,8*be-1);te(this,ne,se,be,Ut-1,-Ut)}let $e=be-1,Fe=1,Ke=0;for(this[se+$e]=ne&255;--$e>=0&&(Fe*=256);)ne<0&&Ke===0&&this[se+$e+1]!==0&&(Ke=1),this[se+$e]=(ne/Fe>>0)-Ke&255;return se+be},f.prototype.writeInt8=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,1,127,-128),ne<0&&(ne=255+ne+1),this[se]=ne&255,se+1},f.prototype.writeInt16LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,32767,-32768),this[se]=ne&255,this[se+1]=ne>>>8,se+2},f.prototype.writeInt16BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,2,32767,-32768),this[se]=ne>>>8,this[se+1]=ne&255,se+2},f.prototype.writeInt32LE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,2147483647,-2147483648),this[se]=ne&255,this[se+1]=ne>>>8,this[se+2]=ne>>>16,this[se+3]=ne>>>24,se+4},f.prototype.writeInt32BE=function(ne,se,be){return ne=+ne,se=se>>>0,be||te(this,ne,se,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[se]=ne>>>24,this[se+1]=ne>>>16,this[se+2]=ne>>>8,this[se+3]=ne&255,se+4},f.prototype.writeBigInt64LE=et(function(ne,se=0){return B(this,ne,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=et(function(ne,se=0){return ae(this,ne,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(de,ne,se,be,Me,$e){if(se+be>de.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function he(de,ne,se,be,Me){return ne=+ne,se=se>>>0,Me||xe(de,ne,se,4,34028234663852886e22,-34028234663852886e22),I.write(de,ne,se,be,23,4),se+4}f.prototype.writeFloatLE=function(ne,se,be){return he(this,ne,se,!0,be)},f.prototype.writeFloatBE=function(ne,se,be){return he(this,ne,se,!1,be)};function Ne(de,ne,se,be,Me){return ne=+ne,se=se>>>0,Me||xe(de,ne,se,8,17976931348623157e292,-17976931348623157e292),I.write(de,ne,se,be,52,8),se+8}f.prototype.writeDoubleLE=function(ne,se,be){return Ne(this,ne,se,!0,be)},f.prototype.writeDoubleBE=function(ne,se,be){return Ne(this,ne,se,!1,be)},f.prototype.copy=function(ne,se,be,Me){if(!f.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(be||(be=0),!Me&&Me!==0&&(Me=this.length),se>=ne.length&&(se=ne.length),se||(se=0),Me>0&&Me<be&&(Me=be),Me===be||ne.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),ne.length-se<Me-be&&(Me=ne.length-se+be);const $e=Me-be;return this===ne&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,be,Me):Uint8Array.prototype.set.call(ne,this.subarray(be,Me),se),$e},f.prototype.fill=function(ne,se,be,Me){if(typeof ne=="string"){if(typeof se=="string"?(Me=se,se=0,be=this.length):typeof be=="string"&&(Me=be,be=this.length),Me!==void 0&&typeof Me!="string")throw new TypeError("encoding must be a string");if(typeof Me=="string"&&!f.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(ne.length===1){const Fe=ne.charCodeAt(0);(Me==="utf8"&&Fe<128||Me==="latin1")&&(ne=Fe)}}else typeof ne=="number"?ne=ne&255:typeof ne=="boolean"&&(ne=Number(ne));if(se<0||this.length<se||this.length<be)throw new RangeError("Out of range index");if(be<=se)return this;se=se>>>0,be=be===void 0?this.length:be>>>0,ne||(ne=0);let $e;if(typeof ne=="number")for($e=se;$e<be;++$e)this[$e]=ne;else{const Fe=f.isBuffer(ne)?ne:f.from(ne,Me),Ke=Fe.length;if(Ke===0)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for($e=0;$e<be-se;++$e)this[$e+se]=Fe[$e%Ke]}return this};const Te={};function X(de,ne,se){Te[de]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:ne.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${de}]`,this.stack,delete this.name}get code(){return de}set code(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}toString(){return`${this.name} [${de}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(de){return de?`${de} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(de,ne){return`The "${de}" argument must be of type number. Received type ${typeof ne}`},TypeError),X("ERR_OUT_OF_RANGE",function(de,ne,se){let be=`The value of "${de}" is out of range.`,Me=se;return Number.isInteger(se)&&Math.abs(se)>4294967296?Me=ee(String(se)):typeof se=="bigint"&&(Me=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(Me=ee(Me)),Me+="n"),be+=` It must be ${ne}. Received ${Me}`,be},RangeError);function ee(de){let ne="",se=de.length;const be=de[0]==="-"?1:0;for(;se>=be+4;se-=3)ne=`_${de.slice(se-3,se)}${ne}`;return`${de.slice(0,se)}${ne}`}function ce(de,ne,se){ke(ne,"offset"),(de[ne]===void 0||de[ne+se]===void 0)&&U(ne,de.length-(se+1))}function me(de,ne,se,be,Me,$e){if(de>se||de<ne){const Fe=typeof ne=="bigint"?"n":"";let Ke;throw $e>3?ne===0||ne===BigInt(0)?Ke=`>= 0${Fe} and < 2${Fe} ** ${($e+1)*8}${Fe}`:Ke=`>= -(2${Fe} ** ${($e+1)*8-1}${Fe}) and < 2 ** ${($e+1)*8-1}${Fe}`:Ke=`>= ${ne}${Fe} and <= ${se}${Fe}`,new Te.ERR_OUT_OF_RANGE("value",Ke,de)}ce(be,Me,$e)}function ke(de,ne){if(typeof de!="number")throw new Te.ERR_INVALID_ARG_TYPE(ne,"number",de)}function U(de,ne,se){throw Math.floor(de)!==de?(ke(de,se),new Te.ERR_OUT_OF_RANGE(se||"offset","an integer",de)):ne<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE(se||"offset",`>= ${se?1:0} and <= ${ne}`,de)}const O=/[^+/0-9A-Za-z-_]/g;function oe(de){if(de=de.split("=")[0],de=de.trim().replace(O,""),de.length<2)return"";for(;de.length%4!==0;)de=de+"=";return de}function ge(de,ne){ne=ne||1/0;let se;const be=de.length;let Me=null;const $e=[];for(let Fe=0;Fe<be;++Fe){if(se=de.charCodeAt(Fe),se>55295&&se<57344){if(!Me){if(se>56319){(ne-=3)>-1&&$e.push(239,191,189);continue}else if(Fe+1===be){(ne-=3)>-1&&$e.push(239,191,189);continue}Me=se;continue}if(se<56320){(ne-=3)>-1&&$e.push(239,191,189),Me=se;continue}se=(Me-55296<<10|se-56320)+65536}else Me&&(ne-=3)>-1&&$e.push(239,191,189);if(Me=null,se<128){if((ne-=1)<0)break;$e.push(se)}else if(se<2048){if((ne-=2)<0)break;$e.push(se>>6|192,se&63|128)}else if(se<65536){if((ne-=3)<0)break;$e.push(se>>12|224,se>>6&63|128,se&63|128)}else if(se<1114112){if((ne-=4)<0)break;$e.push(se>>18|240,se>>12&63|128,se>>6&63|128,se&63|128)}else throw new Error("Invalid code point")}return $e}function we(de){const ne=[];for(let se=0;se<de.length;++se)ne.push(de.charCodeAt(se)&255);return ne}function ve(de,ne){let se,be,Me;const $e=[];for(let Fe=0;Fe<de.length&&!((ne-=2)<0);++Fe)se=de.charCodeAt(Fe),be=se>>8,Me=se%256,$e.push(Me),$e.push(be);return $e}function Pe(de){return R.toByteArray(oe(de))}function Le(de,ne,se,be){let Me;for(Me=0;Me<be&&!(Me+se>=ne.length||Me>=de.length);++Me)ne[Me+se]=de[Me];return Me}function He(de,ne){return de instanceof ne||de!=null&&de.constructor!=null&&de.constructor.name!=null&&de.constructor.name===ne.name}function wt(de){return de!==de}const ze=function(){const de="0123456789abcdef",ne=new Array(256);for(let se=0;se<16;++se){const be=se*16;for(let Me=0;Me<16;++Me)ne[be+Me]=de[se]+de[Me]}return ne}();function et(de){return typeof BigInt=="undefined"?gt:de}function gt(){throw new Error("BigInt not supported")}},86866:s=>{s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},56168:(s,G,N)=>{var R=N(92861).Buffer,I=N(88310).Transform,P=N(83141).I,S=N(56698);function c(d){I.call(this),this.hashMode=typeof d=="string",this.hashMode?this[d]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}S(c,I),c.prototype.update=function(d,f,h){typeof d=="string"&&(d=R.from(d,f));var _=this._update(d);return this.hashMode?this:(h&&(_=this._toString(_,h)),_)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(d,f,h){var _;try{this.hashMode?this._update(d):this.push(this._update(d))}catch(y){_=y}finally{h(_)}},c.prototype._flush=function(d){var f;try{this.push(this.__final())}catch(h){f=h}d(f)},c.prototype._finalOrDigest=function(d){var f=this.__final()||R.alloc(0);return d&&(f=this._toString(f,d,!0)),f},c.prototype._toString=function(d,f,h){if(this._decoder||(this._decoder=new P(f),this._encoding=f),this._encoding!==f)throw new Error("can't switch encodings");var _=this._decoder.write(d);return h&&(_+=this._decoder.end()),_},s.exports=c},61324:(s,G,N)=>{var R=N(86729),I=N(39404);s.exports=function(f){return new S(f)};var P={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};P.p224=P.secp224r1,P.p256=P.secp256r1=P.prime256v1,P.p192=P.secp192r1=P.prime192v1,P.p384=P.secp384r1,P.p521=P.secp521r1;function S(d){this.curveType=P[d],this.curveType||(this.curveType={name:d}),this.curve=new R.ec(this.curveType.name),this.keys=void 0}S.prototype.generateKeys=function(d,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,f)},S.prototype.computeSecret=function(d,f,h){f=f||"utf8",Buffer.isBuffer(d)||(d=new Buffer(d,f));var _=this.curve.keyFromPublic(d).getPublic(),y=_.mul(this.keys.getPrivate()).getX();return c(y,h,this.curveType.byteLength)},S.prototype.getPublicKey=function(d,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),c(h,d)},S.prototype.getPrivateKey=function(d){return c(this.keys.getPrivate(),d)},S.prototype.setPublicKey=function(d,f){return f=f||"utf8",Buffer.isBuffer(d)||(d=new Buffer(d,f)),this.keys._importPublic(d),this},S.prototype.setPrivateKey=function(d,f){f=f||"utf8",Buffer.isBuffer(d)||(d=new Buffer(d,f));var h=new I(d);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this};function c(d,f,h){Array.isArray(d)||(d=d.toArray());var _=new Buffer(d);if(h&&_.length<h){var y=new Buffer(h-_.length);y.fill(0),_=Buffer.concat([y,_])}return f?_.toString(f):_}},47108:(s,G,N)=>{"use strict";var R=N(56698),I=N(88276),P=N(66011),S=N(62802),c=N(56168);function d(f){c.call(this,"digest"),this._hash=f}R(d,c),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){return this._hash.digest()},s.exports=function(h){return h=h.toLowerCase(),h==="md5"?new I:h==="rmd160"||h==="ripemd160"?new P:new d(S(h))}},20320:(s,G,N)=>{var R=N(88276);s.exports=function(I){return new R().update(I).digest()}},83507:(s,G,N)=>{"use strict";var R=N(56698),I=N(41800),P=N(56168),S=N(92861).Buffer,c=N(20320),d=N(66011),f=N(62802),h=S.alloc(128);function _(y,u){P.call(this,"digest"),typeof u=="string"&&(u=S.from(u));var k=y==="sha512"||y==="sha384"?128:64;if(this._alg=y,this._key=u,u.length>k){var m=y==="rmd160"?new d:f(y);u=m.update(u).digest()}else u.length<k&&(u=S.concat([u,h],k));for(var g=this._ipad=S.allocUnsafe(k),p=this._opad=S.allocUnsafe(k),T=0;T<k;T++)g[T]=u[T]^54,p[T]=u[T]^92;this._hash=y==="rmd160"?new d:f(y),this._hash.update(g)}R(_,P),_.prototype._update=function(y){this._hash.update(y)},_.prototype._final=function(){var y=this._hash.digest(),u=this._alg==="rmd160"?new d:f(this._alg);return u.update(this._opad).update(y).digest()},s.exports=function(u,k){return u=u.toLowerCase(),u==="rmd160"||u==="ripemd160"?new _("rmd160",k):u==="md5"?new I(c,k):new _(u,k)}},41800:(s,G,N)=>{"use strict";var R=N(56698),I=N(92861).Buffer,P=N(56168),S=I.alloc(128),c=64;function d(f,h){P.call(this,"digest"),typeof h=="string"&&(h=I.from(h)),this._alg=f,this._key=h,h.length>c?h=f(h):h.length<c&&(h=I.concat([h,S],c));for(var _=this._ipad=I.allocUnsafe(c),y=this._opad=I.allocUnsafe(c),u=0;u<c;u++)_[u]=h[u]^54,y[u]=h[u]^92;this._hash=[_]}R(d,P),d.prototype._update=function(f){this._hash.push(f)},d.prototype._final=function(){var f=this._alg(I.concat(this._hash));return this._alg(I.concat([this._opad,f]))},s.exports=d},74945:function(s,G){var N=typeof self!="undefined"?self:this,R=function(){function P(){this.fetch=!1,this.DOMException=N.DOMException}return P.prototype=N,new P}();(function(P){var S=function(c){var d={searchParams:"URLSearchParams"in P,iterable:"Symbol"in P&&"iterator"in Symbol,blob:"FileReader"in P&&"Blob"in P&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in P,arrayBuffer:"ArrayBuffer"in P};function f(V){return V&&DataView.prototype.isPrototypeOf(V)}if(d.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(V){return V&&h.indexOf(Object.prototype.toString.call(V))>-1};function y(V){if(typeof V!="string"&&(V=String(V)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(V))throw new TypeError("Invalid character in header field name");return V.toLowerCase()}function u(V){return typeof V!="string"&&(V=String(V)),V}function k(V){var C={next:function(){var l=V.shift();return{done:l===void 0,value:l}}};return d.iterable&&(C[Symbol.iterator]=function(){return C}),C}function m(V){this.map={},V instanceof m?V.forEach(function(C,l){this.append(l,C)},this):Array.isArray(V)?V.forEach(function(C){this.append(C[0],C[1])},this):V&&Object.getOwnPropertyNames(V).forEach(function(C){this.append(C,V[C])},this)}m.prototype.append=function(V,C){V=y(V),C=u(C);var l=this.map[V];this.map[V]=l?l+", "+C:C},m.prototype.delete=function(V){delete this.map[y(V)]},m.prototype.get=function(V){return V=y(V),this.has(V)?this.map[V]:null},m.prototype.has=function(V){return this.map.hasOwnProperty(y(V))},m.prototype.set=function(V,C){this.map[y(V)]=u(C)},m.prototype.forEach=function(V,C){for(var l in this.map)this.map.hasOwnProperty(l)&&V.call(C,this.map[l],l,this)},m.prototype.keys=function(){var V=[];return this.forEach(function(C,l){V.push(l)}),k(V)},m.prototype.values=function(){var V=[];return this.forEach(function(C){V.push(C)}),k(V)},m.prototype.entries=function(){var V=[];return this.forEach(function(C,l){V.push([l,C])}),k(V)},d.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(V){if(V.bodyUsed)return Promise.reject(new TypeError("Already read"));V.bodyUsed=!0}function p(V){return new Promise(function(C,l){V.onload=function(){C(V.result)},V.onerror=function(){l(V.error)}})}function T(V){var C=new FileReader,l=p(C);return C.readAsArrayBuffer(V),l}function E(V){var C=new FileReader,l=p(C);return C.readAsText(V),l}function D(V){for(var C=new Uint8Array(V),l=new Array(C.length),w=0;w<C.length;w++)l[w]=String.fromCharCode(C[w]);return l.join("")}function x(V){if(V.slice)return V.slice(0);var C=new Uint8Array(V.byteLength);return C.set(new Uint8Array(V)),C.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(V){this._bodyInit=V,V?typeof V=="string"?this._bodyText=V:d.blob&&Blob.prototype.isPrototypeOf(V)?this._bodyBlob=V:d.formData&&FormData.prototype.isPrototypeOf(V)?this._bodyFormData=V:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)?this._bodyText=V.toString():d.arrayBuffer&&d.blob&&f(V)?(this._bodyArrayBuffer=x(V.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(V)||_(V))?this._bodyArrayBuffer=x(V):this._bodyText=V=Object.prototype.toString.call(V):this._bodyText="",this.headers.get("content-type")||(typeof V=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var V=g(this);if(V)return V;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var V=g(this);if(V)return V;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(V){var C=V.toUpperCase();return b.indexOf(C)>-1?C:V}function z(V,C){C=C||{};var l=C.body;if(V instanceof z){if(V.bodyUsed)throw new TypeError("Already read");this.url=V.url,this.credentials=V.credentials,C.headers||(this.headers=new m(V.headers)),this.method=V.method,this.mode=V.mode,this.signal=V.signal,!l&&V._bodyInit!=null&&(l=V._bodyInit,V.bodyUsed=!0)}else this.url=String(V);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new m(C.headers)),this.method=L(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&l)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(l)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function K(V){var C=new FormData;return V.trim().split("&").forEach(function(l){if(l){var w=l.split("="),F=w.shift().replace(/\+/g," "),q=w.join("=").replace(/\+/g," ");C.append(decodeURIComponent(F),decodeURIComponent(q))}}),C}function J(V){var C=new m,l=V.replace(/\r?\n[\t ]+/g," ");return l.split(/\r?\n/).forEach(function(w){var F=w.split(":"),q=F.shift().trim();if(q){var j=F.join(":").trim();C.append(q,j)}}),C}W.call(z.prototype);function ie(V,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new m(C.headers),this.url=C.url||"",this._initBody(V)}W.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},ie.error=function(){var V=new ie(null,{status:0,statusText:""});return V.type="error",V};var Y=[301,302,303,307,308];ie.redirect=function(V,C){if(Y.indexOf(C)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:C,headers:{location:V}})},c.DOMException=P.DOMException;try{new c.DOMException}catch{c.DOMException=function(C,l){this.message=C,this.name=l;var w=Error(C);this.stack=w.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function M(V,C){return new Promise(function(l,w){var F=new z(V,C);if(F.signal&&F.signal.aborted)return w(new c.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function j(){q.abort()}q.onload=function(){var $={status:q.status,statusText:q.statusText,headers:J(q.getAllResponseHeaders()||"")};$.url="responseURL"in q?q.responseURL:$.headers.get("X-Request-URL");var Z="response"in q?q.response:q.responseText;l(new ie(Z,$))},q.onerror=function(){w(new TypeError("Network request failed"))},q.ontimeout=function(){w(new TypeError("Network request failed"))},q.onabort=function(){w(new c.DOMException("Aborted","AbortError"))},q.open(F.method,F.url,!0),F.credentials==="include"?q.withCredentials=!0:F.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&d.blob&&(q.responseType="blob"),F.headers.forEach(function($,Z){q.setRequestHeader(Z,$)}),F.signal&&(F.signal.addEventListener("abort",j),q.onreadystatechange=function(){q.readyState===4&&F.signal.removeEventListener("abort",j)}),q.send(typeof F._bodyInit=="undefined"?null:F._bodyInit)})}return M.polyfill=!0,P.fetch||(P.fetch=M,P.Headers=m,P.Request=z,P.Response=ie),c.Headers=m,c.Request=z,c.Response=ie,c.fetch=M,Object.defineProperty(c,"__esModule",{value:!0}),c}({})})(R),R.fetch.ponyfill=!0,delete R.fetch.polyfill;var I=R;G=I.fetch,G.default=I.fetch,G.fetch=I.fetch,G.Headers=I.Headers,G.Request=I.Request,G.Response=I.Response,s.exports=G},91565:(s,G,N)=>{"use strict";var R;R=R=R=N(53209),G.n1=N(47108),R=N(83507);var I=N(55715),P=Object.keys(I),S=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(P);R=function(){return S};var c=N(78396);R=c.pbkdf2,R=c.pbkdf2Sync;var d=N(30125);R=d.Cipher,R=d.createCipher,R=d.Cipheriv,R=d.createCipheriv,R=d.Decipher,R=d.createDecipher,R=d.Decipheriv,R=d.createDecipheriv,R=d.getCiphers,R=d.listCiphers;var f=N(15380);R=f.DiffieHellmanGroup,R=f.createDiffieHellmanGroup,R=f.getDiffieHellman,R=f.createDiffieHellman,R=f.DiffieHellman;var h=N(20);R=h.createSign,R=h.Sign,R=h.createVerify,R=h.Verify,N(61324);var _=N(97168);R=_.publicEncrypt,R=_.privateEncrypt,R=_.publicDecrypt,R=_.privateDecrypt;var y=N(76983);R=y.randomFill,R=y.randomFillSync,R=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},R={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(s){(function(G,N){s.exports=N()})(this,function(){"use strict";var G="millisecond",N="second",R="minute",I="hour",P="day",S="week",c="month",d="quarter",f="year",h="date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},k=function(L,z,K){var J=String(L);return!J||J.length>=z?L:""+Array(z+1-J.length).join(K)+L},m={s:k,z:function(L){var z=-L.utcOffset(),K=Math.abs(z),J=Math.floor(K/60),ie=K%60;return(z<=0?"+":"-")+k(J,2,"0")+":"+k(ie,2,"0")},m:function L(z,K){if(z.date()<K.date())return-L(K,z);var J=12*(K.year()-z.year())+(K.month()-z.month()),ie=z.clone().add(J,c),Y=K-ie<0,M=z.clone().add(J+(Y?-1:1),c);return+(-(J+(K-ie)/(Y?ie-M:M-ie))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:c,y:f,w:S,d:P,D:h,h:I,m:R,s:N,ms:G,Q:d}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},g="en",p={};p[g]=u;var T=function(L){return L instanceof W},E=function(L,z,K){var J;if(!L)return g;if(typeof L=="string")p[L]&&(J=L),z&&(p[L]=z,J=L);else{var ie=L.name;p[ie]=L,J=ie}return!K&&J&&(g=J),J||!K&&g},D=function(L,z){if(T(L))return L.clone();var K=typeof z=="object"?z:{};return K.date=L,K.args=arguments,new W(K)},x=m;x.l=E,x.i=T,x.w=function(L,z){return D(L,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var W=function(){function L(K){this.$L=E(K.locale,null,!0),this.parse(K)}var z=L.prototype;return z.parse=function(K){this.$d=function(J){var ie=J.date,Y=J.utc;if(ie===null)return new Date(NaN);if(x.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var M=ie.match(_);if(M){var V=M[2]-1||0,C=(M[7]||"0").substring(0,3);return Y?new Date(Date.UTC(M[1],V,M[3]||1,M[4]||0,M[5]||0,M[6]||0,C)):new Date(M[1],V,M[3]||1,M[4]||0,M[5]||0,M[6]||0,C)}}return new Date(ie)}(K),this.$x=K.x||{},this.init()},z.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},z.$utils=function(){return x},z.isValid=function(){return this.$d.toString()!=="Invalid Date"},z.isSame=function(K,J){var ie=D(K);return this.startOf(J)<=ie&&ie<=this.endOf(J)},z.isAfter=function(K,J){return D(K)<this.startOf(J)},z.isBefore=function(K,J){return this.endOf(J)<D(K)},z.$g=function(K,J,ie){return x.u(K)?this[J]:this.set(ie,K)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(K,J){var ie=this,Y=!!x.u(J)||J,M=x.p(K),V=function(Z,te){var B=x.w(ie.$u?Date.UTC(ie.$y,te,Z):new Date(ie.$y,te,Z),ie);return Y?B:B.endOf(P)},C=function(Z,te){return x.w(ie.toDate()[Z].apply(ie.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(te)),ie)},l=this.$W,w=this.$M,F=this.$D,q="set"+(this.$u?"UTC":"");switch(M){case f:return Y?V(1,0):V(31,11);case c:return Y?V(1,w):V(0,w+1);case S:var j=this.$locale().weekStart||0,$=(l<j?l+7:l)-j;return V(Y?F-$:F+(6-$),w);case P:case h:return C(q+"Hours",0);case I:return C(q+"Minutes",1);case R:return C(q+"Seconds",2);case N:return C(q+"Milliseconds",3);default:return this.clone()}},z.endOf=function(K){return this.startOf(K,!1)},z.$set=function(K,J){var ie,Y=x.p(K),M="set"+(this.$u?"UTC":""),V=(ie={},ie[P]=M+"Date",ie[h]=M+"Date",ie[c]=M+"Month",ie[f]=M+"FullYear",ie[I]=M+"Hours",ie[R]=M+"Minutes",ie[N]=M+"Seconds",ie[G]=M+"Milliseconds",ie)[Y],C=Y===P?this.$D+(J-this.$W):J;if(Y===c||Y===f){var l=this.clone().set(h,1);l.$d[V](C),l.init(),this.$d=l.set(h,Math.min(this.$D,l.daysInMonth())).$d}else V&&this.$d[V](C);return this.init(),this},z.set=function(K,J){return this.clone().$set(K,J)},z.get=function(K){return this[x.p(K)]()},z.add=function(K,J){var ie,Y=this;K=Number(K);var M=x.p(J),V=function(w){var F=D(Y);return x.w(F.date(F.date()+Math.round(w*K)),Y)};if(M===c)return this.set(c,this.$M+K);if(M===f)return this.set(f,this.$y+K);if(M===P)return V(1);if(M===S)return V(7);var C=(ie={},ie[R]=6e4,ie[I]=36e5,ie[N]=1e3,ie)[M]||1,l=this.$d.getTime()+K*C;return x.w(l,this)},z.subtract=function(K,J){return this.add(-1*K,J)},z.format=function(K){var J=this;if(!this.isValid())return"Invalid Date";var ie=K||"YYYY-MM-DDTHH:mm:ssZ",Y=x.z(this),M=this.$locale(),V=this.$H,C=this.$m,l=this.$M,w=M.weekdays,F=M.months,q=function(te,B,ae,xe){return te&&(te[B]||te(J,ie))||ae[B].substr(0,xe)},j=function(te){return x.s(V%12||12,te,"0")},$=M.meridiem||function(te,B,ae){var xe=te<12?"AM":"PM";return ae?xe.toLowerCase():xe},Z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:x.s(l+1,2,"0"),MMM:q(M.monthsShort,l,F,3),MMMM:q(F,l),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:q(M.weekdaysMin,this.$W,w,2),ddd:q(M.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String(V),HH:x.s(V,2,"0"),h:j(1),hh:j(2),a:$(V,C,!0),A:$(V,C,!1),m:String(C),mm:x.s(C,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:Y};return ie.replace(y,function(te,B){return B||Z[te]||Y.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(K,J,ie){var Y,M=x.p(J),V=D(K),C=6e4*(V.utcOffset()-this.utcOffset()),l=this-V,w=x.m(this,V);return w=(Y={},Y[f]=w/12,Y[c]=w,Y[d]=w/3,Y[S]=(l-C)/6048e5,Y[P]=(l-C)/864e5,Y[I]=l/36e5,Y[R]=l/6e4,Y[N]=l/1e3,Y)[M]||l,ie?w:x.a(w)},z.daysInMonth=function(){return this.endOf(c).$D},z.$locale=function(){return p[this.$L]},z.locale=function(K,J){if(!K)return this.$L;var ie=this.clone(),Y=E(K,J,!0);return Y&&(ie.$L=Y),ie},z.clone=function(){return x.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},L}(),b=W.prototype;return D.prototype=b,[["$ms",G],["$s",N],["$m",R],["$H",I],["$W",P],["$M",c],["$y",f],["$D",h]].forEach(function(L){b[L[1]]=function(z){return this.$g(z,L[0],L[1])}}),D.extend=function(L,z){return L.$i||(L(z,W,D),L.$i=!0),D},D.locale=E,D.isDayjs=T,D.unix=function(L){return D(1e3*L)},D.en=p[g],D.Ls=p,D.p={},D})},6279:function(s){(function(G,N){s.exports=N()})(this,function(){"use strict";return function(G,N,R){G=G||{};var I=N.prototype,P={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function S(d,f,h,_){return I.fromToBase(d,f,h,_)}R.en.relativeTime=P,I.fromToBase=function(d,f,h,_,y){for(var u,k,m,g=h.$locale().relativeTime||P,p=G.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],T=p.length,E=0;E<T;E+=1){var D=p[E];D.d&&(u=_?R(d).diff(h,D.d,!0):h.diff(d,D.d,!0));var x=(G.rounding||Math.round)(Math.abs(u));if(m=u>0,x<=D.r||!D.r){x<=1&&E>0&&(D=p[E-1]);var W=g[D.l];y&&(x=y(""+x)),k=typeof W=="string"?W.replace("%d",x):W(x,f,D.l,m);break}}if(f)return k;var b=m?g.future:g.past;return typeof b=="function"?b(k):b.replace("%s",k)},I.to=function(d,f){return S(d,f,this,!0)},I.from=function(d,f){return S(d,f,this)};var c=function(d){return d.$u?R.utc():R()};I.toNow=function(d){return this.to(c(this),d)},I.fromNow=function(d){return this.from(c(this),d)}}})},53581:function(s){(function(G,N){s.exports=N()})(this,function(){"use strict";return function(G,N,R){R.updateLocale=function(I,P){var S=R.Ls[I];if(S)return(P?Object.keys(P):[]).forEach(function(c){S[c]=P[c]}),S}}})},29560:(s,G,N)=>{"use strict";G.utils=N(87626),G.Cipher=N(82808),G.DES=N(82211),G.CBC=N(3389),G.EDE=N(65279)},3389:(s,G,N)=>{"use strict";var R=N(43349),I=N(56698),P={};function S(d){R.equal(d.length,8,"Invalid IV length"),this.iv=new Array(8);for(var f=0;f<this.iv.length;f++)this.iv[f]=d[f]}function c(d){function f(u){d.call(this,u),this._cbcInit()}I(f,d);for(var h=Object.keys(P),_=0;_<h.length;_++){var y=h[_];f.prototype[y]=P[y]}return f.create=function(k){return new f(k)},f}G.instantiate=c,P._cbcInit=function(){var f=new S(this.options.iv);this._cbcState=f},P._update=function(f,h,_,y){var u=this._cbcState,k=this.constructor.super_.prototype,m=u.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)m[g]^=f[h+g];k._update.call(this,m,0,_,y);for(var g=0;g<this.blockSize;g++)m[g]=_[y+g]}else{k._update.call(this,f,h,_,y);for(var g=0;g<this.blockSize;g++)_[y+g]^=m[g];for(var g=0;g<this.blockSize;g++)m[g]=f[h+g]}}},82808:(s,G,N)=>{"use strict";var R=N(43349);function I(P){this.options=P,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=I,I.prototype._init=function(){},I.prototype.update=function(S){return S.length===0?[]:this.type==="decrypt"?this._updateDecrypt(S):this._updateEncrypt(S)},I.prototype._buffer=function(S,c){for(var d=Math.min(this.buffer.length-this.bufferOff,S.length-c),f=0;f<d;f++)this.buffer[this.bufferOff+f]=S[c+f];return this.bufferOff+=d,d},I.prototype._flushBuffer=function(S,c){return this._update(this.buffer,0,S,c),this.bufferOff=0,this.blockSize},I.prototype._updateEncrypt=function(S){var c=0,d=0,f=(this.bufferOff+S.length)/this.blockSize|0,h=new Array(f*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(S,c),this.bufferOff===this.buffer.length&&(d+=this._flushBuffer(h,d)));for(var _=S.length-(S.length-c)%this.blockSize;c<_;c+=this.blockSize)this._update(S,c,h,d),d+=this.blockSize;for(;c<S.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=S[c];return h},I.prototype._updateDecrypt=function(S){for(var c=0,d=0,f=Math.ceil((this.bufferOff+S.length)/this.blockSize)-1,h=new Array(f*this.blockSize);f>0;f--)c+=this._buffer(S,c),d+=this._flushBuffer(h,d);return c+=this._buffer(S,c),h},I.prototype.final=function(S){var c;S&&(c=this.update(S));var d;return this.type==="encrypt"?d=this._finalEncrypt():d=this._finalDecrypt(),c?c.concat(d):d},I.prototype._pad=function(S,c){if(c===0)return!1;for(;c<S.length;)S[c++]=0;return!0},I.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var S=new Array(this.blockSize);return this._update(this.buffer,0,S,0),S},I.prototype._unpad=function(S){return S},I.prototype._finalDecrypt=function(){R.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var S=new Array(this.blockSize);return this._flushBuffer(S,0),this._unpad(S)}},82211:(s,G,N)=>{"use strict";var R=N(43349),I=N(56698),P=N(87626),S=N(82808);function c(){this.tmp=new Array(2),this.keys=null}function d(h){S.call(this,h);var _=new c;this._desState=_,this.deriveKeys(_,h.key)}I(d,S),s.exports=d,d.create=function(_){return new d(_)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(_,y){_.keys=new Array(32),R.equal(y.length,this.blockSize,"Invalid key length");var u=P.readUInt32BE(y,0),k=P.readUInt32BE(y,4);P.pc1(u,k,_.tmp,0),u=_.tmp[0],k=_.tmp[1];for(var m=0;m<_.keys.length;m+=2){var g=f[m>>>1];u=P.r28shl(u,g),k=P.r28shl(k,g),P.pc2(u,k,_.keys,m)}},d.prototype._update=function(_,y,u,k){var m=this._desState,g=P.readUInt32BE(_,y),p=P.readUInt32BE(_,y+4);P.ip(g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,p,m.tmp,0):this._decrypt(m,g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],P.writeUInt32BE(u,g,k),P.writeUInt32BE(u,p,k+4)},d.prototype._pad=function(_,y){for(var u=_.length-y,k=y;k<_.length;k++)_[k]=u;return!0},d.prototype._unpad=function(_){for(var y=_[_.length-1],u=_.length-y;u<_.length;u++)R.equal(_[u],y);return _.slice(0,_.length-y)},d.prototype._encrypt=function(_,y,u,k,m){for(var g=y,p=u,T=0;T<_.keys.length;T+=2){var E=_.keys[T],D=_.keys[T+1];P.expand(p,_.tmp,0),E^=_.tmp[0],D^=_.tmp[1];var x=P.substitute(E,D),W=P.permute(x),b=p;p=(g^W)>>>0,g=b}P.rip(p,g,k,m)},d.prototype._decrypt=function(_,y,u,k,m){for(var g=u,p=y,T=_.keys.length-2;T>=0;T-=2){var E=_.keys[T],D=_.keys[T+1];P.expand(g,_.tmp,0),E^=_.tmp[0],D^=_.tmp[1];var x=P.substitute(E,D),W=P.permute(x),b=g;g=(p^W)>>>0,p=b}P.rip(g,p,k,m)}},65279:(s,G,N)=>{"use strict";var R=N(43349),I=N(56698),P=N(82808),S=N(82211);function c(f,h){R.equal(h.length,24,"Invalid key length");var _=h.slice(0,8),y=h.slice(8,16),u=h.slice(16,24);f==="encrypt"?this.ciphers=[S.create({type:"encrypt",key:_}),S.create({type:"decrypt",key:y}),S.create({type:"encrypt",key:u})]:this.ciphers=[S.create({type:"decrypt",key:u}),S.create({type:"encrypt",key:y}),S.create({type:"decrypt",key:_})]}function d(f){P.call(this,f);var h=new c(this.type,this.options.key);this._edeState=h}I(d,P),s.exports=d,d.create=function(h){return new d(h)},d.prototype._update=function(h,_,y,u){var k=this._edeState;k.ciphers[0]._update(h,_,y,u),k.ciphers[1]._update(y,u,y,u),k.ciphers[2]._update(y,u,y,u)},d.prototype._pad=S.prototype._pad,d.prototype._unpad=S.prototype._unpad},87626:(s,G)=>{"use strict";G.readUInt32BE=function(S,c){var d=S[0+c]<<24|S[1+c]<<16|S[2+c]<<8|S[3+c];return d>>>0},G.writeUInt32BE=function(S,c,d){S[0+d]=c>>>24,S[1+d]=c>>>16&255,S[2+d]=c>>>8&255,S[3+d]=c&255},G.ip=function(S,c,d,f){for(var h=0,_=0,y=6;y>=0;y-=2){for(var u=0;u<=24;u+=8)h<<=1,h|=c>>>u+y&1;for(var u=0;u<=24;u+=8)h<<=1,h|=S>>>u+y&1}for(var y=6;y>=0;y-=2){for(var u=1;u<=25;u+=8)_<<=1,_|=c>>>u+y&1;for(var u=1;u<=25;u+=8)_<<=1,_|=S>>>u+y&1}d[f+0]=h>>>0,d[f+1]=_>>>0},G.rip=function(S,c,d,f){for(var h=0,_=0,y=0;y<4;y++)for(var u=24;u>=0;u-=8)h<<=1,h|=c>>>u+y&1,h<<=1,h|=S>>>u+y&1;for(var y=4;y<8;y++)for(var u=24;u>=0;u-=8)_<<=1,_|=c>>>u+y&1,_<<=1,_|=S>>>u+y&1;d[f+0]=h>>>0,d[f+1]=_>>>0},G.pc1=function(S,c,d,f){for(var h=0,_=0,y=7;y>=5;y--){for(var u=0;u<=24;u+=8)h<<=1,h|=c>>u+y&1;for(var u=0;u<=24;u+=8)h<<=1,h|=S>>u+y&1}for(var u=0;u<=24;u+=8)h<<=1,h|=c>>u+y&1;for(var y=1;y<=3;y++){for(var u=0;u<=24;u+=8)_<<=1,_|=c>>u+y&1;for(var u=0;u<=24;u+=8)_<<=1,_|=S>>u+y&1}for(var u=0;u<=24;u+=8)_<<=1,_|=S>>u+y&1;d[f+0]=h>>>0,d[f+1]=_>>>0},G.r28shl=function(S,c){return S<<c&268435455|S>>>28-c};var N=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];G.pc2=function(S,c,d,f){for(var h=0,_=0,y=N.length>>>1,u=0;u<y;u++)h<<=1,h|=S>>>N[u]&1;for(var u=y;u<N.length;u++)_<<=1,_|=c>>>N[u]&1;d[f+0]=h>>>0,d[f+1]=_>>>0},G.expand=function(S,c,d){var f=0,h=0;f=(S&1)<<5|S>>>27;for(var _=23;_>=15;_-=4)f<<=6,f|=S>>>_&63;for(var _=11;_>=3;_-=4)h|=S>>>_&63,h<<=6;h|=(S&31)<<1|S>>>31,c[d+0]=f>>>0,c[d+1]=h>>>0};var R=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];G.substitute=function(S,c){for(var d=0,f=0;f<4;f++){var h=S>>>18-f*6&63,_=R[f*64+h];d<<=4,d|=_}for(var f=0;f<4;f++){var h=c>>>18-f*6&63,_=R[4*64+f*64+h];d<<=4,d|=_}return d>>>0};var I=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];G.permute=function(S){for(var c=0,d=0;d<I.length;d++)c<<=1,c|=S>>>I[d]&1;return c>>>0},G.padSplit=function(S,c,d){for(var f=S.toString(2);f.length<c;)f="0"+f;for(var h=[],_=0;_<c;_+=d)h.push(f.slice(_,_+d));return h.join(" ")}},15380:(s,G,N)=>{var R=N(4934),I=N(23241),P=N(14910);function S(f){var h=new Buffer(I[f].prime,"hex"),_=new Buffer(I[f].gen,"hex");return new P(h,_)}var c={binary:!0,hex:!0,base64:!0};function d(f,h,_,y){return Buffer.isBuffer(h)||c[h]===void 0?d(f,"binary",h,_):(h=h||"binary",y=y||"binary",_=_||new Buffer([2]),Buffer.isBuffer(_)||(_=new Buffer(_,y)),typeof f=="number"?new P(R(f,_),_,!0):(Buffer.isBuffer(f)||(f=new Buffer(f,h)),new P(f,_,!0)))}G.DiffieHellmanGroup=G.createDiffieHellmanGroup=G.getDiffieHellman=S,G.createDiffieHellman=G.DiffieHellman=d},14910:(s,G,N)=>{var R=N(39404),I=N(52244),P=new I,S=new R(24),c=new R(11),d=new R(10),f=new R(3),h=new R(7),_=N(4934),y=N(53209);s.exports=p;function u(E,D){return D=D||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,D)),this._pub=new R(E),this}function k(E,D){return D=D||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,D)),this._priv=new R(E),this}var m={};function g(E,D){var x=D.toString("hex"),W=[x,E.toString(16)].join("_");if(W in m)return m[W];var b=0;if(E.isEven()||!_.simpleSieve||!_.fermatTest(E)||!P.test(E))return b+=1,x==="02"||x==="05"?b+=8:b+=4,m[W]=b,b;P.test(E.shrn(1))||(b+=2);var L;switch(x){case"02":E.mod(S).cmp(c)&&(b+=8);break;case"05":L=E.mod(d),L.cmp(f)&&L.cmp(h)&&(b+=8);break;default:b+=4}return m[W]=b,b}function p(E,D,x){this.setGenerator(D),this.__prime=new R(E),this._prime=R.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,x?(this.setPublicKey=u,this.setPrivateKey=k):this._primeCode=8}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=g(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new R(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(E){E=new R(E),E=E.toRed(this._prime);var D=E.redPow(this._priv).fromRed(),x=new Buffer(D.toArray()),W=this.getPrime();if(x.length<W.length){var b=new Buffer(W.length-x.length);b.fill(0),x=Buffer.concat([b,x])}return x},p.prototype.getPublicKey=function(D){return T(this._pub,D)},p.prototype.getPrivateKey=function(D){return T(this._priv,D)},p.prototype.getPrime=function(E){return T(this.__prime,E)},p.prototype.getGenerator=function(E){return T(this._gen,E)},p.prototype.setGenerator=function(E,D){return D=D||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,D)),this.__gen=E,this._gen=new R(E),this};function T(E,D){var x=new Buffer(E.toArray());return D?x.toString(D):x}},4934:(s,G,N)=>{var R=N(53209);s.exports=b,b.simpleSieve=x,b.fermatTest=W;var I=N(39404),P=new I(24),S=N(52244),c=new S,d=new I(1),f=new I(2),h=new I(5),_=new I(16),y=new I(8),u=new I(10),k=new I(3),m=new I(7),g=new I(11),p=new I(4),T=new I(12),E=null;function D(){if(E!==null)return E;var L=1048576,z=[];z[0]=2;for(var K=1,J=3;J<L;J+=2){for(var ie=Math.ceil(Math.sqrt(J)),Y=0;Y<K&&z[Y]<=ie&&J%z[Y]!==0;Y++);K!==Y&&z[Y]<=ie||(z[K++]=J)}return E=z,z}function x(L){for(var z=D(),K=0;K<z.length;K++)if(L.modn(z[K])===0)return L.cmpn(z[K])===0;return!0}function W(L){var z=I.mont(L);return f.toRed(z).redPow(L.subn(1)).fromRed().cmpn(1)===0}function b(L,z){if(L<16)return z===2||z===5?new I([140,123]):new I([140,39]);z=new I(z);for(var K,J;;){for(K=new I(R(Math.ceil(L/8)));K.bitLength()>L;)K.ishrn(1);if(K.isEven()&&K.iadd(d),K.testn(1)||K.iadd(f),z.cmp(f)){if(!z.cmp(h))for(;K.mod(u).cmp(k);)K.iadd(p)}else for(;K.mod(P).cmp(g);)K.iadd(p);if(J=K.shrn(1),x(J)&&x(K)&&W(J)&&W(K)&&c.test(J)&&c.test(K))return K}}},86729:(s,G,N)=>{"use strict";var R=G;R.version=N(1636).rE,R.utils=N(47011),R.rand=N(15037),R.curve=N(894),R.curves=N(60480),R.ec=N(57447),R.eddsa=N(8650)},36677:(s,G,N)=>{"use strict";var R=N(39404),I=N(47011),P=I.getNAF,S=I.getJSF,c=I.assert;function d(h,_){this.type=h,this.p=new R(_.p,16),this.red=_.prime?R.red(_.prime):R.mont(this.p),this.zero=new R(0).toRed(this.red),this.one=new R(1).toRed(this.red),this.two=new R(2).toRed(this.red),this.n=_.n&&new R(_.n,16),this.g=_.g&&this.pointFromJSON(_.g,_.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(_,y){c(_.precomputed);var u=_._getDoubles(),k=P(y,1,this._bitLength),m=(1<<u.step+1)-(u.step%2===0?2:1);m/=3;var g=[],p,T;for(p=0;p<k.length;p+=u.step){T=0;for(var E=p+u.step-1;E>=p;E--)T=(T<<1)+k[E];g.push(T)}for(var D=this.jpoint(null,null,null),x=this.jpoint(null,null,null),W=m;W>0;W--){for(p=0;p<g.length;p++)T=g[p],T===W?x=x.mixedAdd(u.points[p]):T===-W&&(x=x.mixedAdd(u.points[p].neg()));D=D.add(x)}return D.toP()},d.prototype._wnafMul=function(_,y){var u=4,k=_._getNAFPoints(u);u=k.wnd;for(var m=k.points,g=P(y,u,this._bitLength),p=this.jpoint(null,null,null),T=g.length-1;T>=0;T--){for(var E=0;T>=0&&g[T]===0;T--)E++;if(T>=0&&E++,p=p.dblp(E),T<0)break;var D=g[T];c(D!==0),_.type==="affine"?D>0?p=p.mixedAdd(m[D-1>>1]):p=p.mixedAdd(m[-D-1>>1].neg()):D>0?p=p.add(m[D-1>>1]):p=p.add(m[-D-1>>1].neg())}return _.type==="affine"?p.toP():p},d.prototype._wnafMulAdd=function(_,y,u,k,m){var g=this._wnafT1,p=this._wnafT2,T=this._wnafT3,E=0,D,x,W;for(D=0;D<k;D++){W=y[D];var b=W._getNAFPoints(_);g[D]=b.wnd,p[D]=b.points}for(D=k-1;D>=1;D-=2){var L=D-1,z=D;if(g[L]!==1||g[z]!==1){T[L]=P(u[L],g[L],this._bitLength),T[z]=P(u[z],g[z],this._bitLength),E=Math.max(T[L].length,E),E=Math.max(T[z].length,E);continue}var K=[y[L],null,null,y[z]];y[L].y.cmp(y[z].y)===0?(K[1]=y[L].add(y[z]),K[2]=y[L].toJ().mixedAdd(y[z].neg())):y[L].y.cmp(y[z].y.redNeg())===0?(K[1]=y[L].toJ().mixedAdd(y[z]),K[2]=y[L].add(y[z].neg())):(K[1]=y[L].toJ().mixedAdd(y[z]),K[2]=y[L].toJ().mixedAdd(y[z].neg()));var J=[-3,-1,-5,-7,0,7,5,1,3],ie=S(u[L],u[z]);for(E=Math.max(ie[0].length,E),T[L]=new Array(E),T[z]=new Array(E),x=0;x<E;x++){var Y=ie[0][x]|0,M=ie[1][x]|0;T[L][x]=J[(Y+1)*3+(M+1)],T[z][x]=0,p[L]=K}}var V=this.jpoint(null,null,null),C=this._wnafT4;for(D=E;D>=0;D--){for(var l=0;D>=0;){var w=!0;for(x=0;x<k;x++)C[x]=T[x][D]|0,C[x]!==0&&(w=!1);if(!w)break;l++,D--}if(D>=0&&l++,V=V.dblp(l),D<0)break;for(x=0;x<k;x++){var F=C[x];F!==0&&(F>0?W=p[x][F-1>>1]:F<0&&(W=p[x][-F-1>>1].neg()),W.type==="affine"?V=V.mixedAdd(W):V=V.add(W))}}for(D=0;D<k;D++)p[D]=null;return m?V:V.toP()};function f(h,_){this.curve=h,this.type=_,this.precomputed=null}d.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(_,y){_=I.toArray(_,y);var u=this.p.byteLength();if((_[0]===4||_[0]===6||_[0]===7)&&_.length-1===2*u){_[0]===6?c(_[_.length-1]%2===0):_[0]===7&&c(_[_.length-1]%2===1);var k=this.point(_.slice(1,1+u),_.slice(1+u,1+2*u));return k}else if((_[0]===2||_[0]===3)&&_.length-1===u)return this.pointFromX(_.slice(1,1+u),_[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(_){return this.encode(_,!0)},f.prototype._encode=function(_){var y=this.curve.p.byteLength(),u=this.getX().toArray("be",y);return _?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",y))},f.prototype.encode=function(_,y){return I.encode(this._encode(y),_)},f.prototype.precompute=function(_){if(this.precomputed)return this;var y={doubles:null,naf:null,beta:null};return y.naf=this._getNAFPoints(8),y.doubles=this._getDoubles(4,_),y.beta=this._getBeta(),this.precomputed=y,this},f.prototype._hasDoubles=function(_){if(!this.precomputed)return!1;var y=this.precomputed.doubles;return y?y.points.length>=Math.ceil((_.bitLength()+1)/y.step):!1},f.prototype._getDoubles=function(_,y){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],k=this,m=0;m<y;m+=_){for(var g=0;g<_;g++)k=k.dbl();u.push(k)}return{step:_,points:u}},f.prototype._getNAFPoints=function(_){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var y=[this],u=(1<<_)-1,k=u===1?null:this.dbl(),m=1;m<u;m++)y[m]=y[m-1].add(k);return{wnd:_,points:y}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(_){for(var y=this,u=0;u<_;u++)y=y.dbl();return y}},31298:(s,G,N)=>{"use strict";var R=N(47011),I=N(39404),P=N(56698),S=N(36677),c=R.assert;function d(h){this.twisted=(h.a|0)!==1,this.mOneA=this.twisted&&(h.a|0)===-1,this.extended=this.mOneA,S.call(this,"edwards",h),this.a=new I(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new I(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new I(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(h.c|0)===1}P(d,S),s.exports=d,d.prototype._mulA=function(_){return this.mOneA?_.redNeg():this.a.redMul(_)},d.prototype._mulC=function(_){return this.oneC?_:this.c.redMul(_)},d.prototype.jpoint=function(_,y,u,k){return this.point(_,y,u,k)},d.prototype.pointFromX=function(_,y){_=new I(_,16),_.red||(_=_.toRed(this.red));var u=_.redSqr(),k=this.c2.redSub(this.a.redMul(u)),m=this.one.redSub(this.c2.redMul(this.d).redMul(u)),g=k.redMul(m.redInvm()),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var T=p.fromRed().isOdd();return(y&&!T||!y&&T)&&(p=p.redNeg()),this.point(_,p)},d.prototype.pointFromY=function(_,y){_=new I(_,16),_.red||(_=_.toRed(this.red));var u=_.redSqr(),k=u.redSub(this.c2),m=u.redMul(this.d).redMul(this.c2).redSub(this.a),g=k.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(y)throw new Error("invalid point");return this.point(this.zero,_)}var p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==y&&(p=p.redNeg()),this.point(p,_)},d.prototype.validate=function(_){if(_.isInfinity())return!0;_.normalize();var y=_.x.redSqr(),u=_.y.redSqr(),k=y.redMul(this.a).redAdd(u),m=this.c2.redMul(this.one.redAdd(this.d.redMul(y).redMul(u)));return k.cmp(m)===0};function f(h,_,y,u,k){S.BasePoint.call(this,h,"projective"),_===null&&y===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new I(_,16),this.y=new I(y,16),this.z=u?new I(u,16):this.curve.one,this.t=k&&new I(k,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}P(f,S.BasePoint),d.prototype.pointFromJSON=function(_){return f.fromJSON(this,_)},d.prototype.point=function(_,y,u,k){return new f(this,_,y,u,k)},f.fromJSON=function(_,y){return new f(_,y[0],y[1],y[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var _=this.x.redSqr(),y=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var k=this.curve._mulA(_),m=this.x.redAdd(this.y).redSqr().redISub(_).redISub(y),g=k.redAdd(y),p=g.redSub(u),T=k.redSub(y),E=m.redMul(p),D=g.redMul(T),x=m.redMul(T),W=p.redMul(g);return this.curve.point(E,D,W,x)},f.prototype._projDbl=function(){var _=this.x.redAdd(this.y).redSqr(),y=this.x.redSqr(),u=this.y.redSqr(),k,m,g,p,T,E;if(this.curve.twisted){p=this.curve._mulA(y);var D=p.redAdd(u);this.zOne?(k=_.redSub(y).redSub(u).redMul(D.redSub(this.curve.two)),m=D.redMul(p.redSub(u)),g=D.redSqr().redSub(D).redSub(D)):(T=this.z.redSqr(),E=D.redSub(T).redISub(T),k=_.redSub(y).redISub(u).redMul(E),m=D.redMul(p.redSub(u)),g=D.redMul(E))}else p=y.redAdd(u),T=this.curve._mulC(this.z).redSqr(),E=p.redSub(T).redSub(T),k=this.curve._mulC(_.redISub(p)).redMul(E),m=this.curve._mulC(p).redMul(y.redISub(u)),g=p.redMul(E);return this.curve.point(k,m,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(_){var y=this.y.redSub(this.x).redMul(_.y.redSub(_.x)),u=this.y.redAdd(this.x).redMul(_.y.redAdd(_.x)),k=this.t.redMul(this.curve.dd).redMul(_.t),m=this.z.redMul(_.z.redAdd(_.z)),g=u.redSub(y),p=m.redSub(k),T=m.redAdd(k),E=u.redAdd(y),D=g.redMul(p),x=T.redMul(E),W=g.redMul(E),b=p.redMul(T);return this.curve.point(D,x,b,W)},f.prototype._projAdd=function(_){var y=this.z.redMul(_.z),u=y.redSqr(),k=this.x.redMul(_.x),m=this.y.redMul(_.y),g=this.curve.d.redMul(k).redMul(m),p=u.redSub(g),T=u.redAdd(g),E=this.x.redAdd(this.y).redMul(_.x.redAdd(_.y)).redISub(k).redISub(m),D=y.redMul(p).redMul(E),x,W;return this.curve.twisted?(x=y.redMul(T).redMul(m.redSub(this.curve._mulA(k))),W=p.redMul(T)):(x=y.redMul(T).redMul(m.redSub(k)),W=this.curve._mulC(p).redMul(T)),this.curve.point(D,x,W)},f.prototype.add=function(_){return this.isInfinity()?_:_.isInfinity()?this:this.curve.extended?this._extAdd(_):this._projAdd(_)},f.prototype.mul=function(_){return this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve._wnafMul(this,_)},f.prototype.mulAdd=function(_,y,u){return this.curve._wnafMulAdd(1,[this,y],[_,u],2,!1)},f.prototype.jmulAdd=function(_,y,u){return this.curve._wnafMulAdd(1,[this,y],[_,u],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var _=this.z.redInvm();return this.x=this.x.redMul(_),this.y=this.y.redMul(_),this.t&&(this.t=this.t.redMul(_)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(_){return this===_||this.getX().cmp(_.getX())===0&&this.getY().cmp(_.getY())===0},f.prototype.eqXToP=function(_){var y=_.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(y)===0)return!0;for(var u=_.clone(),k=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(k),this.x.cmp(y)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},894:(s,G,N)=>{"use strict";var R=G;R.base=N(36677),R.short=N(39188),R.mont=N(30370),R.edwards=N(31298)},30370:(s,G,N)=>{"use strict";var R=N(39404),I=N(56698),P=N(36677),S=N(47011);function c(f){P.call(this,"mont",f),this.a=new R(f.a,16).toRed(this.red),this.b=new R(f.b,16).toRed(this.red),this.i4=new R(4).toRed(this.red).redInvm(),this.two=new R(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}I(c,P),s.exports=c,c.prototype.validate=function(h){var _=h.normalize().x,y=_.redSqr(),u=y.redMul(_).redAdd(y.redMul(this.a)).redAdd(_),k=u.redSqrt();return k.redSqr().cmp(u)===0};function d(f,h,_){P.BasePoint.call(this,f,"projective"),h===null&&_===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new R(h,16),this.z=new R(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}I(d,P.BasePoint),c.prototype.decodePoint=function(h,_){return this.point(S.toArray(h,_),1)},c.prototype.point=function(h,_){return new d(this,h,_)},c.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(h,_){return new d(h,_[0],_[1]||h.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var h=this.x.redAdd(this.z),_=h.redSqr(),y=this.x.redSub(this.z),u=y.redSqr(),k=_.redSub(u),m=_.redMul(u),g=k.redMul(u.redAdd(this.curve.a24.redMul(k)));return this.curve.point(m,g)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(h,_){var y=this.x.redAdd(this.z),u=this.x.redSub(this.z),k=h.x.redAdd(h.z),m=h.x.redSub(h.z),g=m.redMul(y),p=k.redMul(u),T=_.z.redMul(g.redAdd(p).redSqr()),E=_.x.redMul(g.redISub(p).redSqr());return this.curve.point(T,E)},d.prototype.mul=function(h){for(var _=h.clone(),y=this,u=this.curve.point(null,null),k=this,m=[];_.cmpn(0)!==0;_.iushrn(1))m.push(_.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(y=y.diffAdd(u,k),u=u.dbl()):(u=y.diffAdd(u,k),y=y.dbl());return u},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(s,G,N)=>{"use strict";var R=N(47011),I=N(39404),P=N(56698),S=N(36677),c=R.assert;function d(_){S.call(this,"short",_),this.a=new I(_.a,16).toRed(this.red),this.b=new I(_.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}P(d,S),s.exports=d,d.prototype._getEndomorphism=function(y){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,k;if(y.beta)u=new I(y.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);u=m[0].cmp(m[1])<0?m[0]:m[1],u=u.toRed(this.red)}if(y.lambda)k=new I(y.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(u))===0?k=g[0]:(k=g[1],c(this.g.mul(k).x.cmp(this.g.x.redMul(u))===0))}var p;return y.basis?p=y.basis.map(function(T){return{a:new I(T.a,16),b:new I(T.b,16)}}):p=this._getEndoBasis(k),{beta:u,lambda:k,basis:p}}},d.prototype._getEndoRoots=function(y){var u=y===this.p?this.red:I.mont(y),k=new I(2).toRed(u).redInvm(),m=k.redNeg(),g=new I(3).toRed(u).redNeg().redSqrt().redMul(k),p=m.redAdd(g).fromRed(),T=m.redSub(g).fromRed();return[p,T]},d.prototype._getEndoBasis=function(y){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=y,m=this.n.clone(),g=new I(1),p=new I(0),T=new I(0),E=new I(1),D,x,W,b,L,z,K,J=0,ie,Y;k.cmpn(0)!==0;){var M=m.div(k);ie=m.sub(M.mul(k)),Y=T.sub(M.mul(g));var V=E.sub(M.mul(p));if(!W&&ie.cmp(u)<0)D=K.neg(),x=g,W=ie.neg(),b=Y;else if(W&&++J===2)break;K=ie,m=k,k=ie,T=g,g=Y,E=p,p=V}L=ie.neg(),z=Y;var C=W.sqr().add(b.sqr()),l=L.sqr().add(z.sqr());return l.cmp(C)>=0&&(L=D,z=x),W.negative&&(W=W.neg(),b=b.neg()),L.negative&&(L=L.neg(),z=z.neg()),[{a:W,b},{a:L,b:z}]},d.prototype._endoSplit=function(y){var u=this.endo.basis,k=u[0],m=u[1],g=m.b.mul(y).divRound(this.n),p=k.b.neg().mul(y).divRound(this.n),T=g.mul(k.a),E=p.mul(m.a),D=g.mul(k.b),x=p.mul(m.b),W=y.sub(T).sub(E),b=D.add(x).neg();return{k1:W,k2:b}},d.prototype.pointFromX=function(y,u){y=new I(y,16),y.red||(y=y.toRed(this.red));var k=y.redSqr().redMul(y).redIAdd(y.redMul(this.a)).redIAdd(this.b),m=k.redSqrt();if(m.redSqr().redSub(k).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(u&&!g||!u&&g)&&(m=m.redNeg()),this.point(y,m)},d.prototype.validate=function(y){if(y.inf)return!0;var u=y.x,k=y.y,m=this.a.redMul(u),g=u.redSqr().redMul(u).redIAdd(m).redIAdd(this.b);return k.redSqr().redISub(g).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(y,u,k){for(var m=this._endoWnafT1,g=this._endoWnafT2,p=0;p<y.length;p++){var T=this._endoSplit(u[p]),E=y[p],D=E._getBeta();T.k1.negative&&(T.k1.ineg(),E=E.neg(!0)),T.k2.negative&&(T.k2.ineg(),D=D.neg(!0)),m[p*2]=E,m[p*2+1]=D,g[p*2]=T.k1,g[p*2+1]=T.k2}for(var x=this._wnafMulAdd(1,m,g,p*2,k),W=0;W<p*2;W++)m[W]=null,g[W]=null;return x};function f(_,y,u,k){S.BasePoint.call(this,_,"affine"),y===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new I(y,16),this.y=new I(u,16),k&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}P(f,S.BasePoint),d.prototype.point=function(y,u,k){return new f(this,y,u,k)},d.prototype.pointFromJSON=function(y,u){return f.fromJSON(this,y,u)},f.prototype._getBeta=function(){if(this.curve.endo){var y=this.precomputed;if(y&&y.beta)return y.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(y){var k=this.curve,m=function(g){return k.point(g.x.redMul(k.endo.beta),g.y)};y.beta=u,u.precomputed={beta:null,naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return u}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(y,u,k){typeof u=="string"&&(u=JSON.parse(u));var m=y.point(u[0],u[1],k);if(!u[2])return m;function g(T){return y.point(T[0],T[1],k)}var p=u[2];return m.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[m].concat(p.doubles.points.map(g))},naf:p.naf&&{wnd:p.naf.wnd,points:[m].concat(p.naf.points.map(g))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(y){if(this.inf)return y;if(y.inf)return this;if(this.eq(y))return this.dbl();if(this.neg().eq(y))return this.curve.point(null,null);if(this.x.cmp(y.x)===0)return this.curve.point(null,null);var u=this.y.redSub(y.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(y.x).redInvm()));var k=u.redSqr().redISub(this.x).redISub(y.x),m=u.redMul(this.x.redSub(k)).redISub(this.y);return this.curve.point(k,m)},f.prototype.dbl=function(){if(this.inf)return this;var y=this.y.redAdd(this.y);if(y.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,k=this.x.redSqr(),m=y.redInvm(),g=k.redAdd(k).redIAdd(k).redIAdd(u).redMul(m),p=g.redSqr().redISub(this.x.redAdd(this.x)),T=g.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,T)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(y){return y=new I(y,16),this.isInfinity()?this:this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve.endo?this.curve._endoWnafMulAdd([this],[y]):this.curve._wnafMul(this,y)},f.prototype.mulAdd=function(y,u,k){var m=[this,u],g=[y,k];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},f.prototype.jmulAdd=function(y,u,k){var m=[this,u],g=[y,k];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},f.prototype.eq=function(y){return this===y||this.inf===y.inf&&(this.inf||this.x.cmp(y.x)===0&&this.y.cmp(y.y)===0)},f.prototype.neg=function(y){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(y&&this.precomputed){var k=this.precomputed,m=function(g){return g.neg()};u.precomputed={naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(m)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(m)}}}return u},f.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var y=this.curve.jpoint(this.x,this.y,this.curve.one);return y};function h(_,y,u,k){S.BasePoint.call(this,_,"jacobian"),y===null&&u===null&&k===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new I(0)):(this.x=new I(y,16),this.y=new I(u,16),this.z=new I(k,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}P(h,S.BasePoint),d.prototype.jpoint=function(y,u,k){return new h(this,y,u,k)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var y=this.z.redInvm(),u=y.redSqr(),k=this.x.redMul(u),m=this.y.redMul(u).redMul(y);return this.curve.point(k,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(y){if(this.isInfinity())return y;if(y.isInfinity())return this;var u=y.z.redSqr(),k=this.z.redSqr(),m=this.x.redMul(u),g=y.x.redMul(k),p=this.y.redMul(u.redMul(y.z)),T=y.y.redMul(k.redMul(this.z)),E=m.redSub(g),D=p.redSub(T);if(E.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=E.redSqr(),W=x.redMul(E),b=m.redMul(x),L=D.redSqr().redIAdd(W).redISub(b).redISub(b),z=D.redMul(b.redISub(L)).redISub(p.redMul(W)),K=this.z.redMul(y.z).redMul(E);return this.curve.jpoint(L,z,K)},h.prototype.mixedAdd=function(y){if(this.isInfinity())return y.toJ();if(y.isInfinity())return this;var u=this.z.redSqr(),k=this.x,m=y.x.redMul(u),g=this.y,p=y.y.redMul(u).redMul(this.z),T=k.redSub(m),E=g.redSub(p);if(T.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=T.redSqr(),x=D.redMul(T),W=k.redMul(D),b=E.redSqr().redIAdd(x).redISub(W).redISub(W),L=E.redMul(W.redISub(b)).redISub(g.redMul(x)),z=this.z.redMul(T);return this.curve.jpoint(b,L,z)},h.prototype.dblp=function(y){if(y===0)return this;if(this.isInfinity())return this;if(!y)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var k=this;for(u=0;u<y;u++)k=k.dbl();return k}var m=this.curve.a,g=this.curve.tinv,p=this.x,T=this.y,E=this.z,D=E.redSqr().redSqr(),x=T.redAdd(T);for(u=0;u<y;u++){var W=p.redSqr(),b=x.redSqr(),L=b.redSqr(),z=W.redAdd(W).redIAdd(W).redIAdd(m.redMul(D)),K=p.redMul(b),J=z.redSqr().redISub(K.redAdd(K)),ie=K.redISub(J),Y=z.redMul(ie);Y=Y.redIAdd(Y).redISub(L);var M=x.redMul(E);u+1<y&&(D=D.redMul(L)),p=J,E=M,x=Y}return this.curve.jpoint(p,x.redMul(g),E)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var y,u,k;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),T=this.x.redAdd(g).redSqr().redISub(m).redISub(p);T=T.redIAdd(T);var E=m.redAdd(m).redIAdd(m),D=E.redSqr().redISub(T).redISub(T),x=p.redIAdd(p);x=x.redIAdd(x),x=x.redIAdd(x),y=D,u=E.redMul(T.redISub(D)).redISub(x),k=this.y.redAdd(this.y)}else{var W=this.x.redSqr(),b=this.y.redSqr(),L=b.redSqr(),z=this.x.redAdd(b).redSqr().redISub(W).redISub(L);z=z.redIAdd(z);var K=W.redAdd(W).redIAdd(W),J=K.redSqr(),ie=L.redIAdd(L);ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),y=J.redISub(z).redISub(z),u=K.redMul(z.redISub(y)).redISub(ie),k=this.y.redMul(this.z),k=k.redIAdd(k)}return this.curve.jpoint(y,u,k)},h.prototype._threeDbl=function(){var y,u,k;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),T=this.x.redAdd(g).redSqr().redISub(m).redISub(p);T=T.redIAdd(T);var E=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),D=E.redSqr().redISub(T).redISub(T);y=D;var x=p.redIAdd(p);x=x.redIAdd(x),x=x.redIAdd(x),u=E.redMul(T.redISub(D)).redISub(x),k=this.y.redAdd(this.y)}else{var W=this.z.redSqr(),b=this.y.redSqr(),L=this.x.redMul(b),z=this.x.redSub(W).redMul(this.x.redAdd(W));z=z.redAdd(z).redIAdd(z);var K=L.redIAdd(L);K=K.redIAdd(K);var J=K.redAdd(K);y=z.redSqr().redISub(J),k=this.y.redAdd(this.z).redSqr().redISub(b).redISub(W);var ie=b.redSqr();ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),u=z.redMul(K.redISub(y)).redISub(ie)}return this.curve.jpoint(y,u,k)},h.prototype._dbl=function(){var y=this.curve.a,u=this.x,k=this.y,m=this.z,g=m.redSqr().redSqr(),p=u.redSqr(),T=k.redSqr(),E=p.redAdd(p).redIAdd(p).redIAdd(y.redMul(g)),D=u.redAdd(u);D=D.redIAdd(D);var x=D.redMul(T),W=E.redSqr().redISub(x.redAdd(x)),b=x.redISub(W),L=T.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var z=E.redMul(b).redISub(L),K=k.redAdd(k).redMul(m);return this.curve.jpoint(W,z,K)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var y=this.x.redSqr(),u=this.y.redSqr(),k=this.z.redSqr(),m=u.redSqr(),g=y.redAdd(y).redIAdd(y),p=g.redSqr(),T=this.x.redAdd(u).redSqr().redISub(y).redISub(m);T=T.redIAdd(T),T=T.redAdd(T).redIAdd(T),T=T.redISub(p);var E=T.redSqr(),D=m.redIAdd(m);D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var x=g.redIAdd(T).redSqr().redISub(p).redISub(E).redISub(D),W=u.redMul(x);W=W.redIAdd(W),W=W.redIAdd(W);var b=this.x.redMul(E).redISub(W);b=b.redIAdd(b),b=b.redIAdd(b);var L=this.y.redMul(x.redMul(D.redISub(x)).redISub(T.redMul(E)));L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var z=this.z.redAdd(T).redSqr().redISub(k).redISub(E);return this.curve.jpoint(b,L,z)},h.prototype.mul=function(y,u){return y=new I(y,u),this.curve._wnafMul(this,y)},h.prototype.eq=function(y){if(y.type==="affine")return this.eq(y.toJ());if(this===y)return!0;var u=this.z.redSqr(),k=y.z.redSqr();if(this.x.redMul(k).redISub(y.x.redMul(u)).cmpn(0)!==0)return!1;var m=u.redMul(this.z),g=k.redMul(y.z);return this.y.redMul(g).redISub(y.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(y){var u=this.z.redSqr(),k=y.toRed(this.curve.red).redMul(u);if(this.x.cmp(k)===0)return!0;for(var m=y.clone(),g=this.curve.redN.redMul(u);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(k.redIAdd(g),this.x.cmp(k)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(s,G,N)=>{"use strict";var R=G,I=N(77952),P=N(894),S=N(47011),c=S.assert;function d(_){_.type==="short"?this.curve=new P.short(_):_.type==="edwards"?this.curve=new P.edwards(_):this.curve=new P.mont(_),this.g=this.curve.g,this.n=this.curve.n,this.hash=_.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}R.PresetCurve=d;function f(_,y){Object.defineProperty(R,_,{configurable:!0,enumerable:!0,get:function(){var u=new d(y);return Object.defineProperty(R,_,{configurable:!0,enumerable:!0,value:u}),u}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:I.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:I.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:I.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:I.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:I.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:I.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:I.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=N(74011)}catch{h=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:I.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})},57447:(s,G,N)=>{"use strict";var R=N(39404),I=N(32723),P=N(47011),S=N(60480),c=N(15037),d=P.assert,f=N(61200),h=N(28545);function _(y){if(!(this instanceof _))return new _(y);typeof y=="string"&&(d(Object.prototype.hasOwnProperty.call(S,y),"Unknown curve "+y),y=S[y]),y instanceof S.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}s.exports=_,_.prototype.keyPair=function(u){return new f(this,u)},_.prototype.keyFromPrivate=function(u,k){return f.fromPrivate(this,u,k)},_.prototype.keyFromPublic=function(u,k){return f.fromPublic(this,u,k)},_.prototype.genKeyPair=function(u){u||(u={});for(var k=new I({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||c(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new R(2));;){var p=new R(k.generate(m));if(!(p.cmp(g)>0))return p.iaddn(1),this.keyFromPrivate(p)}},_.prototype._truncateToN=function(u,k,m){var g;if(R.isBN(u)||typeof u=="number")u=new R(u,16),g=u.byteLength();else if(typeof u=="object")g=u.length,u=new R(u,16);else{var p=u.toString();g=p.length+1>>>1,u=new R(p,16)}typeof m!="number"&&(m=g*8);var T=m-this.n.bitLength();return T>0&&(u=u.ushrn(T)),!k&&u.cmp(this.n)>=0?u.sub(this.n):u},_.prototype.sign=function(u,k,m,g){if(typeof m=="object"&&(g=m,m=null),g||(g={}),typeof u!="string"&&typeof u!="number"&&!R.isBN(u)){d(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),d(u.length>>>0===u.length);for(var p=0;p<u.length;p++)d((u[p]&255)===u[p])}k=this.keyFromPrivate(k,m),u=this._truncateToN(u,!1,g.msgBitLength),d(!u.isNeg(),"Can not sign a negative message");var T=this.n.byteLength(),E=k.getPrivate().toArray("be",T),D=u.toArray("be",T);d(new R(D).eq(u),"Can not sign message");for(var x=new I({hash:this.hash,entropy:E,nonce:D,pers:g.pers,persEnc:g.persEnc||"utf8"}),W=this.n.sub(new R(1)),b=0;;b++){var L=g.k?g.k(b):new R(x.generate(this.n.byteLength()));if(L=this._truncateToN(L,!0),!(L.cmpn(1)<=0||L.cmp(W)>=0)){var z=this.g.mul(L);if(!z.isInfinity()){var K=z.getX(),J=K.umod(this.n);if(J.cmpn(0)!==0){var ie=L.invm(this.n).mul(J.mul(k.getPrivate()).iadd(u));if(ie=ie.umod(this.n),ie.cmpn(0)!==0){var Y=(z.getY().isOdd()?1:0)|(K.cmp(J)!==0?2:0);return g.canonical&&ie.cmp(this.nh)>0&&(ie=this.n.sub(ie),Y^=1),new h({r:J,s:ie,recoveryParam:Y})}}}}}},_.prototype.verify=function(u,k,m,g,p){p||(p={}),u=this._truncateToN(u,!1,p.msgBitLength),m=this.keyFromPublic(m,g),k=new h(k,"hex");var T=k.r,E=k.s;if(T.cmpn(1)<0||T.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var D=E.invm(this.n),x=D.mul(u).umod(this.n),W=D.mul(T).umod(this.n),b;return this.curve._maxwellTrick?(b=this.g.jmulAdd(x,m.getPublic(),W),b.isInfinity()?!1:b.eqXToP(T)):(b=this.g.mulAdd(x,m.getPublic(),W),b.isInfinity()?!1:b.getX().umod(this.n).cmp(T)===0)},_.prototype.recoverPubKey=function(y,u,k,m){d((3&k)===k,"The recovery param is more than two bits"),u=new h(u,m);var g=this.n,p=new R(y),T=u.r,E=u.s,D=k&1,x=k>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&x)throw new Error("Unable to find sencond key candinate");x?T=this.curve.pointFromX(T.add(this.curve.n),D):T=this.curve.pointFromX(T,D);var W=u.r.invm(g),b=g.sub(p).mul(W).umod(g),L=E.mul(W).umod(g);return this.g.mulAdd(b,T,L)},_.prototype.getKeyRecoveryParam=function(y,u,k,m){if(u=new h(u,m),u.recoveryParam!==null)return u.recoveryParam;for(var g=0;g<4;g++){var p;try{p=this.recoverPubKey(y,u,g)}catch{continue}if(p.eq(k))return g}throw new Error("Unable to find valid recovery factor")}},61200:(s,G,N)=>{"use strict";var R=N(39404),I=N(47011),P=I.assert;function S(c,d){this.ec=c,this.priv=null,this.pub=null,d.priv&&this._importPrivate(d.priv,d.privEnc),d.pub&&this._importPublic(d.pub,d.pubEnc)}s.exports=S,S.fromPublic=function(d,f,h){return f instanceof S?f:new S(d,{pub:f,pubEnc:h})},S.fromPrivate=function(d,f,h){return f instanceof S?f:new S(d,{priv:f,privEnc:h})},S.prototype.validate=function(){var d=this.getPublic();return d.isInfinity()?{result:!1,reason:"Invalid public key"}:d.validate()?d.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},S.prototype.getPublic=function(d,f){return typeof d=="string"&&(f=d,d=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),f?this.pub.encode(f,d):this.pub},S.prototype.getPrivate=function(d){return d==="hex"?this.priv.toString(16,2):this.priv},S.prototype._importPrivate=function(d,f){this.priv=new R(d,f||16),this.priv=this.priv.umod(this.ec.curve.n)},S.prototype._importPublic=function(d,f){if(d.x||d.y){this.ec.curve.type==="mont"?P(d.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&P(d.x&&d.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(d.x,d.y);return}this.pub=this.ec.curve.decodePoint(d,f)},S.prototype.derive=function(d){return d.validate()||P(d.validate(),"public point not validated"),d.mul(this.priv).getX()},S.prototype.sign=function(d,f,h){return this.ec.sign(d,this,f,h)},S.prototype.verify=function(d,f,h){return this.ec.verify(d,f,this,void 0,h)},S.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(s,G,N)=>{"use strict";var R=N(39404),I=N(47011),P=I.assert;function S(_,y){if(_ instanceof S)return _;this._importDER(_,y)||(P(_.r&&_.s,"Signature without r or s"),this.r=new R(_.r,16),this.s=new R(_.s,16),_.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_.recoveryParam)}s.exports=S;function c(){this.place=0}function d(_,y){var u=_[y.place++];if(!(u&128))return u;var k=u&15;if(k===0||k>4||_[y.place]===0)return!1;for(var m=0,g=0,p=y.place;g<k;g++,p++)m<<=8,m|=_[p],m>>>=0;return m<=127?!1:(y.place=p,m)}function f(_){for(var y=0,u=_.length-1;!_[y]&&!(_[y+1]&128)&&y<u;)y++;return y===0?_:_.slice(y)}S.prototype._importDER=function(y,u){y=I.toArray(y,u);var k=new c;if(y[k.place++]!==48)return!1;var m=d(y,k);if(m===!1||m+k.place!==y.length||y[k.place++]!==2)return!1;var g=d(y,k);if(g===!1||y[k.place]&128)return!1;var p=y.slice(k.place,g+k.place);if(k.place+=g,y[k.place++]!==2)return!1;var T=d(y,k);if(T===!1||y.length!==T+k.place||y[k.place]&128)return!1;var E=y.slice(k.place,T+k.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new R(p),this.s=new R(E),this.recoveryParam=null,!0};function h(_,y){if(y<128){_.push(y);return}var u=1+(Math.log(y)/Math.LN2>>>3);for(_.push(u|128);--u;)_.push(y>>>(u<<3)&255);_.push(y)}S.prototype.toDER=function(y){var u=this.r.toArray(),k=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),k[0]&128&&(k=[0].concat(k)),u=f(u),k=f(k);!k[0]&&!(k[1]&128);)k=k.slice(1);var m=[2];h(m,u.length),m=m.concat(u),m.push(2),h(m,k.length);var g=m.concat(k),p=[48];return h(p,g.length),p=p.concat(g),I.encode(p,y)}},8650:(s,G,N)=>{"use strict";var R=N(77952),I=N(60480),P=N(47011),S=P.assert,c=P.parseBytes,d=N(46661),f=N(90220);function h(_){if(S(_==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(_);_=I[_].curve,this.curve=_,this.g=_.g,this.g.precompute(_.n.bitLength()+1),this.pointClass=_.point().constructor,this.encodingLength=Math.ceil(_.n.bitLength()/8),this.hash=R.sha512}s.exports=h,h.prototype.sign=function(y,u){y=c(y);var k=this.keyFromSecret(u),m=this.hashInt(k.messagePrefix(),y),g=this.g.mul(m),p=this.encodePoint(g),T=this.hashInt(p,k.pubBytes(),y).mul(k.priv()),E=m.add(T).umod(this.curve.n);return this.makeSignature({R:g,S:E,Rencoded:p})},h.prototype.verify=function(y,u,k){if(y=c(y),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var m=this.keyFromPublic(k),g=this.hashInt(u.Rencoded(),m.pubBytes(),y),p=this.g.mul(u.S()),T=u.R().add(m.pub().mul(g));return T.eq(p)},h.prototype.hashInt=function(){for(var y=this.hash(),u=0;u<arguments.length;u++)y.update(arguments[u]);return P.intFromLE(y.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(y){return d.fromPublic(this,y)},h.prototype.keyFromSecret=function(y){return d.fromSecret(this,y)},h.prototype.makeSignature=function(y){return y instanceof f?y:new f(this,y)},h.prototype.encodePoint=function(y){var u=y.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=y.getX().isOdd()?128:0,u},h.prototype.decodePoint=function(y){y=P.parseBytes(y);var u=y.length-1,k=y.slice(0,u).concat(y[u]&-129),m=(y[u]&128)!==0,g=P.intFromLE(k);return this.curve.pointFromY(g,m)},h.prototype.encodeInt=function(y){return y.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(y){return P.intFromLE(y)},h.prototype.isPoint=function(y){return y instanceof this.pointClass}},46661:(s,G,N)=>{"use strict";var R=N(47011),I=R.assert,P=R.parseBytes,S=R.cachedProperty;function c(d,f){this.eddsa=d,this._secret=P(f.secret),d.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=P(f.pub)}c.fromPublic=function(f,h){return h instanceof c?h:new c(f,{pub:h})},c.fromSecret=function(f,h){return h instanceof c?h:new c(f,{secret:h})},c.prototype.secret=function(){return this._secret},S(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),S(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),S(c,"privBytes",function(){var f=this.eddsa,h=this.hash(),_=f.encodingLength-1,y=h.slice(0,f.encodingLength);return y[0]&=248,y[_]&=127,y[_]|=64,y}),S(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),S(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),S(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(f){return I(this._secret,"KeyPair can only verify"),this.eddsa.sign(f,this)},c.prototype.verify=function(f,h){return this.eddsa.verify(f,h,this)},c.prototype.getSecret=function(f){return I(this._secret,"KeyPair is public only"),R.encode(this.secret(),f)},c.prototype.getPublic=function(f){return R.encode(this.pubBytes(),f)},s.exports=c},90220:(s,G,N)=>{"use strict";var R=N(39404),I=N(47011),P=I.assert,S=I.cachedProperty,c=I.parseBytes;function d(f,h){this.eddsa=f,typeof h!="object"&&(h=c(h)),Array.isArray(h)&&(P(h.length===f.encodingLength*2,"Signature has invalid size"),h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),P(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof R&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}S(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),S(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),S(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),S(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return I.encode(this.toBytes(),"hex").toUpperCase()},s.exports=d},74011:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(s,G,N)=>{"use strict";var R=G,I=N(39404),P=N(43349),S=N(64367);R.assert=P,R.toArray=S.toArray,R.zero2=S.zero2,R.toHex=S.toHex,R.encode=S.encode;function c(y,u,k){var m=new Array(Math.max(y.bitLength(),k)+1),g;for(g=0;g<m.length;g+=1)m[g]=0;var p=1<<u+1,T=y.clone();for(g=0;g<m.length;g++){var E,D=T.andln(p-1);T.isOdd()?(D>(p>>1)-1?E=(p>>1)-D:E=D,T.isubn(E)):E=0,m[g]=E,T.iushrn(1)}return m}R.getNAF=c;function d(y,u){var k=[[],[]];y=y.clone(),u=u.clone();for(var m=0,g=0,p;y.cmpn(-m)>0||u.cmpn(-g)>0;){var T=y.andln(3)+m&3,E=u.andln(3)+g&3;T===3&&(T=-1),E===3&&(E=-1);var D;T&1?(p=y.andln(7)+m&7,(p===3||p===5)&&E===2?D=-T:D=T):D=0,k[0].push(D);var x;E&1?(p=u.andln(7)+g&7,(p===3||p===5)&&T===2?x=-E:x=E):x=0,k[1].push(x),2*m===D+1&&(m=1-m),2*g===x+1&&(g=1-g),y.iushrn(1),u.iushrn(1)}return k}R.getJSF=d;function f(y,u,k){var m="_"+u;y.prototype[u]=function(){return this[m]!==void 0?this[m]:this[m]=k.call(this)}}R.cachedProperty=f;function h(y){return typeof y=="string"?R.toArray(y,"hex"):y}R.parseBytes=h;function _(y){return new I(y,"hex","le")}R.intFromLE=_},37007:s=>{"use strict";var G=typeof Reflect=="object"?Reflect:null,N=G&&typeof G.apply=="function"?G.apply:function(D,x,W){return Function.prototype.apply.call(D,x,W)},R;G&&typeof G.ownKeys=="function"?R=G.ownKeys:Object.getOwnPropertySymbols?R=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:R=function(D){return Object.getOwnPropertyNames(D)};function I(E){console&&console.warn&&console.warn(E)}var P=Number.isNaN||function(D){return D!==D};function S(){S.init.call(this)}s.exports=S,s.exports.once=T,S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var c=10;function d(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(E){if(typeof E!="number"||E<0||P(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");c=E}}),S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||P(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function f(E){return E._maxListeners===void 0?S.defaultMaxListeners:E._maxListeners}S.prototype.getMaxListeners=function(){return f(this)},S.prototype.emit=function(D){for(var x=[],W=1;W<arguments.length;W++)x.push(arguments[W]);var b=D==="error",L=this._events;if(L!==void 0)b=b&&L.error===void 0;else if(!b)return!1;if(b){var z;if(x.length>0&&(z=x[0]),z instanceof Error)throw z;var K=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw K.context=z,K}var J=L[D];if(J===void 0)return!1;if(typeof J=="function")N(J,this,x);else for(var ie=J.length,Y=m(J,ie),W=0;W<ie;++W)N(Y[W],this,x);return!0};function h(E,D,x,W){var b,L,z;if(d(x),L=E._events,L===void 0?(L=E._events=Object.create(null),E._eventsCount=0):(L.newListener!==void 0&&(E.emit("newListener",D,x.listener?x.listener:x),L=E._events),z=L[D]),z===void 0)z=L[D]=x,++E._eventsCount;else if(typeof z=="function"?z=L[D]=W?[x,z]:[z,x]:W?z.unshift(x):z.push(x),b=f(E),b>0&&z.length>b&&!z.warned){z.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=E,K.type=D,K.count=z.length,I(K)}return E}S.prototype.addListener=function(D,x){return h(this,D,x,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(D,x){return h(this,D,x,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(E,D,x){var W={fired:!1,wrapFn:void 0,target:E,type:D,listener:x},b=_.bind(W);return b.listener=x,W.wrapFn=b,b}S.prototype.once=function(D,x){return d(x),this.on(D,y(this,D,x)),this},S.prototype.prependOnceListener=function(D,x){return d(x),this.prependListener(D,y(this,D,x)),this},S.prototype.removeListener=function(D,x){var W,b,L,z,K;if(d(x),b=this._events,b===void 0)return this;if(W=b[D],W===void 0)return this;if(W===x||W.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete b[D],b.removeListener&&this.emit("removeListener",D,W.listener||x));else if(typeof W!="function"){for(L=-1,z=W.length-1;z>=0;z--)if(W[z]===x||W[z].listener===x){K=W[z].listener,L=z;break}if(L<0)return this;L===0?W.shift():g(W,L),W.length===1&&(b[D]=W[0]),b.removeListener!==void 0&&this.emit("removeListener",D,K||x)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(D){var x,W,b;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[D]),this;if(arguments.length===0){var L=Object.keys(W),z;for(b=0;b<L.length;++b)z=L[b],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=W[D],typeof x=="function")this.removeListener(D,x);else if(x!==void 0)for(b=x.length-1;b>=0;b--)this.removeListener(D,x[b]);return this};function u(E,D,x){var W=E._events;if(W===void 0)return[];var b=W[D];return b===void 0?[]:typeof b=="function"?x?[b.listener||b]:[b]:x?p(b):m(b,b.length)}S.prototype.listeners=function(D){return u(this,D,!0)},S.prototype.rawListeners=function(D){return u(this,D,!1)},S.listenerCount=function(E,D){return typeof E.listenerCount=="function"?E.listenerCount(D):k.call(E,D)},S.prototype.listenerCount=k;function k(E){var D=this._events;if(D!==void 0){var x=D[E];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?R(this._events):[]};function m(E,D){for(var x=new Array(D),W=0;W<D;++W)x[W]=E[W];return x}function g(E,D){for(;D+1<E.length;D++)E[D]=E[D+1];E.pop()}function p(E){for(var D=new Array(E.length),x=0;x<D.length;++x)D[x]=E[x].listener||E[x];return D}function T(E,D){return new Promise(function(x,W){function b(){L!==void 0&&E.removeListener("error",L),x([].slice.call(arguments))}var L;D!=="error"&&(L=function(K){E.removeListener(D,b),W(K)},E.once("error",L)),E.once(D,b)})}},68078:(s,G,N)=>{var R=N(92861).Buffer,I=N(88276);function P(S,c,d,f){if(R.isBuffer(S)||(S=R.from(S,"binary")),c&&(R.isBuffer(c)||(c=R.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=d/8,_=R.alloc(h),y=R.alloc(f||0),u=R.alloc(0);h>0||f>0;){var k=new I;k.update(u),k.update(S),c&&k.update(c),u=k.digest();var m=0;if(h>0){var g=_.length-h;m=Math.min(h,u.length),u.copy(_,g,0,m),h-=m}if(m<u.length&&f>0){var p=y.length-f,T=Math.min(f,u.length-m);u.copy(y,p,m,m+T),f-=T}}return u.fill(0),{key:_,iv:y}}s.exports=P},32017:s=>{"use strict";s.exports=function G(N,R){if(N===R)return!0;if(N&&R&&typeof N=="object"&&typeof R=="object"){if(N.constructor!==R.constructor)return!1;var I,P,S;if(Array.isArray(N)){if(I=N.length,I!=R.length)return!1;for(P=I;P--!==0;)if(!G(N[P],R[P]))return!1;return!0}if(N.constructor===RegExp)return N.source===R.source&&N.flags===R.flags;if(N.valueOf!==Object.prototype.valueOf)return N.valueOf()===R.valueOf();if(N.toString!==Object.prototype.toString)return N.toString()===R.toString();if(S=Object.keys(N),I=S.length,I!==Object.keys(R).length)return!1;for(P=I;P--!==0;)if(!Object.prototype.hasOwnProperty.call(R,S[P]))return!1;for(P=I;P--!==0;){var c=S[P];if(!G(N[c],R[c]))return!1}return!0}return N!==N&&R!==R}},72492:s=>{"use strict";s.exports=function(G,N){N||(N={}),typeof N=="function"&&(N={cmp:N});var R=typeof N.cycles=="boolean"?N.cycles:!1,I=N.cmp&&function(S){return function(c){return function(d,f){var h={key:d,value:c[d]},_={key:f,value:c[f]};return S(h,_)}}}(N.cmp),P=[];return function S(c){if(c&&c.toJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),c!==void 0){if(typeof c=="number")return isFinite(c)?""+c:"null";if(typeof c!="object")return JSON.stringify(c);var d,f;if(Array.isArray(c)){for(f="[",d=0;d<c.length;d++)d&&(f+=","),f+=S(c[d])||"null";return f+"]"}if(c===null)return"null";if(P.indexOf(c)!==-1){if(R)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var h=P.push(c)-1,_=Object.keys(c).sort(I&&I(c));for(f="",d=0;d<_.length;d++){var y=_[d],u=S(c[y]);u&&(f&&(f+=","),f+=JSON.stringify(y)+":"+u)}return P.splice(h,1),"{"+f+"}"}}(G)}},58667:(s,G,N)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:6290}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var I={};function P(h){return h.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var y=_.name.value;return I[y]?!1:(I[y]=!0,!0)})}R.definitions=R.definitions.concat(P(N(72256).definitions));function S(h,_){if(h.kind==="FragmentSpread")_.add(h.name.value);else if(h.kind==="VariableDefinition"){var y=h.type;y.kind==="NamedType"&&_.add(y.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,_)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,_)}),h.definitions&&h.definitions.forEach(function(u){S(u,_)})}var c={};(function(){R.definitions.forEach(function(_){if(_.name){var y=new Set;S(_,y),c[_.name.value]=y}})})();function d(h,_){for(var y=0;y<h.definitions.length;y++){var u=h.definitions[y];if(u.name&&u.name.value==_)return u}}function f(h,_){var y={kind:h.kind,definitions:[d(h,_)]};h.hasOwnProperty("loc")&&(y.loc=h.loc);var u=c[_]||new Set,k=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var g=m;m=new Set,g.forEach(function(p){if(!k.has(p)){k.add(p);var T=c[p]||new Set;T.forEach(function(E){m.add(E)})}})}return k.forEach(function(p){var T=d(h,p);T&&y.definitions.push(T)}),y}s.exports=R,s.exports.Issue=f(R,"Issue"),s.exports.IssueWithComments=f(R,"IssueWithComments"),s.exports.Issues=f(R,"Issues"),s.exports.PullRequest=f(R,"PullRequest"),s.exports.PullRequestForHead=f(R,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=f(R,"PullRequestMergeabilityMergeRequirements"),s.exports.CreatePullRequest=f(R,"CreatePullRequest"),s.exports.RevertPullRequest=f(R,"RevertPullRequest"),s.exports.GetSuggestedActors=f(R,"GetSuggestedActors"),s.exports.DequeuePullRequest=f(R,"DequeuePullRequest"),s.exports.EnqueuePullRequest=f(R,"EnqueuePullRequest"),s.exports.ReplaceActorsForAssignable=f(R,"ReplaceActorsForAssignable")},8575:(s,G,N)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:6962}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	comments(first: 1) {
		totalCount
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var I={};function P(h){return h.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var y=_.name.value;return I[y]?!1:(I[y]=!0,!0)})}R.definitions=R.definitions.concat(P(N(72256).definitions));function S(h,_){if(h.kind==="FragmentSpread")_.add(h.name.value);else if(h.kind==="VariableDefinition"){var y=h.type;y.kind==="NamedType"&&_.add(y.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,_)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,_)}),h.definitions&&h.definitions.forEach(function(u){S(u,_)})}var c={};(function(){R.definitions.forEach(function(_){if(_.name){var y=new Set;S(_,y),c[_.name.value]=y}})})();function d(h,_){for(var y=0;y<h.definitions.length;y++){var u=h.definitions[y];if(u.name&&u.name.value==_)return u}}function f(h,_){var y={kind:h.kind,definitions:[d(h,_)]};h.hasOwnProperty("loc")&&(y.loc=h.loc);var u=c[_]||new Set,k=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var g=m;m=new Set,g.forEach(function(p){if(!k.has(p)){k.add(p);var T=c[p]||new Set;T.forEach(function(E){m.add(E)})}})}return k.forEach(function(p){var T=d(h,p);T&&y.definitions.push(T)}),y}s.exports=R,s.exports.Issue=f(R,"Issue"),s.exports.IssueWithComments=f(R,"IssueWithComments"),s.exports.Issues=f(R,"Issues"),s.exports.PullRequest=f(R,"PullRequest"),s.exports.PullRequestForHead=f(R,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=f(R,"PullRequestMergeabilityMergeRequirements"),s.exports.GetSuggestedActors=f(R,"GetSuggestedActors"),s.exports.CreatePullRequest=f(R,"CreatePullRequest"),s.exports.ReplaceActorsForAssignable=f(R,"ReplaceActorsForAssignable"),s.exports.GetRepoProjects=f(R,"GetRepoProjects"),s.exports.GetOrgProjects=f(R,"GetOrgProjects"),s.exports.AddPullRequestToProject=f(R,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=f(R,"RemovePullRequestFromProject"),s.exports.DequeuePullRequest=f(R,"DequeuePullRequest"),s.exports.EnqueuePullRequest=f(R,"EnqueuePullRequest")},87831:(s,G,N)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:4665}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment Node on Node {
	id
}

fragment Actor on Actor  { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var I={};function P(h){return h.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var y=_.name.value;return I[y]?!1:(I[y]=!0,!0)})}R.definitions=R.definitions.concat(P(N(72256).definitions));function S(h,_){if(h.kind==="FragmentSpread")_.add(h.name.value);else if(h.kind==="VariableDefinition"){var y=h.type;y.kind==="NamedType"&&_.add(y.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(u){S(u,_)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(u){S(u,_)}),h.definitions&&h.definitions.forEach(function(u){S(u,_)})}var c={};(function(){R.definitions.forEach(function(_){if(_.name){var y=new Set;S(_,y),c[_.name.value]=y}})})();function d(h,_){for(var y=0;y<h.definitions.length;y++){var u=h.definitions[y];if(u.name&&u.name.value==_)return u}}function f(h,_){var y={kind:h.kind,definitions:[d(h,_)]};h.hasOwnProperty("loc")&&(y.loc=h.loc);var u=c[_]||new Set,k=new Set,m=new Set;for(u.forEach(function(p){m.add(p)});m.size>0;){var g=m;m=new Set,g.forEach(function(p){if(!k.has(p)){k.add(p);var T=c[p]||new Set;T.forEach(function(E){m.add(E)})}})}return k.forEach(function(p){var T=d(h,p);T&&y.definitions.push(T)}),y}s.exports=R,s.exports.Issue=f(R,"Issue"),s.exports.IssueWithComments=f(R,"IssueWithComments"),s.exports.Issues=f(R,"Issues"),s.exports.PullRequest=f(R,"PullRequest"),s.exports.PullRequestForHead=f(R,"PullRequestForHead"),s.exports.GetAssignableUsers=f(R,"GetAssignableUsers"),s.exports.CreatePullRequest=f(R,"CreatePullRequest"),s.exports.RevertPullRequest=f(R,"RevertPullRequest")},72256:s=>{var G={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnassignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CrossReferencedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"repository"},name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"willCloseTarget"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClosedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReopenedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerLatestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssue"},name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issue"},name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workflowRun"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:27074}};G.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment Node on Node {\r
	id\r
}\r
\r
fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.\r
	__typename\r
	login\r
	avatarUrl\r
	url\r
}\r
\r
fragment User on User {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Organization on Organization {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Team on Team { # Team is not an Actor\r
	name\r
	avatarUrl\r
	url\r
	slug\r
	...Node\r
}\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		...Node\r
		...Actor\r
		...User\r
		...Organization\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		committedDate\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment UnassignedEvent on UnassignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment CrossReferencedEvent on CrossReferencedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	source {\r
		... on PullRequest {\r
			number\r
			url\r
			title\r
			repository: baseRepository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
		... on Issue {\r
			number\r
			url\r
			title\r
			repository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
	}\r
	willCloseTarget\r
}\r
\r
fragment ClosedEvent on ClosedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment ReopenedEvent on ReopenedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		...User\r
		...Organization\r
		...Node\r
		...Actor\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
				... on Actor {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
				nodes {\r
					createdAt\r
				}\r
			}\r
			updatedAt\r
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {\r
				nodes {\r
					updatedAt\r
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
						nodes {\r
							createdAt\r
						}\r
					}\r
				}\r
			}\r
			timelineItems(since: $since, first: 1) {\r
				nodes {\r
					... on AddedToMergeQueueEvent {\r
						createdAt\r
					}\r
					... on AddedToProjectEvent {\r
						createdAt\r
					}\r
					... on AssignedEvent {\r
						createdAt\r
					}\r
					... on AutoMergeDisabledEvent {\r
						createdAt\r
					}\r
					... on AutoMergeEnabledEvent {\r
						createdAt\r
					}\r
					... on AutoRebaseEnabledEvent {\r
						createdAt\r
					}\r
					... on AutoSquashEnabledEvent {\r
						createdAt\r
					}\r
					... on AutomaticBaseChangeFailedEvent {\r
						createdAt\r
					}\r
					... on AutomaticBaseChangeSucceededEvent {\r
						createdAt\r
					}\r
					... on BaseRefChangedEvent {\r
						createdAt\r
					}\r
					... on BaseRefDeletedEvent {\r
						createdAt\r
					}\r
					... on BaseRefForcePushedEvent {\r
						createdAt\r
					}\r
					... on ClosedEvent {\r
						createdAt\r
					}\r
					... on CommentDeletedEvent {\r
						createdAt\r
					}\r
					... on ConnectedEvent {\r
						createdAt\r
					}\r
					... on ConvertToDraftEvent {\r
						createdAt\r
					}\r
					... on ConvertedNoteToIssueEvent {\r
						createdAt\r
					}\r
					... on ConvertedToDiscussionEvent {\r
						createdAt\r
					}\r
					... on CrossReferencedEvent {\r
						createdAt\r
					}\r
					... on DemilestonedEvent {\r
						createdAt\r
					}\r
					... on DeployedEvent {\r
						createdAt\r
					}\r
					... on DeploymentEnvironmentChangedEvent {\r
						createdAt\r
					}\r
					... on DisconnectedEvent {\r
						createdAt\r
					}\r
					... on HeadRefDeletedEvent {\r
						createdAt\r
					}\r
					... on HeadRefForcePushedEvent {\r
						createdAt\r
					}\r
					... on HeadRefRestoredEvent {\r
						createdAt\r
					}\r
					... on IssueComment {\r
						createdAt\r
					}\r
					... on IssueTypeAddedEvent {\r
						createdAt\r
					}\r
					... on LabeledEvent {\r
						createdAt\r
					}\r
					... on LockedEvent {\r
						createdAt\r
					}\r
					... on MarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on MentionedEvent {\r
						createdAt\r
					}\r
					... on MergedEvent {\r
						createdAt\r
					}\r
					... on MilestonedEvent {\r
						createdAt\r
					}\r
					... on MovedColumnsInProjectEvent {\r
						createdAt\r
					}\r
					... on PinnedEvent {\r
						createdAt\r
					}\r
					... on PullRequestCommit {\r
						commit {\r
							committedDate\r
						}\r
					}\r
					... on PullRequestReview {\r
						createdAt\r
					}\r
					... on PullRequestReviewThread {\r
						comments(last: 1) {\r
							nodes {\r
								createdAt\r
							}\r
						}\r
					}\r
					... on PullRequestRevisionMarker {\r
						createdAt\r
					}\r
					... on ReadyForReviewEvent {\r
						createdAt\r
					}\r
					... on ReferencedEvent {\r
						createdAt\r
					}\r
					... on RemovedFromMergeQueueEvent {\r
						createdAt\r
					}\r
					... on RemovedFromProjectEvent {\r
						createdAt\r
					}\r
					... on RenamedTitleEvent {\r
						createdAt\r
					}\r
					... on ReopenedEvent {\r
						createdAt\r
					}\r
					... on ReviewDismissedEvent {\r
						createdAt\r
					}\r
					... on ReviewRequestRemovedEvent {\r
						createdAt\r
					}\r
					... on ReviewRequestedEvent {\r
						createdAt\r
					}\r
					... on SubscribedEvent {\r
						createdAt\r
					}\r
					... on TransferredEvent {\r
						createdAt\r
					}\r
					... on UnassignedEvent {\r
						createdAt\r
					}\r
					... on UnlabeledEvent {\r
						createdAt\r
					}\r
					... on UnlockedEvent {\r
						createdAt\r
					}\r
					... on UnmarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on UnpinnedEvent {\r
						createdAt\r
					}\r
					... on UnsubscribedEvent {\r
						createdAt\r
					}\r
					... on UserBlockedEvent {\r
						createdAt\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
				nodes {\r
					createdAt\r
				}\r
			}\r
			updatedAt\r
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {\r
				nodes {\r
					updatedAt\r
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
						nodes {\r
							createdAt\r
						}\r
					}\r
				}\r
			}\r
			timelineItems(since: $since, first: 1) {\r
				nodes {\r
					... on AddedToProjectEvent {\r
						createdAt\r
					}\r
					... on AssignedEvent {\r
						createdAt\r
					}\r
					... on ClosedEvent {\r
						createdAt\r
					}\r
					... on CommentDeletedEvent {\r
						createdAt\r
					}\r
					... on ConnectedEvent {\r
						createdAt\r
					}\r
					... on ConvertedNoteToIssueEvent {\r
						createdAt\r
					}\r
					... on ConvertedToDiscussionEvent {\r
						createdAt\r
					}\r
					... on CrossReferencedEvent {\r
						createdAt\r
					}\r
					... on DemilestonedEvent {\r
						createdAt\r
					}\r
					... on DisconnectedEvent {\r
						createdAt\r
					}\r
					... on IssueComment {\r
						createdAt\r
					}\r
					... on IssueTypeAddedEvent {\r
						createdAt\r
					}\r
					... on LabeledEvent {\r
						createdAt\r
					}\r
					... on LockedEvent {\r
						createdAt\r
					}\r
					... on MarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on MentionedEvent {\r
						createdAt\r
					}\r
					... on MilestonedEvent {\r
						createdAt\r
					}\r
					... on MovedColumnsInProjectEvent {\r
						createdAt\r
					}\r
					... on PinnedEvent {\r
						createdAt\r
					}\r
					... on ReferencedEvent {\r
						createdAt\r
					}\r
					... on RemovedFromProjectEvent {\r
						createdAt\r
					}\r
					... on RenamedTitleEvent {\r
						createdAt\r
					}\r
					... on ReopenedEvent {\r
						createdAt\r
					}\r
					... on SubscribedEvent {\r
						createdAt\r
					}\r
					... on TransferredEvent {\r
						createdAt\r
					}\r
					... on UnassignedEvent {\r
						createdAt\r
					}\r
					... on UnlabeledEvent {\r
						createdAt\r
					}\r
					... on UnlockedEvent {\r
						createdAt\r
					}\r
					... on UnmarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on UnpinnedEvent {\r
						createdAt\r
					}\r
					... on UnsubscribedEvent {\r
						createdAt\r
					}\r
					... on UserBlockedEvent {\r
						createdAt\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			viewerLatestReview {\r
				commit {\r
					oid\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				...Team\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
						...Team\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		...Actor\r
		...Node\r
		...User\r
		...Organization\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	...Reactable\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					...Node\r
					...Actor\r
					...User\r
					...Organization\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		...User\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdateIssue($input: UpdateIssueInput!) {\r
	updateIssue(input: $input) {\r
		issue {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updateIssue: updatePullRequest(input: $input) {\r
		issue: pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/") {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
											workflowRun {\r
												event\r
												workflow {\r
													name\r
												}\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var N={};function R(d){return d.filter(function(f){if(f.kind!=="FragmentDefinition")return!0;var h=f.name.value;return N[h]?!1:(N[h]=!0,!0)})}function I(d,f){if(d.kind==="FragmentSpread")f.add(d.name.value);else if(d.kind==="VariableDefinition"){var h=d.type;h.kind==="NamedType"&&f.add(h.name.value)}d.selectionSet&&d.selectionSet.selections.forEach(function(_){I(_,f)}),d.variableDefinitions&&d.variableDefinitions.forEach(function(_){I(_,f)}),d.definitions&&d.definitions.forEach(function(_){I(_,f)})}var P={};(function(){G.definitions.forEach(function(f){if(f.name){var h=new Set;I(f,h),P[f.name.value]=h}})})();function S(d,f){for(var h=0;h<d.definitions.length;h++){var _=d.definitions[h];if(_.name&&_.name.value==f)return _}}function c(d,f){var h={kind:d.kind,definitions:[S(d,f)]};d.hasOwnProperty("loc")&&(h.loc=d.loc);var _=P[f]||new Set,y=new Set,u=new Set;for(_.forEach(function(m){u.add(m)});u.size>0;){var k=u;u=new Set,k.forEach(function(m){if(!y.has(m)){y.add(m);var g=P[m]||new Set;g.forEach(function(p){u.add(p)})}})}return y.forEach(function(m){var g=S(d,m);g&&h.definitions.push(g)}),h}s.exports=G,s.exports.TimelineEvents=c(G,"TimelineEvents"),s.exports.IssueTimelineEvents=c(G,"IssueTimelineEvents"),s.exports.LatestUpdates=c(G,"LatestUpdates"),s.exports.LatestIssueUpdates=c(G,"LatestIssueUpdates"),s.exports.LatestReviewCommit=c(G,"LatestReviewCommit"),s.exports.LatestReviews=c(G,"LatestReviews"),s.exports.GetOrganizationTeamsCount=c(G,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=c(G,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=c(G,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=c(G,"GetReviewRequests"),s.exports.GetParticipants=c(G,"GetParticipants"),s.exports.GetPendingReviewId=c(G,"GetPendingReviewId"),s.exports.PullRequestComments=c(G,"PullRequestComments"),s.exports.LegacyPullRequestComments=c(G,"LegacyPullRequestComments"),s.exports.Viewer=c(G,"Viewer"),s.exports.PullRequestFiles=c(G,"PullRequestFiles"),s.exports.GetUser=c(G,"GetUser"),s.exports.PullRequestMergeability=c(G,"PullRequestMergeability"),s.exports.PullRequestState=c(G,"PullRequestState"),s.exports.PullRequestTemplates=c(G,"PullRequestTemplates"),s.exports.AddComment=c(G,"AddComment"),s.exports.AddReviewThread=c(G,"AddReviewThread"),s.exports.LegacyAddReviewThread=c(G,"LegacyAddReviewThread"),s.exports.AddReviewers=c(G,"AddReviewers"),s.exports.EditComment=c(G,"EditComment"),s.exports.ReadyForReview=c(G,"ReadyForReview"),s.exports.StartReview=c(G,"StartReview"),s.exports.SubmitReview=c(G,"SubmitReview"),s.exports.DeleteReview=c(G,"DeleteReview"),s.exports.AddReaction=c(G,"AddReaction"),s.exports.DeleteReaction=c(G,"DeleteReaction"),s.exports.UpdateIssue=c(G,"UpdateIssue"),s.exports.UpdatePullRequest=c(G,"UpdatePullRequest"),s.exports.AddIssueComment=c(G,"AddIssueComment"),s.exports.EditIssueComment=c(G,"EditIssueComment"),s.exports.GetMentionableUsers=c(G,"GetMentionableUsers"),s.exports.GetBranch=c(G,"GetBranch"),s.exports.ListBranches=c(G,"ListBranches"),s.exports.MaxIssue=c(G,"MaxIssue"),s.exports.GetMilestones=c(G,"GetMilestones"),s.exports.GetViewerPermission=c(G,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=c(G,"GetRepositoryForkDetails"),s.exports.GetChecks=c(G,"GetChecks"),s.exports.GetChecksWithoutSuite=c(G,"GetChecksWithoutSuite"),s.exports.MergeQueueForBranch=c(G,"MergeQueueForBranch"),s.exports.GetFileContent=c(G,"GetFileContent"),s.exports.ResolveReviewThread=c(G,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=c(G,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=c(G,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=c(G,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=c(G,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=c(G,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=c(G,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=c(G,"UnmarkFileAsViewed"),s.exports.MergePullRequest=c(G,"MergePullRequest")},77358:(s,G,N)=>{var R=N(50246),I=R.parse;function P(E){return E.replace(/[\s,]+/g," ").trim()}var S={},c={};function d(E){return P(E.source.body.substring(E.start,E.end))}function f(){S={},c={}}var h=!0;function _(E){for(var D={},x=[],W=0;W<E.definitions.length;W++){var b=E.definitions[W];if(b.kind==="FragmentDefinition"){var L=b.name.value,z=d(b.loc);c.hasOwnProperty(L)&&!c[L][z]?(h&&console.warn("Warning: fragment with name "+L+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),c[L][z]=!0):c.hasOwnProperty(L)||(c[L]={},c[L][z]=!0),D[z]||(D[z]=!0,x.push(b))}else x.push(b)}return E.definitions=x,E}function y(){h=!1}function u(E,D){var x=Object.prototype.toString.call(E);if(x==="[object Array]")return E.map(function(K){return u(K,D)});if(x!=="[object Object]")throw new Error("Unexpected input.");D&&E.loc&&delete E.loc,E.loc&&(delete E.loc.startToken,delete E.loc.endToken);var W=Object.keys(E),b,L,z;for(b in W)W.hasOwnProperty(b)&&(L=E[W[b]],z=Object.prototype.toString.call(L),(z==="[object Object]"||z==="[object Array]")&&(E[W[b]]=u(L,!0)));return E}var k=!1;function m(E){var D=P(E);if(S[D])return S[D];var x=I(E,{experimentalFragmentVariables:k});if(!x||x.kind!=="Document")throw new Error("Not a valid GraphQL document.");return x=_(x),x=u(x,!1),S[D]=x,x}function g(){k=!0}function p(){k=!1}function T(){for(var E=Array.prototype.slice.call(arguments),D=E[0],x=typeof D=="string"?D:D[0],W=1;W<E.length;W++)E[W]&&E[W].kind&&E[W].kind==="Document"?x+=E[W].loc.source.body:x+=E[W],x+=D[W];return m(x)}T.default=T,T.resetCaches=f,T.disableFragmentWarnings=y,T.enableExperimentalFragmentVariables=g,T.disableExperimentalFragmentVariables=p,s.exports=T},61702:(s,G,N)=>{"use strict";function R(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(K){return typeof K}:R=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},R(L)}Object.defineProperty(G,"__esModule",{value:!0}),G.printError=b,G.GraphQLError=void 0;var I=d(N(55569)),P=N(25888),S=N(99530),c=N(40825);function d(L){return L&&L.__esModule?L:{default:L}}function f(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function h(L,z){for(var K=0;K<z.length;K++){var J=z[K];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}function _(L,z,K){return z&&h(L.prototype,z),K&&h(L,K),L}function y(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),z&&D(L,z)}function u(L){var z=T();return function(){var J=x(L),ie;if(z){var Y=x(this).constructor;ie=Reflect.construct(J,arguments,Y)}else ie=J.apply(this,arguments);return k(this,ie)}}function k(L,z){return z&&(R(z)==="object"||typeof z=="function")?z:m(L)}function m(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function g(L){var z=typeof Map=="function"?new Map:void 0;return g=function(J){if(J===null||!E(J))return J;if(typeof J!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z!="undefined"){if(z.has(J))return z.get(J);z.set(J,ie)}function ie(){return p(J,arguments,x(this).constructor)}return ie.prototype=Object.create(J.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),D(ie,J)},g(L)}function p(L,z,K){return T()?p=Reflect.construct:p=function(ie,Y,M){var V=[null];V.push.apply(V,Y);var C=Function.bind.apply(ie,V),l=new C;return M&&D(l,M.prototype),l},p.apply(null,arguments)}function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function D(L,z){return D=Object.setPrototypeOf||function(J,ie){return J.__proto__=ie,J},D(L,z)}function x(L){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},x(L)}var W=function(L){y(K,L);var z=u(K);function K(J,ie,Y,M,V,C,l){var w,F,q,j,$;f(this,K),$=z.call(this,J);var Z=Array.isArray(ie)?ie.length!==0?ie:void 0:ie?[ie]:void 0,te=Y;if(!te&&Z){var B;te=(B=Z[0].loc)===null||B===void 0?void 0:B.source}var ae=M;!ae&&Z&&(ae=Z.reduce(function(Te,X){return X.loc&&Te.push(X.loc.start),Te},[])),ae&&ae.length===0&&(ae=void 0);var xe;M&&Y?xe=M.map(function(Te){return(0,S.getLocation)(Y,Te)}):Z&&(xe=Z.reduce(function(Te,X){return X.loc&&Te.push((0,S.getLocation)(X.loc.source,X.loc.start)),Te},[]));var he=l;if(he==null&&C!=null){var Ne=C.extensions;(0,I.default)(Ne)&&(he=Ne)}return Object.defineProperties(m($),{name:{value:"GraphQLError"},message:{value:J,enumerable:!0,writable:!0},locations:{value:(w=xe)!==null&&w!==void 0?w:void 0,enumerable:xe!=null},path:{value:V!=null?V:void 0,enumerable:V!=null},nodes:{value:Z!=null?Z:void 0},source:{value:(F=te)!==null&&F!==void 0?F:void 0},positions:{value:(q=ae)!==null&&q!==void 0?q:void 0},originalError:{value:C},extensions:{value:(j=he)!==null&&j!==void 0?j:void 0,enumerable:he!=null}}),C!=null&&C.stack?(Object.defineProperty(m($),"stack",{value:C.stack,writable:!0,configurable:!0}),k($)):(Error.captureStackTrace?Error.captureStackTrace(m($),K):Object.defineProperty(m($),"stack",{value:Error().stack,writable:!0,configurable:!0}),$)}return _(K,[{key:"toString",value:function(){return b(this)}},{key:P.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),K}(g(Error));G.GraphQLError=W;function b(L){var z=L.message;if(L.nodes)for(var K=0,J=L.nodes;K<J.length;K++){var ie=J[K];ie.loc&&(z+=`

`+(0,c.printLocation)(ie.loc))}else if(L.source&&L.locations)for(var Y=0,M=L.locations;Y<M.length;Y++){var V=M[Y];z+=`

`+(0,c.printSourceLocation)(L.source,V)}return z}},51352:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.syntaxError=I;var R=N(61702);function I(P,S,c){return new R.GraphQLError("Syntax Error: ".concat(c),void 0,P,[S])}},63580:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=S;var R=P(N(61321)),I=P(N(98493));function P(c){return c&&c.__esModule?c:{default:c}}function S(c){var d=c.prototype.toJSON;typeof d=="function"||(0,R.default)(0),c.prototype.inspect=d,I.default&&(c.prototype[I.default]=d)}},93028:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(R,I){var P=!!R;if(!P)throw new Error(I)}},29657:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=d;var R=I(N(98493));function I(m){return m&&m.__esModule?m:{default:m}}function P(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(p){return typeof p}:P=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},P(m)}var S=10,c=2;function d(m){return f(m,[])}function f(m,g){switch(P(m)){case"string":return JSON.stringify(m);case"function":return m.name?"[function ".concat(m.name,"]"):"[function]";case"object":return m===null?"null":h(m,g);default:return String(m)}}function h(m,g){if(g.indexOf(m)!==-1)return"[Circular]";var p=[].concat(g,[m]),T=u(m);if(T!==void 0){var E=T.call(m);if(E!==m)return typeof E=="string"?E:f(E,p)}else if(Array.isArray(m))return y(m,p);return _(m,p)}function _(m,g){var p=Object.keys(m);if(p.length===0)return"{}";if(g.length>c)return"["+k(m)+"]";var T=p.map(function(E){var D=f(m[E],g);return E+": "+D});return"{ "+T.join(", ")+" }"}function y(m,g){if(m.length===0)return"[]";if(g.length>c)return"[Array]";for(var p=Math.min(S,m.length),T=m.length-p,E=[],D=0;D<p;++D)E.push(f(m[D],g));return T===1?E.push("... 1 more item"):T>1&&E.push("... ".concat(T," more items")),"["+E.join(", ")+"]"}function u(m){var g=m[String(R.default)];if(typeof g=="function")return g;if(typeof m.inspect=="function")return m.inspect}function k(m){var g=Object.prototype.toString.call(m).replace(/^\[object /,"").replace(/]$/,"");if(g==="Object"&&typeof m.constructor=="function"){var p=m.constructor.name;if(typeof p=="string"&&p!=="")return p}return g}},79527:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var N=function(I,P){return I instanceof P};G.default=N},61321:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=N;function N(R,I){var P=!!R;if(!P)throw new Error(I!=null?I:"Unexpected invariant triggered.")}},55569:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=R;function N(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(S){return typeof S}:N=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},N(I)}function R(I){return N(I)=="object"&&I!==null}},98493:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var N=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,R=N;G.default=R},76257:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isNode=c,G.Token=G.Location=void 0;var R=I(N(63580));function I(d){return d&&d.__esModule?d:{default:d}}var P=function(){function d(h,_,y){this.start=h.start,this.end=_.end,this.startToken=h,this.endToken=_,this.source=y}var f=d.prototype;return f.toJSON=function(){return{start:this.start,end:this.end}},d}();G.Location=P,(0,R.default)(P);var S=function(){function d(h,_,y,u,k,m,g){this.kind=h,this.start=_,this.end=y,this.line=u,this.column=k,this.value=g,this.prev=m,this.next=null}var f=d.prototype;return f.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},d}();G.Token=S,(0,R.default)(S);function c(d){return d!=null&&typeof d.kind=="string"}},69165:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.dedentBlockStringValue=N,G.getBlockStringIndentation=I,G.printBlockString=P;function N(S){var c=S.split(/\r\n|[\n\r]/g),d=I(S);if(d!==0)for(var f=1;f<c.length;f++)c[f]=c[f].slice(d);for(var h=0;h<c.length&&R(c[h]);)++h;for(var _=c.length;_>h&&R(c[_-1]);)--_;return c.slice(h,_).join(`
`)}function R(S){for(var c=0;c<S.length;++c)if(S[c]!==" "&&S[c]!=="	")return!1;return!0}function I(S){for(var c,d=!0,f=!0,h=0,_=null,y=0;y<S.length;++y)switch(S.charCodeAt(y)){case 13:S.charCodeAt(y+1)===10&&++y;case 10:d=!1,f=!0,h=0;break;case 9:case 32:++h;break;default:f&&!d&&(_===null||h<_)&&(_=h),f=!1}return(c=_)!==null&&c!==void 0?c:0}function P(S){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=S.indexOf(`
`)===-1,h=S[0]===" "||S[0]==="	",_=S[S.length-1]==='"',y=S[S.length-1]==="\\",u=!f||_||y||d,k="";return u&&!(f&&h)&&(k+=`
`+c),k+=c?S.replace(/\n/g,`
`+c):S,u&&(k+=`
`),'"""'+k.replace(/"""/g,'\\"""')+'"""'}},5919:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.DirectiveLocation=void 0;var N=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});G.DirectiveLocation=N},7030:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Kind=void 0;var N=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});G.Kind=N},46083:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isPunctuatorTokenKind=d,G.Lexer=void 0;var R=N(51352),I=N(76257),P=N(73038),S=N(69165),c=function(){function x(b){var L=new I.Token(P.TokenKind.SOF,0,0,0,0,null);this.source=b,this.lastToken=L,this.token=L,this.line=1,this.lineStart=0}var W=x.prototype;return W.advance=function(){this.lastToken=this.token;var L=this.token=this.lookahead();return L},W.lookahead=function(){var L=this.token;if(L.kind!==P.TokenKind.EOF)do{var z;L=(z=L.next)!==null&&z!==void 0?z:L.next=h(this,L)}while(L.kind===P.TokenKind.COMMENT);return L},x}();G.Lexer=c;function d(x){return x===P.TokenKind.BANG||x===P.TokenKind.DOLLAR||x===P.TokenKind.AMP||x===P.TokenKind.PAREN_L||x===P.TokenKind.PAREN_R||x===P.TokenKind.SPREAD||x===P.TokenKind.COLON||x===P.TokenKind.EQUALS||x===P.TokenKind.AT||x===P.TokenKind.BRACKET_L||x===P.TokenKind.BRACKET_R||x===P.TokenKind.BRACE_L||x===P.TokenKind.PIPE||x===P.TokenKind.BRACE_R}function f(x){return isNaN(x)?P.TokenKind.EOF:x<127?JSON.stringify(String.fromCharCode(x)):'"\\u'.concat(("00"+x.toString(16).toUpperCase()).slice(-4),'"')}function h(x,W){for(var b=x.source,L=b.body,z=L.length,K=W.end;K<z;){var J=L.charCodeAt(K),ie=x.line,Y=1+K-x.lineStart;switch(J){case 65279:case 9:case 32:case 44:++K;continue;case 10:++K,++x.line,x.lineStart=K;continue;case 13:L.charCodeAt(K+1)===10?K+=2:++K,++x.line,x.lineStart=K;continue;case 33:return new I.Token(P.TokenKind.BANG,K,K+1,ie,Y,W);case 35:return y(b,K,ie,Y,W);case 36:return new I.Token(P.TokenKind.DOLLAR,K,K+1,ie,Y,W);case 38:return new I.Token(P.TokenKind.AMP,K,K+1,ie,Y,W);case 40:return new I.Token(P.TokenKind.PAREN_L,K,K+1,ie,Y,W);case 41:return new I.Token(P.TokenKind.PAREN_R,K,K+1,ie,Y,W);case 46:if(L.charCodeAt(K+1)===46&&L.charCodeAt(K+2)===46)return new I.Token(P.TokenKind.SPREAD,K,K+3,ie,Y,W);break;case 58:return new I.Token(P.TokenKind.COLON,K,K+1,ie,Y,W);case 61:return new I.Token(P.TokenKind.EQUALS,K,K+1,ie,Y,W);case 64:return new I.Token(P.TokenKind.AT,K,K+1,ie,Y,W);case 91:return new I.Token(P.TokenKind.BRACKET_L,K,K+1,ie,Y,W);case 93:return new I.Token(P.TokenKind.BRACKET_R,K,K+1,ie,Y,W);case 123:return new I.Token(P.TokenKind.BRACE_L,K,K+1,ie,Y,W);case 124:return new I.Token(P.TokenKind.PIPE,K,K+1,ie,Y,W);case 125:return new I.Token(P.TokenKind.BRACE_R,K,K+1,ie,Y,W);case 34:return L.charCodeAt(K+1)===34&&L.charCodeAt(K+2)===34?g(b,K,ie,Y,W,x):m(b,K,ie,Y,W);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return u(b,K,J,ie,Y,W);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return E(b,K,ie,Y,W)}throw(0,R.syntaxError)(b,K,_(J))}var M=x.line,V=1+K-x.lineStart;return new I.Token(P.TokenKind.EOF,z,z,M,V,W)}function _(x){return x<32&&x!==9&&x!==10&&x!==13?"Cannot contain the invalid character ".concat(f(x),"."):x===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(f(x),".")}function y(x,W,b,L,z){var K=x.body,J,ie=W;do J=K.charCodeAt(++ie);while(!isNaN(J)&&(J>31||J===9));return new I.Token(P.TokenKind.COMMENT,W,ie,b,L,z,K.slice(W+1,ie))}function u(x,W,b,L,z,K){var J=x.body,ie=b,Y=W,M=!1;if(ie===45&&(ie=J.charCodeAt(++Y)),ie===48){if(ie=J.charCodeAt(++Y),ie>=48&&ie<=57)throw(0,R.syntaxError)(x,Y,"Invalid number, unexpected digit after 0: ".concat(f(ie),"."))}else Y=k(x,Y,ie),ie=J.charCodeAt(Y);if(ie===46&&(M=!0,ie=J.charCodeAt(++Y),Y=k(x,Y,ie),ie=J.charCodeAt(Y)),(ie===69||ie===101)&&(M=!0,ie=J.charCodeAt(++Y),(ie===43||ie===45)&&(ie=J.charCodeAt(++Y)),Y=k(x,Y,ie),ie=J.charCodeAt(Y)),ie===46||D(ie))throw(0,R.syntaxError)(x,Y,"Invalid number, expected digit but got: ".concat(f(ie),"."));return new I.Token(M?P.TokenKind.FLOAT:P.TokenKind.INT,W,Y,L,z,K,J.slice(W,Y))}function k(x,W,b){var L=x.body,z=W,K=b;if(K>=48&&K<=57){do K=L.charCodeAt(++z);while(K>=48&&K<=57);return z}throw(0,R.syntaxError)(x,z,"Invalid number, expected digit but got: ".concat(f(K),"."))}function m(x,W,b,L,z){for(var K=x.body,J=W+1,ie=J,Y=0,M="";J<K.length&&!isNaN(Y=K.charCodeAt(J))&&Y!==10&&Y!==13;){if(Y===34)return M+=K.slice(ie,J),new I.Token(P.TokenKind.STRING,W,J+1,b,L,z,M);if(Y<32&&Y!==9)throw(0,R.syntaxError)(x,J,"Invalid character within String: ".concat(f(Y),"."));if(++J,Y===92){switch(M+=K.slice(ie,J-1),Y=K.charCodeAt(J),Y){case 34:M+='"';break;case 47:M+="/";break;case 92:M+="\\";break;case 98:M+="\b";break;case 102:M+="\f";break;case 110:M+=`
`;break;case 114:M+="\r";break;case 116:M+="	";break;case 117:{var V=p(K.charCodeAt(J+1),K.charCodeAt(J+2),K.charCodeAt(J+3),K.charCodeAt(J+4));if(V<0){var C=K.slice(J+1,J+5);throw(0,R.syntaxError)(x,J,"Invalid character escape sequence: \\u".concat(C,"."))}M+=String.fromCharCode(V),J+=4;break}default:throw(0,R.syntaxError)(x,J,"Invalid character escape sequence: \\".concat(String.fromCharCode(Y),"."))}++J,ie=J}}throw(0,R.syntaxError)(x,J,"Unterminated string.")}function g(x,W,b,L,z,K){for(var J=x.body,ie=W+3,Y=ie,M=0,V="";ie<J.length&&!isNaN(M=J.charCodeAt(ie));){if(M===34&&J.charCodeAt(ie+1)===34&&J.charCodeAt(ie+2)===34)return V+=J.slice(Y,ie),new I.Token(P.TokenKind.BLOCK_STRING,W,ie+3,b,L,z,(0,S.dedentBlockStringValue)(V));if(M<32&&M!==9&&M!==10&&M!==13)throw(0,R.syntaxError)(x,ie,"Invalid character within String: ".concat(f(M),"."));M===10?(++ie,++K.line,K.lineStart=ie):M===13?(J.charCodeAt(ie+1)===10?ie+=2:++ie,++K.line,K.lineStart=ie):M===92&&J.charCodeAt(ie+1)===34&&J.charCodeAt(ie+2)===34&&J.charCodeAt(ie+3)===34?(V+=J.slice(Y,ie)+'"""',ie+=4,Y=ie):++ie}throw(0,R.syntaxError)(x,ie,"Unterminated string.")}function p(x,W,b,L){return T(x)<<12|T(W)<<8|T(b)<<4|T(L)}function T(x){return x>=48&&x<=57?x-48:x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:-1}function E(x,W,b,L,z){for(var K=x.body,J=K.length,ie=W+1,Y=0;ie!==J&&!isNaN(Y=K.charCodeAt(ie))&&(Y===95||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122);)++ie;return new I.Token(P.TokenKind.NAME,W,ie,b,L,z,K.slice(W,ie))}function D(x){return x===95||x>=65&&x<=90||x>=97&&x<=122}},99530:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getLocation=N;function N(R,I){for(var P=/\r\n|[\n\r]/g,S=1,c=I+1,d;(d=P.exec(R.body))&&d.index<I;)S+=1,c=I+1-(d.index+d[0].length);return{line:S,column:c}}},50246:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.parse=h,G.parseValue=_,G.parseType=y,G.Parser=void 0;var R=N(51352),I=N(7030),P=N(76257),S=N(73038),c=N(46876),d=N(5919),f=N(46083);function h(g,p){var T=new u(g,p);return T.parseDocument()}function _(g,p){var T=new u(g,p);T.expectToken(S.TokenKind.SOF);var E=T.parseValueLiteral(!1);return T.expectToken(S.TokenKind.EOF),E}function y(g,p){var T=new u(g,p);T.expectToken(S.TokenKind.SOF);var E=T.parseTypeReference();return T.expectToken(S.TokenKind.EOF),E}var u=function(){function g(T,E){var D=(0,c.isSource)(T)?T:new c.Source(T);this._lexer=new f.Lexer(D),this._options=E}var p=g.prototype;return p.parseName=function(){var E=this.expectToken(S.TokenKind.NAME);return{kind:I.Kind.NAME,value:E.value,loc:this.loc(E)}},p.parseDocument=function(){var E=this._lexer.token;return{kind:I.Kind.DOCUMENT,definitions:this.many(S.TokenKind.SOF,this.parseDefinition,S.TokenKind.EOF),loc:this.loc(E)}},p.parseDefinition=function(){if(this.peek(S.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(S.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},p.parseOperationDefinition=function(){var E=this._lexer.token;if(this.peek(S.TokenKind.BRACE_L))return{kind:I.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(E)};var D=this.parseOperationType(),x;return this.peek(S.TokenKind.NAME)&&(x=this.parseName()),{kind:I.Kind.OPERATION_DEFINITION,operation:D,name:x,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(E)}},p.parseOperationType=function(){var E=this.expectToken(S.TokenKind.NAME);switch(E.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(E)},p.parseVariableDefinitions=function(){return this.optionalMany(S.TokenKind.PAREN_L,this.parseVariableDefinition,S.TokenKind.PAREN_R)},p.parseVariableDefinition=function(){var E=this._lexer.token;return{kind:I.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(S.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(S.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(E)}},p.parseVariable=function(){var E=this._lexer.token;return this.expectToken(S.TokenKind.DOLLAR),{kind:I.Kind.VARIABLE,name:this.parseName(),loc:this.loc(E)}},p.parseSelectionSet=function(){var E=this._lexer.token;return{kind:I.Kind.SELECTION_SET,selections:this.many(S.TokenKind.BRACE_L,this.parseSelection,S.TokenKind.BRACE_R),loc:this.loc(E)}},p.parseSelection=function(){return this.peek(S.TokenKind.SPREAD)?this.parseFragment():this.parseField()},p.parseField=function(){var E=this._lexer.token,D=this.parseName(),x,W;return this.expectOptionalToken(S.TokenKind.COLON)?(x=D,W=this.parseName()):W=D,{kind:I.Kind.FIELD,alias:x,name:W,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(S.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(E)}},p.parseArguments=function(E){var D=E?this.parseConstArgument:this.parseArgument;return this.optionalMany(S.TokenKind.PAREN_L,D,S.TokenKind.PAREN_R)},p.parseArgument=function(){var E=this._lexer.token,D=this.parseName();return this.expectToken(S.TokenKind.COLON),{kind:I.Kind.ARGUMENT,name:D,value:this.parseValueLiteral(!1),loc:this.loc(E)}},p.parseConstArgument=function(){var E=this._lexer.token;return{kind:I.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(S.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(E)}},p.parseFragment=function(){var E=this._lexer.token;this.expectToken(S.TokenKind.SPREAD);var D=this.expectOptionalKeyword("on");return!D&&this.peek(S.TokenKind.NAME)?{kind:I.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(E)}:{kind:I.Kind.INLINE_FRAGMENT,typeCondition:D?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(E)}},p.parseFragmentDefinition=function(){var E,D=this._lexer.token;return this.expectKeyword("fragment"),((E=this._options)===null||E===void 0?void 0:E.experimentalFragmentVariables)===!0?{kind:I.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(D)}:{kind:I.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(D)}},p.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},p.parseValueLiteral=function(E){var D=this._lexer.token;switch(D.kind){case S.TokenKind.BRACKET_L:return this.parseList(E);case S.TokenKind.BRACE_L:return this.parseObject(E);case S.TokenKind.INT:return this._lexer.advance(),{kind:I.Kind.INT,value:D.value,loc:this.loc(D)};case S.TokenKind.FLOAT:return this._lexer.advance(),{kind:I.Kind.FLOAT,value:D.value,loc:this.loc(D)};case S.TokenKind.STRING:case S.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case S.TokenKind.NAME:switch(this._lexer.advance(),D.value){case"true":return{kind:I.Kind.BOOLEAN,value:!0,loc:this.loc(D)};case"false":return{kind:I.Kind.BOOLEAN,value:!1,loc:this.loc(D)};case"null":return{kind:I.Kind.NULL,loc:this.loc(D)};default:return{kind:I.Kind.ENUM,value:D.value,loc:this.loc(D)}}case S.TokenKind.DOLLAR:if(!E)return this.parseVariable();break}throw this.unexpected()},p.parseStringLiteral=function(){var E=this._lexer.token;return this._lexer.advance(),{kind:I.Kind.STRING,value:E.value,block:E.kind===S.TokenKind.BLOCK_STRING,loc:this.loc(E)}},p.parseList=function(E){var D=this,x=this._lexer.token,W=function(){return D.parseValueLiteral(E)};return{kind:I.Kind.LIST,values:this.any(S.TokenKind.BRACKET_L,W,S.TokenKind.BRACKET_R),loc:this.loc(x)}},p.parseObject=function(E){var D=this,x=this._lexer.token,W=function(){return D.parseObjectField(E)};return{kind:I.Kind.OBJECT,fields:this.any(S.TokenKind.BRACE_L,W,S.TokenKind.BRACE_R),loc:this.loc(x)}},p.parseObjectField=function(E){var D=this._lexer.token,x=this.parseName();return this.expectToken(S.TokenKind.COLON),{kind:I.Kind.OBJECT_FIELD,name:x,value:this.parseValueLiteral(E),loc:this.loc(D)}},p.parseDirectives=function(E){for(var D=[];this.peek(S.TokenKind.AT);)D.push(this.parseDirective(E));return D},p.parseDirective=function(E){var D=this._lexer.token;return this.expectToken(S.TokenKind.AT),{kind:I.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(E),loc:this.loc(D)}},p.parseTypeReference=function(){var E=this._lexer.token,D;return this.expectOptionalToken(S.TokenKind.BRACKET_L)?(D=this.parseTypeReference(),this.expectToken(S.TokenKind.BRACKET_R),D={kind:I.Kind.LIST_TYPE,type:D,loc:this.loc(E)}):D=this.parseNamedType(),this.expectOptionalToken(S.TokenKind.BANG)?{kind:I.Kind.NON_NULL_TYPE,type:D,loc:this.loc(E)}:D},p.parseNamedType=function(){var E=this._lexer.token;return{kind:I.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(E)}},p.parseTypeSystemDefinition=function(){var E=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(E.kind===S.TokenKind.NAME)switch(E.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(E)},p.peekDescription=function(){return this.peek(S.TokenKind.STRING)||this.peek(S.TokenKind.BLOCK_STRING)},p.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},p.parseSchemaDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("schema");var x=this.parseDirectives(!0),W=this.many(S.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S.TokenKind.BRACE_R);return{kind:I.Kind.SCHEMA_DEFINITION,description:D,directives:x,operationTypes:W,loc:this.loc(E)}},p.parseOperationTypeDefinition=function(){var E=this._lexer.token,D=this.parseOperationType();this.expectToken(S.TokenKind.COLON);var x=this.parseNamedType();return{kind:I.Kind.OPERATION_TYPE_DEFINITION,operation:D,type:x,loc:this.loc(E)}},p.parseScalarTypeDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("scalar");var x=this.parseName(),W=this.parseDirectives(!0);return{kind:I.Kind.SCALAR_TYPE_DEFINITION,description:D,name:x,directives:W,loc:this.loc(E)}},p.parseObjectTypeDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("type");var x=this.parseName(),W=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),L=this.parseFieldsDefinition();return{kind:I.Kind.OBJECT_TYPE_DEFINITION,description:D,name:x,interfaces:W,directives:b,fields:L,loc:this.loc(E)}},p.parseImplementsInterfaces=function(){var E;if(!this.expectOptionalKeyword("implements"))return[];if(((E=this._options)===null||E===void 0?void 0:E.allowLegacySDLImplementsInterfaces)===!0){var D=[];this.expectOptionalToken(S.TokenKind.AMP);do D.push(this.parseNamedType());while(this.expectOptionalToken(S.TokenKind.AMP)||this.peek(S.TokenKind.NAME));return D}return this.delimitedMany(S.TokenKind.AMP,this.parseNamedType)},p.parseFieldsDefinition=function(){var E;return((E=this._options)===null||E===void 0?void 0:E.allowLegacySDLEmptyFields)===!0&&this.peek(S.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===S.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(S.TokenKind.BRACE_L,this.parseFieldDefinition,S.TokenKind.BRACE_R)},p.parseFieldDefinition=function(){var E=this._lexer.token,D=this.parseDescription(),x=this.parseName(),W=this.parseArgumentDefs();this.expectToken(S.TokenKind.COLON);var b=this.parseTypeReference(),L=this.parseDirectives(!0);return{kind:I.Kind.FIELD_DEFINITION,description:D,name:x,arguments:W,type:b,directives:L,loc:this.loc(E)}},p.parseArgumentDefs=function(){return this.optionalMany(S.TokenKind.PAREN_L,this.parseInputValueDef,S.TokenKind.PAREN_R)},p.parseInputValueDef=function(){var E=this._lexer.token,D=this.parseDescription(),x=this.parseName();this.expectToken(S.TokenKind.COLON);var W=this.parseTypeReference(),b;this.expectOptionalToken(S.TokenKind.EQUALS)&&(b=this.parseValueLiteral(!0));var L=this.parseDirectives(!0);return{kind:I.Kind.INPUT_VALUE_DEFINITION,description:D,name:x,type:W,defaultValue:b,directives:L,loc:this.loc(E)}},p.parseInterfaceTypeDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("interface");var x=this.parseName(),W=this.parseImplementsInterfaces(),b=this.parseDirectives(!0),L=this.parseFieldsDefinition();return{kind:I.Kind.INTERFACE_TYPE_DEFINITION,description:D,name:x,interfaces:W,directives:b,fields:L,loc:this.loc(E)}},p.parseUnionTypeDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("union");var x=this.parseName(),W=this.parseDirectives(!0),b=this.parseUnionMemberTypes();return{kind:I.Kind.UNION_TYPE_DEFINITION,description:D,name:x,directives:W,types:b,loc:this.loc(E)}},p.parseUnionMemberTypes=function(){return this.expectOptionalToken(S.TokenKind.EQUALS)?this.delimitedMany(S.TokenKind.PIPE,this.parseNamedType):[]},p.parseEnumTypeDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("enum");var x=this.parseName(),W=this.parseDirectives(!0),b=this.parseEnumValuesDefinition();return{kind:I.Kind.ENUM_TYPE_DEFINITION,description:D,name:x,directives:W,values:b,loc:this.loc(E)}},p.parseEnumValuesDefinition=function(){return this.optionalMany(S.TokenKind.BRACE_L,this.parseEnumValueDefinition,S.TokenKind.BRACE_R)},p.parseEnumValueDefinition=function(){var E=this._lexer.token,D=this.parseDescription(),x=this.parseName(),W=this.parseDirectives(!0);return{kind:I.Kind.ENUM_VALUE_DEFINITION,description:D,name:x,directives:W,loc:this.loc(E)}},p.parseInputObjectTypeDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("input");var x=this.parseName(),W=this.parseDirectives(!0),b=this.parseInputFieldsDefinition();return{kind:I.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:D,name:x,directives:W,fields:b,loc:this.loc(E)}},p.parseInputFieldsDefinition=function(){return this.optionalMany(S.TokenKind.BRACE_L,this.parseInputValueDef,S.TokenKind.BRACE_R)},p.parseTypeSystemExtension=function(){var E=this._lexer.lookahead();if(E.kind===S.TokenKind.NAME)switch(E.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(E)},p.parseSchemaExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var D=this.parseDirectives(!0),x=this.optionalMany(S.TokenKind.BRACE_L,this.parseOperationTypeDefinition,S.TokenKind.BRACE_R);if(D.length===0&&x.length===0)throw this.unexpected();return{kind:I.Kind.SCHEMA_EXTENSION,directives:D,operationTypes:x,loc:this.loc(E)}},p.parseScalarTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var D=this.parseName(),x=this.parseDirectives(!0);if(x.length===0)throw this.unexpected();return{kind:I.Kind.SCALAR_TYPE_EXTENSION,name:D,directives:x,loc:this.loc(E)}},p.parseObjectTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var D=this.parseName(),x=this.parseImplementsInterfaces(),W=this.parseDirectives(!0),b=this.parseFieldsDefinition();if(x.length===0&&W.length===0&&b.length===0)throw this.unexpected();return{kind:I.Kind.OBJECT_TYPE_EXTENSION,name:D,interfaces:x,directives:W,fields:b,loc:this.loc(E)}},p.parseInterfaceTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var D=this.parseName(),x=this.parseImplementsInterfaces(),W=this.parseDirectives(!0),b=this.parseFieldsDefinition();if(x.length===0&&W.length===0&&b.length===0)throw this.unexpected();return{kind:I.Kind.INTERFACE_TYPE_EXTENSION,name:D,interfaces:x,directives:W,fields:b,loc:this.loc(E)}},p.parseUnionTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var D=this.parseName(),x=this.parseDirectives(!0),W=this.parseUnionMemberTypes();if(x.length===0&&W.length===0)throw this.unexpected();return{kind:I.Kind.UNION_TYPE_EXTENSION,name:D,directives:x,types:W,loc:this.loc(E)}},p.parseEnumTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var D=this.parseName(),x=this.parseDirectives(!0),W=this.parseEnumValuesDefinition();if(x.length===0&&W.length===0)throw this.unexpected();return{kind:I.Kind.ENUM_TYPE_EXTENSION,name:D,directives:x,values:W,loc:this.loc(E)}},p.parseInputObjectTypeExtension=function(){var E=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var D=this.parseName(),x=this.parseDirectives(!0),W=this.parseInputFieldsDefinition();if(x.length===0&&W.length===0)throw this.unexpected();return{kind:I.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:D,directives:x,fields:W,loc:this.loc(E)}},p.parseDirectiveDefinition=function(){var E=this._lexer.token,D=this.parseDescription();this.expectKeyword("directive"),this.expectToken(S.TokenKind.AT);var x=this.parseName(),W=this.parseArgumentDefs(),b=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var L=this.parseDirectiveLocations();return{kind:I.Kind.DIRECTIVE_DEFINITION,description:D,name:x,arguments:W,repeatable:b,locations:L,loc:this.loc(E)}},p.parseDirectiveLocations=function(){return this.delimitedMany(S.TokenKind.PIPE,this.parseDirectiveLocation)},p.parseDirectiveLocation=function(){var E=this._lexer.token,D=this.parseName();if(d.DirectiveLocation[D.value]!==void 0)return D;throw this.unexpected(E)},p.loc=function(E){var D;if(((D=this._options)===null||D===void 0?void 0:D.noLocation)!==!0)return new P.Location(E,this._lexer.lastToken,this._lexer.source)},p.peek=function(E){return this._lexer.token.kind===E},p.expectToken=function(E){var D=this._lexer.token;if(D.kind===E)return this._lexer.advance(),D;throw(0,R.syntaxError)(this._lexer.source,D.start,"Expected ".concat(m(E),", found ").concat(k(D),"."))},p.expectOptionalToken=function(E){var D=this._lexer.token;if(D.kind===E)return this._lexer.advance(),D},p.expectKeyword=function(E){var D=this._lexer.token;if(D.kind===S.TokenKind.NAME&&D.value===E)this._lexer.advance();else throw(0,R.syntaxError)(this._lexer.source,D.start,'Expected "'.concat(E,'", found ').concat(k(D),"."))},p.expectOptionalKeyword=function(E){var D=this._lexer.token;return D.kind===S.TokenKind.NAME&&D.value===E?(this._lexer.advance(),!0):!1},p.unexpected=function(E){var D=E!=null?E:this._lexer.token;return(0,R.syntaxError)(this._lexer.source,D.start,"Unexpected ".concat(k(D),"."))},p.any=function(E,D,x){this.expectToken(E);for(var W=[];!this.expectOptionalToken(x);)W.push(D.call(this));return W},p.optionalMany=function(E,D,x){if(this.expectOptionalToken(E)){var W=[];do W.push(D.call(this));while(!this.expectOptionalToken(x));return W}return[]},p.many=function(E,D,x){this.expectToken(E);var W=[];do W.push(D.call(this));while(!this.expectOptionalToken(x));return W},p.delimitedMany=function(E,D){this.expectOptionalToken(E);var x=[];do x.push(D.call(this));while(this.expectOptionalToken(E));return x},g}();G.Parser=u;function k(g){var p=g.value;return m(g.kind)+(p!=null?' "'.concat(p,'"'):"")}function m(g){return(0,f.isPunctuatorTokenKind)(g)?'"'.concat(g,'"'):g}},40825:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.printLocation=I,G.printSourceLocation=P;var R=N(99530);function I(f){return P(f.source,(0,R.getLocation)(f.source,f.start))}function P(f,h){var _=f.locationOffset.column-1,y=c(_)+f.body,u=h.line-1,k=f.locationOffset.line-1,m=h.line+k,g=h.line===1?_:0,p=h.column+g,T="".concat(f.name,":").concat(m,":").concat(p,`
`),E=y.split(/\r\n|[\n\r]/g),D=E[u];if(D.length>120){for(var x=Math.floor(p/80),W=p%80,b=[],L=0;L<D.length;L+=80)b.push(D.slice(L,L+80));return T+S([["".concat(m),b[0]]].concat(b.slice(1,x+1).map(function(z){return["",z]}),[[" ",c(W-1)+"^"],["",b[x+1]]]))}return T+S([["".concat(m-1),E[u-1]],["".concat(m),D],["",c(p-1)+"^"],["".concat(m+1),E[u+1]]])}function S(f){var h=f.filter(function(y){var u=y[0],k=y[1];return k!==void 0}),_=Math.max.apply(Math,h.map(function(y){var u=y[0];return u.length}));return h.map(function(y){var u=y[0],k=y[1];return d(_,u)+(k?" | "+k:" |")}).join(`
`)}function c(f){return Array(f+1).join(" ")}function d(f,h){return c(f-h.length)+h}},70585:(s,G,N)=>{"use strict";var R;R={value:!0},G.y=S;var I=N(9111),P=N(69165);function S(g){return(0,I.visit)(g,{leave:d})}var c=80,d={Name:function(p){return p.value},Variable:function(p){return"$"+p.name},Document:function(p){return h(p.definitions,`

`)+`
`},OperationDefinition:function(p){var T=p.operation,E=p.name,D=y("(",h(p.variableDefinitions,", "),")"),x=h(p.directives," "),W=p.selectionSet;return!E&&!x&&!D&&T==="query"?W:h([T,h([E,D]),x,W]," ")},VariableDefinition:function(p){var T=p.variable,E=p.type,D=p.defaultValue,x=p.directives;return T+": "+E+y(" = ",D)+y(" ",h(x," "))},SelectionSet:function(p){var T=p.selections;return _(T)},Field:function(p){var T=p.alias,E=p.name,D=p.arguments,x=p.directives,W=p.selectionSet,b=y("",T,": ")+E,L=b+y("(",h(D,", "),")");return L.length>c&&(L=b+y(`(
`,u(h(D,`
`)),`
)`)),h([L,h(x," "),W]," ")},Argument:function(p){var T=p.name,E=p.value;return T+": "+E},FragmentSpread:function(p){var T=p.name,E=p.directives;return"..."+T+y(" ",h(E," "))},InlineFragment:function(p){var T=p.typeCondition,E=p.directives,D=p.selectionSet;return h(["...",y("on ",T),h(E," "),D]," ")},FragmentDefinition:function(p){var T=p.name,E=p.typeCondition,D=p.variableDefinitions,x=p.directives,W=p.selectionSet;return"fragment ".concat(T).concat(y("(",h(D,", "),")")," ")+"on ".concat(E," ").concat(y("",h(x," ")," "))+W},IntValue:function(p){var T=p.value;return T},FloatValue:function(p){var T=p.value;return T},StringValue:function(p,T){var E=p.value,D=p.block;return D?(0,P.printBlockString)(E,T==="description"?"":"  "):JSON.stringify(E)},BooleanValue:function(p){var T=p.value;return T?"true":"false"},NullValue:function(){return"null"},EnumValue:function(p){var T=p.value;return T},ListValue:function(p){var T=p.values;return"["+h(T,", ")+"]"},ObjectValue:function(p){var T=p.fields;return"{"+h(T,", ")+"}"},ObjectField:function(p){var T=p.name,E=p.value;return T+": "+E},Directive:function(p){var T=p.name,E=p.arguments;return"@"+T+y("(",h(E,", "),")")},NamedType:function(p){var T=p.name;return T},ListType:function(p){var T=p.type;return"["+T+"]"},NonNullType:function(p){var T=p.type;return T+"!"},SchemaDefinition:f(function(g){var p=g.directives,T=g.operationTypes;return h(["schema",h(p," "),_(T)]," ")}),OperationTypeDefinition:function(p){var T=p.operation,E=p.type;return T+": "+E},ScalarTypeDefinition:f(function(g){var p=g.name,T=g.directives;return h(["scalar",p,h(T," ")]," ")}),ObjectTypeDefinition:f(function(g){var p=g.name,T=g.interfaces,E=g.directives,D=g.fields;return h(["type",p,y("implements ",h(T," & ")),h(E," "),_(D)]," ")}),FieldDefinition:f(function(g){var p=g.name,T=g.arguments,E=g.type,D=g.directives;return p+(m(T)?y(`(
`,u(h(T,`
`)),`
)`):y("(",h(T,", "),")"))+": "+E+y(" ",h(D," "))}),InputValueDefinition:f(function(g){var p=g.name,T=g.type,E=g.defaultValue,D=g.directives;return h([p+": "+T,y("= ",E),h(D," ")]," ")}),InterfaceTypeDefinition:f(function(g){var p=g.name,T=g.interfaces,E=g.directives,D=g.fields;return h(["interface",p,y("implements ",h(T," & ")),h(E," "),_(D)]," ")}),UnionTypeDefinition:f(function(g){var p=g.name,T=g.directives,E=g.types;return h(["union",p,h(T," "),E&&E.length!==0?"= "+h(E," | "):""]," ")}),EnumTypeDefinition:f(function(g){var p=g.name,T=g.directives,E=g.values;return h(["enum",p,h(T," "),_(E)]," ")}),EnumValueDefinition:f(function(g){var p=g.name,T=g.directives;return h([p,h(T," ")]," ")}),InputObjectTypeDefinition:f(function(g){var p=g.name,T=g.directives,E=g.fields;return h(["input",p,h(T," "),_(E)]," ")}),DirectiveDefinition:f(function(g){var p=g.name,T=g.arguments,E=g.repeatable,D=g.locations;return"directive @"+p+(m(T)?y(`(
`,u(h(T,`
`)),`
)`):y("(",h(T,", "),")"))+(E?" repeatable":"")+" on "+h(D," | ")}),SchemaExtension:function(p){var T=p.directives,E=p.operationTypes;return h(["extend schema",h(T," "),_(E)]," ")},ScalarTypeExtension:function(p){var T=p.name,E=p.directives;return h(["extend scalar",T,h(E," ")]," ")},ObjectTypeExtension:function(p){var T=p.name,E=p.interfaces,D=p.directives,x=p.fields;return h(["extend type",T,y("implements ",h(E," & ")),h(D," "),_(x)]," ")},InterfaceTypeExtension:function(p){var T=p.name,E=p.interfaces,D=p.directives,x=p.fields;return h(["extend interface",T,y("implements ",h(E," & ")),h(D," "),_(x)]," ")},UnionTypeExtension:function(p){var T=p.name,E=p.directives,D=p.types;return h(["extend union",T,h(E," "),D&&D.length!==0?"= "+h(D," | "):""]," ")},EnumTypeExtension:function(p){var T=p.name,E=p.directives,D=p.values;return h(["extend enum",T,h(E," "),_(D)]," ")},InputObjectTypeExtension:function(p){var T=p.name,E=p.directives,D=p.fields;return h(["extend input",T,h(E," "),_(D)]," ")}};function f(g){return function(p){return h([p.description,g(p)],`
`)}}function h(g){var p,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(p=g==null?void 0:g.filter(function(E){return E}).join(T))!==null&&p!==void 0?p:""}function _(g){return y(`{
`,u(h(g,`
`)),`
}`)}function y(g,p){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return p!=null&&p!==""?g+p+T:""}function u(g){return y("  ",g.replace(/\n/g,`
  `))}function k(g){return g.indexOf(`
`)!==-1}function m(g){return g!=null&&g.some(k)}},46876:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isSource=_,G.Source=void 0;var R=N(25888),I=c(N(29657)),P=c(N(93028)),S=c(N(79527));function c(y){return y&&y.__esModule?y:{default:y}}function d(y,u){for(var k=0;k<u.length;k++){var m=u[k];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}function f(y,u,k){return u&&d(y.prototype,u),k&&d(y,k),y}var h=function(){function y(u){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof u=="string"||(0,P.default)(0,"Body must be a string. Received: ".concat((0,I.default)(u),".")),this.body=u,this.name=k,this.locationOffset=m,this.locationOffset.line>0||(0,P.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,P.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return f(y,[{key:R.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),y}();G.Source=h;function _(y){return(0,S.default)(y,h)}},73038:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TokenKind=void 0;var N=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});G.TokenKind=N},9111:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.visit=d,G.visitInParallel=f,G.getVisitFn=h,G.BREAK=G.QueryDocumentKeys=void 0;var R=P(N(29657)),I=N(76257);function P(_){return _&&_.__esModule?_:{default:_}}var S={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};G.QueryDocumentKeys=S;var c=Object.freeze({});G.BREAK=c;function d(_,y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,k=void 0,m=Array.isArray(_),g=[_],p=-1,T=[],E=void 0,D=void 0,x=void 0,W=[],b=[],L=_;do{p++;var z=p===g.length,K=z&&T.length!==0;if(z){if(D=b.length===0?void 0:W[W.length-1],E=x,x=b.pop(),K){if(m)E=E.slice();else{for(var J={},ie=0,Y=Object.keys(E);ie<Y.length;ie++){var M=Y[ie];J[M]=E[M]}E=J}for(var V=0,C=0;C<T.length;C++){var l=T[C][0],w=T[C][1];m&&(l-=V),m&&w===null?(E.splice(l,1),V++):E[l]=w}}p=k.index,g=k.keys,T=k.edits,m=k.inArray,k=k.prev}else{if(D=x?m?p:g[p]:void 0,E=x?x[D]:L,E==null)continue;x&&W.push(D)}var F=void 0;if(!Array.isArray(E)){if(!(0,I.isNode)(E))throw new Error("Invalid AST Node: ".concat((0,R.default)(E),"."));var q=h(y,E.kind,z);if(q){if(F=q.call(y,E,D,x,W,b),F===c)break;if(F===!1){if(!z){W.pop();continue}}else if(F!==void 0&&(T.push([D,F]),!z))if((0,I.isNode)(F))E=F;else{W.pop();continue}}}if(F===void 0&&K&&T.push([D,E]),z)W.pop();else{var j;k={inArray:m,index:p,keys:g,edits:T,prev:k},m=Array.isArray(E),g=m?E:(j=u[E.kind])!==null&&j!==void 0?j:[],p=-1,T=[],x&&b.push(x),x=E}}while(k!==void 0);return T.length!==0&&(L=T[T.length-1][1]),L}function f(_){var y=new Array(_.length);return{enter:function(k){for(var m=0;m<_.length;m++)if(y[m]==null){var g=h(_[m],k.kind,!1);if(g){var p=g.apply(_[m],arguments);if(p===!1)y[m]=k;else if(p===c)y[m]=c;else if(p!==void 0)return p}}},leave:function(k){for(var m=0;m<_.length;m++)if(y[m]==null){var g=h(_[m],k.kind,!0);if(g){var p=g.apply(_[m],arguments);if(p===c)y[m]=c;else if(p!==void 0&&p!==!1)return p}}else y[m]===k&&(y[m]=null)}}}function h(_,y,u){var k=_[y];if(k){if(!u&&typeof k=="function")return k;var m=u?k.leave:k.enter;if(typeof m=="function")return m}else{var g=u?_.leave:_.enter;if(g){if(typeof g=="function")return g;var p=g[y];if(typeof p=="function")return p}}}},25888:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.SYMBOL_TO_STRING_TAG=G.SYMBOL_ASYNC_ITERATOR=G.SYMBOL_ITERATOR=void 0;var N=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";G.SYMBOL_ITERATOR=N;var R=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";G.SYMBOL_ASYNC_ITERATOR=R;var I=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";G.SYMBOL_TO_STRING_TAG=I},4729:(s,G,N)=>{"use strict";var R=N(92861).Buffer,I=N(61603).Transform,P=N(56698);function S(d,f){if(!R.isBuffer(d)&&typeof d!="string")throw new TypeError(f+" must be a string or a buffer")}function c(d){I.call(this),this._block=R.allocUnsafe(d),this._blockSize=d,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}P(c,I),c.prototype._transform=function(d,f,h){var _=null;try{this.update(d,f)}catch(y){_=y}h(_)},c.prototype._flush=function(d){var f=null;try{this.push(this.digest())}catch(h){f=h}d(f)},c.prototype.update=function(d,f){if(S(d,"Data"),this._finalized)throw new Error("Digest already called");R.isBuffer(d)||(d=R.from(d,f));for(var h=this._block,_=0;this._blockOffset+d.length-_>=this._blockSize;){for(var y=this._blockOffset;y<this._blockSize;)h[y++]=d[_++];this._update(),this._blockOffset=0}for(;_<d.length;)h[this._blockOffset++]=d[_++];for(var u=0,k=d.length*8;k>0;++u)this._length[u]+=k,k=this._length[u]/4294967296|0,k>0&&(this._length[u]-=4294967296*k);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(d){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var f=this._digest();d!==void 0&&(f=f.toString(d)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return f},c.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=c},92260:s=>{"use strict";function G(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f}var N={};function R(d,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var y=function(u){G(k,u);function k(m,g,p){return u.call(this,_(m,g,p))||this}return k}(h);y.prototype.name=h.name,y.prototype.code=d,N[d]=y}function I(d,f){if(Array.isArray(d)){var h=d.length;return d=d.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(d.slice(0,h-1).join(", "),", or ")+d[h-1]:h===2?"one of ".concat(f," ").concat(d[0]," or ").concat(d[1]):"of ".concat(f," ").concat(d[0])}else return"of ".concat(f," ").concat(String(d))}function P(d,f,h){return d.substr(!h||h<0?0:+h,f.length)===f}function S(d,f,h){return(h===void 0||h>d.length)&&(h=d.length),d.substring(h-f.length,h)===f}function c(d,f,h){return typeof h!="number"&&(h=0),h+f.length>d.length?!1:d.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(d,f){return'The value "'+f+'" is invalid for option "'+d+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(d,f,h){var _;typeof f=="string"&&P(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var y;if(S(d," argument"))y="The ".concat(d," ").concat(_," ").concat(I(f,"type"));else{var u=c(d,".")?"property":"argument";y='The "'.concat(d,'" ').concat(u," ").concat(_," ").concat(I(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=N},92818:(s,G,N)=>{"use strict";var R=N(65606),I=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var P=N(6736),S=N(62192);N(56698)(h,P);for(var c=I(S.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},35860:(s,G,N)=>{"use strict";s.exports=I;var R=N(13054);N(56698)(I,R);function I(P){if(!(this instanceof I))return new I(P);R.call(this,P)}I.prototype._transform=function(P,S,c){c(null,P)}},6736:(s,G,N)=>{"use strict";var R=N(65606);s.exports=M;var I;M.ReadableState=Y;var P=N(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},c=N(71181),d=N(48287).Buffer,f=N.g.Uint8Array||function(){};function h(U){return d.from(U)}function _(U){return d.isBuffer(U)||U instanceof f}var y=N(92382),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var k=N(12389),m=N(41468),g=N(8775),p=g.getHighWaterMark,T=N(92260).F,E=T.ERR_INVALID_ARG_TYPE,D=T.ERR_STREAM_PUSH_AFTER_EOF,x=T.ERR_METHOD_NOT_IMPLEMENTED,W=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;N(56698)(M,c);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){I=I||N(92818),U=U||{},typeof oe!="boolean"&&(oe=O instanceof I),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=N(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(I=I||N(92818),!(this instanceof M))return new M(U);var O=this instanceof I;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=d.from(U,O),O=""),ge=!0),V(this,U,O,!1,ge)},M.prototype.unshift=function(U){return V(this,U,null,!0,!1)};function V(U,O,oe,ge,we){u("readableAddChunk",O);var ve=U._readableState;if(O===null)ve.reading=!1,j(U,ve);else{var Pe;if(we||(Pe=l(ve,O)),Pe)K(U,Pe);else if(ve.objectMode||O&&O.length>0)if(typeof O!="string"&&!ve.objectMode&&Object.getPrototypeOf(O)!==d.prototype&&(O=h(O)),ge)ve.endEmitted?K(U,new W):C(U,ve,O,!0);else if(ve.ended)K(U,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!oe?(O=ve.decoder.write(O),ve.objectMode||O.length!==0?C(U,ve,O,!1):te(U,ve)):C(U,ve,O,!1)}else ge||(ve.reading=!1,te(U,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function C(U,O,oe,ge){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ge?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&$(U)),te(U,O)}function l(U,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=N(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var w=1073741824;function F(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=F(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?ce(this):$(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&ce(this),null;var ge=O.needReadable;u("need readable",ge),(O.length===0||O.length-U<O.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),O.ended||O.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&ce(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?$(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function $(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new x("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=U;break;case 1:ge.pipes=[ge.pipes,U];break;default:ge.pipes.push(U);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,ve=we?Le:se;ge.endEmitted?R.nextTick(ve):oe.once("end",ve),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,ze())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var wt=!1;function ze(){u("cleanup"),U.removeListener("close",de),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",gt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",et),wt=!0,ge.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",et);function et(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ge.pipesCount===1&&ge.pipes===U||ge.pipesCount>1&&ke(ge.pipes,U)!==-1)&&!wt&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function gt(be){u("onerror",be),se(),U.removeListener("error",gt),S(U,"error")===0&&K(U,be)}ie(U,"error",gt);function de(){U.removeListener("finish",ne),se()}U.once("close",de);function ne(){u("onfinish"),U.removeListener("close",de),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ge=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ve=0;ve<we;ve++)ge[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=ke(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=c.prototype.on.call(this,U,O),ge=this._readableState;return U==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):U==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?$(this):ge.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=c.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=c.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ne(this,U)),U.paused=!1,this};function Ne(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Te,U,O))}function Te(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ge=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ge=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var ve=0;ve<J.length;ve++)U.on(J[ve],this.emit.bind(this,J[ve]));return this._read=function(Pe){u("wrapped _read",Pe),ge&&(ge=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=N(74743)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function ce(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=N(45049)),z(M,U,O)});function ke(U,O){for(var oe=0,ge=U.length;oe<ge;oe++)if(U[oe]===O)return oe;return-1}},13054:(s,G,N)=>{"use strict";s.exports=h;var R=N(92260).F,I=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,d=N(92818);N(56698)(h,d);function f(u,k){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);d.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){y(u,k,m)}):y(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,d.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new I("_transform()"))},h.prototype._write=function(u,k,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=k,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){d.prototype._destroy.call(this,u,function(m){k(m)})};function y(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new S;return u.push(null)}},62192:(s,G,N)=>{"use strict";var R=N(65606);s.exports=Y;function I(X,ee,ce){this.chunk=X,this.encoding=ee,this.callback=ce,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Te(ee,X)}}var S;Y.WritableState=J;var c={deprecate:N(94643)},d=N(71181),f=N(48287).Buffer,h=N.g.Uint8Array||function(){};function _(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=N(41468),k=N(8775),m=k.getHighWaterMark,g=N(92260).F,p=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,D=g.ERR_STREAM_CANNOT_PIPE,x=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;N(56698)(Y,d);function K(){}function J(X,ee,ce){S=S||N(92818),X=X||{},typeof ce!="boolean"&&(ce=ee instanceof S),this.objectMode=!!X.objectMode,ce&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){j(ee,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(J.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||N(92818);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),d.call(this)}Y.prototype.pipe=function(){z(this,new D)};function M(X,ee){var ce=new b;z(X,ce),R.nextTick(ee,ce)}function V(X,ee,ce,me){var ke;return ce===null?ke=new W:typeof ce!="string"&&!ee.objectMode&&(ke=new p("chunk",["string","Buffer"],ce)),ke?(z(X,ke),R.nextTick(me,ke),!1):!0}Y.prototype.write=function(X,ee,ce){var me=this._writableState,ke=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=_(X)),typeof ee=="function"&&(ce=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(U||V(this,me,X,ce))&&(me.pendingcb++,ke=l(this,me,U,X,ee,ce)),ke},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,ce){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,ce)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,ce,me,ke,U){if(!ce){var O=C(ee,me,ke);me!==O&&(ce=!0,ke="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ge=ee.length<ee.highWaterMark;if(ge||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:ke,isBuf:ce,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,ke,U);return ge}function w(X,ee,ce,me,ke,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new x("write")):ce?X._writev(ke,ee.onwrite):X._write(ke,U,ee.onwrite),ee.sync=!1}function F(X,ee,ce,me,ke){--ee.pendingcb,ce?(R.nextTick(ke,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(ke(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var ce=X._writableState,me=ce.sync,ke=ce.writecb;if(typeof ke!="function")throw new E;if(q(ce),ee)F(X,ce,me,ee,ke);else{var U=B(ce)||X.destroyed;!U&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(X,ce),me?R.nextTick($,X,ce,U,ke):$(X,ce,U,ke)}}function $(X,ee,ce,me){ce||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(X._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,ke=new Array(me),U=ee.corkedRequestsFree;U.entry=ce;for(var O=0,oe=!0;ce;)ke[O]=ce,ce.isBuf||(oe=!1),ce=ce.next,O+=1;ke.allBuffers=oe,w(X,ee,!0,ee.length,ke,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,we=ce.encoding,ve=ce.callback,Pe=ee.objectMode?1:ge.length;if(w(X,ee,!1,Pe,ge,we,ve),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,ce){ce(new T("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,ce){var me=this._writableState;return typeof X=="function"?(ce=X,X=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ne(this,me,ce),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(ce){ee.pendingcb--,ce&&z(X,ce),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var ce=B(ee);if(ce&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return ce}function Ne(X,ee,ce){ee.ending=!0,he(X,ee),ce&&(ee.finished?R.nextTick(ce):X.once("finish",ce)),ee.ended=!0,X.writable=!1}function Te(X,ee,ce){var me=X.entry;for(X.entry=null;me;){var ke=me.callback;ee.pendingcb--,ke(ce),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},74743:(s,G,N)=>{"use strict";var R=N(65606),I;function P(x,W,b){return W in x?Object.defineProperty(x,W,{value:b,enumerable:!0,configurable:!0,writable:!0}):x[W]=b,x}var S=N(45826),c=Symbol("lastResolve"),d=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),y=Symbol("handlePromise"),u=Symbol("stream");function k(x,W){return{value:x,done:W}}function m(x){var W=x[c];if(W!==null){var b=x[u].read();b!==null&&(x[_]=null,x[c]=null,x[d]=null,W(k(b,!1)))}}function g(x){R.nextTick(m,x)}function p(x,W){return function(b,L){x.then(function(){if(W[h]){b(k(void 0,!0));return}W[y](b,L)},L)}}var T=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((I={get stream(){return this[u]},next:function(){var W=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(k(void 0,!0));if(this[u].destroyed)return new Promise(function(J,ie){R.nextTick(function(){W[f]?ie(W[f]):J(k(void 0,!0))})});var L=this[_],z;if(L)z=new Promise(p(L,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(k(K,!1));z=new Promise(this[y])}return this[_]=z,z}},P(I,Symbol.asyncIterator,function(){return this}),P(I,"return",function(){var W=this;return new Promise(function(b,L){W[u].destroy(null,function(z){if(z){L(z);return}b(k(void 0,!0))})})}),I),T),D=function(W){var b,L=Object.create(E,(b={},P(b,u,{value:W,writable:!0}),P(b,c,{value:null,writable:!0}),P(b,d,{value:null,writable:!0}),P(b,f,{value:null,writable:!0}),P(b,h,{value:W._readableState.endEmitted,writable:!0}),P(b,y,{value:function(K,J){var ie=L[u].read();ie?(L[_]=null,L[c]=null,L[d]=null,K(k(ie,!1))):(L[c]=K,L[d]=J)},writable:!0}),b));return L[_]=null,S(W,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=L[d];K!==null&&(L[_]=null,L[c]=null,L[d]=null,K(z)),L[f]=z;return}var J=L[c];J!==null&&(L[_]=null,L[c]=null,L[d]=null,J(k(void 0,!0))),L[h]=!0}),W.on("readable",g.bind(null,L)),L};s.exports=D},12389:(s,G,N)=>{"use strict";function R(m,g){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),p.push.apply(p,T)}return p}function I(m){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?R(Object(p),!0).forEach(function(T){P(m,T,p[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):R(Object(p)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(p,T))})}return m}function P(m,g,p){return g in m?Object.defineProperty(m,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[g]=p,m}function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){for(var p=0;p<g.length;p++){var T=g[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function d(m,g,p){return g&&c(m.prototype,g),p&&c(m,p),m}var f=N(48287),h=f.Buffer,_=N(8460),y=_.inspect,u=y&&y.custom||"inspect";function k(m,g,p){h.prototype.copy.call(m,g,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return d(m,[{key:"push",value:function(p){var T={data:p,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(p){var T={data:p,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var T=this.head,E=""+T.data;T=T.next;)E+=p+T.data;return E}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var T=h.allocUnsafe(p>>>0),E=this.head,D=0;E;)k(E.data,T,D),D+=E.data.length,E=E.next;return T}},{key:"consume",value:function(p,T){var E;return p<this.head.data.length?(E=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?E=this.shift():E=T?this._getString(p):this._getBuffer(p),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var T=this.head,E=1,D=T.data;for(p-=D.length;T=T.next;){var x=T.data,W=p>x.length?x.length:p;if(W===x.length?D+=x:D+=x.slice(0,p),p-=W,p===0){W===x.length?(++E,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=x.slice(W));break}++E}return this.length-=E,D}},{key:"_getBuffer",value:function(p){var T=h.allocUnsafe(p),E=this.head,D=1;for(E.data.copy(T),p-=E.data.length;E=E.next;){var x=E.data,W=p>x.length?x.length:p;if(x.copy(T,T.length-p,0,W),p-=W,p===0){W===x.length?(++D,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=x.slice(W));break}++D}return this.length-=D,T}},{key:u,value:function(p,T){return y(this,I({},T,{depth:0,customInspect:!1}))}}]),m}()},41468:(s,G,N)=>{"use strict";var R=N(65606);function I(h,_){var y=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(d,this,h)):R.nextTick(d,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):_?(R.nextTick(S,y),_(m)):R.nextTick(S,y)}),this)}function P(h,_){d(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(h,_){h.emit("error",_)}function f(h,_){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:I,undestroy:c,errorOrDestroy:f}},45826:(s,G,N)=>{"use strict";var R=N(92260).F.ERR_STREAM_PREMATURE_CLOSE;function I(d){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),y=0;y<h;y++)_[y]=arguments[y];d.apply(this,_)}}}function P(){}function S(d){return d.setHeader&&typeof d.abort=="function"}function c(d,f,h){if(typeof f=="function")return c(d,null,f);f||(f={}),h=I(h||P);var _=f.readable||f.readable!==!1&&d.readable,y=f.writable||f.writable!==!1&&d.writable,u=function(){d.writable||m()},k=d._writableState&&d._writableState.finished,m=function(){y=!1,k=!0,_||h.call(d)},g=d._readableState&&d._readableState.endEmitted,p=function(){_=!1,g=!0,y||h.call(d)},T=function(W){h.call(d,W)},E=function(){var W;if(_&&!g)return(!d._readableState||!d._readableState.ended)&&(W=new R),h.call(d,W);if(y&&!k)return(!d._writableState||!d._writableState.ended)&&(W=new R),h.call(d,W)},D=function(){d.req.on("finish",m)};return S(d)?(d.on("complete",m),d.on("abort",E),d.req?D():d.on("request",D)):y&&!d._writableState&&(d.on("end",u),d.on("close",u)),d.on("end",p),d.on("finish",m),f.error!==!1&&d.on("error",T),d.on("close",E),function(){d.removeListener("complete",m),d.removeListener("abort",E),d.removeListener("request",D),d.req&&d.req.removeListener("finish",m),d.removeListener("end",u),d.removeListener("close",u),d.removeListener("finish",m),d.removeListener("end",p),d.removeListener("error",T),d.removeListener("close",E)}}s.exports=c},45049:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(s,G,N)=>{"use strict";var R;function I(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=N(92260).F,S=P.ERR_MISSING_ARGS,c=P.ERR_STREAM_DESTROYED;function d(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,T){T=I(T);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=N(45826)),R(m,{readable:g,writable:p},function(x){if(x)return T(x);E=!0,T()});var D=!1;return function(x){if(!E&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(x||new c("pipe"))}}}function _(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?d:m.pop()}function k(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,D=g.map(function(x,W){var b=W<g.length-1,L=W>0;return h(x,b,L,function(z){E||(E=z),z&&D.forEach(_),!b&&(D.forEach(_),T(E))})});return g.reduce(y)}s.exports=k},8775:(s,G,N)=>{"use strict";var R=N(92260).F.ERR_INVALID_OPT_VALUE;function I(S,c,d){return S.highWaterMark!=null?S.highWaterMark:c?S[d]:null}function P(S,c,d,f){var h=I(c,f,d);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?d:"highWaterMark";throw new R(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},71181:(s,G,N)=>{s.exports=N(37007).EventEmitter},61603:(s,G,N)=>{G=s.exports=N(6736),G.Stream=G,G.Readable=G,G.Writable=N(62192),G.Duplex=N(92818),G.Transform=N(13054),G.PassThrough=N(35860),G.finished=N(45826),G.pipeline=N(29434)},77952:(s,G,N)=>{var R=G;R.utils=N(67426),R.common=N(66166),R.sha=N(46229),R.ripemd=N(46784),R.hmac=N(28948),R.sha1=R.sha.sha1,R.sha256=R.sha.sha256,R.sha224=R.sha.sha224,R.sha384=R.sha.sha384,R.sha512=R.sha.sha512,R.ripemd160=R.ripemd.ripemd160},66166:(s,G,N)=>{"use strict";var R=N(67426),I=N(43349);function P(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}G.BlockHash=P,P.prototype.update=function(c,d){if(c=R.toArray(c,d),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){c=this.pending;var f=c.length%this._delta8;this.pending=c.slice(c.length-f,c.length),this.pending.length===0&&(this.pending=null),c=R.join32(c,0,c.length-f,this.endian);for(var h=0;h<c.length;h+=this._delta32)this._update(c,h,h+this._delta32)}return this},P.prototype.digest=function(c){return this.update(this._pad()),I(this.pending===null),this._digest(c)},P.prototype._pad=function(){var c=this.pendingTotal,d=this._delta8,f=d-(c+this.padLength)%d,h=new Array(f+this.padLength);h[0]=128;for(var _=1;_<f;_++)h[_]=0;if(c<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)h[_++]=0;h[_++]=0,h[_++]=0,h[_++]=0,h[_++]=0,h[_++]=c>>>24&255,h[_++]=c>>>16&255,h[_++]=c>>>8&255,h[_++]=c&255}else for(h[_++]=c&255,h[_++]=c>>>8&255,h[_++]=c>>>16&255,h[_++]=c>>>24&255,h[_++]=0,h[_++]=0,h[_++]=0,h[_++]=0,y=8;y<this.padLength;y++)h[_++]=0;return h}},28948:(s,G,N)=>{"use strict";var R=N(67426),I=N(43349);function P(S,c,d){if(!(this instanceof P))return new P(S,c,d);this.Hash=S,this.blockSize=S.blockSize/8,this.outSize=S.outSize/8,this.inner=null,this.outer=null,this._init(R.toArray(c,d))}s.exports=P,P.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),I(c.length<=this.blockSize);for(var d=c.length;d<this.blockSize;d++)c.push(0);for(d=0;d<c.length;d++)c[d]^=54;for(this.inner=new this.Hash().update(c),d=0;d<c.length;d++)c[d]^=106;this.outer=new this.Hash().update(c)},P.prototype.update=function(c,d){return this.inner.update(c,d),this},P.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},46784:(s,G,N)=>{"use strict";var R=N(67426),I=N(66166),P=R.rotl32,S=R.sum32,c=R.sum32_3,d=R.sum32_4,f=I.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}R.inherits(h,f),G.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(E,D){for(var x=this.h[0],W=this.h[1],b=this.h[2],L=this.h[3],z=this.h[4],K=x,J=W,ie=b,Y=L,M=z,V=0;V<80;V++){var C=S(P(d(x,_(V,W,b,L),E[k[V]+D],y(V)),g[V]),z);x=z,z=L,L=P(b,10),b=W,W=C,C=S(P(d(K,_(79-V,J,ie,Y),E[m[V]+D],u(V)),p[V]),M),K=M,M=Y,Y=P(ie,10),ie=J,J=C}C=c(this.h[1],b,Y),this.h[1]=c(this.h[2],L,M),this.h[2]=c(this.h[3],z,K),this.h[3]=c(this.h[4],x,J),this.h[4]=c(this.h[0],W,ie),this.h[0]=C},h.prototype._digest=function(E){return E==="hex"?R.toHex32(this.h,"little"):R.split32(this.h,"little")};function _(T,E,D,x){return T<=15?E^D^x:T<=31?E&D|~E&x:T<=47?(E|~D)^x:T<=63?E&x|D&~x:E^(D|~x)}function y(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function u(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var k=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(s,G,N)=>{"use strict";G.sha1=N(43917),G.sha224=N(47714),G.sha256=N(2287),G.sha384=N(21911),G.sha512=N(57766)},43917:(s,G,N)=>{"use strict";var R=N(67426),I=N(66166),P=N(66225),S=R.rotl32,c=R.sum32,d=R.sum32_5,f=P.ft_1,h=I.BlockHash,_=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}R.inherits(y,h),s.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(k,m){for(var g=this.W,p=0;p<16;p++)g[p]=k[m+p];for(;p<g.length;p++)g[p]=S(g[p-3]^g[p-8]^g[p-14]^g[p-16],1);var T=this.h[0],E=this.h[1],D=this.h[2],x=this.h[3],W=this.h[4];for(p=0;p<g.length;p++){var b=~~(p/20),L=d(S(T,5),f(b,E,D,x),W,g[p],_[b]);W=x,x=D,D=S(E,30),E=T,T=L}this.h[0]=c(this.h[0],T),this.h[1]=c(this.h[1],E),this.h[2]=c(this.h[2],D),this.h[3]=c(this.h[3],x),this.h[4]=c(this.h[4],W)},y.prototype._digest=function(k){return k==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},47714:(s,G,N)=>{"use strict";var R=N(67426),I=N(2287);function P(){if(!(this instanceof P))return new P;I.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}R.inherits(P,I),s.exports=P,P.blockSize=512,P.outSize=224,P.hmacStrength=192,P.padLength=64,P.prototype._digest=function(c){return c==="hex"?R.toHex32(this.h.slice(0,7),"big"):R.split32(this.h.slice(0,7),"big")}},2287:(s,G,N)=>{"use strict";var R=N(67426),I=N(66166),P=N(66225),S=N(43349),c=R.sum32,d=R.sum32_4,f=R.sum32_5,h=P.ch32,_=P.maj32,y=P.s0_256,u=P.s1_256,k=P.g0_256,m=P.g1_256,g=I.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}R.inherits(T,g),s.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(D,x){for(var W=this.W,b=0;b<16;b++)W[b]=D[x+b];for(;b<W.length;b++)W[b]=d(m(W[b-2]),W[b-7],k(W[b-15]),W[b-16]);var L=this.h[0],z=this.h[1],K=this.h[2],J=this.h[3],ie=this.h[4],Y=this.h[5],M=this.h[6],V=this.h[7];for(S(this.k.length===W.length),b=0;b<W.length;b++){var C=f(V,u(ie),h(ie,Y,M),this.k[b],W[b]),l=c(y(L),_(L,z,K));V=M,M=Y,Y=ie,ie=c(J,C),J=K,K=z,z=L,L=c(C,l)}this.h[0]=c(this.h[0],L),this.h[1]=c(this.h[1],z),this.h[2]=c(this.h[2],K),this.h[3]=c(this.h[3],J),this.h[4]=c(this.h[4],ie),this.h[5]=c(this.h[5],Y),this.h[6]=c(this.h[6],M),this.h[7]=c(this.h[7],V)},T.prototype._digest=function(D){return D==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},21911:(s,G,N)=>{"use strict";var R=N(67426),I=N(57766);function P(){if(!(this instanceof P))return new P;I.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}R.inherits(P,I),s.exports=P,P.blockSize=1024,P.outSize=384,P.hmacStrength=192,P.padLength=128,P.prototype._digest=function(c){return c==="hex"?R.toHex32(this.h.slice(0,12),"big"):R.split32(this.h.slice(0,12),"big")}},57766:(s,G,N)=>{"use strict";var R=N(67426),I=N(66166),P=N(43349),S=R.rotr64_hi,c=R.rotr64_lo,d=R.shr64_hi,f=R.shr64_lo,h=R.sum64,_=R.sum64_hi,y=R.sum64_lo,u=R.sum64_4_hi,k=R.sum64_4_lo,m=R.sum64_5_hi,g=R.sum64_5_lo,p=I.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}R.inherits(E,p),s.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(l,w){for(var F=this.W,q=0;q<32;q++)F[q]=l[w+q];for(;q<F.length;q+=2){var j=M(F[q-4],F[q-3]),$=V(F[q-4],F[q-3]),Z=F[q-14],te=F[q-13],B=ie(F[q-30],F[q-29]),ae=Y(F[q-30],F[q-29]),xe=F[q-32],he=F[q-31];F[q]=u(j,$,Z,te,B,ae,xe,he),F[q+1]=k(j,$,Z,te,B,ae,xe,he)}},E.prototype._update=function(l,w){this._prepareBlock(l,w);var F=this.W,q=this.h[0],j=this.h[1],$=this.h[2],Z=this.h[3],te=this.h[4],B=this.h[5],ae=this.h[6],xe=this.h[7],he=this.h[8],Ne=this.h[9],Te=this.h[10],X=this.h[11],ee=this.h[12],ce=this.h[13],me=this.h[14],ke=this.h[15];P(this.k.length===F.length);for(var U=0;U<F.length;U+=2){var O=me,oe=ke,ge=K(he,Ne),we=J(he,Ne),ve=D(he,Ne,Te,X,ee,ce),Pe=x(he,Ne,Te,X,ee,ce),Le=this.k[U],He=this.k[U+1],wt=F[U],ze=F[U+1],et=m(O,oe,ge,we,ve,Pe,Le,He,wt,ze),gt=g(O,oe,ge,we,ve,Pe,Le,He,wt,ze);O=L(q,j),oe=z(q,j),ge=W(q,j,$,Z,te,B),we=b(q,j,$,Z,te,B);var de=_(O,oe,ge,we),ne=y(O,oe,ge,we);me=ee,ke=ce,ee=Te,ce=X,Te=he,X=Ne,he=_(ae,xe,et,gt),Ne=y(xe,xe,et,gt),ae=te,xe=B,te=$,B=Z,$=q,Z=j,q=_(et,gt,de,ne),j=y(et,gt,de,ne)}h(this.h,0,q,j),h(this.h,2,$,Z),h(this.h,4,te,B),h(this.h,6,ae,xe),h(this.h,8,he,Ne),h(this.h,10,Te,X),h(this.h,12,ee,ce),h(this.h,14,me,ke)},E.prototype._digest=function(l){return l==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")};function D(C,l,w,F,q){var j=C&w^~C&q;return j<0&&(j+=4294967296),j}function x(C,l,w,F,q,j){var $=l&F^~l&j;return $<0&&($+=4294967296),$}function W(C,l,w,F,q){var j=C&w^C&q^w&q;return j<0&&(j+=4294967296),j}function b(C,l,w,F,q,j){var $=l&F^l&j^F&j;return $<0&&($+=4294967296),$}function L(C,l){var w=S(C,l,28),F=S(l,C,2),q=S(l,C,7),j=w^F^q;return j<0&&(j+=4294967296),j}function z(C,l){var w=c(C,l,28),F=c(l,C,2),q=c(l,C,7),j=w^F^q;return j<0&&(j+=4294967296),j}function K(C,l){var w=S(C,l,14),F=S(C,l,18),q=S(l,C,9),j=w^F^q;return j<0&&(j+=4294967296),j}function J(C,l){var w=c(C,l,14),F=c(C,l,18),q=c(l,C,9),j=w^F^q;return j<0&&(j+=4294967296),j}function ie(C,l){var w=S(C,l,1),F=S(C,l,8),q=d(C,l,7),j=w^F^q;return j<0&&(j+=4294967296),j}function Y(C,l){var w=c(C,l,1),F=c(C,l,8),q=f(C,l,7),j=w^F^q;return j<0&&(j+=4294967296),j}function M(C,l){var w=S(C,l,19),F=S(l,C,29),q=d(C,l,6),j=w^F^q;return j<0&&(j+=4294967296),j}function V(C,l){var w=c(C,l,19),F=c(l,C,29),q=f(C,l,6),j=w^F^q;return j<0&&(j+=4294967296),j}},66225:(s,G,N)=>{"use strict";var R=N(67426),I=R.rotr32;function P(u,k,m,g){if(u===0)return S(k,m,g);if(u===1||u===3)return d(k,m,g);if(u===2)return c(k,m,g)}G.ft_1=P;function S(u,k,m){return u&k^~u&m}G.ch32=S;function c(u,k,m){return u&k^u&m^k&m}G.maj32=c;function d(u,k,m){return u^k^m}G.p32=d;function f(u){return I(u,2)^I(u,13)^I(u,22)}G.s0_256=f;function h(u){return I(u,6)^I(u,11)^I(u,25)}G.s1_256=h;function _(u){return I(u,7)^I(u,18)^u>>>3}G.g0_256=_;function y(u){return I(u,17)^I(u,19)^u>>>10}G.g1_256=y},67426:(s,G,N)=>{"use strict";var R=N(43349),I=N(56698);G.inherits=I;function P(V,C){return(V.charCodeAt(C)&64512)!==55296||C<0||C+1>=V.length?!1:(V.charCodeAt(C+1)&64512)===56320}function S(V,C){if(Array.isArray(V))return V.slice();if(!V)return[];var l=[];if(typeof V=="string")if(C){if(C==="hex")for(V=V.replace(/[^a-z0-9]+/ig,""),V.length%2!==0&&(V="0"+V),F=0;F<V.length;F+=2)l.push(parseInt(V[F]+V[F+1],16))}else for(var w=0,F=0;F<V.length;F++){var q=V.charCodeAt(F);q<128?l[w++]=q:q<2048?(l[w++]=q>>6|192,l[w++]=q&63|128):P(V,F)?(q=65536+((q&1023)<<10)+(V.charCodeAt(++F)&1023),l[w++]=q>>18|240,l[w++]=q>>12&63|128,l[w++]=q>>6&63|128,l[w++]=q&63|128):(l[w++]=q>>12|224,l[w++]=q>>6&63|128,l[w++]=q&63|128)}else for(F=0;F<V.length;F++)l[F]=V[F]|0;return l}G.toArray=S;function c(V){for(var C="",l=0;l<V.length;l++)C+=h(V[l].toString(16));return C}G.toHex=c;function d(V){var C=V>>>24|V>>>8&65280|V<<8&16711680|(V&255)<<24;return C>>>0}G.htonl=d;function f(V,C){for(var l="",w=0;w<V.length;w++){var F=V[w];C==="little"&&(F=d(F)),l+=_(F.toString(16))}return l}G.toHex32=f;function h(V){return V.length===1?"0"+V:V}G.zero2=h;function _(V){return V.length===7?"0"+V:V.length===6?"00"+V:V.length===5?"000"+V:V.length===4?"0000"+V:V.length===3?"00000"+V:V.length===2?"000000"+V:V.length===1?"0000000"+V:V}G.zero8=_;function y(V,C,l,w){var F=l-C;R(F%4===0);for(var q=new Array(F/4),j=0,$=C;j<q.length;j++,$+=4){var Z;w==="big"?Z=V[$]<<24|V[$+1]<<16|V[$+2]<<8|V[$+3]:Z=V[$+3]<<24|V[$+2]<<16|V[$+1]<<8|V[$],q[j]=Z>>>0}return q}G.join32=y;function u(V,C){for(var l=new Array(V.length*4),w=0,F=0;w<V.length;w++,F+=4){var q=V[w];C==="big"?(l[F]=q>>>24,l[F+1]=q>>>16&255,l[F+2]=q>>>8&255,l[F+3]=q&255):(l[F+3]=q>>>24,l[F+2]=q>>>16&255,l[F+1]=q>>>8&255,l[F]=q&255)}return l}G.split32=u;function k(V,C){return V>>>C|V<<32-C}G.rotr32=k;function m(V,C){return V<<C|V>>>32-C}G.rotl32=m;function g(V,C){return V+C>>>0}G.sum32=g;function p(V,C,l){return V+C+l>>>0}G.sum32_3=p;function T(V,C,l,w){return V+C+l+w>>>0}G.sum32_4=T;function E(V,C,l,w,F){return V+C+l+w+F>>>0}G.sum32_5=E;function D(V,C,l,w){var F=V[C],q=V[C+1],j=w+q>>>0,$=(j<w?1:0)+l+F;V[C]=$>>>0,V[C+1]=j}G.sum64=D;function x(V,C,l,w){var F=C+w>>>0,q=(F<C?1:0)+V+l;return q>>>0}G.sum64_hi=x;function W(V,C,l,w){var F=C+w;return F>>>0}G.sum64_lo=W;function b(V,C,l,w,F,q,j,$){var Z=0,te=C;te=te+w>>>0,Z+=te<C?1:0,te=te+q>>>0,Z+=te<q?1:0,te=te+$>>>0,Z+=te<$?1:0;var B=V+l+F+j+Z;return B>>>0}G.sum64_4_hi=b;function L(V,C,l,w,F,q,j,$){var Z=C+w+q+$;return Z>>>0}G.sum64_4_lo=L;function z(V,C,l,w,F,q,j,$,Z,te){var B=0,ae=C;ae=ae+w>>>0,B+=ae<C?1:0,ae=ae+q>>>0,B+=ae<q?1:0,ae=ae+$>>>0,B+=ae<$?1:0,ae=ae+te>>>0,B+=ae<te?1:0;var xe=V+l+F+j+Z+B;return xe>>>0}G.sum64_5_hi=z;function K(V,C,l,w,F,q,j,$,Z,te){var B=C+w+q+$+te;return B>>>0}G.sum64_5_lo=K;function J(V,C,l){var w=C<<32-l|V>>>l;return w>>>0}G.rotr64_hi=J;function ie(V,C,l){var w=V<<32-l|C>>>l;return w>>>0}G.rotr64_lo=ie;function Y(V,C,l){return V>>>l}G.shr64_hi=Y;function M(V,C,l){var w=V<<32-l|C>>>l;return w>>>0}G.shr64_lo=M},32723:(s,G,N)=>{"use strict";var R=N(77952),I=N(64367),P=N(43349);function S(c){if(!(this instanceof S))return new S(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=I.toArray(c.entropy,c.entropyEnc||"hex"),f=I.toArray(c.nonce,c.nonceEnc||"hex"),h=I.toArray(c.pers,c.persEnc||"hex");P(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,f,h)}s.exports=S,S.prototype._init=function(d,f,h){var _=d.concat(f).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var y=0;y<this.V.length;y++)this.K[y]=0,this.V[y]=1;this._update(_),this._reseed=1,this.reseedInterval=281474976710656},S.prototype._hmac=function(){return new R.hmac(this.hash,this.K)},S.prototype._update=function(d){var f=this._hmac().update(this.V).update([0]);d&&(f=f.update(d)),this.K=f.digest(),this.V=this._hmac().update(this.V).digest(),d&&(this.K=this._hmac().update(this.V).update([1]).update(d).digest(),this.V=this._hmac().update(this.V).digest())},S.prototype.reseed=function(d,f,h,_){typeof f!="string"&&(_=h,h=f,f=null),d=I.toArray(d,f),h=I.toArray(h,_),P(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(d.concat(h||[])),this._reseed=1},S.prototype.generate=function(d,f,h,_){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof f!="string"&&(_=h,h=f,f=null),h&&(h=I.toArray(h,_||"hex"),this._update(h));for(var y=[];y.length<d;)this.V=this._hmac().update(this.V).digest(),y=y.concat(this.V);var u=y.slice(0,d);return this._update(h),this._reseed++,I.encode(u,f)}},251:(s,G)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G.read=function(N,R,I,P,S){var c,d,f=S*8-P-1,h=(1<<f)-1,_=h>>1,y=-7,u=I?S-1:0,k=I?-1:1,m=N[R+u];for(u+=k,c=m&(1<<-y)-1,m>>=-y,y+=f;y>0;c=c*256+N[R+u],u+=k,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=P;y>0;d=d*256+N[R+u],u+=k,y-=8);if(c===0)c=1-_;else{if(c===h)return d?NaN:(m?-1:1)*(1/0);d=d+Math.pow(2,P),c=c-_}return(m?-1:1)*d*Math.pow(2,c-P)},G.write=function(N,R,I,P,S,c){var d,f,h,_=c*8-S-1,y=(1<<_)-1,u=y>>1,k=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=P?0:c-1,g=P?1:-1,p=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(f=isNaN(R)?1:0,d=y):(d=Math.floor(Math.log(R)/Math.LN2),R*(h=Math.pow(2,-d))<1&&(d--,h*=2),d+u>=1?R+=k/h:R+=k*Math.pow(2,1-u),R*h>=2&&(d++,h/=2),d+u>=y?(f=0,d=y):d+u>=1?(f=(R*h-1)*Math.pow(2,S),d=d+u):(f=R*Math.pow(2,u-1)*Math.pow(2,S),d=0));S>=8;N[I+m]=f&255,m+=g,f/=256,S-=8);for(d=d<<S|f,_+=S;_>0;N[I+m]=d&255,m+=g,d/=256,_-=8);N[I+m-g]|=p*128}},56698:s=>{typeof Object.create=="function"?s.exports=function(N,R){R&&(N.super_=R,N.prototype=Object.create(R.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(N,R){if(R){N.super_=R;var I=function(){};I.prototype=R.prototype,N.prototype=new I,N.prototype.constructor=N}}},69749:(s,G,N)=>{"use strict";const R=N(28799),I=Symbol("max"),P=Symbol("length"),S=Symbol("lengthCalculator"),c=Symbol("allowStale"),d=Symbol("maxAge"),f=Symbol("dispose"),h=Symbol("noDisposeOnSet"),_=Symbol("lruList"),y=Symbol("cache"),u=Symbol("updateAgeOnGet"),k=()=>1;class m{constructor(b){if(typeof b=="number"&&(b={max:b}),b||(b={}),b.max&&(typeof b.max!="number"||b.max<0))throw new TypeError("max must be a non-negative number");const L=this[I]=b.max||1/0,z=b.length||k;if(this[S]=typeof z!="function"?k:z,this[c]=b.stale||!1,b.maxAge&&typeof b.maxAge!="number")throw new TypeError("maxAge must be a number");this[d]=b.maxAge||0,this[f]=b.dispose,this[h]=b.noDisposeOnSet||!1,this[u]=b.updateAgeOnGet||!1,this.reset()}set max(b){if(typeof b!="number"||b<0)throw new TypeError("max must be a non-negative number");this[I]=b||1/0,T(this)}get max(){return this[I]}set allowStale(b){this[c]=!!b}get allowStale(){return this[c]}set maxAge(b){if(typeof b!="number")throw new TypeError("maxAge must be a non-negative number");this[d]=b,T(this)}get maxAge(){return this[d]}set lengthCalculator(b){typeof b!="function"&&(b=k),b!==this[S]&&(this[S]=b,this[P]=0,this[_].forEach(L=>{L.length=this[S](L.value,L.key),this[P]+=L.length})),T(this)}get lengthCalculator(){return this[S]}get length(){return this[P]}get itemCount(){return this[_].length}rforEach(b,L){L=L||this;for(let z=this[_].tail;z!==null;){const K=z.prev;x(this,b,z,L),z=K}}forEach(b,L){L=L||this;for(let z=this[_].head;z!==null;){const K=z.next;x(this,b,z,L),z=K}}keys(){return this[_].toArray().map(b=>b.key)}values(){return this[_].toArray().map(b=>b.value)}reset(){this[f]&&this[_]&&this[_].length&&this[_].forEach(b=>this[f](b.key,b.value)),this[y]=new Map,this[_]=new R,this[P]=0}dump(){return this[_].map(b=>p(this,b)?!1:{k:b.key,v:b.value,e:b.now+(b.maxAge||0)}).toArray().filter(b=>b)}dumpLru(){return this[_]}set(b,L,z){if(z=z||this[d],z&&typeof z!="number")throw new TypeError("maxAge must be a number");const K=z?Date.now():0,J=this[S](L,b);if(this[y].has(b)){if(J>this[I])return E(this,this[y].get(b)),!1;const M=this[y].get(b).value;return this[f]&&(this[h]||this[f](b,M.value)),M.now=K,M.maxAge=z,M.value=L,this[P]+=J-M.length,M.length=J,this.get(b),T(this),!0}const ie=new D(b,L,J,K,z);return ie.length>this[I]?(this[f]&&this[f](b,L),!1):(this[P]+=ie.length,this[_].unshift(ie),this[y].set(b,this[_].head),T(this),!0)}has(b){if(!this[y].has(b))return!1;const L=this[y].get(b).value;return!p(this,L)}get(b){return g(this,b,!0)}peek(b){return g(this,b,!1)}pop(){const b=this[_].tail;return b?(E(this,b),b.value):null}del(b){E(this,this[y].get(b))}load(b){this.reset();const L=Date.now();for(let z=b.length-1;z>=0;z--){const K=b[z],J=K.e||0;if(J===0)this.set(K.k,K.v);else{const ie=J-L;ie>0&&this.set(K.k,K.v,ie)}}}prune(){this[y].forEach((b,L)=>g(this,L,!1))}}const g=(W,b,L)=>{const z=W[y].get(b);if(z){const K=z.value;if(p(W,K)){if(E(W,z),!W[c])return}else L&&(W[u]&&(z.value.now=Date.now()),W[_].unshiftNode(z));return K.value}},p=(W,b)=>{if(!b||!b.maxAge&&!W[d])return!1;const L=Date.now()-b.now;return b.maxAge?L>b.maxAge:W[d]&&L>W[d]},T=W=>{if(W[P]>W[I])for(let b=W[_].tail;W[P]>W[I]&&b!==null;){const L=b.prev;E(W,b),b=L}},E=(W,b)=>{if(b){const L=b.value;W[f]&&W[f](L.key,L.value),W[P]-=L.length,W[y].delete(L.key),W[_].removeNode(b)}};class D{constructor(b,L,z,K,J){this.key=b,this.value=L,this.length=z,this.now=K,this.maxAge=J||0}}const x=(W,b,L,z)=>{let K=L.value;p(W,K)&&(E(W,L),W[c]||(K=void 0)),K&&b.call(z,K.value,K.key,W)};s.exports=m},88276:(s,G,N)=>{"use strict";var R=N(56698),I=N(4729),P=N(92861).Buffer,S=new Array(16);function c(){I.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}R(c,I),c.prototype._update=function(){for(var u=S,k=0;k<16;++k)u[k]=this._block.readInt32LE(k*4);var m=this._a,g=this._b,p=this._c,T=this._d;m=f(m,g,p,T,u[0],3614090360,7),T=f(T,m,g,p,u[1],3905402710,12),p=f(p,T,m,g,u[2],606105819,17),g=f(g,p,T,m,u[3],3250441966,22),m=f(m,g,p,T,u[4],4118548399,7),T=f(T,m,g,p,u[5],1200080426,12),p=f(p,T,m,g,u[6],2821735955,17),g=f(g,p,T,m,u[7],4249261313,22),m=f(m,g,p,T,u[8],1770035416,7),T=f(T,m,g,p,u[9],2336552879,12),p=f(p,T,m,g,u[10],4294925233,17),g=f(g,p,T,m,u[11],2304563134,22),m=f(m,g,p,T,u[12],1804603682,7),T=f(T,m,g,p,u[13],4254626195,12),p=f(p,T,m,g,u[14],2792965006,17),g=f(g,p,T,m,u[15],1236535329,22),m=h(m,g,p,T,u[1],4129170786,5),T=h(T,m,g,p,u[6],3225465664,9),p=h(p,T,m,g,u[11],643717713,14),g=h(g,p,T,m,u[0],3921069994,20),m=h(m,g,p,T,u[5],3593408605,5),T=h(T,m,g,p,u[10],38016083,9),p=h(p,T,m,g,u[15],3634488961,14),g=h(g,p,T,m,u[4],3889429448,20),m=h(m,g,p,T,u[9],568446438,5),T=h(T,m,g,p,u[14],3275163606,9),p=h(p,T,m,g,u[3],4107603335,14),g=h(g,p,T,m,u[8],1163531501,20),m=h(m,g,p,T,u[13],2850285829,5),T=h(T,m,g,p,u[2],4243563512,9),p=h(p,T,m,g,u[7],1735328473,14),g=h(g,p,T,m,u[12],2368359562,20),m=_(m,g,p,T,u[5],4294588738,4),T=_(T,m,g,p,u[8],2272392833,11),p=_(p,T,m,g,u[11],1839030562,16),g=_(g,p,T,m,u[14],4259657740,23),m=_(m,g,p,T,u[1],2763975236,4),T=_(T,m,g,p,u[4],1272893353,11),p=_(p,T,m,g,u[7],4139469664,16),g=_(g,p,T,m,u[10],3200236656,23),m=_(m,g,p,T,u[13],681279174,4),T=_(T,m,g,p,u[0],3936430074,11),p=_(p,T,m,g,u[3],3572445317,16),g=_(g,p,T,m,u[6],76029189,23),m=_(m,g,p,T,u[9],3654602809,4),T=_(T,m,g,p,u[12],3873151461,11),p=_(p,T,m,g,u[15],530742520,16),g=_(g,p,T,m,u[2],3299628645,23),m=y(m,g,p,T,u[0],4096336452,6),T=y(T,m,g,p,u[7],1126891415,10),p=y(p,T,m,g,u[14],2878612391,15),g=y(g,p,T,m,u[5],4237533241,21),m=y(m,g,p,T,u[12],1700485571,6),T=y(T,m,g,p,u[3],2399980690,10),p=y(p,T,m,g,u[10],4293915773,15),g=y(g,p,T,m,u[1],2240044497,21),m=y(m,g,p,T,u[8],1873313359,6),T=y(T,m,g,p,u[15],4264355552,10),p=y(p,T,m,g,u[6],2734768916,15),g=y(g,p,T,m,u[13],1309151649,21),m=y(m,g,p,T,u[4],4149444226,6),T=y(T,m,g,p,u[11],3174756917,10),p=y(p,T,m,g,u[2],718787259,15),g=y(g,p,T,m,u[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+p|0,this._d=this._d+T|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=P.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u};function d(u,k){return u<<k|u>>>32-k}function f(u,k,m,g,p,T,E){return d(u+(k&m|~k&g)+p+T|0,E)+k|0}function h(u,k,m,g,p,T,E){return d(u+(k&g|m&~g)+p+T|0,E)+k|0}function _(u,k,m,g,p,T,E){return d(u+(k^m^g)+p+T|0,E)+k|0}function y(u,k,m,g,p,T,E){return d(u+(m^(k|~g))+p+T|0,E)+k|0}s.exports=c},52244:(s,G,N)=>{var R=N(39404),I=N(15037);function P(S){this.rand=S||new I.Rand}s.exports=P,P.create=function(c){return new P(c)},P.prototype._randbelow=function(c){var d=c.bitLength(),f=Math.ceil(d/8);do var h=new R(this.rand.generate(f));while(h.cmp(c)>=0);return h},P.prototype._randrange=function(c,d){var f=d.sub(c);return c.add(this._randbelow(f))},P.prototype.test=function(c,d,f){var h=c.bitLength(),_=R.mont(c),y=new R(1).toRed(_);d||(d=Math.max(1,h/48|0));for(var u=c.subn(1),k=0;!u.testn(k);k++);for(var m=c.shrn(k),g=u.toRed(_),p=!0;d>0;d--){var T=this._randrange(new R(2),u);f&&f(T);var E=T.toRed(_).redPow(m);if(!(E.cmp(y)===0||E.cmp(g)===0)){for(var D=1;D<k;D++){if(E=E.redSqr(),E.cmp(y)===0)return!1;if(E.cmp(g)===0)break}if(D===k)return!1}}return p},P.prototype.getDivisor=function(c,d){var f=c.bitLength(),h=R.mont(c),_=new R(1).toRed(h);d||(d=Math.max(1,f/48|0));for(var y=c.subn(1),u=0;!y.testn(u);u++);for(var k=c.shrn(u),m=y.toRed(h);d>0;d--){var g=this._randrange(new R(2),y),p=c.gcd(g);if(p.cmpn(1)!==0)return p;var T=g.toRed(h).redPow(k);if(!(T.cmp(_)===0||T.cmp(m)===0)){for(var E=1;E<u;E++){if(T=T.redSqr(),T.cmp(_)===0)return T.fromRed().subn(1).gcd(c);if(T.cmp(m)===0)break}if(E===u)return T=T.redSqr(),T.fromRed().subn(1).gcd(c)}}return!1}},43349:s=>{s.exports=G;function G(N,R){if(!N)throw new Error(R||"Assertion failed")}G.equal=function(R,I,P){if(R!=I)throw new Error(P||"Assertion failed: "+R+" != "+I)}},64367:(s,G)=>{"use strict";var N=G;function R(S,c){if(Array.isArray(S))return S.slice();if(!S)return[];var d=[];if(typeof S!="string"){for(var f=0;f<S.length;f++)d[f]=S[f]|0;return d}if(c==="hex"){S=S.replace(/[^a-z0-9]+/ig,""),S.length%2!==0&&(S="0"+S);for(var f=0;f<S.length;f+=2)d.push(parseInt(S[f]+S[f+1],16))}else for(var f=0;f<S.length;f++){var h=S.charCodeAt(f),_=h>>8,y=h&255;_?d.push(_,y):d.push(y)}return d}N.toArray=R;function I(S){return S.length===1?"0"+S:S}N.zero2=I;function P(S){for(var c="",d=0;d<S.length;d++)c+=I(S[d].toString(16));return c}N.toHex=P,N.encode=function(c,d){return d==="hex"?P(c):c}},83519:(s,G,N)=>{var R=N(86587);s.exports=R(I),s.exports.strict=R(P),I.proto=I(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return I(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return P(this)},configurable:!0})});function I(S){var c=function(){return c.called?c.value:(c.called=!0,c.value=S.apply(this,arguments))};return c.called=!1,c}function P(S){var c=function(){if(c.called)throw new Error(c.onceError);return c.called=!0,c.value=S.apply(this,arguments)},d=S.name||"Function wrapped with `once`";return c.onceError=d+" shouldn't be called more than once",c.called=!1,c}},21137:(s,G,N)=>{"use strict";var R=N(87568);G.certificate=N(36413);var I=R.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});G.RSAPrivateKey=I;var P=R.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});G.RSAPublicKey=P;var S=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});G.PublicKey=S;var c=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=R.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});G.PrivateKey=d;var f=R.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});G.EncryptedPrivateKey=f;var h=R.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});G.DSAPrivateKey=h,G.DSAparam=R.define("DSAparam",function(){this.int()});var _=R.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});G.ECPrivateKey=_;var y=R.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});G.signature=R.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(s,G,N)=>{"use strict";var R=N(87568),I=R.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),P=R.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),S=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(S),this.key("subjectPublicKey").bitstr())}),d=R.define("RelativeDistinguishedName",function(){this.setof(P)}),f=R.define("RDNSequence",function(){this.seqof(d)}),h=R.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),_=R.define("Validity",function(){this.seq().obj(this.key("notBefore").use(I),this.key("notAfter").use(I))}),y=R.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=R.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(S),this.key("issuer").use(h),this.key("validity").use(_),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())}),k=R.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(S),this.key("signatureValue").bitstr())});s.exports=k},24101:(s,G,N)=>{var R=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,I=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,S=N(68078),c=N(1241),d=N(92861).Buffer;s.exports=function(f,h){var _=f.toString(),y=_.match(R),u;if(y){var m="aes"+y[1],g=d.from(y[2],"hex"),p=d.from(y[3].replace(/[\r\n]/g,""),"base64"),T=S(h,g.slice(0,8),parseInt(y[1],10)).key,E=[],D=c.createDecipheriv(m,T,g);E.push(D.update(p)),E.push(D.final()),u=d.concat(E)}else{var k=_.match(P);u=d.from(k[2].replace(/[\r\n]/g,""),"base64")}var x=_.match(I)[1];return{tag:x,data:u}}},78170:(s,G,N)=>{var R=N(21137),I=N(15579),P=N(24101),S=N(1241),c=N(78396),d=N(92861).Buffer;s.exports=f;function f(_){var y;typeof _=="object"&&!d.isBuffer(_)&&(y=_.passphrase,_=_.key),typeof _=="string"&&(_=d.from(_));var u=P(_,y),k=u.tag,m=u.data,g,p;switch(k){case"CERTIFICATE":p=R.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=R.PublicKey.decode(m,"der")),g=p.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return R.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=R.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=R.EncryptedPrivateKey.decode(m,"der"),m=h(m,y);case"PRIVATE KEY":switch(p=R.PrivateKey.decode(m,"der"),g=p.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return R.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:R.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=R.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return R.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return R.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:R.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return m=R.ECPrivateKey.decode(m,"der"),{curve:m.parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+k)}}f.signature=R.signature;function h(_,y){var u=_.algorithm.decrypt.kde.kdeparams.salt,k=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),m=I[_.algorithm.decrypt.cipher.algo.join(".")],g=_.algorithm.decrypt.cipher.iv,p=_.subjectPrivateKey,T=parseInt(m.split("-")[1],10)/8,E=c.pbkdf2Sync(y,u,k,T,"sha1"),D=S.createDecipheriv(m,E,g),x=[];return x.push(D.update(p)),x.push(D.final()),d.concat(x)}},57975:(s,G,N)=>{"use strict";var R=N(65606);function I(d){if(typeof d!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(d))}function P(d,f){for(var h="",_=0,y=-1,u=0,k,m=0;m<=d.length;++m){if(m<d.length)k=d.charCodeAt(m);else{if(k===47)break;k=47}if(k===47){if(!(y===m-1||u===1))if(y!==m-1&&u===2){if(h.length<2||_!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var g=h.lastIndexOf("/");if(g!==h.length-1){g===-1?(h="",_=0):(h=h.slice(0,g),_=h.length-1-h.lastIndexOf("/")),y=m,u=0;continue}}else if(h.length===2||h.length===1){h="",_=0,y=m,u=0;continue}}f&&(h.length>0?h+="/..":h="..",_=2)}else h.length>0?h+="/"+d.slice(y+1,m):h=d.slice(y+1,m),_=m-y-1;y=m,u=0}else k===46&&u!==-1?++u:u=-1}return h}function S(d,f){var h=f.dir||f.root,_=f.base||(f.name||"")+(f.ext||"");return h?h===f.root?h+_:h+d+_:_}var c={resolve:function(){for(var f="",h=!1,_,y=arguments.length-1;y>=-1&&!h;y--){var u;y>=0?u=arguments[y]:(_===void 0&&(_=R.cwd()),u=_),I(u),u.length!==0&&(f=u+"/"+f,h=u.charCodeAt(0)===47)}return f=P(f,!h),h?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(f){if(I(f),f.length===0)return".";var h=f.charCodeAt(0)===47,_=f.charCodeAt(f.length-1)===47;return f=P(f,!h),f.length===0&&!h&&(f="."),f.length>0&&_&&(f+="/"),h?"/"+f:f},isAbsolute:function(f){return I(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,h=0;h<arguments.length;++h){var _=arguments[h];I(_),_.length>0&&(f===void 0?f=_:f+="/"+_)}return f===void 0?".":c.normalize(f)},relative:function(f,h){if(I(f),I(h),f===h||(f=c.resolve(f),h=c.resolve(h),f===h))return"";for(var _=1;_<f.length&&f.charCodeAt(_)===47;++_);for(var y=f.length,u=y-_,k=1;k<h.length&&h.charCodeAt(k)===47;++k);for(var m=h.length,g=m-k,p=u<g?u:g,T=-1,E=0;E<=p;++E){if(E===p){if(g>p){if(h.charCodeAt(k+E)===47)return h.slice(k+E+1);if(E===0)return h.slice(k+E)}else u>p&&(f.charCodeAt(_+E)===47?T=E:E===0&&(T=0));break}var D=f.charCodeAt(_+E),x=h.charCodeAt(k+E);if(D!==x)break;D===47&&(T=E)}var W="";for(E=_+T+1;E<=y;++E)(E===y||f.charCodeAt(E)===47)&&(W.length===0?W+="..":W+="/..");return W.length>0?W+h.slice(k+T):(k+=T,h.charCodeAt(k)===47&&++k,h.slice(k))},_makeLong:function(f){return f},dirname:function(f){if(I(f),f.length===0)return".";for(var h=f.charCodeAt(0),_=h===47,y=-1,u=!0,k=f.length-1;k>=1;--k)if(h=f.charCodeAt(k),h===47){if(!u){y=k;break}}else u=!1;return y===-1?_?"/":".":_&&y===1?"//":f.slice(0,y)},basename:function(f,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');I(f);var _=0,y=-1,u=!0,k;if(h!==void 0&&h.length>0&&h.length<=f.length){if(h.length===f.length&&h===f)return"";var m=h.length-1,g=-1;for(k=f.length-1;k>=0;--k){var p=f.charCodeAt(k);if(p===47){if(!u){_=k+1;break}}else g===-1&&(u=!1,g=k+1),m>=0&&(p===h.charCodeAt(m)?--m===-1&&(y=k):(m=-1,y=g))}return _===y?y=g:y===-1&&(y=f.length),f.slice(_,y)}else{for(k=f.length-1;k>=0;--k)if(f.charCodeAt(k)===47){if(!u){_=k+1;break}}else y===-1&&(u=!1,y=k+1);return y===-1?"":f.slice(_,y)}},extname:function(f){I(f);for(var h=-1,_=0,y=-1,u=!0,k=0,m=f.length-1;m>=0;--m){var g=f.charCodeAt(m);if(g===47){if(!u){_=m+1;break}continue}y===-1&&(u=!1,y=m+1),g===46?h===-1?h=m:k!==1&&(k=1):h!==-1&&(k=-1)}return h===-1||y===-1||k===0||k===1&&h===y-1&&h===_+1?"":f.slice(h,y)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return S("/",f)},parse:function(f){I(f);var h={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return h;var _=f.charCodeAt(0),y=_===47,u;y?(h.root="/",u=1):u=0;for(var k=-1,m=0,g=-1,p=!0,T=f.length-1,E=0;T>=u;--T){if(_=f.charCodeAt(T),_===47){if(!p){m=T+1;break}continue}g===-1&&(p=!1,g=T+1),_===46?k===-1?k=T:E!==1&&(E=1):k!==-1&&(E=-1)}return k===-1||g===-1||E===0||E===1&&k===g-1&&k===m+1?g!==-1&&(m===0&&y?h.base=h.name=f.slice(1,g):h.base=h.name=f.slice(m,g)):(m===0&&y?(h.name=f.slice(1,k),h.base=f.slice(1,g)):(h.name=f.slice(m,k),h.base=f.slice(m,g)),h.ext=f.slice(k,g)),m>0?h.dir=f.slice(0,m-1):y&&(h.dir="/"),h},sep:"/",delimiter:":",win32:null,posix:null};c.posix=c,s.exports=c},78396:(s,G,N)=>{G.pbkdf2=N(43832),G.pbkdf2Sync=N(21352)},43832:(s,G,N)=>{var R=N(92861).Buffer,I=N(64196),P=N(2455),S=N(21352),c=N(93382),d,f=N.g.crypto&&N.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_=[];function y(p){if(N.g.process&&!N.g.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(_[p]!==void 0)return _[p];d=d||R.alloc(8);var T=m(d,d,10,128,p).then(function(){return!0}).catch(function(){return!1});return _[p]=T,T}var u;function k(){return u||(N.g.process&&N.g.process.nextTick?u=N.g.process.nextTick:N.g.queueMicrotask?u=N.g.queueMicrotask:N.g.setImmediate?u=N.g.setImmediate:u=N.g.setTimeout,u)}function m(p,T,E,D,x){return f.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function(W){return f.deriveBits({name:"PBKDF2",salt:T,iterations:E,hash:{name:x}},W,D<<3)}).then(function(W){return R.from(W)})}function g(p,T){p.then(function(E){k()(function(){T(null,E)})},function(E){k()(function(){T(E)})})}s.exports=function(p,T,E,D,x,W){typeof x=="function"&&(W=x,x=void 0),x=x||"sha1";var b=h[x.toLowerCase()];if(!b||typeof N.g.Promise!="function"){k()(function(){var L;try{L=S(p,T,E,D,x)}catch(z){return W(z)}W(null,L)});return}if(I(E,D),p=c(p,P,"Password"),T=c(T,P,"Salt"),typeof W!="function")throw new Error("No callback provided to pbkdf2");g(y(b).then(function(L){return L?m(p,T,E,D,b):S(p,T,E,D,x)}),W)}},2455:(s,G,N)=>{var R=N(65606),I;if(N.g.process&&N.g.process.browser)I="utf-8";else if(N.g.process&&N.g.process.version){var P=parseInt(R.version.split(".")[0].slice(1),10);I=P>=6?"utf-8":"binary"}else I="utf-8";s.exports=I},64196:s=>{var G=Math.pow(2,30)-1;s.exports=function(N,R){if(typeof N!="number")throw new TypeError("Iterations not a number");if(N<0)throw new TypeError("Bad iterations");if(typeof R!="number")throw new TypeError("Key length not a number");if(R<0||R>G||R!==R)throw new TypeError("Bad key length")}},21352:(s,G,N)=>{var R=N(20320),I=N(66011),P=N(62802),S=N(92861).Buffer,c=N(64196),d=N(2455),f=N(93382),h=S.alloc(128),_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(m,g,p){var T=u(m),E=m==="sha512"||m==="sha384"?128:64;g.length>E?g=T(g):g.length<E&&(g=S.concat([g,h],E));for(var D=S.allocUnsafe(E+_[m]),x=S.allocUnsafe(E+_[m]),W=0;W<E;W++)D[W]=g[W]^54,x[W]=g[W]^92;var b=S.allocUnsafe(E+p+4);D.copy(b,0,0,E),this.ipad1=b,this.ipad2=D,this.opad=x,this.alg=m,this.blocksize=E,this.hash=T,this.size=_[m]}y.prototype.run=function(m,g){m.copy(g,this.blocksize);var p=this.hash(g);return p.copy(this.opad,this.blocksize),this.hash(this.opad)};function u(m){function g(T){return P(m).update(T).digest()}function p(T){return new I().update(T).digest()}return m==="rmd160"||m==="ripemd160"?p:m==="md5"?R:g}function k(m,g,p,T,E){c(p,T),m=f(m,d,"Password"),g=f(g,d,"Salt"),E=E||"sha1";var D=new y(E,m,g.length),x=S.allocUnsafe(T),W=S.allocUnsafe(g.length+4);g.copy(W,0,0,g.length);for(var b=0,L=_[E],z=Math.ceil(T/L),K=1;K<=z;K++){W.writeUInt32BE(K,g.length);for(var J=D.run(W,D.ipad1),ie=J,Y=1;Y<p;Y++){ie=D.run(ie,D.ipad2);for(var M=0;M<L;M++)J[M]^=ie[M]}J.copy(x,b),b+=L}return x}s.exports=k},93382:(s,G,N)=>{var R=N(92861).Buffer;s.exports=function(I,P,S){if(R.isBuffer(I))return I;if(typeof I=="string")return R.from(I,P);if(ArrayBuffer.isView(I))return R.from(I.buffer);throw new TypeError(S+" must be a string, a Buffer, a typed array or a DataView")}},65606:s=>{var G=s.exports={},N,R;function I(){throw new Error("setTimeout has not been defined")}function P(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?N=setTimeout:N=I}catch{N=I}try{typeof clearTimeout=="function"?R=clearTimeout:R=P}catch{R=P}})();function S(g){if(N===setTimeout)return setTimeout(g,0);if((N===I||!N)&&setTimeout)return N=setTimeout,setTimeout(g,0);try{return N(g,0)}catch{try{return N.call(null,g,0)}catch{return N.call(this,g,0)}}}function c(g){if(R===clearTimeout)return clearTimeout(g);if((R===P||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(g);try{return R(g)}catch{try{return R.call(null,g)}catch{return R.call(this,g)}}}var d=[],f=!1,h,_=-1;function y(){!f||!h||(f=!1,h.length?d=h.concat(d):_=-1,d.length&&u())}function u(){if(!f){var g=S(y);f=!0;for(var p=d.length;p;){for(h=d,d=[];++_<p;)h&&h[_].run();_=-1,p=d.length}h=null,f=!1,c(g)}}G.nextTick=function(g){var p=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)p[T-1]=arguments[T];d.push(new k(g,p)),d.length===1&&!f&&S(u)};function k(g,p){this.fun=g,this.array=p}k.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function m(){}G.on=m,G.addListener=m,G.once=m,G.off=m,G.removeListener=m,G.removeAllListeners=m,G.emit=m,G.prependListener=m,G.prependOnceListener=m,G.listeners=function(g){return[]},G.binding=function(g){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(g){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}},97168:(s,G,N)=>{G.publicEncrypt=N(28902),G.privateDecrypt=N(77362),G.privateEncrypt=function(I,P){return G.publicEncrypt(I,P,!0)},G.publicDecrypt=function(I,P){return G.privateDecrypt(I,P,!0)}},48206:(s,G,N)=>{var R=N(47108),I=N(92861).Buffer;s.exports=function(S,c){for(var d=I.alloc(0),f=0,h;d.length<c;)h=P(f++),d=I.concat([d,R("sha1").update(S).update(h).digest()]);return d.slice(0,c)};function P(S){var c=I.allocUnsafe(4);return c.writeUInt32BE(S,0),c}},77362:(s,G,N)=>{var R=N(78170),I=N(48206),P=N(52061),S=N(39404),c=N(67332),d=N(47108),f=N(99247),h=N(92861).Buffer;s.exports=function(m,g,p){var T;m.padding?T=m.padding:p?T=1:T=4;var E=R(m),D=E.modulus.byteLength();if(g.length>D||new S(g).cmp(E.modulus)>=0)throw new Error("decryption error");var x;p?x=f(new S(g),E):x=c(g,E);var W=h.alloc(D-x.length);if(x=h.concat([W,x],D),T===4)return _(E,x);if(T===1)return y(E,x,p);if(T===3)return x;throw new Error("unknown padding")};function _(k,m){var g=k.modulus.byteLength(),p=d("sha1").update(h.alloc(0)).digest(),T=p.length;if(m[0]!==0)throw new Error("decryption error");var E=m.slice(1,T+1),D=m.slice(T+1),x=P(E,I(D,T)),W=P(D,I(x,g-T-1));if(u(p,W.slice(0,T)))throw new Error("decryption error");for(var b=T;W[b]===0;)b++;if(W[b++]!==1)throw new Error("decryption error");return W.slice(b)}function y(k,m,g){for(var p=m.slice(0,2),T=2,E=0;m[T++]!==0;)if(T>=m.length){E++;break}var D=m.slice(2,T-1);if((p.toString("hex")!=="0002"&&!g||p.toString("hex")!=="0001"&&g)&&E++,D.length<8&&E++,E)throw new Error("decryption error");return m.slice(T)}function u(k,m){k=h.from(k),m=h.from(m);var g=0,p=k.length;k.length!==m.length&&(g++,p=Math.min(k.length,m.length));for(var T=-1;++T<p;)g+=k[T]^m[T];return g}},28902:(s,G,N)=>{var R=N(78170),I=N(53209),P=N(47108),S=N(48206),c=N(52061),d=N(39404),f=N(99247),h=N(67332),_=N(92861).Buffer;s.exports=function(g,p,T){var E;g.padding?E=g.padding:T?E=1:E=4;var D=R(g),x;if(E===4)x=y(D,p);else if(E===1)x=u(D,p,T);else if(E===3){if(x=new d(p),x.cmp(D.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return T?h(x,D):f(x,D)};function y(m,g){var p=m.modulus.byteLength(),T=g.length,E=P("sha1").update(_.alloc(0)).digest(),D=E.length,x=2*D;if(T>p-x-2)throw new Error("message too long");var W=_.alloc(p-T-x-2),b=p-D-1,L=I(D),z=c(_.concat([E,W,_.alloc(1,1),g],b),S(L,b)),K=c(L,S(z,D));return new d(_.concat([_.alloc(1),K,z],p))}function u(m,g,p){var T=g.length,E=m.modulus.byteLength();if(T>E-11)throw new Error("message too long");var D;return p?D=_.alloc(E-T-3,255):D=k(E-T-3),new d(_.concat([_.from([0,p?1:2]),D,_.alloc(1),g],E))}function k(m){for(var g=_.allocUnsafe(m),p=0,T=I(m*2),E=0,D;p<m;)E===T.length&&(T=I(m*2),E=0),D=T[E++],D&&(g[p++]=D);return g}},99247:(s,G,N)=>{var R=N(39404),I=N(92861).Buffer;function P(S,c){return I.from(S.toRed(R.mont(c.modulus)).redPow(new R(c.publicExponent)).fromRed().toArray())}s.exports=P},52061:s=>{s.exports=function(N,R){for(var I=N.length,P=-1;++P<I;)N[P]^=R[P];return N}},53209:(s,G,N)=>{"use strict";var R=N(65606),I=65536,P=4294967295;function S(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var c=N(92861).Buffer,d=N.g.crypto||N.g.msCrypto;d&&d.getRandomValues?s.exports=f:s.exports=S;function f(h,_){if(h>P)throw new RangeError("requested too many random bytes");var y=c.allocUnsafe(h);if(h>0)if(h>I)for(var u=0;u<h;u+=I)d.getRandomValues(y.slice(u,u+I));else d.getRandomValues(y);return typeof _=="function"?R.nextTick(function(){_(null,y)}):y}},76983:(s,G,N)=>{"use strict";var R=N(65606);function I(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var P=N(92861),S=N(53209),c=P.Buffer,d=P.kMaxLength,f=N.g.crypto||N.g.msCrypto,h=Math.pow(2,32)-1;function _(g,p){if(typeof g!="number"||g!==g)throw new TypeError("offset must be a number");if(g>h||g<0)throw new TypeError("offset must be a uint32");if(g>d||g>p)throw new RangeError("offset out of range")}function y(g,p,T){if(typeof g!="number"||g!==g)throw new TypeError("size must be a number");if(g>h||g<0)throw new TypeError("size must be a uint32");if(g+p>T||g>d)throw new RangeError("buffer too small")}f&&f.getRandomValues||!R.browser?(G.randomFill=u,G.randomFillSync=m):(G.randomFill=I,G.randomFillSync=I);function u(g,p,T,E){if(!c.isBuffer(g)&&!(g instanceof N.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")E=p,p=0,T=g.length;else if(typeof T=="function")E=T,T=g.length-p;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return _(p,g.length),y(T,p,g.length),k(g,p,T,E)}function k(g,p,T,E){if(R.browser){var D=g.buffer,x=new Uint8Array(D,p,T);if(f.getRandomValues(x),E){R.nextTick(function(){E(null,g)});return}return g}if(E){S(T,function(b,L){if(b)return E(b);L.copy(g,p),E(null,g)});return}var W=S(T);return W.copy(g,p),g}function m(g,p,T){if(typeof p=="undefined"&&(p=0),!c.isBuffer(g)&&!(g instanceof N.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return _(p,g.length),T===void 0&&(T=g.length-p),y(T,p,g.length),k(g,p,T)}},66011:(s,G,N)=>{"use strict";var R=N(48287).Buffer,I=N(56698),P=N(4729),S=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function u(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}I(u,P),u.prototype._update=function(){for(var D=S,x=0;x<16;++x)D[x]=this._block.readInt32LE(x*4);for(var W=this._a|0,b=this._b|0,L=this._c|0,z=this._d|0,K=this._e|0,J=this._a|0,ie=this._b|0,Y=this._c|0,M=this._d|0,V=this._e|0,C=0;C<80;C+=1){var l,w;C<16?(l=m(W,b,L,z,K,D[c[C]],_[0],f[C]),w=E(J,ie,Y,M,V,D[d[C]],y[0],h[C])):C<32?(l=g(W,b,L,z,K,D[c[C]],_[1],f[C]),w=T(J,ie,Y,M,V,D[d[C]],y[1],h[C])):C<48?(l=p(W,b,L,z,K,D[c[C]],_[2],f[C]),w=p(J,ie,Y,M,V,D[d[C]],y[2],h[C])):C<64?(l=T(W,b,L,z,K,D[c[C]],_[3],f[C]),w=g(J,ie,Y,M,V,D[d[C]],y[3],h[C])):(l=E(W,b,L,z,K,D[c[C]],_[4],f[C]),w=m(J,ie,Y,M,V,D[d[C]],y[4],h[C])),W=K,K=z,z=k(L,10),L=b,b=l,J=V,V=M,M=k(Y,10),Y=ie,ie=w}var F=this._b+L+M|0;this._b=this._c+z+V|0,this._c=this._d+K+J|0,this._d=this._e+W+ie|0,this._e=this._a+b+Y|0,this._a=F},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=R.alloc?R.alloc(20):new R(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D};function k(D,x){return D<<x|D>>>32-x}function m(D,x,W,b,L,z,K,J){return k(D+(x^W^b)+z+K|0,J)+L|0}function g(D,x,W,b,L,z,K,J){return k(D+(x&W|~x&b)+z+K|0,J)+L|0}function p(D,x,W,b,L,z,K,J){return k(D+((x|~W)^b)+z+K|0,J)+L|0}function T(D,x,W,b,L,z,K,J){return k(D+(x&b|W&~b)+z+K|0,J)+L|0}function E(D,x,W,b,L,z,K,J){return k(D+(x^(W|~b))+z+K|0,J)+L|0}s.exports=u},92861:(s,G,N)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var R=N(48287),I=R.Buffer;function P(c,d){for(var f in c)d[f]=c[f]}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?s.exports=R:(P(R,G),G.Buffer=S);function S(c,d,f){return I(c,d,f)}S.prototype=Object.create(I.prototype),P(I,S),S.from=function(c,d,f){if(typeof c=="number")throw new TypeError("Argument must not be a number");return I(c,d,f)},S.alloc=function(c,d,f){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=I(c);return d!==void 0?typeof f=="string"?h.fill(d,f):h.fill(d):h.fill(0),h},S.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return I(c)},S.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(c)}},54774:(s,G,N)=>{"use strict";var R=N(65606),I=N(48287),P=I.Buffer,S={},c;for(c in I)I.hasOwnProperty(c)&&(c==="SlowBuffer"||c==="Buffer"||(S[c]=I[c]));var d=S.Buffer={};for(c in P)P.hasOwnProperty(c)&&(c==="allocUnsafe"||c==="allocUnsafeSlow"||(d[c]=P[c]));if(S.Buffer.prototype=P.prototype,(!d.from||d.from===Uint8Array.from)&&(d.from=function(f,h,_){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&typeof f.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return P(f,h,_)}),d.alloc||(d.alloc=function(f,h,_){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2147483648)throw new RangeError('The value "'+f+'" is invalid for option "size"');var y=P(f);return!h||h.length===0?y.fill(0):typeof _=="string"?y.fill(h,_):y.fill(h),y}),!S.kStringMaxLength)try{S.kStringMaxLength=R.binding("buffer").kStringMaxLength}catch{}S.constants||(S.constants={MAX_LENGTH:S.kMaxLength},S.kStringMaxLength&&(S.constants.MAX_STRING_LENGTH=S.kStringMaxLength)),s.exports=S},90392:(s,G,N)=>{var R=N(92861).Buffer;function I(P,S){this._block=R.alloc(P),this._finalSize=S,this._blockSize=P,this._len=0}I.prototype.update=function(P,S){typeof P=="string"&&(S=S||"utf8",P=R.from(P,S));for(var c=this._block,d=this._blockSize,f=P.length,h=this._len,_=0;_<f;){for(var y=h%d,u=Math.min(f-_,d-y),k=0;k<u;k++)c[y+k]=P[_+k];h+=u,_+=u,h%d===0&&this._update(c)}return this._len+=f,this},I.prototype.digest=function(P){var S=this._len%this._blockSize;this._block[S]=128,this._block.fill(0,S+1),S>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=this._len*8;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var d=(c&4294967295)>>>0,f=(c-d)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var h=this._hash();return P?h.toString(P):h},I.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=I},62802:(s,G,N)=>{var R=s.exports=function(P){P=P.toLowerCase();var S=R[P];if(!S)throw new Error(P+" is not supported (we accept pull requests)");return new S};R.sha=N(27816),R.sha1=N(63737),R.sha224=N(26710),R.sha256=N(24107),R.sha384=N(32827),R.sha512=N(82890)},27816:(s,G,N)=>{var R=N(56698),I=N(90392),P=N(92861).Buffer,S=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function d(){this.init(),this._w=c,I.call(this,64,56)}R(d,I),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(y){return y<<5|y>>>27}function h(y){return y<<30|y>>>2}function _(y,u,k,m){return y===0?u&k|~u&m:y===2?u&k|u&m|k&m:u^k^m}d.prototype._update=function(y){for(var u=this._w,k=this._a|0,m=this._b|0,g=this._c|0,p=this._d|0,T=this._e|0,E=0;E<16;++E)u[E]=y.readInt32BE(E*4);for(;E<80;++E)u[E]=u[E-3]^u[E-8]^u[E-14]^u[E-16];for(var D=0;D<80;++D){var x=~~(D/20),W=f(k)+_(x,m,g,p)+T+u[D]+S[x]|0;T=p,p=g,g=h(m),m=k,k=W}this._a=k+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=p+this._d|0,this._e=T+this._e|0},d.prototype._hash=function(){var y=P.allocUnsafe(20);return y.writeInt32BE(this._a|0,0),y.writeInt32BE(this._b|0,4),y.writeInt32BE(this._c|0,8),y.writeInt32BE(this._d|0,12),y.writeInt32BE(this._e|0,16),y},s.exports=d},63737:(s,G,N)=>{var R=N(56698),I=N(90392),P=N(92861).Buffer,S=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function d(){this.init(),this._w=c,I.call(this,64,56)}R(d,I),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function f(u){return u<<1|u>>>31}function h(u){return u<<5|u>>>27}function _(u){return u<<30|u>>>2}function y(u,k,m,g){return u===0?k&m|~k&g:u===2?k&m|k&g|m&g:k^m^g}d.prototype._update=function(u){for(var k=this._w,m=this._a|0,g=this._b|0,p=this._c|0,T=this._d|0,E=this._e|0,D=0;D<16;++D)k[D]=u.readInt32BE(D*4);for(;D<80;++D)k[D]=f(k[D-3]^k[D-8]^k[D-14]^k[D-16]);for(var x=0;x<80;++x){var W=~~(x/20),b=h(m)+y(W,g,p,T)+E+k[x]+S[W]|0;E=T,T=p,p=_(g),g=m,m=b}this._a=m+this._a|0,this._b=g+this._b|0,this._c=p+this._c|0,this._d=T+this._d|0,this._e=E+this._e|0},d.prototype._hash=function(){var u=P.allocUnsafe(20);return u.writeInt32BE(this._a|0,0),u.writeInt32BE(this._b|0,4),u.writeInt32BE(this._c|0,8),u.writeInt32BE(this._d|0,12),u.writeInt32BE(this._e|0,16),u},s.exports=d},26710:(s,G,N)=>{var R=N(56698),I=N(24107),P=N(90392),S=N(92861).Buffer,c=new Array(64);function d(){this.init(),this._w=c,P.call(this,64,56)}R(d,I),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var f=S.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=d},24107:(s,G,N)=>{var R=N(56698),I=N(90392),P=N(92861).Buffer,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function d(){this.init(),this._w=c,I.call(this,64,56)}R(d,I),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function f(m,g,p){return p^m&(g^p)}function h(m,g,p){return m&g|p&(m|g)}function _(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function y(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function u(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}function k(m){return(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10}d.prototype._update=function(m){for(var g=this._w,p=this._a|0,T=this._b|0,E=this._c|0,D=this._d|0,x=this._e|0,W=this._f|0,b=this._g|0,L=this._h|0,z=0;z<16;++z)g[z]=m.readInt32BE(z*4);for(;z<64;++z)g[z]=k(g[z-2])+g[z-7]+u(g[z-15])+g[z-16]|0;for(var K=0;K<64;++K){var J=L+y(x)+f(x,W,b)+S[K]+g[K]|0,ie=_(p)+h(p,T,E)|0;L=b,b=W,W=x,x=D+J|0,D=E,E=T,T=p,p=J+ie|0}this._a=p+this._a|0,this._b=T+this._b|0,this._c=E+this._c|0,this._d=D+this._d|0,this._e=x+this._e|0,this._f=W+this._f|0,this._g=b+this._g|0,this._h=L+this._h|0},d.prototype._hash=function(){var m=P.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},s.exports=d},32827:(s,G,N)=>{var R=N(56698),I=N(82890),P=N(90392),S=N(92861).Buffer,c=new Array(160);function d(){this.init(),this._w=c,P.call(this,128,112)}R(d,I),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var f=S.allocUnsafe(48);function h(_,y,u){f.writeInt32BE(_,u),f.writeInt32BE(y,u+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=d},82890:(s,G,N)=>{var R=N(56698),I=N(90392),P=N(92861).Buffer,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function d(){this.init(),this._w=c,I.call(this,128,112)}R(d,I),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function f(T,E,D){return D^T&(E^D)}function h(T,E,D){return T&E|D&(T|E)}function _(T,E){return(T>>>28|E<<4)^(E>>>2|T<<30)^(E>>>7|T<<25)}function y(T,E){return(T>>>14|E<<18)^(T>>>18|E<<14)^(E>>>9|T<<23)}function u(T,E){return(T>>>1|E<<31)^(T>>>8|E<<24)^T>>>7}function k(T,E){return(T>>>1|E<<31)^(T>>>8|E<<24)^(T>>>7|E<<25)}function m(T,E){return(T>>>19|E<<13)^(E>>>29|T<<3)^T>>>6}function g(T,E){return(T>>>19|E<<13)^(E>>>29|T<<3)^(T>>>6|E<<26)}function p(T,E){return T>>>0<E>>>0?1:0}d.prototype._update=function(T){for(var E=this._w,D=this._ah|0,x=this._bh|0,W=this._ch|0,b=this._dh|0,L=this._eh|0,z=this._fh|0,K=this._gh|0,J=this._hh|0,ie=this._al|0,Y=this._bl|0,M=this._cl|0,V=this._dl|0,C=this._el|0,l=this._fl|0,w=this._gl|0,F=this._hl|0,q=0;q<32;q+=2)E[q]=T.readInt32BE(q*4),E[q+1]=T.readInt32BE(q*4+4);for(;q<160;q+=2){var j=E[q-30],$=E[q-15*2+1],Z=u(j,$),te=k($,j);j=E[q-4],$=E[q-4+1];var B=m(j,$),ae=g($,j),xe=E[q-7*2],he=E[q-7*2+1],Ne=E[q-16*2],Te=E[q-16*2+1],X=te+he|0,ee=Z+xe+p(X,te)|0;X=X+ae|0,ee=ee+B+p(X,ae)|0,X=X+Te|0,ee=ee+Ne+p(X,Te)|0,E[q]=ee,E[q+1]=X}for(var ce=0;ce<160;ce+=2){ee=E[ce],X=E[ce+1];var me=h(D,x,W),ke=h(ie,Y,M),U=_(D,ie),O=_(ie,D),oe=y(L,C),ge=y(C,L),we=S[ce],ve=S[ce+1],Pe=f(L,z,K),Le=f(C,l,w),He=F+ge|0,wt=J+oe+p(He,F)|0;He=He+Le|0,wt=wt+Pe+p(He,Le)|0,He=He+ve|0,wt=wt+we+p(He,ve)|0,He=He+X|0,wt=wt+ee+p(He,X)|0;var ze=O+ke|0,et=U+me+p(ze,O)|0;J=K,F=w,K=z,w=l,z=L,l=C,C=V+He|0,L=b+wt+p(C,V)|0,b=W,V=M,W=x,M=Y,x=D,Y=ie,ie=He+ze|0,D=wt+et+p(ie,He)|0}this._al=this._al+ie|0,this._bl=this._bl+Y|0,this._cl=this._cl+M|0,this._dl=this._dl+V|0,this._el=this._el+C|0,this._fl=this._fl+l|0,this._gl=this._gl+w|0,this._hl=this._hl+F|0,this._ah=this._ah+D+p(this._al,ie)|0,this._bh=this._bh+x+p(this._bl,Y)|0,this._ch=this._ch+W+p(this._cl,M)|0,this._dh=this._dh+b+p(this._dl,V)|0,this._eh=this._eh+L+p(this._el,C)|0,this._fh=this._fh+z+p(this._fl,l)|0,this._gh=this._gh+K+p(this._gl,w)|0,this._hh=this._hh+J+p(this._hl,F)|0},d.prototype._hash=function(){var T=P.allocUnsafe(64);function E(D,x,W){T.writeInt32BE(D,W),T.writeInt32BE(x,W+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),T},s.exports=d},1182:(s,G,N)=>{"use strict";const R=N(38601),I=/\s/,P=/\r|\n/,S=/^(Host|Match)$/i,c=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,d=/^(?:CertificateFile|IdentityFile|User)$/i,f=/^(Include|IdentityFile)$/i,h=1,_=2,y=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function u(g,p){return p.hasOwnProperty(g.param)&&p[g.param]===g.value}function k(g){for(const p of g)if(S.test(p.param)){for(const T of p.config)if(T.before)return T.before}return"  "}class m extends Array{compute(p){const T={},E=(D,x)=>{y.includes(D)?(T[D]||(T[D]=[])).push(x):T[D]==null&&(T[D]=x)};for(const D of this)D.type===h&&(D.param==="Host"?R(D.value,p)&&(E(D.param,D.value),D.config.filter(x=>x.type===h).forEach(x=>E(x.param,x.value))):D.param==="Match"||E(D.param,D.value));return T}find(p={}){if(typeof p=="function")return super.find(p);if(!(p&&("Host"in p||"Match"in p)))throw new Error("Can only find by Host or Match");return super.find(T=>u(T,p))}remove(p={}){if(!(p&&("Host"in p||"Match"in p)))throw new Error("Can only remove by Host or Match");const T=typeof p=="function"?super.findIndex(p):super.findIndex(E=>u(E,p));if(T>=0)return this.splice(T,1)}toString(){return this.constructor.stringify(this)}append(p){const T=k(this),E=this.length>0?this[this.length-1]:null;let D=E&&E.config||this,x=this,W=D.length>0?D[D.length-1]:E;W&&!W.after&&(W.after=`
`);for(const b in p){const L={type:h,param:b,separator:" ",value:p[b],before:"",after:`
`};S.test(b)?(D=x,W&&W.after===`
`&&(W.after+=`
`),D.push(L),D=L.config=new m):(L.before=D===x?"":T,D.push(L)),W=L}return x}prepend(p,T=!1){const E=k(this);let D=this,x=0;if(T){for(;x<this.length&&!S.test(this[x].param);)x+=1;if(x>=this.length)return this.append(p)}let W=!1,b=0;for(const L in p){b+=1;const z={type:h,param:L,separator:" ",value:p[L],before:"",after:`
`};if(S.test(L)){D.splice(x,0,z),D=z.config=new m,W=!0;continue}if(b===Object.keys(p).length&&(z.after+=`
`),!W){D.splice(x,0,z),x+=1,f.test(L)&&(z.after+=`
`);continue}z.before=E,D.push(z)}return D}static stringify(p){let T="";function E(W,b){return Array.isArray(W)?W.map(L=>E(L,I.test(L))).join(" "):b?`"${W}"`:W}function D(W){const b=W.quoted||d.test(W.param)&&I.test(W.value),L=E(W.value,b);return`${W.param}${W.separator}${L}`}const x=W=>{T+=W.before,W.type===_?T+=W.content:W.type===h&&y.includes(W.param)?[].concat(W.value).forEach(function(b,L,z){T+=D({...W,value:b}),L<z.length-1&&(T+=`
${W.before}`)}):W.type===h&&(T+=D(W)),T+=W.after,W.config&&W.config.forEach(x)};return p.forEach(x),T}static get DIRECTIVE(){return h}static get COMMENT(){return _}static parse(p){let T=0,E=W(),D=new m,x=D;function W(){return p[T++]}function b(){let C="";for(;I.test(E);)C+=E,E=W();return C}function L(){let C="";for(;P.test(E);)C+=E,E=W();return C}function z(){let C="";for(;E&&/[^ \t=]/.test(E);)C+=E,E=W();return C}function K(){let C=b();return E==="="&&(C+=E,E=W()),C+b()}function J(){let C="",l=!1,w=!1;for(;E&&!P.test(E);)w?(C+=E==='"'?E:`\\${E}`,w=!1):E==='"'&&(!C||l)?l=!l:E==="\\"?w=!0:C+=E,E=W();if(l||w)throw new Error(`Unexpected line break at ${C}`);return C.trim()}function ie(){const C=_;let l="";for(;E&&!P.test(E);)l+=E,E=W();return{type:C,content:l}}function Y(){const C=[];let l="",w=!1,F=!1;for(;E&&!P.test(E);)F?(l+=E==='"'?E:`\\${E}`,F=!1):E==='"'?w=!w:E==="\\"?F=!0:w?l+=E:/[ \t]/.test(E)?l&&(C.push(l),l=""):l+=E,E=W();if(w||F)throw new Error(`Unexpected line break at ${C.concat(l).join(" ")}`);return l&&C.push(l),C.length>1?C:C[0]}function M(){const C=h,l=z(),w=c.test(l),F={type:C,param:l,separator:K(),quoted:!w&&E==='"',value:w?Y():J()};return F.quoted||delete F.quoted,F}function V(){const C=b(),l=E==="#"?ie():M(),w=L();return l.before=C,l.after=w,l}for(;E;){let C=V();C.type===h&&S.test(C.param)?(D=x,D.push(C),D=C.config=new m):D.push(C)}return x}}s.exports=m},38601:s=>{"use strict";function G(I,P){for(let S of P)I=I.replace(new RegExp("\\"+S,"g"),"\\"+S);return I}function N(I,P){return I=G(I,"\\()[]{}.+^$|"),I=I.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+I+")$").test(P)}function R(I,P){const S=Array.isArray(I)?I:I.split(/,/);let c=!1;for(const d of S){if(d[0]=="!"&&N(d.slice(1),P))return!1;N(d,P)&&(c=!0)}return c}s.exports=R},88310:(s,G,N)=>{s.exports=P;var R=N(37007).EventEmitter,I=N(56698);I(P,R),P.Readable=N(46891),P.Writable=N(81999),P.Duplex=N(88101),P.Transform=N(59083),P.PassThrough=N(3681),P.finished=N(14257),P.pipeline=N(5267),P.Stream=P;function P(){R.call(this)}P.prototype.pipe=function(S,c){var d=this;function f(g){S.writable&&S.write(g)===!1&&d.pause&&d.pause()}d.on("data",f);function h(){d.readable&&d.resume&&d.resume()}S.on("drain",h),!S._isStdio&&(!c||c.end!==!1)&&(d.on("end",y),d.on("close",u));var _=!1;function y(){_||(_=!0,S.end())}function u(){_||(_=!0,typeof S.destroy=="function"&&S.destroy())}function k(g){if(m(),R.listenerCount(this,"error")===0)throw g}d.on("error",k),S.on("error",k);function m(){d.removeListener("data",f),S.removeListener("drain",h),d.removeListener("end",y),d.removeListener("close",u),d.removeListener("error",k),S.removeListener("error",k),d.removeListener("end",m),d.removeListener("close",m),S.removeListener("close",m)}return d.on("end",m),d.on("close",m),S.on("close",m),S.emit("pipe",d),S}},12463:s=>{"use strict";function G(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f}var N={};function R(d,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var y=function(u){G(k,u);function k(m,g,p){return u.call(this,_(m,g,p))||this}return k}(h);y.prototype.name=h.name,y.prototype.code=d,N[d]=y}function I(d,f){if(Array.isArray(d)){var h=d.length;return d=d.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(d.slice(0,h-1).join(", "),", or ")+d[h-1]:h===2?"one of ".concat(f," ").concat(d[0]," or ").concat(d[1]):"of ".concat(f," ").concat(d[0])}else return"of ".concat(f," ").concat(String(d))}function P(d,f,h){return d.substr(!h||h<0?0:+h,f.length)===f}function S(d,f,h){return(h===void 0||h>d.length)&&(h=d.length),d.substring(h-f.length,h)===f}function c(d,f,h){return typeof h!="number"&&(h=0),h+f.length>d.length?!1:d.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(d,f){return'The value "'+f+'" is invalid for option "'+d+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(d,f,h){var _;typeof f=="string"&&P(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var y;if(S(d," argument"))y="The ".concat(d," ").concat(_," ").concat(I(f,"type"));else{var u=c(d,".")?"property":"argument";y='The "'.concat(d,'" ').concat(u," ").concat(_," ").concat(I(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=N},88101:(s,G,N)=>{"use strict";var R=N(65606),I=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var P=N(46891),S=N(81999);N(56698)(h,P);for(var c=I(S.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},3681:(s,G,N)=>{"use strict";s.exports=I;var R=N(59083);N(56698)(I,R);function I(P){if(!(this instanceof I))return new I(P);R.call(this,P)}I.prototype._transform=function(P,S,c){c(null,P)}},46891:(s,G,N)=>{"use strict";var R=N(65606);s.exports=M;var I;M.ReadableState=Y;var P=N(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},c=N(41396),d=N(48287).Buffer,f=N.g.Uint8Array||function(){};function h(U){return d.from(U)}function _(U){return d.isBuffer(U)||U instanceof f}var y=N(77199),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var k=N(81766),m=N(54347),g=N(66644),p=g.getHighWaterMark,T=N(12463).F,E=T.ERR_INVALID_ARG_TYPE,D=T.ERR_STREAM_PUSH_AFTER_EOF,x=T.ERR_METHOD_NOT_IMPLEMENTED,W=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;N(56698)(M,c);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){I=I||N(88101),U=U||{},typeof oe!="boolean"&&(oe=O instanceof I),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=N(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(I=I||N(88101),!(this instanceof M))return new M(U);var O=this instanceof I;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=d.from(U,O),O=""),ge=!0),V(this,U,O,!1,ge)},M.prototype.unshift=function(U){return V(this,U,null,!0,!1)};function V(U,O,oe,ge,we){u("readableAddChunk",O);var ve=U._readableState;if(O===null)ve.reading=!1,j(U,ve);else{var Pe;if(we||(Pe=l(ve,O)),Pe)K(U,Pe);else if(ve.objectMode||O&&O.length>0)if(typeof O!="string"&&!ve.objectMode&&Object.getPrototypeOf(O)!==d.prototype&&(O=h(O)),ge)ve.endEmitted?K(U,new W):C(U,ve,O,!0);else if(ve.ended)K(U,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!oe?(O=ve.decoder.write(O),ve.objectMode||O.length!==0?C(U,ve,O,!1):te(U,ve)):C(U,ve,O,!1)}else ge||(ve.reading=!1,te(U,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function C(U,O,oe,ge){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ge?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&$(U)),te(U,O)}function l(U,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=N(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var w=1073741824;function F(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=F(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?ce(this):$(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&ce(this),null;var ge=O.needReadable;u("need readable",ge),(O.length===0||O.length-U<O.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),O.ended||O.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&ce(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?$(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function $(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new x("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=U;break;case 1:ge.pipes=[ge.pipes,U];break;default:ge.pipes.push(U);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,ve=we?Le:se;ge.endEmitted?R.nextTick(ve):oe.once("end",ve),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,ze())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var wt=!1;function ze(){u("cleanup"),U.removeListener("close",de),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",gt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",et),wt=!0,ge.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",et);function et(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ge.pipesCount===1&&ge.pipes===U||ge.pipesCount>1&&ke(ge.pipes,U)!==-1)&&!wt&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function gt(be){u("onerror",be),se(),U.removeListener("error",gt),S(U,"error")===0&&K(U,be)}ie(U,"error",gt);function de(){U.removeListener("finish",ne),se()}U.once("close",de);function ne(){u("onfinish"),U.removeListener("close",de),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ge=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ve=0;ve<we;ve++)ge[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=ke(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=c.prototype.on.call(this,U,O),ge=this._readableState;return U==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):U==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?$(this):ge.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=c.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=c.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ne(this,U)),U.paused=!1,this};function Ne(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Te,U,O))}function Te(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ge=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ge=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var ve=0;ve<J.length;ve++)U.on(J[ve],this.emit.bind(this,J[ve]));return this._read=function(Pe){u("wrapped _read",Pe),ge&&(ge=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=N(65034)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function ce(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=N(90968)),z(M,U,O)});function ke(U,O){for(var oe=0,ge=U.length;oe<ge;oe++)if(U[oe]===O)return oe;return-1}},59083:(s,G,N)=>{"use strict";s.exports=h;var R=N(12463).F,I=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,d=N(88101);N(56698)(h,d);function f(u,k){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);d.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){y(u,k,m)}):y(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,d.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new I("_transform()"))},h.prototype._write=function(u,k,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=k,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){d.prototype._destroy.call(this,u,function(m){k(m)})};function y(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new S;return u.push(null)}},81999:(s,G,N)=>{"use strict";var R=N(65606);s.exports=Y;function I(X,ee,ce){this.chunk=X,this.encoding=ee,this.callback=ce,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Te(ee,X)}}var S;Y.WritableState=J;var c={deprecate:N(94643)},d=N(41396),f=N(48287).Buffer,h=N.g.Uint8Array||function(){};function _(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=N(54347),k=N(66644),m=k.getHighWaterMark,g=N(12463).F,p=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,D=g.ERR_STREAM_CANNOT_PIPE,x=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;N(56698)(Y,d);function K(){}function J(X,ee,ce){S=S||N(88101),X=X||{},typeof ce!="boolean"&&(ce=ee instanceof S),this.objectMode=!!X.objectMode,ce&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){j(ee,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(J.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||N(88101);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),d.call(this)}Y.prototype.pipe=function(){z(this,new D)};function M(X,ee){var ce=new b;z(X,ce),R.nextTick(ee,ce)}function V(X,ee,ce,me){var ke;return ce===null?ke=new W:typeof ce!="string"&&!ee.objectMode&&(ke=new p("chunk",["string","Buffer"],ce)),ke?(z(X,ke),R.nextTick(me,ke),!1):!0}Y.prototype.write=function(X,ee,ce){var me=this._writableState,ke=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=_(X)),typeof ee=="function"&&(ce=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(U||V(this,me,X,ce))&&(me.pendingcb++,ke=l(this,me,U,X,ee,ce)),ke},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,ce){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,ce)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,ce,me,ke,U){if(!ce){var O=C(ee,me,ke);me!==O&&(ce=!0,ke="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ge=ee.length<ee.highWaterMark;if(ge||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:ke,isBuf:ce,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,ke,U);return ge}function w(X,ee,ce,me,ke,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new x("write")):ce?X._writev(ke,ee.onwrite):X._write(ke,U,ee.onwrite),ee.sync=!1}function F(X,ee,ce,me,ke){--ee.pendingcb,ce?(R.nextTick(ke,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(ke(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var ce=X._writableState,me=ce.sync,ke=ce.writecb;if(typeof ke!="function")throw new E;if(q(ce),ee)F(X,ce,me,ee,ke);else{var U=B(ce)||X.destroyed;!U&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(X,ce),me?R.nextTick($,X,ce,U,ke):$(X,ce,U,ke)}}function $(X,ee,ce,me){ce||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(X._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,ke=new Array(me),U=ee.corkedRequestsFree;U.entry=ce;for(var O=0,oe=!0;ce;)ke[O]=ce,ce.isBuf||(oe=!1),ce=ce.next,O+=1;ke.allBuffers=oe,w(X,ee,!0,ee.length,ke,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,we=ce.encoding,ve=ce.callback,Pe=ee.objectMode?1:ge.length;if(w(X,ee,!1,Pe,ge,we,ve),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,ce){ce(new T("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,ce){var me=this._writableState;return typeof X=="function"?(ce=X,X=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ne(this,me,ce),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(ce){ee.pendingcb--,ce&&z(X,ce),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var ce=B(ee);if(ce&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return ce}function Ne(X,ee,ce){ee.ending=!0,he(X,ee),ce&&(ee.finished?R.nextTick(ce):X.once("finish",ce)),ee.ended=!0,X.writable=!1}function Te(X,ee,ce){var me=X.entry;for(X.entry=null;me;){var ke=me.callback;ee.pendingcb--,ke(ce),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},65034:(s,G,N)=>{"use strict";var R=N(65606),I;function P(x,W,b){return W in x?Object.defineProperty(x,W,{value:b,enumerable:!0,configurable:!0,writable:!0}):x[W]=b,x}var S=N(14257),c=Symbol("lastResolve"),d=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),y=Symbol("handlePromise"),u=Symbol("stream");function k(x,W){return{value:x,done:W}}function m(x){var W=x[c];if(W!==null){var b=x[u].read();b!==null&&(x[_]=null,x[c]=null,x[d]=null,W(k(b,!1)))}}function g(x){R.nextTick(m,x)}function p(x,W){return function(b,L){x.then(function(){if(W[h]){b(k(void 0,!0));return}W[y](b,L)},L)}}var T=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((I={get stream(){return this[u]},next:function(){var W=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(k(void 0,!0));if(this[u].destroyed)return new Promise(function(J,ie){R.nextTick(function(){W[f]?ie(W[f]):J(k(void 0,!0))})});var L=this[_],z;if(L)z=new Promise(p(L,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(k(K,!1));z=new Promise(this[y])}return this[_]=z,z}},P(I,Symbol.asyncIterator,function(){return this}),P(I,"return",function(){var W=this;return new Promise(function(b,L){W[u].destroy(null,function(z){if(z){L(z);return}b(k(void 0,!0))})})}),I),T),D=function(W){var b,L=Object.create(E,(b={},P(b,u,{value:W,writable:!0}),P(b,c,{value:null,writable:!0}),P(b,d,{value:null,writable:!0}),P(b,f,{value:null,writable:!0}),P(b,h,{value:W._readableState.endEmitted,writable:!0}),P(b,y,{value:function(K,J){var ie=L[u].read();ie?(L[_]=null,L[c]=null,L[d]=null,K(k(ie,!1))):(L[c]=K,L[d]=J)},writable:!0}),b));return L[_]=null,S(W,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=L[d];K!==null&&(L[_]=null,L[c]=null,L[d]=null,K(z)),L[f]=z;return}var J=L[c];J!==null&&(L[_]=null,L[c]=null,L[d]=null,J(k(void 0,!0))),L[h]=!0}),W.on("readable",g.bind(null,L)),L};s.exports=D},81766:(s,G,N)=>{"use strict";function R(m,g){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),p.push.apply(p,T)}return p}function I(m){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?R(Object(p),!0).forEach(function(T){P(m,T,p[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):R(Object(p)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(p,T))})}return m}function P(m,g,p){return g in m?Object.defineProperty(m,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[g]=p,m}function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){for(var p=0;p<g.length;p++){var T=g[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function d(m,g,p){return g&&c(m.prototype,g),p&&c(m,p),m}var f=N(48287),h=f.Buffer,_=N(63779),y=_.inspect,u=y&&y.custom||"inspect";function k(m,g,p){h.prototype.copy.call(m,g,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return d(m,[{key:"push",value:function(p){var T={data:p,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(p){var T={data:p,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var T=this.head,E=""+T.data;T=T.next;)E+=p+T.data;return E}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var T=h.allocUnsafe(p>>>0),E=this.head,D=0;E;)k(E.data,T,D),D+=E.data.length,E=E.next;return T}},{key:"consume",value:function(p,T){var E;return p<this.head.data.length?(E=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?E=this.shift():E=T?this._getString(p):this._getBuffer(p),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var T=this.head,E=1,D=T.data;for(p-=D.length;T=T.next;){var x=T.data,W=p>x.length?x.length:p;if(W===x.length?D+=x:D+=x.slice(0,p),p-=W,p===0){W===x.length?(++E,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=x.slice(W));break}++E}return this.length-=E,D}},{key:"_getBuffer",value:function(p){var T=h.allocUnsafe(p),E=this.head,D=1;for(E.data.copy(T),p-=E.data.length;E=E.next;){var x=E.data,W=p>x.length?x.length:p;if(x.copy(T,T.length-p,0,W),p-=W,p===0){W===x.length?(++D,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=x.slice(W));break}++D}return this.length-=D,T}},{key:u,value:function(p,T){return y(this,I({},T,{depth:0,customInspect:!1}))}}]),m}()},54347:(s,G,N)=>{"use strict";var R=N(65606);function I(h,_){var y=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(d,this,h)):R.nextTick(d,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):_?(R.nextTick(S,y),_(m)):R.nextTick(S,y)}),this)}function P(h,_){d(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(h,_){h.emit("error",_)}function f(h,_){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:I,undestroy:c,errorOrDestroy:f}},14257:(s,G,N)=>{"use strict";var R=N(12463).F.ERR_STREAM_PREMATURE_CLOSE;function I(d){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),y=0;y<h;y++)_[y]=arguments[y];d.apply(this,_)}}}function P(){}function S(d){return d.setHeader&&typeof d.abort=="function"}function c(d,f,h){if(typeof f=="function")return c(d,null,f);f||(f={}),h=I(h||P);var _=f.readable||f.readable!==!1&&d.readable,y=f.writable||f.writable!==!1&&d.writable,u=function(){d.writable||m()},k=d._writableState&&d._writableState.finished,m=function(){y=!1,k=!0,_||h.call(d)},g=d._readableState&&d._readableState.endEmitted,p=function(){_=!1,g=!0,y||h.call(d)},T=function(W){h.call(d,W)},E=function(){var W;if(_&&!g)return(!d._readableState||!d._readableState.ended)&&(W=new R),h.call(d,W);if(y&&!k)return(!d._writableState||!d._writableState.ended)&&(W=new R),h.call(d,W)},D=function(){d.req.on("finish",m)};return S(d)?(d.on("complete",m),d.on("abort",E),d.req?D():d.on("request",D)):y&&!d._writableState&&(d.on("end",u),d.on("close",u)),d.on("end",p),d.on("finish",m),f.error!==!1&&d.on("error",T),d.on("close",E),function(){d.removeListener("complete",m),d.removeListener("abort",E),d.removeListener("request",D),d.req&&d.req.removeListener("finish",m),d.removeListener("end",u),d.removeListener("close",u),d.removeListener("finish",m),d.removeListener("end",p),d.removeListener("error",T),d.removeListener("close",E)}}s.exports=c},90968:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(s,G,N)=>{"use strict";var R;function I(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=N(12463).F,S=P.ERR_MISSING_ARGS,c=P.ERR_STREAM_DESTROYED;function d(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,T){T=I(T);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=N(14257)),R(m,{readable:g,writable:p},function(x){if(x)return T(x);E=!0,T()});var D=!1;return function(x){if(!E&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(x||new c("pipe"))}}}function _(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?d:m.pop()}function k(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,D=g.map(function(x,W){var b=W<g.length-1,L=W>0;return h(x,b,L,function(z){E||(E=z),z&&D.forEach(_),!b&&(D.forEach(_),T(E))})});return g.reduce(y)}s.exports=k},66644:(s,G,N)=>{"use strict";var R=N(12463).F.ERR_INVALID_OPT_VALUE;function I(S,c,d){return S.highWaterMark!=null?S.highWaterMark:c?S[d]:null}function P(S,c,d,f){var h=I(c,f,d);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?d:"highWaterMark";throw new R(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},41396:(s,G,N)=>{s.exports=N(37007).EventEmitter},11568:(s,G,N)=>{var R=N(55537),I=N(6917),P=N(57510),S=N(86866),c=N(59817),d=G;d.request=function(f,h){typeof f=="string"?f=c.parse(f):f=P(f);var _=N.g.location.protocol.search(/^https?:$/)===-1?"http:":"",y=f.protocol||_,u=f.hostname||f.host,k=f.port,m=f.path||"/";u&&u.indexOf(":")!==-1&&(u="["+u+"]"),f.url=(u?y+"//"+u:"")+(k?":"+k:"")+m,f.method=(f.method||"GET").toUpperCase(),f.headers=f.headers||{};var g=new R(f);return h&&g.on("response",h),g},d.get=function(h,_){var y=d.request(h,_);return y.end(),y},d.ClientRequest=R,d.IncomingMessage=I.IncomingMessage,d.Agent=function(){},d.Agent.defaultMaxSockets=4,d.globalAgent=new d.Agent,d.STATUS_CODES=S,d.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(s,G,N)=>{G.fetch=S(N.g.fetch)&&S(N.g.ReadableStream),G.writableStream=S(N.g.WritableStream),G.abortController=S(N.g.AbortController);var R;function I(){if(R!==void 0)return R;if(N.g.XMLHttpRequest){R=new N.g.XMLHttpRequest;try{R.open("GET",N.g.XDomainRequest?"/":"https://example.com")}catch{R=null}}else R=null;return R}function P(c){var d=I();if(!d)return!1;try{return d.responseType=c,d.responseType===c}catch{}return!1}G.arraybuffer=G.fetch||P("arraybuffer"),G.msstream=!G.fetch&&P("ms-stream"),G.mozchunkedarraybuffer=!G.fetch&&P("moz-chunked-arraybuffer"),G.overrideMimeType=G.fetch||(I()?S(I().overrideMimeType):!1);function S(c){return typeof c=="function"}R=null},55537:(s,G,N)=>{var R=N(65606),I=N(6688),P=N(56698),S=N(6917),c=N(63242),d=S.IncomingMessage,f=S.readyStates;function h(k,m){return I.fetch&&m?"fetch":I.mozchunkedarraybuffer?"moz-chunked-arraybuffer":I.msstream?"ms-stream":I.arraybuffer&&k?"arraybuffer":"text"}var _=s.exports=function(k){var m=this;c.Writable.call(m),m._opts=k,m._body=[],m._headers={},k.auth&&m.setHeader("Authorization","Basic "+Buffer.from(k.auth).toString("base64")),Object.keys(k.headers).forEach(function(T){m.setHeader(T,k.headers[T])});var g,p=!0;if(k.mode==="disable-fetch"||"requestTimeout"in k&&!I.abortController)p=!1,g=!0;else if(k.mode==="prefer-streaming")g=!1;else if(k.mode==="allow-wrong-content-type")g=!I.overrideMimeType;else if(!k.mode||k.mode==="default"||k.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=h(g,p),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};P(_,c.Writable),_.prototype.setHeader=function(k,m){var g=this,p=k.toLowerCase();u.indexOf(p)===-1&&(g._headers[p]={name:k,value:m})},_.prototype.getHeader=function(k){var m=this._headers[k.toLowerCase()];return m?m.value:null},_.prototype.removeHeader=function(k){var m=this;delete m._headers[k.toLowerCase()]},_.prototype._onFinish=function(){var k=this;if(!k._destroyed){var m=k._opts;"timeout"in m&&m.timeout!==0&&k.setTimeout(m.timeout);var g=k._headers,p=null;m.method!=="GET"&&m.method!=="HEAD"&&(p=new Blob(k._body,{type:(g["content-type"]||{}).value||""}));var T=[];if(Object.keys(g).forEach(function(W){var b=g[W].name,L=g[W].value;Array.isArray(L)?L.forEach(function(z){T.push([b,z])}):T.push([b,L])}),k._mode==="fetch"){var E=null;if(I.abortController){var D=new AbortController;E=D.signal,k._fetchAbortController=D,"requestTimeout"in m&&m.requestTimeout!==0&&(k._fetchTimer=N.g.setTimeout(function(){k.emit("requestTimeout"),k._fetchAbortController&&k._fetchAbortController.abort()},m.requestTimeout))}N.g.fetch(k._opts.url,{method:k._opts.method,headers:T,body:p||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:E}).then(function(W){k._fetchResponse=W,k._resetTimers(!1),k._connect()},function(W){k._resetTimers(!0),k._destroyed||k.emit("error",W)})}else{var x=k._xhr=new N.g.XMLHttpRequest;try{x.open(k._opts.method,k._opts.url,!0)}catch(W){R.nextTick(function(){k.emit("error",W)});return}"responseType"in x&&(x.responseType=k._mode),"withCredentials"in x&&(x.withCredentials=!!m.withCredentials),k._mode==="text"&&"overrideMimeType"in x&&x.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(x.timeout=m.requestTimeout,x.ontimeout=function(){k.emit("requestTimeout")}),T.forEach(function(W){x.setRequestHeader(W[0],W[1])}),k._response=null,x.onreadystatechange=function(){switch(x.readyState){case f.LOADING:case f.DONE:k._onXHRProgress();break}},k._mode==="moz-chunked-arraybuffer"&&(x.onprogress=function(){k._onXHRProgress()}),x.onerror=function(){k._destroyed||(k._resetTimers(!0),k.emit("error",new Error("XHR error")))};try{x.send(p)}catch(W){R.nextTick(function(){k.emit("error",W)});return}}}};function y(k){try{var m=k.status;return m!==null&&m!==0}catch{return!1}}_.prototype._onXHRProgress=function(){var k=this;k._resetTimers(!1),!(!y(k._xhr)||k._destroyed)&&(k._response||k._connect(),k._response._onXHRProgress(k._resetTimers.bind(k)))},_.prototype._connect=function(){var k=this;k._destroyed||(k._response=new d(k._xhr,k._fetchResponse,k._mode,k._resetTimers.bind(k)),k._response.on("error",function(m){k.emit("error",m)}),k.emit("response",k._response))},_.prototype._write=function(k,m,g){var p=this;p._body.push(k),g()},_.prototype._resetTimers=function(k){var m=this;N.g.clearTimeout(m._socketTimer),m._socketTimer=null,k?(N.g.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=N.g.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},_.prototype.abort=_.prototype.destroy=function(k){var m=this;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),k&&m.emit("error",k)},_.prototype.end=function(k,m,g){var p=this;typeof k=="function"&&(g=k,k=void 0),c.Writable.prototype.end.call(p,k,m,g)},_.prototype.setTimeout=function(k,m){var g=this;m&&g.once("timeout",m),g._socketTimeout=k,g._resetTimers(!1)},_.prototype.flushHeaders=function(){},_.prototype.setNoDelay=function(){},_.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(s,G,N)=>{var R=N(65606),I=N(6688),P=N(56698),S=N(63242),c=G.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d=G.IncomingMessage=function(f,h,_,y){var u=this;if(S.Readable.call(u),u._mode=_,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){R.nextTick(function(){u.emit("close")})}),_==="fetch"){let D=function(){m.read().then(function(x){if(!u._destroyed){if(y(x.done),x.done){u.push(null);return}u.push(Buffer.from(x.value)),D()}}).catch(function(x){y(!0),u._destroyed||u.emit("error",x)})};var E=D;if(u._fetchResponse=h,u.url=h.url,u.statusCode=h.status,u.statusMessage=h.statusText,h.headers.forEach(function(x,W){u.headers[W.toLowerCase()]=x,u.rawHeaders.push(W,x)}),I.writableStream){var k=new WritableStream({write:function(x){return y(!1),new Promise(function(W,b){u._destroyed?b():u.push(Buffer.from(x))?W():u._resumeFetch=W})},close:function(){y(!0),u._destroyed||u.push(null)},abort:function(x){y(!0),u._destroyed||u.emit("error",x)}});try{h.body.pipeTo(k).catch(function(x){y(!0),u._destroyed||u.emit("error",x)});return}catch{}}var m=h.body.getReader();D()}else{u._xhr=f,u._pos=0,u.url=f.responseURL,u.statusCode=f.status,u.statusMessage=f.statusText;var g=f.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(D){var x=D.match(/^([^:]+):\s*(.*)/);if(x){var W=x[1].toLowerCase();W==="set-cookie"?(u.headers[W]===void 0&&(u.headers[W]=[]),u.headers[W].push(x[2])):u.headers[W]!==void 0?u.headers[W]+=", "+x[2]:u.headers[W]=x[2],u.rawHeaders.push(x[1],x[2])}}),u._charset="x-user-defined",!I.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var T=p.match(/;\s*charset=([^;])(;|$)/);T&&(u._charset=T[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};P(d,S.Readable),d.prototype._read=function(){var f=this,h=f._resumeFetch;h&&(f._resumeFetch=null,h())},d.prototype._onXHRProgress=function(f){var h=this,_=h._xhr,y=null;switch(h._mode){case"text":if(y=_.responseText,y.length>h._pos){var u=y.substr(h._pos);if(h._charset==="x-user-defined"){for(var k=Buffer.alloc(u.length),m=0;m<u.length;m++)k[m]=u.charCodeAt(m)&255;h.push(k)}else h.push(u,h._charset);h._pos=y.length}break;case"arraybuffer":if(_.readyState!==c.DONE||!_.response)break;y=_.response,h.push(Buffer.from(new Uint8Array(y)));break;case"moz-chunked-arraybuffer":if(y=_.response,_.readyState!==c.LOADING||!y)break;h.push(Buffer.from(new Uint8Array(y)));break;case"ms-stream":if(y=_.response,_.readyState!==c.LOADING)break;var g=new N.g.MSStreamReader;g.onprogress=function(){g.result.byteLength>h._pos&&(h.push(Buffer.from(new Uint8Array(g.result.slice(h._pos)))),h._pos=g.result.byteLength)},g.onload=function(){f(!0),h.push(null)},g.readAsArrayBuffer(y);break}h._xhr.readyState===c.DONE&&h._mode!=="ms-stream"&&(f(!0),h.push(null))}},73157:s=>{"use strict";function G(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f}var N={};function R(d,f,h){h||(h=Error);function _(u,k,m){return typeof f=="string"?f:f(u,k,m)}var y=function(u){G(k,u);function k(m,g,p){return u.call(this,_(m,g,p))||this}return k}(h);y.prototype.name=h.name,y.prototype.code=d,N[d]=y}function I(d,f){if(Array.isArray(d)){var h=d.length;return d=d.map(function(_){return String(_)}),h>2?"one of ".concat(f," ").concat(d.slice(0,h-1).join(", "),", or ")+d[h-1]:h===2?"one of ".concat(f," ").concat(d[0]," or ").concat(d[1]):"of ".concat(f," ").concat(d[0])}else return"of ".concat(f," ").concat(String(d))}function P(d,f,h){return d.substr(!h||h<0?0:+h,f.length)===f}function S(d,f,h){return(h===void 0||h>d.length)&&(h=d.length),d.substring(h-f.length,h)===f}function c(d,f,h){return typeof h!="number"&&(h=0),h+f.length>d.length?!1:d.indexOf(f,h)!==-1}R("ERR_INVALID_OPT_VALUE",function(d,f){return'The value "'+f+'" is invalid for option "'+d+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(d,f,h){var _;typeof f=="string"&&P(f,"not ")?(_="must not be",f=f.replace(/^not /,"")):_="must be";var y;if(S(d," argument"))y="The ".concat(d," ").concat(_," ").concat(I(f,"type"));else{var u=c(d,".")?"property":"argument";y='The "'.concat(d,'" ').concat(u," ").concat(_," ").concat(I(f,"type"))}return y+=". Received type ".concat(typeof h),y},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=N},63527:(s,G,N)=>{"use strict";var R=N(65606),I=Object.keys||function(u){var k=[];for(var m in u)k.push(m);return k};s.exports=h;var P=N(52341),S=N(9573);N(56698)(h,P);for(var c=I(S.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=S.prototype[f])}function h(u){if(!(this instanceof h))return new h(u);P.call(this,u),S.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(y,this)}function y(u){u.end()}Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},82571:(s,G,N)=>{"use strict";s.exports=I;var R=N(95689);N(56698)(I,R);function I(P){if(!(this instanceof I))return new I(P);R.call(this,P)}I.prototype._transform=function(P,S,c){c(null,P)}},52341:(s,G,N)=>{"use strict";var R=N(65606);s.exports=M;var I;M.ReadableState=Y;var P=N(37007).EventEmitter,S=function(O,oe){return O.listeners(oe).length},c=N(81914),d=N(48287).Buffer,f=N.g.Uint8Array||function(){};function h(U){return d.from(U)}function _(U){return d.isBuffer(U)||U instanceof f}var y=N(86833),u;y&&y.debuglog?u=y.debuglog("stream"):u=function(){};var k=N(10272),m=N(16057),g=N(11922),p=g.getHighWaterMark,T=N(73157).F,E=T.ERR_INVALID_ARG_TYPE,D=T.ERR_STREAM_PUSH_AFTER_EOF,x=T.ERR_METHOD_NOT_IMPLEMENTED,W=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b,L,z;N(56698)(M,c);var K=m.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ie(U,O,oe){if(typeof U.prependListener=="function")return U.prependListener(O,oe);!U._events||!U._events[O]?U.on(O,oe):Array.isArray(U._events[O])?U._events[O].unshift(oe):U._events[O]=[oe,U._events[O]]}function Y(U,O,oe){I=I||N(63527),U=U||{},typeof oe!="boolean"&&(oe=O instanceof I),this.objectMode=!!U.objectMode,oe&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=p(this,U,"readableHighWaterMark",oe),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=N(83141).I),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function M(U){if(I=I||N(63527),!(this instanceof M))return new M(U);var O=this instanceof I;this._readableState=new Y(U,this,O),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(U,O){O(U)},M.prototype.push=function(U,O){var oe=this._readableState,ge;return oe.objectMode?ge=!0:typeof U=="string"&&(O=O||oe.defaultEncoding,O!==oe.encoding&&(U=d.from(U,O),O=""),ge=!0),V(this,U,O,!1,ge)},M.prototype.unshift=function(U){return V(this,U,null,!0,!1)};function V(U,O,oe,ge,we){u("readableAddChunk",O);var ve=U._readableState;if(O===null)ve.reading=!1,j(U,ve);else{var Pe;if(we||(Pe=l(ve,O)),Pe)K(U,Pe);else if(ve.objectMode||O&&O.length>0)if(typeof O!="string"&&!ve.objectMode&&Object.getPrototypeOf(O)!==d.prototype&&(O=h(O)),ge)ve.endEmitted?K(U,new W):C(U,ve,O,!0);else if(ve.ended)K(U,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!oe?(O=ve.decoder.write(O),ve.objectMode||O.length!==0?C(U,ve,O,!1):te(U,ve)):C(U,ve,O,!1)}else ge||(ve.reading=!1,te(U,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function C(U,O,oe,ge){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,U.emit("data",oe)):(O.length+=O.objectMode?1:oe.length,ge?O.buffer.unshift(oe):O.buffer.push(oe),O.needReadable&&$(U)),te(U,O)}function l(U,O){var oe;return!_(O)&&typeof O!="string"&&O!==void 0&&!U.objectMode&&(oe=new E("chunk",["string","Buffer","Uint8Array"],O)),oe}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(U){b||(b=N(83141).I);var O=new b(U);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,ge="";oe!==null;)ge+=O.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var w=1073741824;function F(U){return U>=w?U=w:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function q(U,O){return U<=0||O.length===0&&O.ended?0:O.objectMode?1:U!==U?O.flowing&&O.length?O.buffer.head.data.length:O.length:(U>O.highWaterMark&&(O.highWaterMark=F(U)),U<=O.length?U:O.ended?O.length:(O.needReadable=!0,0))}M.prototype.read=function(U){u("read",U),U=parseInt(U,10);var O=this._readableState,oe=U;if(U!==0&&(O.emittedReadable=!1),U===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?ce(this):$(this),null;if(U=q(U,O),U===0&&O.ended)return O.length===0&&ce(this),null;var ge=O.needReadable;u("need readable",ge),(O.length===0||O.length-U<O.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),O.ended||O.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(U=q(oe,O)));var we;return U>0?we=ee(U,O):we=null,we===null?(O.needReadable=O.length<=O.highWaterMark,U=0):(O.length-=U,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),oe!==U&&O.ended&&ce(this)),we!==null&&this.emit("data",we),we};function j(U,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var oe=O.decoder.end();oe&&oe.length&&(O.buffer.push(oe),O.length+=O.objectMode?1:oe.length)}O.ended=!0,O.sync?$(U):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,Z(U)))}}function $(U){var O=U._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Z,U))}function Z(U){var O=U._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(U.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,X(U)}function te(U,O){O.readingMore||(O.readingMore=!0,R.nextTick(B,U,O))}function B(U,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var oe=O.length;if(u("maybeReadMore read 0"),U.read(0),oe===O.length)break}O.readingMore=!1}M.prototype._read=function(U){K(this,new x("_read()"))},M.prototype.pipe=function(U,O){var oe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=U;break;case 1:ge.pipes=[ge.pipes,U];break;default:ge.pipes.push(U);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,O);var we=(!O||O.end!==!1)&&U!==R.stdout&&U!==R.stderr,ve=we?Le:se;ge.endEmitted?R.nextTick(ve):oe.once("end",ve),U.on("unpipe",Pe);function Pe(be,Me){u("onunpipe"),be===oe&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,ze())}function Le(){u("onend"),U.end()}var He=ae(oe);U.on("drain",He);var wt=!1;function ze(){u("cleanup"),U.removeListener("close",de),U.removeListener("finish",ne),U.removeListener("drain",He),U.removeListener("error",gt),U.removeListener("unpipe",Pe),oe.removeListener("end",Le),oe.removeListener("end",se),oe.removeListener("data",et),wt=!0,ge.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&He()}oe.on("data",et);function et(be){u("ondata");var Me=U.write(be);u("dest.write",Me),Me===!1&&((ge.pipesCount===1&&ge.pipes===U||ge.pipesCount>1&&ke(ge.pipes,U)!==-1)&&!wt&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),oe.pause())}function gt(be){u("onerror",be),se(),U.removeListener("error",gt),S(U,"error")===0&&K(U,be)}ie(U,"error",gt);function de(){U.removeListener("finish",ne),se()}U.once("close",de);function ne(){u("onfinish"),U.removeListener("close",de),se()}U.once("finish",ne);function se(){u("unpipe"),oe.unpipe(U)}return U.emit("pipe",oe),ge.flowing||(u("pipe resume"),oe.resume()),U};function ae(U){return function(){var oe=U._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&S(U,"data")&&(oe.flowing=!0,X(U))}}M.prototype.unpipe=function(U){var O=this._readableState,oe={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return U&&U!==O.pipes?this:(U||(U=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,U&&U.emit("unpipe",this,oe),this);if(!U){var ge=O.pipes,we=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ve=0;ve<we;ve++)ge[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=ke(O.pipes,U);return Pe===-1?this:(O.pipes.splice(Pe,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),U.emit("unpipe",this,oe),this)},M.prototype.on=function(U,O){var oe=c.prototype.on.call(this,U,O),ge=this._readableState;return U==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):U==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?$(this):ge.reading||R.nextTick(he,this)),oe},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(U,O){var oe=c.prototype.removeListener.call(this,U,O);return U==="readable"&&R.nextTick(xe,this),oe},M.prototype.removeAllListeners=function(U){var O=c.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&R.nextTick(xe,this),O};function xe(U){var O=U._readableState;O.readableListening=U.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:U.listenerCount("data")>0&&U.resume()}function he(U){u("readable nexttick read 0"),U.read(0)}M.prototype.resume=function(){var U=this._readableState;return U.flowing||(u("resume"),U.flowing=!U.readableListening,Ne(this,U)),U.paused=!1,this};function Ne(U,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(Te,U,O))}function Te(U,O){u("resume",O.reading),O.reading||U.read(0),O.resumeScheduled=!1,U.emit("resume"),X(U),O.flowing&&!O.reading&&U.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(U){var O=U._readableState;for(u("flow",O.flowing);O.flowing&&U.read()!==null;);}M.prototype.wrap=function(U){var O=this,oe=this._readableState,ge=!1;U.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var Pe=oe.decoder.end();Pe&&Pe.length&&O.push(Pe)}O.push(null)}),U.on("data",function(Pe){if(u("wrapped data"),oe.decoder&&(Pe=oe.decoder.write(Pe)),!(oe.objectMode&&Pe==null)&&!(!oe.objectMode&&(!Pe||!Pe.length))){var Le=O.push(Pe);Le||(ge=!0,U.pause())}});for(var we in U)this[we]===void 0&&typeof U[we]=="function"&&(this[we]=function(Le){return function(){return U[Le].apply(U,arguments)}}(we));for(var ve=0;ve<J.length;ve++)U.on(J[ve],this.emit.bind(this,J[ve]));return this._read=function(Pe){u("wrapped _read",Pe),ge&&(ge=!1,U.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=N(17356)),L(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(U,O){if(O.length===0)return null;var oe;return O.objectMode?oe=O.buffer.shift():!U||U>=O.length?(O.decoder?oe=O.buffer.join(""):O.buffer.length===1?oe=O.buffer.first():oe=O.buffer.concat(O.length),O.buffer.clear()):oe=O.buffer.consume(U,O.decoder),oe}function ce(U){var O=U._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(me,O,U))}function me(U,O){if(u("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,O.readable=!1,O.emit("end"),U.autoDestroy)){var oe=O._writableState;(!oe||oe.autoDestroy&&oe.finished)&&O.destroy()}}typeof Symbol=="function"&&(M.from=function(U,O){return z===void 0&&(z=N(6314)),z(M,U,O)});function ke(U,O){for(var oe=0,ge=U.length;oe<ge;oe++)if(U[oe]===O)return oe;return-1}},95689:(s,G,N)=>{"use strict";s.exports=h;var R=N(73157).F,I=R.ERR_METHOD_NOT_IMPLEMENTED,P=R.ERR_MULTIPLE_CALLBACK,S=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,d=N(63527);N(56698)(h,d);function f(u,k){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new P);m.writechunk=null,m.writecb=null,k!=null&&this.push(k),g(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(u){if(!(this instanceof h))return new h(u);d.call(this,u),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(k,m){y(u,k,m)}):y(this,null,null)}h.prototype.push=function(u,k){return this._transformState.needTransform=!1,d.prototype.push.call(this,u,k)},h.prototype._transform=function(u,k,m){m(new I("_transform()"))},h.prototype._write=function(u,k,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=k,!g.transforming){var p=this._readableState;(g.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(u){var k=this._transformState;k.writechunk!==null&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},h.prototype._destroy=function(u,k){d.prototype._destroy.call(this,u,function(m){k(m)})};function y(u,k,m){if(k)return u.emit("error",k);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new S;return u.push(null)}},9573:(s,G,N)=>{"use strict";var R=N(65606);s.exports=Y;function I(X,ee,ce){this.chunk=X,this.encoding=ee,this.callback=ce,this.next=null}function P(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){Te(ee,X)}}var S;Y.WritableState=J;var c={deprecate:N(94643)},d=N(81914),f=N(48287).Buffer,h=N.g.Uint8Array||function(){};function _(X){return f.from(X)}function y(X){return f.isBuffer(X)||X instanceof h}var u=N(16057),k=N(11922),m=k.getHighWaterMark,g=N(73157).F,p=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,D=g.ERR_STREAM_CANNOT_PIPE,x=g.ERR_STREAM_DESTROYED,W=g.ERR_STREAM_NULL_VALUES,b=g.ERR_STREAM_WRITE_AFTER_END,L=g.ERR_UNKNOWN_ENCODING,z=u.errorOrDestroy;N(56698)(Y,d);function K(){}function J(X,ee,ce){S=S||N(63527),X=X||{},typeof ce!="boolean"&&(ce=ee instanceof S),this.objectMode=!!X.objectMode,ce&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=m(this,X,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=X.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){j(ee,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}J.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(J.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ie;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ee){return ie.call(this,ee)?!0:this!==Y?!1:ee&&ee._writableState instanceof J}})):ie=function(ee){return ee instanceof this};function Y(X){S=S||N(63527);var ee=this instanceof S;if(!ee&&!ie.call(Y,this))return new Y(X);this._writableState=new J(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),d.call(this)}Y.prototype.pipe=function(){z(this,new D)};function M(X,ee){var ce=new b;z(X,ce),R.nextTick(ee,ce)}function V(X,ee,ce,me){var ke;return ce===null?ke=new W:typeof ce!="string"&&!ee.objectMode&&(ke=new p("chunk",["string","Buffer"],ce)),ke?(z(X,ke),R.nextTick(me,ke),!1):!0}Y.prototype.write=function(X,ee,ce){var me=this._writableState,ke=!1,U=!me.objectMode&&y(X);return U&&!f.isBuffer(X)&&(X=_(X)),typeof ee=="function"&&(ce=ee,ee=null),U?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(U||V(this,me,X,ce))&&(me.pendingcb++,ke=l(this,me,U,X,ee,ce)),ke},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&te(this,X))},Y.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new L(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(X,ee,ce){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=f.from(ee,ce)),ee}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(X,ee,ce,me,ke,U){if(!ce){var O=C(ee,me,ke);me!==O&&(ce=!0,ke="buffer",me=O)}var oe=ee.objectMode?1:me.length;ee.length+=oe;var ge=ee.length<ee.highWaterMark;if(ge||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:ke,isBuf:ce,callback:U,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(X,ee,!1,oe,me,ke,U);return ge}function w(X,ee,ce,me,ke,U,O){ee.writelen=me,ee.writecb=O,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new x("write")):ce?X._writev(ke,ee.onwrite):X._write(ke,U,ee.onwrite),ee.sync=!1}function F(X,ee,ce,me,ke){--ee.pendingcb,ce?(R.nextTick(ke,me),R.nextTick(he,X,ee),X._writableState.errorEmitted=!0,z(X,me)):(ke(me),X._writableState.errorEmitted=!0,z(X,me),he(X,ee))}function q(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function j(X,ee){var ce=X._writableState,me=ce.sync,ke=ce.writecb;if(typeof ke!="function")throw new E;if(q(ce),ee)F(X,ce,me,ee,ke);else{var U=B(ce)||X.destroyed;!U&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(X,ce),me?R.nextTick($,X,ce,U,ke):$(X,ce,U,ke)}}function $(X,ee,ce,me){ce||Z(X,ee),ee.pendingcb--,me(),he(X,ee)}function Z(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function te(X,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(X._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,ke=new Array(me),U=ee.corkedRequestsFree;U.entry=ce;for(var O=0,oe=!0;ce;)ke[O]=ce,ce.isBuf||(oe=!1),ce=ce.next,O+=1;ke.allBuffers=oe,w(X,ee,!0,ee.length,ke,"",U.finish),ee.pendingcb++,ee.lastBufferedRequest=null,U.next?(ee.corkedRequestsFree=U.next,U.next=null):ee.corkedRequestsFree=new P(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ge=ce.chunk,we=ce.encoding,ve=ce.callback,Pe=ee.objectMode?1:ge.length;if(w(X,ee,!1,Pe,ge,we,ve),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}Y.prototype._write=function(X,ee,ce){ce(new T("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(X,ee,ce){var me=this._writableState;return typeof X=="function"?(ce=X,X=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),X!=null&&this.write(X,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ne(this,me,ce),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function ae(X,ee){X._final(function(ce){ee.pendingcb--,ce&&z(X,ce),ee.prefinished=!0,X.emit("prefinish"),he(X,ee)})}function xe(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(ae,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function he(X,ee){var ce=B(ee);if(ce&&(xe(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var me=X._readableState;(!me||me.autoDestroy&&me.endEmitted)&&X.destroy()}return ce}function Ne(X,ee,ce){ee.ending=!0,he(X,ee),ce&&(ee.finished?R.nextTick(ce):X.once("finish",ce)),ee.ended=!0,X.writable=!1}function Te(X,ee,ce){var me=X.entry;for(X.entry=null;me;){var ke=me.callback;ee.pendingcb--,ke(ce),me=me.next}ee.corkedRequestsFree.next=X}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(X,ee){ee(X)}},17356:(s,G,N)=>{"use strict";var R=N(65606),I;function P(x,W,b){return W in x?Object.defineProperty(x,W,{value:b,enumerable:!0,configurable:!0,writable:!0}):x[W]=b,x}var S=N(19959),c=Symbol("lastResolve"),d=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),y=Symbol("handlePromise"),u=Symbol("stream");function k(x,W){return{value:x,done:W}}function m(x){var W=x[c];if(W!==null){var b=x[u].read();b!==null&&(x[_]=null,x[c]=null,x[d]=null,W(k(b,!1)))}}function g(x){R.nextTick(m,x)}function p(x,W){return function(b,L){x.then(function(){if(W[h]){b(k(void 0,!0));return}W[y](b,L)},L)}}var T=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((I={get stream(){return this[u]},next:function(){var W=this,b=this[f];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(k(void 0,!0));if(this[u].destroyed)return new Promise(function(J,ie){R.nextTick(function(){W[f]?ie(W[f]):J(k(void 0,!0))})});var L=this[_],z;if(L)z=new Promise(p(L,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(k(K,!1));z=new Promise(this[y])}return this[_]=z,z}},P(I,Symbol.asyncIterator,function(){return this}),P(I,"return",function(){var W=this;return new Promise(function(b,L){W[u].destroy(null,function(z){if(z){L(z);return}b(k(void 0,!0))})})}),I),T),D=function(W){var b,L=Object.create(E,(b={},P(b,u,{value:W,writable:!0}),P(b,c,{value:null,writable:!0}),P(b,d,{value:null,writable:!0}),P(b,f,{value:null,writable:!0}),P(b,h,{value:W._readableState.endEmitted,writable:!0}),P(b,y,{value:function(K,J){var ie=L[u].read();ie?(L[_]=null,L[c]=null,L[d]=null,K(k(ie,!1))):(L[c]=K,L[d]=J)},writable:!0}),b));return L[_]=null,S(W,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=L[d];K!==null&&(L[_]=null,L[c]=null,L[d]=null,K(z)),L[f]=z;return}var J=L[c];J!==null&&(L[_]=null,L[c]=null,L[d]=null,J(k(void 0,!0))),L[h]=!0}),W.on("readable",g.bind(null,L)),L};s.exports=D},10272:(s,G,N)=>{"use strict";function R(m,g){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),p.push.apply(p,T)}return p}function I(m){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?R(Object(p),!0).forEach(function(T){P(m,T,p[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):R(Object(p)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(p,T))})}return m}function P(m,g,p){return g in m?Object.defineProperty(m,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[g]=p,m}function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){for(var p=0;p<g.length;p++){var T=g[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function d(m,g,p){return g&&c(m.prototype,g),p&&c(m,p),m}var f=N(48287),h=f.Buffer,_=N(59169),y=_.inspect,u=y&&y.custom||"inspect";function k(m,g,p){h.prototype.copy.call(m,g,p)}s.exports=function(){function m(){S(this,m),this.head=null,this.tail=null,this.length=0}return d(m,[{key:"push",value:function(p){var T={data:p,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(p){var T={data:p,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var T=this.head,E=""+T.data;T=T.next;)E+=p+T.data;return E}},{key:"concat",value:function(p){if(this.length===0)return h.alloc(0);for(var T=h.allocUnsafe(p>>>0),E=this.head,D=0;E;)k(E.data,T,D),D+=E.data.length,E=E.next;return T}},{key:"consume",value:function(p,T){var E;return p<this.head.data.length?(E=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?E=this.shift():E=T?this._getString(p):this._getBuffer(p),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var T=this.head,E=1,D=T.data;for(p-=D.length;T=T.next;){var x=T.data,W=p>x.length?x.length:p;if(W===x.length?D+=x:D+=x.slice(0,p),p-=W,p===0){W===x.length?(++E,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=x.slice(W));break}++E}return this.length-=E,D}},{key:"_getBuffer",value:function(p){var T=h.allocUnsafe(p),E=this.head,D=1;for(E.data.copy(T),p-=E.data.length;E=E.next;){var x=E.data,W=p>x.length?x.length:p;if(x.copy(T,T.length-p,0,W),p-=W,p===0){W===x.length?(++D,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=x.slice(W));break}++D}return this.length-=D,T}},{key:u,value:function(p,T){return y(this,I({},T,{depth:0,customInspect:!1}))}}]),m}()},16057:(s,G,N)=>{"use strict";var R=N(65606);function I(h,_){var y=this,u=this._readableState&&this._readableState.destroyed,k=this._writableState&&this._writableState.destroyed;return u||k?(_?_(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(d,this,h)):R.nextTick(d,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(m){!_&&m?y._writableState?y._writableState.errorEmitted?R.nextTick(S,y):(y._writableState.errorEmitted=!0,R.nextTick(P,y,m)):R.nextTick(P,y,m):_?(R.nextTick(S,y),_(m)):R.nextTick(S,y)}),this)}function P(h,_){d(h,_),S(h)}function S(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(h,_){h.emit("error",_)}function f(h,_){var y=h._readableState,u=h._writableState;y&&y.autoDestroy||u&&u.autoDestroy?h.destroy(_):h.emit("error",_)}s.exports={destroy:I,undestroy:c,errorOrDestroy:f}},19959:(s,G,N)=>{"use strict";var R=N(73157).F.ERR_STREAM_PREMATURE_CLOSE;function I(d){var f=!1;return function(){if(!f){f=!0;for(var h=arguments.length,_=new Array(h),y=0;y<h;y++)_[y]=arguments[y];d.apply(this,_)}}}function P(){}function S(d){return d.setHeader&&typeof d.abort=="function"}function c(d,f,h){if(typeof f=="function")return c(d,null,f);f||(f={}),h=I(h||P);var _=f.readable||f.readable!==!1&&d.readable,y=f.writable||f.writable!==!1&&d.writable,u=function(){d.writable||m()},k=d._writableState&&d._writableState.finished,m=function(){y=!1,k=!0,_||h.call(d)},g=d._readableState&&d._readableState.endEmitted,p=function(){_=!1,g=!0,y||h.call(d)},T=function(W){h.call(d,W)},E=function(){var W;if(_&&!g)return(!d._readableState||!d._readableState.ended)&&(W=new R),h.call(d,W);if(y&&!k)return(!d._writableState||!d._writableState.ended)&&(W=new R),h.call(d,W)},D=function(){d.req.on("finish",m)};return S(d)?(d.on("complete",m),d.on("abort",E),d.req?D():d.on("request",D)):y&&!d._writableState&&(d.on("end",u),d.on("close",u)),d.on("end",p),d.on("finish",m),f.error!==!1&&d.on("error",T),d.on("close",E),function(){d.removeListener("complete",m),d.removeListener("abort",E),d.removeListener("request",D),d.req&&d.req.removeListener("finish",m),d.removeListener("end",u),d.removeListener("close",u),d.removeListener("finish",m),d.removeListener("end",p),d.removeListener("error",T),d.removeListener("close",E)}}s.exports=c},6314:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(s,G,N)=>{"use strict";var R;function I(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var P=N(73157).F,S=P.ERR_MISSING_ARGS,c=P.ERR_STREAM_DESTROYED;function d(m){if(m)throw m}function f(m){return m.setHeader&&typeof m.abort=="function"}function h(m,g,p,T){T=I(T);var E=!1;m.on("close",function(){E=!0}),R===void 0&&(R=N(19959)),R(m,{readable:g,writable:p},function(x){if(x)return T(x);E=!0,T()});var D=!1;return function(x){if(!E&&!D){if(D=!0,f(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(x||new c("pipe"))}}}function _(m){m()}function y(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?d:m.pop()}function k(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new S("streams");var E,D=g.map(function(x,W){var b=W<g.length-1,L=W>0;return h(x,b,L,function(z){E||(E=z),z&&D.forEach(_),!b&&(D.forEach(_),T(E))})});return g.reduce(y)}s.exports=k},11922:(s,G,N)=>{"use strict";var R=N(73157).F.ERR_INVALID_OPT_VALUE;function I(S,c,d){return S.highWaterMark!=null?S.highWaterMark:c?S[d]:null}function P(S,c,d,f){var h=I(c,f,d);if(h!=null){if(!(isFinite(h)&&Math.floor(h)===h)||h<0){var _=f?d:"highWaterMark";throw new R(_,h)}return Math.floor(h)}return S.objectMode?16:16384}s.exports={getHighWaterMark:P}},81914:(s,G,N)=>{s.exports=N(37007).EventEmitter},63242:(s,G,N)=>{G=s.exports=N(52341),G.Stream=G,G.Readable=G,G.Writable=N(9573),G.Duplex=N(63527),G.Transform=N(95689),G.PassThrough=N(82571),G.finished=N(19959),G.pipeline=N(37413)},83141:(s,G,N)=>{"use strict";var R=N(92861).Buffer,I=R.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(D){if(!D)return"utf8";for(var x;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(x)return;D=(""+D).toLowerCase(),x=!0}}function S(D){var x=P(D);if(typeof x!="string"&&(R.isEncoding===I||!I(D)))throw new Error("Unknown encoding: "+D);return x||D}G.I=c;function c(D){this.encoding=S(D);var x;switch(this.encoding){case"utf16le":this.text=k,this.end=m,x=4;break;case"utf8":this.fillLast=_,x=4;break;case"base64":this.text=g,this.end=p,x=3;break;default:this.write=T,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(x)}c.prototype.write=function(D){if(D.length===0)return"";var x,W;if(this.lastNeed){if(x=this.fillLast(D),x===void 0)return"";W=this.lastNeed,this.lastNeed=0}else W=0;return W<D.length?x?x+this.text(D,W):this.text(D,W):x||""},c.prototype.end=u,c.prototype.text=y,c.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function d(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function f(D,x,W){var b=x.length-1;if(b<W)return 0;var L=d(x[b]);return L>=0?(L>0&&(D.lastNeed=L-1),L):--b<W||L===-2?0:(L=d(x[b]),L>=0?(L>0&&(D.lastNeed=L-2),L):--b<W||L===-2?0:(L=d(x[b]),L>=0?(L>0&&(L===2?L=0:D.lastNeed=L-3),L):0))}function h(D,x,W){if((x[0]&192)!==128)return D.lastNeed=0,"\uFFFD";if(D.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return D.lastNeed=1,"\uFFFD";if(D.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return D.lastNeed=2,"\uFFFD"}}function _(D){var x=this.lastTotal-this.lastNeed,W=h(this,D,x);if(W!==void 0)return W;if(this.lastNeed<=D.length)return D.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,x,0,D.length),this.lastNeed-=D.length}function y(D,x){var W=f(this,D,x);if(!this.lastNeed)return D.toString("utf8",x);this.lastTotal=W;var b=D.length-(W-this.lastNeed);return D.copy(this.lastChar,0,b),D.toString("utf8",x,b)}function u(D){var x=D&&D.length?this.write(D):"";return this.lastNeed?x+"\uFFFD":x}function k(D,x){if((D.length-x)%2===0){var W=D.toString("utf16le",x);if(W){var b=W.charCodeAt(W.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],W.slice(0,-1)}return W}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",x,D.length-1)}function m(D){var x=D&&D.length?this.write(D):"";if(this.lastNeed){var W=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,W)}return x}function g(D,x){var W=(D.length-x)%3;return W===0?D.toString("base64",x):(this.lastNeed=3-W,this.lastTotal=3,W===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",x,D.length-W))}function p(D){var x=D&&D.length?this.write(D):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function T(D){return D.toString(this.encoding)}function E(D){return D&&D.length?this.write(D):""}},9423:(s,G,N)=>{"use strict";N.d(G,{A:()=>S});function R(c){var d,f=c.Symbol;return typeof f=="function"?f.observable?d=f.observable:(d=f("observable"),f.observable=d):d="@@observable",d}s=N.hmd(s);var I;typeof self!="undefined"?I=self:typeof window!="undefined"?I=window:typeof N.g!="undefined"?I=N.g:I=s;var P=R(I);const S=P},32909:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationService=void 0;var R=N(67291);Object.defineProperty(G,"ExperimentationService",{enumerable:!0,get:function(){return R.ExperimentationService}})},67291:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationService=void 0;const R=N(32845),I=N(51924),P=N(45761);class S extends P.ExperimentationServiceAutoPolling{constructor(d){super(d.telemetry,d.filterProviders||[],d.refetchInterval!=null?d.refetchInterval:0,d.assignmentContextTelemetryPropertyName,d.telemetryEventName,d.storageKey,d.keyValueStorage),this.options=d,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new R.TasApiFeatureProvider(new I.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}G.ExperimentationService=S,S.REFRESH_RATE_IN_MINUTES=30},45761:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationServiceAutoPolling=void 0;const R=N(1714),I=N(23257);class P extends R.ExperimentationServiceBase{constructor(c,d,f,h,_,y,u){if(super(c,h,_,y,u),this.telemetry=c,this.filterProviders=d,this.refreshRateMs=f,this.assignmentContextTelemetryPropertyName=h,this.telemetryEventName=_,this.storageKey=y,this.storage=u,f<1e3&&f!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");f>0&&(this.pollingService=new I.PollingService(f),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(c=!1){if(this.pollingService){this.pollingService.StopPolling();let d=await super.getFeaturesAsync(c);return this.pollingService.StartPolling(),d}else return await super.getFeaturesAsync(c)}}G.ExperimentationServiceAutoPolling=P},1714:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.ExperimentationServiceBase=void 0;const R=N(48823);class I{get features(){return this._features}set features(S){this._features=S,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(S,c,d,f,h){this.telemetry=S,this.assignmentContextTelemetryPropertyName=c,this.telemetryEventName=d,this.storageKey=f,this.storage=h,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(h=new R.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((_,y)=>{this.resolveInitialFetchPromise=_})}async getFeaturesAsync(S=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async d=>await d.getFeatures()));const c=await this.fetchPromise;this.updateFeatures(c,S)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(S,c=!1){let d={features:[],assignmentContext:"",configs:[]};for(let f of S){for(let h of f.features)d.features.includes(h)||d.features.push(h);for(let h of f.configs){const _=d.configs.find(y=>y.Id===h.Id);_?_.Parameters=Object.assign(Object.assign({},_.Parameters),h.Parameters):d.configs.push(h)}d.assignmentContext+=f.assignmentContext}(c||!this.featuresConsumed)&&(this.features=d),this.storage&&this.storage.setValue(this.storageKey,d)}async loadCachedFeatureData(){let S;this.storage&&(S=await this.storage.getValue(this.storageKey),S!==void 0&&S.configs===void 0&&(S.configs=[])),this.features.features.length===0&&(this.features=S||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(S){return this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isCachedFlightEnabled(S){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(S),this.features.features.includes(S)}async isFlightEnabledAsync(S){const c=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(S),c.features.includes(S)}getTreatmentVariable(S,c){this.featuresConsumed=!0,this.PostEventToTelemetry(`${S}.${c}`);const d=this.features.configs.find(f=>f.Id===S);return d==null?void 0:d.Parameters[c]}async getTreatmentVariableAsync(S,c,d){if(d){const f=this.featuresConsumed,h=this.getTreatmentVariable(S,c);if(h===void 0)this.featuresConsumed=f;else return h}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(S,c)}PostEventToTelemetry(S){this.cachedTelemetryEvents.includes(S)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",S]])),this.cachedTelemetryEvents.push(S))}invokeInit(){this.init()}addFeatureProvider(...S){if(!(S==null||this.featureProviders==null))for(let c of S)this.featureProviders.push(c)}}G.ExperimentationServiceBase=I},96790:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.BaseFeatureProvider=void 0;class N{constructor(I){this.telemetry=I,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let I=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,I}}G.BaseFeatureProvider=N},76492:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.FilteredFeatureProvider=void 0;const R=N(96790);class I extends R.BaseFeatureProvider{constructor(S,c){super(S),this.telemetry=S,this.filterProviders=c,this.cachedTelemetryEvents=[]}getFilters(){let S=new Map;for(let c of this.filterProviders){let d=c.getFilters();for(let f of d.keys()){let h=d.get(f);S.set(f,h)}}return S}PostEventToTelemetry(S){if(this.cachedTelemetryEvents.includes(S))return;const c=JSON.stringify(S);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",c]])),this.cachedTelemetryEvents.push(S)}}G.FilteredFeatureProvider=I},32845:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TasApiFeatureProvider=G.TASAPI_FETCHERROR_EVENTNAME=void 0;const R=N(76492);G.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const I="ErrorType";class P extends R.FilteredFeatureProvider{constructor(c,d,f){super(d,f),this.httpClient=c,this.telemetry=d,this.filterProviders=f}async fetch(){let c=this.getFilters(),d={};for(let u of c.keys()){const k=c.get(u);d[u]=k}let f;try{f=await this.httpClient.get({headers:d})}catch(u){const k=u,m=new Map;k.responseReceived&&!k.responseOk?m.set(I,"ServerError"):k.responseReceived===!1?m.set(I,"NoResponse"):m.set(I,"GenericError"),this.telemetry.postEvent(G.TASAPI_FETCHERROR_EVENTNAME,m)}if(!f)throw Error(G.TASAPI_FETCHERROR_EVENTNAME);c.keys.length>0&&this.PostEventToTelemetry(d);const h=f.data;let _=h.Configs,y=[];for(let u of _)if(u.Parameters)for(let k of Object.keys(u.Parameters)){const m=k+(u.Parameters[k]?"":"cf");y.includes(m)||y.push(m)}return{features:y,assignmentContext:h.AssignmentContext,configs:_}}}G.TasApiFeatureProvider=P},51924:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.HttpClient=G.FetchError=void 0;class N extends Error{constructor(P,S,c){super(P),this.responseReceived=S,this.responseOk=c}}G.FetchError=N;class R{constructor(P){this.endpoint=P}async get(P){const S=await fetch(this.endpoint,{method:"GET",headers:P==null?void 0:P.headers});if(!S)throw new N("No response received",!1);if(!S.ok)throw new N("Response not ok",!0,!1);const c=await S.json();if(!c)throw new N("No data received",!1);return{data:c}}}G.HttpClient=R},48823:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MemoryKeyValueStorage=void 0;class N{constructor(){this.storage=new Map}async getValue(I,P){return this.storage.has(I)?await Promise.resolve(this.storage.get(I)):await Promise.resolve(P||void 0)}setValue(I,P){this.storage.set(I,P)}}G.MemoryKeyValueStorage=N},23257:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.PollingService=void 0;class N{constructor(I){this.fetchInterval=I}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(I){this.onTick=I}StartPolling(I=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(I&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}G.PollingService=N},48318:function(s,G,N){(function(R){"use strict";var I=function(){try{if(R.URLSearchParams&&new R.URLSearchParams("foo=bar").get("foo")==="bar")return R.URLSearchParams}catch{}return null}(),P=I&&new I({a:1}).toString()==="a=1",S=I&&new I("s=%2B").get("s")==="+",c="__URLSearchParams__",d=I?function(){var b=new I;return b.append("s"," &"),b.toString()==="s=+%26"}():!0,f=_.prototype,h=!!(R.Symbol&&R.Symbol.iterator);if(I&&P&&S&&d)return;function _(b){b=b||"",(b instanceof URLSearchParams||b instanceof _)&&(b=b.toString()),this[c]=E(b)}f.append=function(b,L){D(this[c],b,L)},f.delete=function(b){delete this[c][b]},f.get=function(b){var L=this[c];return this.has(b)?L[b][0]:null},f.getAll=function(b){var L=this[c];return this.has(b)?L[b].slice(0):[]},f.has=function(b){return W(this[c],b)},f.set=function(L,z){this[c][L]=[""+z]},f.toString=function(){var b=this[c],L=[],z,K,J,ie;for(K in b)for(J=g(K),z=0,ie=b[K];z<ie.length;z++)L.push(J+"="+g(ie[z]));return L.join("&")};var y=!S,u=!y&&I&&!P&&R.Proxy,k;u?(k=new Proxy(I,{construct:function(b,L){return new b(new _(L[0]).toString())}}),k.toString=Function.prototype.toString.bind(_)):k=_,Object.defineProperty(R,"URLSearchParams",{value:k});var m=R.URLSearchParams.prototype;m.polyfill=!0,m.forEach=m.forEach||function(b,L){var z=E(this.toString());Object.getOwnPropertyNames(z).forEach(function(K){z[K].forEach(function(J){b.call(L,J,K,this)},this)},this)},m.sort=m.sort||function(){var b=E(this.toString()),L=[],z,K,J;for(z in b)L.push(z);for(L.sort(),K=0;K<L.length;K++)this.delete(L[K]);for(K=0;K<L.length;K++){var ie=L[K],Y=b[ie];for(J=0;J<Y.length;J++)this.append(ie,Y[J])}},m.keys=m.keys||function(){var b=[];return this.forEach(function(L,z){b.push(z)}),T(b)},m.values=m.values||function(){var b=[];return this.forEach(function(L){b.push(L)}),T(b)},m.entries=m.entries||function(){var b=[];return this.forEach(function(L,z){b.push([z,L])}),T(b)},h&&(m[R.Symbol.iterator]=m[R.Symbol.iterator]||m.entries);function g(b){var L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(b).replace(/[!'\(\)~]|%20|%00/g,function(z){return L[z]})}function p(b){return b.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(L){return decodeURIComponent(L)})}function T(b){var L={next:function(){var z=b.shift();return{done:z===void 0,value:z}}};return h&&(L[R.Symbol.iterator]=function(){return L}),L}function E(b){var L={};if(typeof b=="object")if(x(b))for(var z=0;z<b.length;z++){var K=b[z];if(x(K)&&K.length===2)D(L,K[0],K[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var J in b)b.hasOwnProperty(J)&&D(L,J,b[J]);else{b.indexOf("?")===0&&(b=b.slice(1));for(var ie=b.split("&"),Y=0;Y<ie.length;Y++){var M=ie[Y],V=M.indexOf("=");-1<V?D(L,p(M.slice(0,V)),p(M.slice(V+1))):M&&D(L,p(M),"")}}return L}function D(b,L,z){var K=typeof z=="string"?z:z!=null&&typeof z.toString=="function"?z.toString():JSON.stringify(z);W(b,L)?b[L].push(K):b[L]=[K]}function x(b){return!!b&&Object.prototype.toString.call(b)==="[object Array]"}function W(b,L){return Object.prototype.hasOwnProperty.call(b,L)}})(typeof N.g!="undefined"?N.g:typeof window!="undefined"?window:this)},94643:(s,G,N)=>{s.exports=R;function R(P,S){if(I("noDeprecation"))return P;var c=!1;function d(){if(!c){if(I("throwDeprecation"))throw new Error(S);I("traceDeprecation")?console.trace(S):console.warn(S),c=!0}return P.apply(this,arguments)}return d}function I(P){try{if(!N.g.localStorage)return!1}catch{return!1}var S=N.g.localStorage[P];return S==null?!1:String(S).toLowerCase()==="true"}},41566:(s,G,N)=>{"use strict";var R;R={value:!0},G.Z7=R=G.M$=void 0;var I=N(12493);Object.defineProperty(G,"M$",{enumerable:!0,get:function(){return I.getExperimentationService}}),R={enumerable:!0,get:function(){return I.getExperimentationServiceAsync}};var P=N(8967);Object.defineProperty(G,"Z7",{enumerable:!0,get:function(){return P.TargetPopulation}})},98142:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MementoKeyValueStorage=void 0;class N{constructor(I){this.mementoGlobalStorage=I}async getValue(I,P){return await this.mementoGlobalStorage.get(I)||P}setValue(I,P){this.mementoGlobalStorage.update(I,P)}}G.MementoKeyValueStorage=N},59052:(s,G)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});class N{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(I){return!1}isCachedFlightEnabled(I){return Promise.resolve(!1)}isFlightEnabledAsync(I){return Promise.resolve(!1)}getTreatmentVariable(I,P){}getTreatmentVariableAsync(I,P){return Promise.resolve(void 0)}}G.default=N},8967:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.TargetPopulation=G.Filters=G.VSCodeFilterProvider=void 0;const R=N(91398);class I{constructor(d,f,h){this.extensionName=d,this.extensionVersion=f,this.targetPopulation=h}static trimVersionSuffix(d){const f=/\-[a-zA-Z0-9]+$/;return d.split(f)[0]}getFilterValue(d){switch(d){case P.ApplicationVersion:return I.trimVersionSuffix(R.version);case P.Build:return R.env.appName;case P.ClientId:return R.env.machineId;case P.ExtensionName:return this.extensionName;case P.ExtensionVersion:return I.trimVersionSuffix(this.extensionVersion);case P.Language:return R.env.language;case P.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let d=new Map,f=Object.values(P);for(let h of f)d.set(h,this.getFilterValue(h));return d}}G.VSCodeFilterProvider=I;var P;(function(c){c.Market="X-MSEdge-Market",c.CorpNet="X-FD-Corpnet",c.ApplicationVersion="X-VSCode-AppVersion",c.Build="X-VSCode-Build",c.ClientId="X-MSEdge-ClientId",c.ExtensionName="X-VSCode-ExtensionName",c.ExtensionVersion="X-VSCode-ExtensionVersion",c.Language="X-VSCode-Language",c.TargetPopulation="X-VSCode-TargetPopulation"})(P||(G.Filters=P={}));var S;(function(c){c.Team="team",c.Internal="internal",c.Insiders="insider",c.Public="public"})(S||(G.TargetPopulation=S={}))},12493:(s,G,N)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getExperimentationServiceAsync=G.getExperimentationService=void 0;const R=N(8967),I=N(32909),P=N(91398),S=N(98142),c=N(59052),d="https://default.exp-tas.com/vscode/ab",f="query-expfeature",h="abexp.assignmentcontext",_="VSCode.ABExp.FeatureData",y=1e3*60*30;function u(m,g,p,T,E,...D){if(!E)throw new Error("Memento storage was not provided.");const x=P.workspace.getConfiguration("telemetry");if(!(P.env.isTelemetryEnabled===void 0?x.get("enableTelemetry",!0):P.env.isTelemetryEnabled))return new c.default;const L=[new R.VSCodeFilterProvider(m,g,p),...D],z=new S.MementoKeyValueStorage(E);return new I.ExperimentationService({filterProviders:L,telemetry:T,storageKey:_,keyValueStorage:z,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:h,telemetryEventName:f,endpoint:d,refetchInterval:y})}G.getExperimentationService=u;async function k(m,g,p,T,E,...D){const x=u(m,g,p,T,E,...D);return await x.initializePromise,x}G.getExperimentationServiceAsync=k},86587:s=>{s.exports=G;function G(N,R){if(N&&R)return G(N)(R);if(typeof N!="function")throw new TypeError("need wrapper function");return Object.keys(N).forEach(function(P){I[P]=N[P]}),I;function I(){for(var P=new Array(arguments.length),S=0;S<P.length;S++)P[S]=arguments[S];var c=N.apply(this,P),d=P[P.length-1];return typeof c=="function"&&c!==d&&Object.keys(d).forEach(function(f){c[f]=d[f]}),c}}},57510:s=>{s.exports=N;var G=Object.prototype.hasOwnProperty;function N(){for(var R={},I=0;I<arguments.length;I++){var P=arguments[I];for(var S in P)G.call(P,S)&&(R[S]=P[S])}return R}},40259:s=>{"use strict";s.exports=function(G){G.prototype[Symbol.iterator]=function*(){for(let N=this.head;N;N=N.next)yield N.value}}},28799:(s,G,N)=>{"use strict";s.exports=R,R.Node=c,R.create=R;function R(d){var f=this;if(f instanceof R||(f=new R),f.tail=null,f.head=null,f.length=0,d&&typeof d.forEach=="function")d.forEach(function(y){f.push(y)});else if(arguments.length>0)for(var h=0,_=arguments.length;h<_;h++)f.push(arguments[h]);return f}R.prototype.removeNode=function(d){if(d.list!==this)throw new Error("removing node which does not belong to this list");var f=d.next,h=d.prev;return f&&(f.prev=h),h&&(h.next=f),d===this.head&&(this.head=f),d===this.tail&&(this.tail=h),d.list.length--,d.next=null,d.prev=null,d.list=null,f},R.prototype.unshiftNode=function(d){if(d!==this.head){d.list&&d.list.removeNode(d);var f=this.head;d.list=this,d.next=f,f&&(f.prev=d),this.head=d,this.tail||(this.tail=d),this.length++}},R.prototype.pushNode=function(d){if(d!==this.tail){d.list&&d.list.removeNode(d);var f=this.tail;d.list=this,d.prev=f,f&&(f.next=d),this.tail=d,this.head||(this.head=d),this.length++}},R.prototype.push=function(){for(var d=0,f=arguments.length;d<f;d++)P(this,arguments[d]);return this.length},R.prototype.unshift=function(){for(var d=0,f=arguments.length;d<f;d++)S(this,arguments[d]);return this.length},R.prototype.pop=function(){if(this.tail){var d=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,d}},R.prototype.shift=function(){if(this.head){var d=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,d}},R.prototype.forEach=function(d,f){f=f||this;for(var h=this.head,_=0;h!==null;_++)d.call(f,h.value,_,this),h=h.next},R.prototype.forEachReverse=function(d,f){f=f||this;for(var h=this.tail,_=this.length-1;h!==null;_--)d.call(f,h.value,_,this),h=h.prev},R.prototype.get=function(d){for(var f=0,h=this.head;h!==null&&f<d;f++)h=h.next;if(f===d&&h!==null)return h.value},R.prototype.getReverse=function(d){for(var f=0,h=this.tail;h!==null&&f<d;f++)h=h.prev;if(f===d&&h!==null)return h.value},R.prototype.map=function(d,f){f=f||this;for(var h=new R,_=this.head;_!==null;)h.push(d.call(f,_.value,this)),_=_.next;return h},R.prototype.mapReverse=function(d,f){f=f||this;for(var h=new R,_=this.tail;_!==null;)h.push(d.call(f,_.value,this)),_=_.prev;return h},R.prototype.reduce=function(d,f){var h,_=this.head;if(arguments.length>1)h=f;else if(this.head)_=this.head.next,h=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var y=0;_!==null;y++)h=d(h,_.value,y),_=_.next;return h},R.prototype.reduceReverse=function(d,f){var h,_=this.tail;if(arguments.length>1)h=f;else if(this.tail)_=this.tail.prev,h=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var y=this.length-1;_!==null;y--)h=d(h,_.value,y),_=_.prev;return h},R.prototype.toArray=function(){for(var d=new Array(this.length),f=0,h=this.head;h!==null;f++)d[f]=h.value,h=h.next;return d},R.prototype.toArrayReverse=function(){for(var d=new Array(this.length),f=0,h=this.tail;h!==null;f++)d[f]=h.value,h=h.prev;return d},R.prototype.slice=function(d,f){f=f||this.length,f<0&&(f+=this.length),d=d||0,d<0&&(d+=this.length);var h=new R;if(f<d||f<0)return h;d<0&&(d=0),f>this.length&&(f=this.length);for(var _=0,y=this.head;y!==null&&_<d;_++)y=y.next;for(;y!==null&&_<f;_++,y=y.next)h.push(y.value);return h},R.prototype.sliceReverse=function(d,f){f=f||this.length,f<0&&(f+=this.length),d=d||0,d<0&&(d+=this.length);var h=new R;if(f<d||f<0)return h;d<0&&(d=0),f>this.length&&(f=this.length);for(var _=this.length,y=this.tail;y!==null&&_>f;_--)y=y.prev;for(;y!==null&&_>d;_--,y=y.prev)h.push(y.value);return h},R.prototype.splice=function(d,f,...h){d>this.length&&(d=this.length-1),d<0&&(d=this.length+d);for(var _=0,y=this.head;y!==null&&_<d;_++)y=y.next;for(var u=[],_=0;y&&_<f;_++)u.push(y.value),y=this.removeNode(y);y===null&&(y=this.tail),y!==this.head&&y!==this.tail&&(y=y.prev);for(var _=0;_<h.length;_++)y=I(this,y,h[_]);return u},R.prototype.reverse=function(){for(var d=this.head,f=this.tail,h=d;h!==null;h=h.prev){var _=h.prev;h.prev=h.next,h.next=_}return this.head=f,this.tail=d,this};function I(d,f,h){var _=f===d.head?new c(h,null,f,d):new c(h,f,f.next,d);return _.next===null&&(d.tail=_),_.prev===null&&(d.head=_),d.length++,_}function P(d,f){d.tail=new c(f,d.tail,null,d),d.head||(d.head=d.tail),d.length++}function S(d,f){d.head=new c(f,null,d.head,d),d.tail||(d.tail=d.head),d.length++}function c(d,f,h,_){if(!(this instanceof c))return new c(d,f,h,_);this.list=_,this.value=d,f?(f.next=this,this.prev=f):this.prev=null,h?(h.prev=this,this.next=h):this.next=null}try{N(40259)(R)}catch{}},16064:(s,G,N)=>{s.exports=N(43619).Observable},43619:(s,G)=>{"use strict";var N;N={value:!0},G.Observable=void 0;function R(z,K){if(!(z instanceof K))throw new TypeError("Cannot call a class as a function")}function I(z,K){for(var J=0;J<K.length;J++){var ie=K[J];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(z,ie.key,ie)}}function P(z,K,J){return K&&I(z.prototype,K),J&&I(z,J),z}var S=function(){return typeof Symbol=="function"},c=function(z){return S()&&!!Symbol[z]},d=function(z){return c(z)?Symbol[z]:"@@"+z};S()&&!c("observable")&&(Symbol.observable=Symbol("observable"));var f=d("iterator"),h=d("observable"),_=d("species");function y(z,K){var J=z[K];if(J!=null){if(typeof J!="function")throw new TypeError(J+" is not a function");return J}}function u(z){var K=z.constructor;return K!==void 0&&(K=K[_],K===null&&(K=void 0)),K!==void 0?K:L}function k(z){return z instanceof L}function m(z){m.log?m.log(z):setTimeout(function(){throw z})}function g(z){Promise.resolve().then(function(){try{z()}catch(K){m(K)}})}function p(z){var K=z._cleanup;if(K!==void 0&&(z._cleanup=void 0,!!K))try{if(typeof K=="function")K();else{var J=y(K,"unsubscribe");J&&J.call(K)}}catch(ie){m(ie)}}function T(z){z._observer=void 0,z._queue=void 0,z._state="closed"}function E(z){var K=z._queue;if(K){z._queue=void 0,z._state="ready";for(var J=0;J<K.length&&(D(z,K[J].type,K[J].value),z._state!=="closed");++J);}}function D(z,K,J){z._state="running";var ie=z._observer;try{var Y=y(ie,K);switch(K){case"next":Y&&Y.call(ie,J);break;case"error":if(T(z),Y)Y.call(ie,J);else throw J;break;case"complete":T(z),Y&&Y.call(ie);break}}catch(M){m(M)}z._state==="closed"?p(z):z._state==="running"&&(z._state="ready")}function x(z,K,J){if(z._state!=="closed"){if(z._state==="buffering"){z._queue.push({type:K,value:J});return}if(z._state!=="ready"){z._state="buffering",z._queue=[{type:K,value:J}],g(function(){return E(z)});return}D(z,K,J)}}var W=function(){function z(K,J){R(this,z),this._cleanup=void 0,this._observer=K,this._queue=void 0,this._state="initializing";var ie=new b(this);try{this._cleanup=J.call(void 0,ie)}catch(Y){ie.error(Y)}this._state==="initializing"&&(this._state="ready")}return P(z,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(T(this),p(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),z}(),b=function(){function z(K){R(this,z),this._subscription=K}return P(z,[{key:"next",value:function(J){x(this._subscription,"next",J)}},{key:"error",value:function(J){x(this._subscription,"error",J)}},{key:"complete",value:function(){x(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),z}(),L=function(){function z(K){if(R(this,z),!(this instanceof z))throw new TypeError("Observable cannot be called as a function");if(typeof K!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=K}return P(z,[{key:"subscribe",value:function(J){return(typeof J!="object"||J===null)&&(J={next:J,error:arguments[1],complete:arguments[2]}),new W(J,this._subscriber)}},{key:"forEach",value:function(J){var ie=this;return new Promise(function(Y,M){if(typeof J!="function"){M(new TypeError(J+" is not a function"));return}function V(){C.unsubscribe(),Y()}var C=ie.subscribe({next:function(l){try{J(l,V)}catch(w){M(w),C.unsubscribe()}},error:M,complete:Y})})}},{key:"map",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this);return new Y(function(M){return ie.subscribe({next:function(V){try{V=J(V)}catch(C){return M.error(C)}M.next(V)},error:function(V){M.error(V)},complete:function(){M.complete()}})})}},{key:"filter",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this);return new Y(function(M){return ie.subscribe({next:function(V){try{if(!J(V))return}catch(C){return M.error(C)}M.next(V)},error:function(V){M.error(V)},complete:function(){M.complete()}})})}},{key:"reduce",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this),M=arguments.length>1,V=!1,C=arguments[1],l=C;return new Y(function(w){return ie.subscribe({next:function(F){var q=!V;if(V=!0,!q||M)try{l=J(l,F)}catch(j){return w.error(j)}else l=F},error:function(F){w.error(F)},complete:function(){if(!V&&!M)return w.error(new TypeError("Cannot reduce an empty sequence"));w.next(l),w.complete()}})})}},{key:"concat",value:function(){for(var J=this,ie=arguments.length,Y=new Array(ie),M=0;M<ie;M++)Y[M]=arguments[M];var V=u(this);return new V(function(C){var l,w=0;function F(q){l=q.subscribe({next:function(j){C.next(j)},error:function(j){C.error(j)},complete:function(){w===Y.length?(l=void 0,C.complete()):F(V.from(Y[w++]))}})}return F(J),function(){l&&(l.unsubscribe(),l=void 0)}})}},{key:"flatMap",value:function(J){var ie=this;if(typeof J!="function")throw new TypeError(J+" is not a function");var Y=u(this);return new Y(function(M){var V=[],C=ie.subscribe({next:function(w){if(J)try{w=J(w)}catch(q){return M.error(q)}var F=Y.from(w).subscribe({next:function(q){M.next(q)},error:function(q){M.error(q)},complete:function(){var q=V.indexOf(F);q>=0&&V.splice(q,1),l()}});V.push(F)},error:function(w){M.error(w)},complete:function(){l()}});function l(){C.closed&&V.length===0&&M.complete()}return function(){V.forEach(function(w){return w.unsubscribe()}),C.unsubscribe()}})}},{key:h,value:function(){return this}}],[{key:"from",value:function(J){var ie=typeof this=="function"?this:z;if(J==null)throw new TypeError(J+" is not an object");var Y=y(J,h);if(Y){var M=Y.call(J);if(Object(M)!==M)throw new TypeError(M+" is not an object");return k(M)&&M.constructor===ie?M:new ie(function(V){return M.subscribe(V)})}if(c("iterator")&&(Y=y(J,f),Y))return new ie(function(V){g(function(){if(!V.closed){var C=!0,l=!1,w=void 0;try{for(var F=Y.call(J)[Symbol.iterator](),q;!(C=(q=F.next()).done);C=!0){var j=q.value;if(V.next(j),V.closed)return}}catch($){l=!0,w=$}finally{try{!C&&F.return!=null&&F.return()}finally{if(l)throw w}}V.complete()}})});if(Array.isArray(J))return new ie(function(V){g(function(){if(!V.closed){for(var C=0;C<J.length;++C)if(V.next(J[C]),V.closed)return;V.complete()}})});throw new TypeError(J+" is not observable")}},{key:"of",value:function(){for(var J=arguments.length,ie=new Array(J),Y=0;Y<J;Y++)ie[Y]=arguments[Y];var M=typeof this=="function"?this:z;return new M(function(V){g(function(){if(!V.closed){for(var C=0;C<ie.length;++C)if(V.next(ie[C]),V.closed)return;V.complete()}})})}},{key:_,get:function(){return this}}]),z}();G.Observable=L,S()&&Object.defineProperty(L,Symbol("extensions"),{value:{symbol:h,hostReportError:m},configurable:!0})},91398:s=>{"use strict";s.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},11138:()=>{},3219:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:s=>{"use strict";s.exports={rE:"6.6.1"}},15579:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},$r={};function Qt(s){var G=$r[s];if(G!==void 0)return G.exports;var N=$r[s]={id:s,loaded:!1,exports:{}};return Ka[s].call(N.exports,N,N.exports,Qt),N.loaded=!0,N.exports}Qt.n=s=>{var G=s&&s.__esModule?()=>s.default:()=>s;return Qt.d(G,{a:G}),G},Qt.d=(s,G)=>{for(var N in G)Qt.o(G,N)&&!Qt.o(s,N)&&Object.defineProperty(s,N,{enumerable:!0,get:G[N]})},Qt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Qt.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),Qt.o=(s,G)=>Object.prototype.hasOwnProperty.call(s,G),Qt.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},Qt.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var Uu={};(()=>{"use strict";var Rs;Qt.r(Uu),Qt.d(Uu,{activate:()=>VR,deactivate:()=>QR});var s=Qt(91398);const G=async(n,e,t)=>{const i=await Promise.resolve().then(Qt.bind(Qt,14523)),r=await Promise.resolve().then(Qt.bind(Qt,28643)),a=new i.AppInsightsCore,o=new r.PostChannel,v={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){v.extensionConfig={};const Q={alwaysUseXhrOverride:!0,httpXHROverride:t};v.extensionConfig[o.identifier]=Q}const H=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(v,[]),a.addTelemetryInitializer(Q=>{var re,le;H&&(Q.ext=(re=Q.ext)!=null?re:{},Q.ext.utc=(le=Q.ext.utc)!=null?le:{},Q.ext.utc.flags=8462029)}),a},N=async(n,e,t)=>{const i=await G(n,e,t);return{logEvent:(a,o)=>{try{i==null||i.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(v){throw new Error(`Failed to log event to app insights!
`+v.message)}},flush:async()=>{try{i==null||i.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var R;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(R||(R={}));class I{constructor(e,t){this._instantiationStatus=R.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==R.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==R.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===R.NOT_INSTANTIATED&&(this._instantiationStatus=R.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=R.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=R.INSTANTIATED}))}}class P{constructor(e,t,i){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,i),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logUsage(e,{properties:t,measurements:i})}sendTelemetryEvent(e,t,i){this.internalSendTelemetryEvent(e,t,i,!1)}sendDangerousTelemetryEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,i,!0)}internalSendTelemetryErrorEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryErrorEvent(e,t,i){this.internalSendTelemetryErrorEvent(e,t,i,!1)}sendDangerousTelemetryErrorEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,i,!0)}internalSendTelemetryException(e,t,i,r){r?this.telemetrySender.sendErrorData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryException(e,t,i){this.internalSendTelemetryException(e,t,i,!1)}sendDangerousTelemetryException(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,i,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class S{static applyReplacements(e,t){for(const i of Object.keys(e))for(const r of t)r.lookup.test(i)&&(r.replacementString!==void 0?e[i]=r.replacementString:delete e[i])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return S._instance||(S._instance=new S),S._instance}}const c=async(n,e)=>{let t;try{const r=await Promise.resolve().then(Qt.bind(Qt,94731));t=new r.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(r){return Promise.reject(r)}return{logEvent:(r,a)=>{const o={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};e!=null&&e.length&&S.applyReplacements(o,e),t==null||t.track({name:r,data:o})},flush:async()=>{t==null||t.flush()}}};class d extends P{constructor(e,t){let i=o=>c(o,t);S.shouldUseOneDataSystemSDK(e)&&(i=o=>N(o,s));const r={release:navigator.appVersion,platform:"web",architecture:"web"},a=new I(e,i);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:S.getAdditionalCommonProperties(r)})}}var f=Object.defineProperty,h=(n,e,t)=>e in n?f(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_=(n,e,t)=>h(n,typeof e!="symbol"?e+"":e,t);function y(n){return{dispose:n}}function u(n){return y(()=>k(n))}function k(n){for(;n.length;){const e=n.pop();e==null||e.dispose()}}function m(n,e){return e.push(n),n}class g{constructor(){_(this,"_isDisposed",!1),_(this,"_disposables",[])}dispose(){this._isDisposed||(this._isDisposed=!0,k(this._disposables),this._disposables=[])}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}var p=Object.defineProperty,T=(n,e,t)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e,t)=>T(n,typeof e!="symbol"?e+"":e,t);const D="PullRequestTree";class x extends g{constructor(){super(),E(this,"_outputChannel"),E(this,"_activePerfMarkers",new Map),this._outputChannel=this._register(s.window.createOutputChannel("GitHub Pull Request",{log:!0}))}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){return typeof e!="string"&&(e instanceof Error?e=e.message:"toString"in e?e=e.toString():e=JSON.stringify(e)),t?`[${t}] ${e}`:e}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}}const b=new x;var L=Qt(57975),z=Qt(74353),K=Qt.n(z),J=Qt(6279),ie=Qt.n(J),Y=Qt(53581),M=Qt.n(Y),V=Object.defineProperty,C=(n,e,t)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l=(n,e,t)=>C(n,typeof e!="symbol"?e+"":e,t);K().extend(ie(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),K().extend(M()),K().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function w(n,e){const t=Object.create(null);return n.filter(i=>{const r=e(i);return t[r]?!1:(t[r]=!0,!0)})}function F(...n){return(e,t=null,i)=>{const r=combinedDisposable(n.map(a=>a(o=>e.call(t,o))));return i&&i.push(r),r}}function q(n,e){return(t,i=null,r)=>n(a=>e(a)&&t.call(i,a),null,r)}function j(n){return(e,t=null,i)=>{const r=n(a=>(r.dispose(),e.call(t,a)),null,i);return r}}function $(n){return/^[a-zA-Z]:\\/.test(n)}function Z(n,e,t=L.sep){return n===e?!0:(n.charAt(n.length-1)!==t&&(n+=t),$(n)&&(n=n.toLowerCase(),e=e.toLowerCase()),e.startsWith(n))}function te(n,e){return n.reduce((t,i)=>{const r=e(i);return t[r]=[...t[r]||[],i],t},Object.create(null))}class B extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function ae(n){return!!n.errors}function xe(n){let e=!0;if(n.errors&&Array.isArray(n.errors)){for(const t of n.errors)if(!t.field||!t.value||!t.status){e=!1;break}}else e=!1;return e}function he(n){if(!(n instanceof Error))return typeof n=="string"?n:n.gitErrorCode?`${n.message}. Please check git output for more details`:n.stderr?`${n.stderr}. Please check git output for more details`:"Error";let e=n.message,t;if(n.message==="Validation Failed"&&xe(n))t=n.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.status})`).join(", ");else{if(n.message.startsWith("Validation Failed:"))return n.message;if(ae(n)&&n.errors)return n.errors.map(i=>typeof i=="string"?i:i.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function Ne(n){return new Promise(e=>{const t=n(i=>{t.dispose(),e(i)})})}async function Te(n,e){return Promise.race([n,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function X(n){const e=K()(n),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function ee(n,e,t=!1){n.startsWith("#")&&(n=n.substring(1));const i=me(n);if(e){const r=ke(i.r,i.g,i.b),a=.6,o=.18,v=.3,A=(i.r*.2126+i.g*.7152+i.b*.0722)/255,H=Math.max(0,Math.min((A-a)*-1e3,1)),Q=(a-A)*100*H,re=me(U(r.h,r.s,r.l+Q)),le=`#${U(r.h,r.s,r.l+Q)}`,pe=t?`#${ce({...i,a:o})}`:`rgba(${i.r},${i.g},${i.b},${o})`,Se=t?`#${ce({...re,a:v})}`:`rgba(${re.r},${re.g},${re.b},${v})`;return{textColor:le,backgroundColor:pe,borderColor:Se}}else return{textColor:`#${O(i)}`,backgroundColor:`#${n}`,borderColor:`#${n}`}}const ce=n=>{const e=[n.r,n.g,n.b];return n.a&&e.push(Math.floor(n.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function me(n){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function ke(n,e,t){n/=255,e/=255,t/=255;let i=Math.min(n,e,t),r=Math.max(n,e,t),a=r-i,o=0,v=0,A=0;return a==0?o=0:r==n?o=(e-t)/a%6:r==e?o=(t-n)/a+2:o=(n-e)/a+4,o=Math.round(o*60),o<0&&(o+=360),A=(r+i)/2,v=a==0?0:a/(1-Math.abs(2*A-1)),v=+(v*100).toFixed(1),A=+(A*100).toFixed(1),{h:o,s:v,l:A}}function U(n,e,t){const i=t/100,r=e*Math.min(i,1-i)/100,a=o=>{const v=(o+n/30)%12,A=i-r*Math.max(Math.min(v-3,9-v,1),-1);return Math.round(255*A).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function O(n){return(.299*n.r+.587*n.g+.114*n.b)/255>.5?"000000":"ffffff"}var oe=(n=>(n[n.Period=46]="Period",n[n.Slash=47]="Slash",n[n.A=65]="A",n[n.Z=90]="Z",n[n.Backslash=92]="Backslash",n[n.a=97]="a",n[n.z=122]="z",n))(oe||{});function ge(n,e){return n<e?-1:n>e?1:0}function we(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){const A=n.charCodeAt(t),H=e.charCodeAt(r);if(A<H)return-1;if(A>H)return 1}const o=i-t,v=a-r;return o<v?-1:o>v?1:0}function ve(n,e){return Pe(n,e,0,n.length,0,e.length)}function Pe(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){let A=n.charCodeAt(t),H=e.charCodeAt(r);if(A===H)continue;const Q=A-H;if(!(Q===32&&He(H))&&!(Q===-32&&He(A)))return Le(A)&&Le(H)?Q:we(n.toLowerCase(),e.toLowerCase(),t,i,r,a)}const o=i-t,v=a-r;return o<v?-1:o>v?1:0}function Le(n){return n>=97&&n<=122}function He(n){return n>=65&&n<=90}class wt{constructor(){l(this,"_value",""),l(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class ze{constructor(e=!0){this._caseSensitive=e,l(this,"_value"),l(this,"_from"),l(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?we(e,this._value,0,e.length,this._from,this._to):Pe(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class et{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,l(this,"_value"),l(this,"_from"),l(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?we(e,this._value,0,e.length,this._from,this._to):Pe(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var gt=(n=>(n[n.Scheme=1]="Scheme",n[n.Authority=2]="Authority",n[n.Path=3]="Path",n[n.Query=4]="Query",n[n.Fragment=5]="Fragment",n))(gt||{});class de{constructor(e){this._ignorePathCasing=e,l(this,"_pathIterator"),l(this,"_value"),l(this,"_states",[]),l(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new et(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return ve(e,this._value.scheme);if(this._states[this._stateIdx]===2)return ve(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return ge(e,this._value.query);if(this._states[this._stateIdx]===5)return ge(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function ne(n){const t=n.extensionUri.path,i=t.lastIndexOf(".");return i===-1?!1:t.substr(i+1).length>1}class se{constructor(){l(this,"segment"),l(this,"value"),l(this,"key"),l(this,"left"),l(this,"mid"),l(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class be{constructor(e){l(this,"_iter"),l(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new be(new de(e))}static forPaths(){return new be(new et)}static forStrings(){return new be(new wt)}static forConfigKeys(){return new be(new ze)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;for(this._root||(this._root=new se,this._root.segment=i.value()),r=this._root;;){const o=i.cmp(r.segment);if(o>0)r.left||(r.left=new se,r.left.segment=i.value()),r=r.left;else if(o<0)r.right||(r.right=new se,r.right.segment=i.value()),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new se,r.mid.segment=i.value()),r=r.mid;else break}const a=r.value;return r.value=t,r.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let a=this._root;for(;a;){const o=i.cmp(a.segment);if(o>0)r.push([1,a]),a=a.left;else if(o<0)r.push([-1,a]),a=a.right;else if(i.hasNext())i.next(),r.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;r.length>0&&a.isEmpty();){let[v,A]=r.pop();switch(v){case 1:A.left=void 0;break;case 0:A.mid=void 0;break;case-1:A.right=void 0;break}a=A}break}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const a=t.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function Me(n,e,t){const i=[];n.replace(e,(o,...v)=>{const A=t(o,...v);return i.push(A),""});const r=await Promise.all(i);let a=0;return n.replace(e,()=>r[a++])}async function $e(n,e,t){const i=Math.ceil(n.length/e);for(let r=0;r<i;r++){const a=n.slice(r*e,(r+1)*e);await Promise.all(a.map(t))}}function Fe(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Ke=Object.defineProperty,Ut=(n,e,t)=>e in n?Ke(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xe=(n,e,t)=>Ut(n,typeof e!="symbol"?e+"":e,t),at=(n=>(n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag",n))(at||{}),ot=(n=>(n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n))(ot||{}),ct=(n=>(n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED",n))(ct||{});const pt=class Du extends g{constructor(){super(...arguments),Xe(this,"_providers",new Map),Xe(this,"_onDidOpenRepository",new s.EventEmitter),Xe(this,"onDidOpenRepository",this._onDidOpenRepository.event),Xe(this,"_onDidCloseRepository",new s.EventEmitter),Xe(this,"onDidCloseRepository",this._onDidCloseRepository.event),Xe(this,"_onDidChangeState",new s.EventEmitter),Xe(this,"onDidChangeState",this._onDidChangeState.event),Xe(this,"_onDidPublish",new s.EventEmitter),Xe(this,"onDidPublish",this._onDidPublish.event),Xe(this,"_titleAndDescriptionProviders",new Set),Xe(this,"_reviewerCommentsProviders",new Set)}get repositories(){const e=[];return this._providers.forEach(({repositories:t})=>{t&&e.push(...t)}),e}get state(){if(this._providers.size!==0){for(const[,{state:e}]of this._providers)if(e!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const e=Array.from(this._providers.values()).reduce((t,i)=>t+i.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",e)}registerGitProvider(e){b.appendLine("Registering git provider",Du.ID);const t=this._nextHandle();return this._providers.set(t,e),this._register(e.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(e.onDidOpenRepository(i=>{b.appendLine(`Repository ${i.rootUri} has been opened`,Du.ID),this._updateReposContext(),this._onDidOpenRepository.fire(i)})),e.onDidChangeState&&this._register(e.onDidChangeState(i=>this._onDidChangeState.fire(i))),e.onDidPublish&&this._register(e.onDidPublish(i=>this._onDidPublish.fire(i))),this._updateReposContext(),e.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=e==null?void 0:e.repositories;i&&i.length>0&&i.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(t)}}}getGitProvider(e){const t=be.forUris();return this._providers.forEach(i=>{const r=i.repositories;if(r&&r.length>0)for(const a of r)t.set(a.rootUri,i)}),t.findSubstr(e)}registerPostCommitCommandsProvider(e){const t=Array.from(this._providers.values()).map(i=>i.registerPostCommitCommandsProvider?i.registerPostCommitCommandsProvider(e):{dispose:()=>{}});return{dispose:()=>t.forEach(i=>i.dispose())}}_nextHandle(){return Du._handlePool++}registerTitleAndDescriptionProvider(e,t){const i={title:e,provider:t};return this._titleAndDescriptionProviders.add(i),this._register({dispose:()=>this._titleAndDescriptionProviders.delete(i)})}getTitleAndDescriptionProvider(e){if(e){for(const t of this._titleAndDescriptionProviders)if(t.title.toLowerCase().includes(e.toLowerCase()))return t}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(e,t){const i={title:e,provider:t};return this._reviewerCommentsProviders.add(i),this._register({dispose:()=>this._reviewerCommentsProviders.delete(i)})}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}};Xe(pt,"ID","GitAPI"),Xe(pt,"_handlePool",0);let di=pt;var ht;(n=>{function e(t){return t&&t.thread&&t.text!==void 0}n.is=e})(ht||(ht={}));const Nt=new Map;function Oi(n,e,t){Nt.set(n,{handler:e,repoRootUri:t.rootUri.toString()})}function Mt(n){Nt.delete(n)}function Ot(n){const e=[];for(const t of Nt.values())t.handler.hasCommentThread(n)&&e.push(t);if(e.length>0)return e.sort((t,i)=>i.repoRootUri.length-t.repoRootUri.length),e[0].handler;b.warn(`Unable to find handler for comment thread ${n.gitHubThreadId}`)}function Rn(){for(const n of Nt.values())if(n.handler.commentController.activeCommentThread)return n.handler}var kt;(n=>{n.VIEWED_FILES="github:viewedFiles",n.UNVIEWED_FILES="github:unviewedFiles",n.IN_REVIEW_MODE="github:inReviewMode",n.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",n.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",n.ACTIVE_PR_COUNT="github:activePRCount",n.LOADING_PRS_TREE="github:loadingPrsTree",n.LOADING_ISSUES_TREE="github:loadingIssuesTree",n.CREATE_PR_PERMISSIONS="github:createPrPermissions",n.RESOLVING_CONFLICTS="github:resolvingConflicts",n.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",n.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion",n.CREATING="pr:creating",n.NOTIFICATION_COUNT="github:notificationCount"})(kt||(kt={}));var lt;(n=>{n.OPEN_CHAT="workbench.action.chat.open",n.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(r,a,o){return s.commands.executeCommand(r,a,o)}n.executeCommand=e;function t(r){return e(`${r}.focus`)}n.focusView=t;function i(r,a){return e("setContext",r,a)}n.setContext=i})(lt||(lt={}));const Tt="githubPullRequests",Wt="terminalLinksHandler",zt="createOnPublishBranch",Cn="useReviewMode",Ie="fileListLayout",Ge="assignCreated",yt="pushBranch",it="ignoredPullRequestBranches",ut="neverIgnoreDefaultBranch",Xt="overrideDefaultBranch",Rt="pullBranch",Dt="pullRequestDescription",At="notifications",dt="postCreate",st="queries",_t="labelCreated",ei="focusedMode",Zt="createDraft",Lt="quickDiff",bi="setAutoMerge",ti="showPullRequestNumberInTree",ki="defaultMergeMethod",_i="defaultDeletionMethod",$i="selectLocalBranch",Li="selectRemote",Ti="remotes",Pi="pullPullRequestBranchBeforeCheckout",Gt="upstreamRemote",Jt="defaultCreateOption",pi="createDefaultBaseBranch",ni="githubIssues",oi="assignWhenWorking",Si="issueCompletions",qi="userCompletions",Ki="enabled",Fi="ignoreUserCompletionTrigger",an="createInsertFormat",hn="issueBranchTitle",Vi="useBranchForIssues",mn="workingIssueFormatScm",sn="ignoreCompletionTrigger",tn="issueCompletionFormatScm",wi="createIssueTriggers",ci="default",bn="ignoreMilestones",Mr="allowFetch",wn="alwaysPromptForNewIssueRepo",or="experimental.chat",Ln="experimental.useQuickChat",Ar="experimental.notificationsViewPageSize",fr="experimental.notificationsScore",on="webviewRefreshInterval",ir="git",nr="pullBeforeCheckout",zn="openDiffOnClick",Gr="showInlineOpenFileAction",Ir="autoStash",Vr="github-enterprise",hr="uri",va="editor",vo="wordWrap",Qa="comments",Sr="openView",Ya="explorer",ga="autoReveal";function Xa(){const n={merged:!1,closed:!1},e=s.workspace.getConfiguration(Tt).get(Cn,n);return e!=="auto"?e:s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev"?{merged:!0,closed:!0}:n}function jr(n,e,t,i,r){const a=s.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(`${n}.${e}`)&&t()&&(i(),a.dispose())});r.push(a)}function Wr(n,e){var t,i;const r=s.workspace.getConfiguration(n),a=r.inspect(st),o=(i=(t=r.get(st))==null?void 0:t.find(A=>A.label===e))==null?void 0:i.query,v=s.window.createQuickPick();v.title=s.l10n.t('Edit Query "{0}"',e!=null?e:""),v.value=o!=null?o:"",v.items=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0}],v.activeItems=[],v.selectedItems=[],v.onDidAccept(async()=>{var A;if(v.busy=!0,v.selectedItems[0]===v.items[0]){const H=v.value;if(H!==o){let Q,re;a!=null&&a.workspaceFolderValue?(re=s.ConfigurationTarget.WorkspaceFolder,Q=a.workspaceFolderValue):a!=null&&a.workspaceValue?(re=s.ConfigurationTarget.Workspace,Q=a.workspaceValue):(re=s.ConfigurationTarget.Global,Q=(A=r.get(st))!=null?A:[]),Q.find(le=>le.label===e).query=H,await r.update(st,Q,re)}}else v.selectedItems[0]===v.items[1]?cn(r,a,v.value):v.selectedItems[0]===v.items[2]&&mr(r,a,e);v.dispose()}),v.onDidHide(()=>v.dispose()),v.show()}function cn(n,e,t){const i=s.window.createInputBox();i.title=s.l10n.t("Enter the title of the new query"),i.placeholder=s.l10n.t("Title"),i.step=1,i.totalSteps=2,i.show();let r;i.onDidAccept(async()=>{if(i.validationMessage="",i.step===1){if(!i.value){i.validationMessage=s.l10n.t("Title is required");return}r=i.value,i.value=t,i.title=s.l10n.t("Enter the GitHub search query"),i.step++}else{if(!i.value){i.validationMessage=s.l10n.t("Query is required");return}if(i.busy=!0,i.value&&r)if(e!=null&&e.workspaceValue)e.workspaceValue.push({label:r,query:i.value}),await n.update(st,e.workspaceValue,s.ConfigurationTarget.Workspace);else{const a=n.get(st);a==null||a.push({label:r,query:i.value}),await n.update(st,a,s.ConfigurationTarget.Global)}i.dispose()}}),i.onDidHide(()=>i.dispose())}async function mr(n,e,t){let i;if(e!=null&&e.workspaceValue)i="workbench.action.openWorkspaceSettingsFile";else{const a=n.get(st);e!=null&&e.defaultValue&&JSON.stringify(e==null?void 0:e.defaultValue)===JSON.stringify(a)&&await n.update(st,e.defaultValue,s.ConfigurationTarget.Global),i="workbench.action.openSettingsJson"}await s.commands.executeCommand(i);const r=s.window.activeTextEditor;if(r){const o=r.document.getText().search(t);if(o>=0){const v=r.document.positionAt(o);r.revealRange(new s.Range(v,v)),r.selection=new s.Selection(v,v)}}}var qe=Qt(48287),mt=Qt(74945),ft=Qt.n(mt);const vt="GitHub.vscode-pull-request-github",Bt="git",hi="ghpr",li="initialize",Ve="statechange",nt="github:focusedReview";var We=(n=>(n[n.Query=0]="Query",n[n.All=1]="All",n[n.LocalPullRequest=2]="LocalPullRequest",n))(We||{}),St=(n=>(n.Approve="APPROVE",n.RequestChanges="REQUEST_CHANGES",n.Comment="COMMENT",n))(St||{}),bt=(n=>(n.Open="OPEN",n.Merged="MERGED",n.Closed="CLOSED",n))(bt||{}),qt=(n=>(n[n.Mergeable=0]="Mergeable",n[n.NotMergeable=1]="NotMergeable",n[n.Conflict=2]="Conflict",n[n.Unknown=3]="Unknown",n[n.Behind=4]="Behind",n))(qt||{}),ii=(n=>(n[n.AwaitingChecks=0]="AwaitingChecks",n[n.Locked=1]="Locked",n[n.Mergeable=2]="Mergeable",n[n.Queued=3]="Queued",n[n.Unmergeable=4]="Unmergeable",n))(ii||{}),Mi=(n=>(n.User="User",n.Organization="Organization",n.Mannequin="Mannequin",n.Bot="Bot",n))(Mi||{});function Ci(n){switch(n){case"Organization":return"Organization";case"Mannequin":return"Mannequin";case"Bot":return"Bot";default:return"User"}}function ln(n){var e;return ri(n)?n.id:(e=n.specialDisplayName)!=null?e:n.login}function lr(n){var e,t,i;return ri(n)?(t=(e=n.name)!=null?e:n.slug)!=null?t:n.id:(i=n.specialDisplayName)!=null?i:n.login}function ri(n){return"org"in n}function Pn(n){return"isAuthor"in n&&"isCommenter"in n}var Un=(n=>(n.Issue="Issue",n.PullRequest="PullRequest",n))(Un||{}),Wi=(n=>(n.Success="success",n.Failure="failure",n.Neutral="neutral",n.Pending="pending",n.Unknown="unknown",n))(Wi||{}),ba=Qt(32017),ya=Qt.n(ba),Cs=Qt(77358),Ja=Qt.n(Cs);const Fa=["copilot-pull-request-reviewer","copilot-swe-agent","Copilot"];var Yi=(n=>(n.LEFT="LEFT",n.RIGHT="RIGHT",n))(Yi||{}),Kn=(n=>(n.DISMISSED="DISMISSED",n.VIEWED="VIEWED",n.UNVIEWED="UNVIEWED",n))(Kn||{}),Bn=(n=>(n.LINE="LINE",n.FILE="FILE",n))(Bn||{});const Za={name:"Copilot",postComment:s.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use."),url:"https://github.com/apps/copilot-swe-agent"},pn=Object.fromEntries(Fa.map(n=>[n,Za]));var Ht=(n=>(n[n.ADD=0]="ADD",n[n.COPY=1]="COPY",n[n.DELETE=2]="DELETE",n[n.MODIFY=3]="MODIFY",n[n.RENAME=4]="RENAME",n[n.TYPE=5]="TYPE",n[n.UNKNOWN=6]="UNKNOWN",n[n.UNMERGED=7]="UNMERGED",n))(Ht||{});class pr{constructor(e,t,i,r,a,o,v){this.baseCommit=e,this.status=t,this.fileName=i,this.previousFileName=r,this.patch=a,this.diffHunks=o,this.blobUrl=v}}class ur{constructor(e,t,i,r,a){this.baseCommit=e,this.blobUrl=t,this.status=i,this.fileName=r,this.previousFileName=a}}var es=Object.defineProperty,wa=(n,e,t)=>e in n?es(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,go=(n,e,t)=>wa(n,typeof e!="symbol"?e+"":e,t),Xi=(n=>(n[n.Context=0]="Context",n[n.Add=1]="Add",n[n.Delete=2]="Delete",n[n.Control=3]="Control",n))(Xi||{});class Mn{constructor(e,t,i,r,a,o=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=i,this.positionInHunk=r,this._raw=a,this.endwithLineBreak=o}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function ml(n){switch(n[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class bo{constructor(e,t,i,r,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=i,this.newLength=r,this.positionInHunk=a,go(this,"diffLines",[])}}const Da=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function Zi(n){let e=0,t=0;for(;(t=n.indexOf("\r",t))!==-1;)t++,e++;return e}function*xa(n){let e=0;for(;e!==-1&&e<n.length;){const t=e;e=n.indexOf(`
`,e);let r=(e!==-1?e:n.length)-t;e!==-1&&(e>0&&n[e-1]==="\r"&&r--,e++),yield n.substr(t,r)}}function*Oa(n){const e=xa(n);let t=e.next(),i,r=-1,a=-1,o=-1;for(;!t.done;){const v=t.value;if(Da.test(v)){i&&(yield i,i=void 0),r===-1&&(r=0);const A=Da.exec(v),H=a=Number(A[1]),Q=Number(A[3])||1,re=o=Number(A[5]),le=Number(A[7])||1;i=new bo(H,Q,re,le,r),i.diffLines.push(new Mn(3,-1,-1,r,v))}else if(i){const A=ml(v);if(A===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new Mn(A,A!==1?a:-1,A!==2?o:-1,r,v));const H=1+Zi(v);switch(A){case 0:a+=H,o+=H;break;case 2:a+=H;break;case 1:o+=H;break}}}r!==-1&&++r,t=e.next()}i&&(yield i)}function Ps(n){const e=Oa(n);let t=e.next();const i=[];for(;!t.done;){const r=t.value;i.push(r),t=e.next()}return i}function Ms(n){const e=[],t=A=>({diffLines:[],newLength:0,oldLength:0,oldLineNumber:A.oldLineNumber,newLineNumber:A.newLineNumber,positionInHunk:0});let i,r;const a=(A,H)=>{A.diffLines.push(H),H.type===2?A.oldLength++:H.type===1?A.newLength++:H.type===0&&(A.oldLength++,A.newLength++)},o=A=>A.diffLines.some(H=>H.type!==0),v=A=>o(A)&&A.diffLines[A.diffLines.length-1].type===0;for(const A of n.diffLines)A.type===0?(i||(i=t(A)),a(i,A),v(i)&&(r||(r=t(A)),a(r,A))):(i||n.oldLineNumber===1&&(A.type===2||A.type===1))&&(i||(i=t(A)),v(i)&&(e.push(i),i=r,r=void 0),(A.type===2||A.type===1)&&a(i,A));return i&&e.push(i),e}function zr(n,e){const t=n.split(/\r?\n/),i=Oa(e);let r=i.next();const a=[],o=[];let v=0,A=!0;for(;!r.done;){const H=r.value;a.push(H);const Q=H.oldLineNumber;for(let re=v+1;re<Q;re++)o.push(t[re-1]);v=Q+H.oldLength-1;for(let re=0;re<H.diffLines.length;re++){const le=H.diffLines[re];if(!(le.type===2||le.type===3))if(le.type===1)o.push(le.text);else{const pe=le.text;o.push(pe)}}if(r=i.next(),r.done){for(let re=H.diffLines.length-1;re>=0;re--)if(H.diffLines[re].type!==2){A=H.diffLines[re].endwithLineBreak;break}}}if(A)if(v<t.length)for(let H=v+1;H<=t.length;H++)o.push(t[H-1]);else o.push("");return o.join(`
`)}function ts(n){switch(n){case"removed":return Ht.DELETE;case"added":return Ht.ADD;case"renamed":return Ht.RENAME;case"modified":return Ht.MODIFY;default:return Ht.UNKNOWN}}async function is(n,e){var t;const i=[];for(let r=0;r<n.length;r++){const a=n[r],o=ts(a.status);if(!a.patch&&o!==Ht.RENAME&&o!==Ht.MODIFY&&!(o===Ht.ADD&&a.additions===0)){i.push(new ur(e,a.blob_url,o,a.filename,a.previous_filename));continue}const v=a.patch?Ps(a.patch):void 0;i.push(new pr(e,o,a.filename,a.previous_filename,(t=a.patch)!=null?t:"",v,a.blob_url))}return i}var pl=Qt(1182),yo=Object.defineProperty,wo=(n,e,t)=>e in n?yo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ns=(n,e,t)=>wo(n,typeof e!="symbol"?e+"":e,t);const vl=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Bu=/^([a-z-+]+):\/\//,vr=n=>{const e=Bu.exec(n);if(e){const[o,v]=e;if(v.includes("ssh"))n=n.slice(o.length);else return}const t=vl.exec(n);if(!t)return;const[,i,r,a]=t;return{User:i,Host:r,path:a}},ko=(n,e=_o.current)=>{const t=vr(n);return t&&e(t)};function rs(n){return{...n,Hostname:n.Host}}function As(...n){const e=n.filter(t=>!!t);return t=>e.reduce((i,r)=>{try{return{...i,...r(i)}}catch{return b.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),i}},t)}function qu(n){const e=(0,pl.parse)(n);return t=>e.compute(t.Host)}const Kr=class{static fromConfig(e){return As(rs,qu(e))}};ns(Kr,"default",rs),ns(Kr,"current",Kr.default);let _o=Kr;var gl=Object.defineProperty,bl=(n,e,t)=>e in n?gl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ka=(n,e,t)=>bl(n,typeof e!="symbol"?e+"":e,t),So=(n=>(n[n.Local=0]="Local",n[n.HTTP=1]="HTTP",n[n.SSH=2]="SSH",n[n.GIT=3]="GIT",n[n.OTHER=4]="OTHER",n))(So||{});const yl=class _v{constructor(e){if(ka(this,"type",4),ka(this,"host",""),ka(this,"owner",""),ka(this,"repositoryName",""),ka(this,"url"),this.parseSshProtocol(e)){this.url=s.Uri.from({scheme:"ssh",authority:this.host,path:`/${this.nameWithOwner}`});return}try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch{b.error(`Failed to parse '${e}'`,_v.ID),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=ko(e);if(!t)return!1;const{Hostname:i,HostName:r,path:a}=t;return this.host=r||i,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.lastIndexOf("/"),r=t.substr(i+1);if(!(r===""||r==="/"))return r.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch{return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const i=e.normalizeUri();return i?t.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}};ka(yl,"ID","Protocol");let Qn=yl;var nn=Qt(91565),Ri=(n=>(n[n.None=0]="None",n[n.GitHubDotCom=1]="GitHubDotCom",n[n.Enterprise=2]="Enterprise",n))(Ri||{}),ui=(n=>(n.github="github",n.githubEnterprise="github-enterprise",n))(ui||{});class rn extends Error{constructor(){super(s.l10n.t("Not authenticated"))}}function Ro(n){var e;return!!((e=n.message)!=null&&e.includes("Resource protected by organization SAML enforcement."))}var Qr=Object.defineProperty,_a=(n,e,t)=>e in n?Qr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Sa=(n,e,t)=>_a(n,typeof e!="symbol"?e+"":e,t);const Yr=class Sv{static initialize(e){Sv.icons={reactions:{THUMBS_UP:e.asAbsolutePath(L.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:e.asAbsolutePath(L.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:e.asAbsolutePath(L.join("resources","icons","reactions","confused.png")),EYES:e.asAbsolutePath(L.join("resources","icons","reactions","eyes.png")),HEART:e.asAbsolutePath(L.join("resources","icons","reactions","heart.png")),HOORAY:e.asAbsolutePath(L.join("resources","icons","reactions","hooray.png")),LAUGH:e.asAbsolutePath(L.join("resources","icons","reactions","laugh.png")),ROCKET:e.asAbsolutePath(L.join("resources","icons","reactions","rocket.png"))}}}};Sa(Yr,"icons");let Fr=Yr;var ai=(n=>(n[n.Committed=0]="Committed",n[n.Mentioned=1]="Mentioned",n[n.Subscribed=2]="Subscribed",n[n.Commented=3]="Commented",n[n.Reviewed=4]="Reviewed",n[n.NewCommitsSinceReview=5]="NewCommitsSinceReview",n[n.Labeled=6]="Labeled",n[n.Milestoned=7]="Milestoned",n[n.Assigned=8]="Assigned",n[n.Unassigned=9]="Unassigned",n[n.HeadRefDeleted=10]="HeadRefDeleted",n[n.Merged=11]="Merged",n[n.CrossReferenced=12]="CrossReferenced",n[n.Closed=13]="Closed",n[n.Reopened=14]="Reopened",n[n.CopilotStarted=15]="CopilotStarted",n[n.CopilotFinished=16]="CopilotFinished",n[n.Other=17]="Other",n))(ai||{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Is=function(n,e){return Is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},Is(n,e)};function Dr(n,e){Is(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Et=function(){return Et=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Et.apply(this,arguments)};function wl(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function jc(n,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var v=n.length-1;v>=0;v--)(o=n[v])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a}function Wc(n,e){return function(t,i){e(t,i,n)}}function Hu(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Xr(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function v(Q){try{H(i.next(Q))}catch(re){o(re)}}function A(Q){try{H(i.throw(Q))}catch(re){o(re)}}function H(Q){Q.done?a(Q.value):r(Q.value).then(v,A)}H((i=i.apply(n,e||[])).next())})}function xr(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function v(H){return function(Q){return A([H,Q])}}function A(H){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=H[0]&2?r.return:H[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,H[1])).done)return a;switch(r=0,a&&(H=[H[0]&2,a.value]),H[0]){case 0:case 1:a=H;break;case 4:return t.label++,{value:H[1],done:!1};case 5:t.label++,r=H[1],H=[0];continue;case 7:H=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(H[0]===6||H[0]===2)){t=0;continue}if(H[0]===3&&(!a||H[1]>a[0]&&H[1]<a[3])){t.label=H[1];break}if(H[0]===6&&t.label<a[1]){t.label=a[1],a=H;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(H);break}a[2]&&t.ops.pop(),t.trys.pop();continue}H=e.call(n,t)}catch(Q){H=[6,Q],r=0}finally{i=a=0}if(H[0]&5)throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}}function zc(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]}function Kc(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function kl(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $u(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(v){o={error:v}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function Qc(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat($u(arguments[e]));return n}function Eo(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var a=arguments[e],o=0,v=a.length;o<v;o++,r++)i[r]=a[o];return i}function Fs(n){return this instanceof Fs?(this.v=n,this):new Fs(n)}function Jr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(le){i[le]&&(r[le]=function(pe){return new Promise(function(Se,Ae){a.push([le,pe,Se,Ae])>1||v(le,pe)})})}function v(le,pe){try{A(i[le](pe))}catch(Se){re(a[0][3],Se)}}function A(le){le.value instanceof Fs?Promise.resolve(le.value.v).then(H,Q):re(a[0][2],le)}function H(le){v("next",le)}function Q(le){v("throw",le)}function re(le,pe){le(pe),a.shift(),a.length&&v(a[0][0],a[0][1])}}function Yc(n){var e,t;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,a){e[r]=n[r]?function(o){return(t=!t)?{value:Fs(n[r](o)),done:r==="return"}:a?a(o):o}:a}}function No(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof kl=="function"?kl(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(o){return new Promise(function(v,A){o=n[a](o),r(v,A,o.done,o.value)})}}function r(a,o,v,A){Promise.resolve(A).then(function(H){a({value:H,done:v})},o)}}function Gu(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Xc(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Vu(n){return n&&n.__esModule?n:{default:n}}function Jc(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function Zc(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var Rr=Qt(9111),ju=Qt(65606),Ds="Invariant Violation",xs=Object.setPrototypeOf,To=xs===void 0?function(n,e){return n.__proto__=e,n}:xs,vn=function(n){Dr(e,n);function e(t){t===void 0&&(t=Ds);var i=n.call(this,typeof t=="number"?Ds+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return i.framesToPop=1,i.name=Ds,To(i,e.prototype),i}return e}(Error);function Ui(n,e){if(!n)throw new vn(e)}function _l(n){return function(){return console[n].apply(console,arguments)}}(function(n){n.warn=_l("warn"),n.error=_l("error")})(Ui||(Ui={}));var Sl={env:{}};if(typeof ju=="object")Sl=ju;else try{Function("stub","process = stub")(Sl)}catch{}var _e=null;const fe=null;var Re=Qt(72492),Ce=Qt.n(Re),Be=Object.prototype,je=Be.toString,Ze=Be.hasOwnProperty,rt=new Map;function Ct(n,e){try{return $t(n,e)}finally{rt.clear()}}function $t(n,e){if(n===e)return!0;var t=je.call(n),i=je.call(e);if(t!==i)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(Kt(n,e))return!0;var r=Object.keys(n),a=Object.keys(e),o=r.length;if(o!==a.length)return!1;for(var v=0;v<o;++v)if(!Ze.call(e,r[v]))return!1;for(var v=0;v<o;++v){var A=r[v];if(!$t(n[A],e[A]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n==""+e;case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(Kt(n,e))return!0;for(var H=n.entries(),Q=t==="[object Map]";;){var re=H.next();if(re.done)break;var le=re.value,pe=le[0],Se=le[1];if(!e.has(pe)||Q&&!$t(Se,e.get(pe)))return!1}return!0}}return!1}function Kt(n,e){var t=rt.get(n);if(t){if(t.has(e))return!0}else rt.set(n,t=new Set);return t.add(e),!1}const vi=null;var Ei=Qt(65606);function gi(n){return["StringValue","BooleanValue","EnumValue"].indexOf(n.kind)>-1}function xi(n){return["IntValue","FloatValue"].indexOf(n.kind)>-1}function Di(n){return n.kind==="StringValue"}function tt(n){return n.kind==="BooleanValue"}function un(n){return n.kind==="IntValue"}function gr(n){return n.kind==="FloatValue"}function La(n){return n.kind==="Variable"}function Ua(n){return n.kind==="ObjectValue"}function Wu(n){return n.kind==="ListValue"}function Rl(n){return n.kind==="EnumValue"}function Os(n){return n.kind==="NullValue"}function Or(n,e,t,i){if(un(t)||gr(t))n[e.value]=Number(t.value);else if(tt(t)||Di(t))n[e.value]=t.value;else if(Ua(t)){var r={};t.fields.map(function(o){return Or(r,o.name,o.value,i)}),n[e.value]=r}else if(La(t)){var a=(i||{})[t.name.value];n[e.value]=a}else if(Wu(t))n[e.value]=t.values.map(function(o){var v={};return Or(v,e,o,i),v[e.value]});else if(Rl(t))n[e.value]=t.value;else if(Os(t))n[e.value]=null;else throw new vn(17)}function zu(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(r){t[r.name.value]={},r.arguments&&r.arguments.forEach(function(a){var o=a.name,v=a.value;return Or(t[r.name.value],o,v,e)})}));var i=null;return n.arguments&&n.arguments.length&&(i={},n.arguments.forEach(function(r){var a=r.name,o=r.value;return Or(i,a,o,e)})),Co(n.name.value,i,t)}var Ku=["connection","include","skip","client","rest","export"];function Co(n,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var i=t.connection.filter?t.connection.filter:[];i.sort();var r=e,a={};return i.forEach(function(A){a[A]=r[A]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var o=n;if(e){var v=Ce()(e);o+="("+v+")"}return t&&Object.keys(t).forEach(function(A){Ku.indexOf(A)===-1&&(t[A]&&Object.keys(t[A]).length?o+="@"+A+"("+JSON.stringify(t[A])+")":o+="@"+A)}),o}function as(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(i){var r=i.name,a=i.value;return Or(t,r,a,e)}),t}return null}function Ra(n){return n.alias?n.alias.value:n.name.value}function Zr(n){return n.kind==="Field"}function Ba(n){return n.kind==="InlineFragment"}function qa(n){return n&&n.type==="id"&&typeof n.generated=="boolean"}function ss(n,e){return e===void 0&&(e=!1),Et({type:"id",generated:e},typeof n=="string"?{id:n,typename:void 0}:n)}function Po(n){return n!=null&&typeof n=="object"&&n.type==="json"}function El(n){throw new InvariantError(18)}function Mo(n,e){switch(e===void 0&&(e=El),n.kind){case"Variable":return e(n);case"NullValue":return null;case"IntValue":return parseInt(n.value,10);case"FloatValue":return parseFloat(n.value);case"ListValue":return n.values.map(function(o){return Mo(o,e)});case"ObjectValue":{for(var t={},i=0,r=n.fields;i<r.length;i++){var a=r[i];t[a.name.value]=Mo(a.value,e)}return t}default:return n.value}}function Qu(n,e){if(n.directives&&n.directives.length){var t={};return n.directives.forEach(function(i){t[i.name.value]=as(i,e)}),t}return null}function Ao(n,e){return e===void 0&&(e={}),jt(n.directives).every(function(t){var i=t.directive,r=t.ifArgument,a=!1;return r.value.kind==="Variable"?(a=e[r.value.name.value],Ui(a!==void 0,13)):a=r.value.value,i.name.value==="skip"?!a:a})}function Yu(n){var e=[];return(0,Rr.visit)(n,{Directive:function(t){e.push(t.name.value)}}),e}function os(n,e){return Yu(e).some(function(t){return n.indexOf(t)>-1})}function Je(n){return n&&os(["client"],n)&&os(["export"],n)}function It(n){var e=n.name.value;return e==="skip"||e==="include"}function jt(n){return n?n.filter(It).map(function(e){var t=e.arguments,i=e.name.value;Ui(t&&t.length===1,14);var r=t[0];Ui(r.name&&r.name.value==="if",15);var a=r.value;return Ui(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:r}}):[]}function si(n,e){var t=e,i=[];n.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new vn(11);a.kind==="FragmentDefinition"&&i.push(a)}),typeof t=="undefined"&&(Ui(i.length===1,12),t=i[0].name.value);var r=Et(Et({},n),{definitions:Eo([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions)});return r}function Ai(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(r){n[r]=i[r]})}),n}function ji(n){Ii(n);var e=n.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function Ii(n){Ui(n&&n.kind==="Document",2);var e=n.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new vn(3);return t});return Ui(e.length<=1,4),n}function dn(n){return Ii(n),n.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function An(n){var e=dn(n);return invariant(e,5),e}function yn(n){return n.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function kn(n){return n.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function ea(n){var e=dn(n);return Ui(e&&e.operation==="query",6),e}function _n(n){Ui(n.kind==="Document",7),Ui(n.definitions.length<=1,8);var e=n.definitions[0];return Ui(e.kind==="FragmentDefinition",9),e}function Io(n){Ii(n);for(var e,t=0,i=n.definitions;t<i.length;t++){var r=i[t];if(r.kind==="OperationDefinition"){var a=r.operation;if(a==="query"||a==="mutation"||a==="subscription")return r}r.kind==="FragmentDefinition"&&!e&&(e=r)}if(e)return e;throw new vn(10)}function Nl(n){n===void 0&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function Xu(n){if(n&&n.variableDefinitions&&n.variableDefinitions.length){var e=n.variableDefinitions.filter(function(t){var i=t.defaultValue;return i}).map(function(t){var i=t.variable,r=t.defaultValue,a={};return Or(a,i.name,r),a});return Ai.apply(void 0,Eo([{}],e))}return{}}function ZR(n){var e=new Set;if(n.variableDefinitions)for(var t=0,i=n.variableDefinitions;t<i.length;t++){var r=i[t];e.add(r.variable.name.value)}return e}function ef(n,e,t){var i=0;return n.forEach(function(r,a){e.call(this,r,a,n)&&(n[i++]=r)},t),n.length=i,n}var Ov={kind:"Field",name:{kind:"Name",value:"__typename"}};function tf(n,e){return n.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&tf(e[t.name.value],e)})}function Tl(n){return tf(dn(n)||_n(n),Nl(kn(n)))?null:n}function Ju(n){return function(t){return n.some(function(i){return i.name&&i.name===t.name.value||i.test&&i.test(t)})}}function nf(n,e){var t=Object.create(null),i=[],r=Object.create(null),a=[],o=Tl((0,Rr.visit)(e,{Variable:{enter:function(v,A,H){H.kind!=="VariableDefinition"&&(t[v.name.value]=!0)}},Field:{enter:function(v){if(n&&v.directives){var A=n.some(function(H){return H.remove});if(A&&v.directives&&v.directives.some(Ju(n)))return v.arguments&&v.arguments.forEach(function(H){H.value.kind==="Variable"&&i.push({name:H.value.name.value})}),v.selectionSet&&sf(v.selectionSet).forEach(function(H){a.push({name:H.name.value})}),null}}},FragmentSpread:{enter:function(v){r[v.name.value]=!0}},Directive:{enter:function(v){if(Ju(n)(v))return null}}}));return o&&ef(i,function(v){return!t[v.name]}).length&&(o=Hv(i,o)),o&&ef(a,function(v){return!r[v.name]}).length&&(o=$v(a,o)),o}function Lv(n){return(0,Rr.visit)(Ii(n),{SelectionSet:{enter:function(e,t,i){if(!(i&&i.kind==="OperationDefinition")){var r=e.selections;if(r){var a=r.some(function(v){return Zr(v)&&(v.name.value==="__typename"||v.name.value.lastIndexOf("__",0)===0)});if(!a){var o=i;if(!(Zr(o)&&o.directives&&o.directives.some(function(v){return v.name.value==="export"})))return Et(Et({},e),{selections:Eo(r,[Ov])})}}}}}})}var Uv={test:function(n){var e=n.name.value==="connection";return e&&(!n.arguments||n.arguments.some(function(t){return t.name.value==="key"})),e}};function Bv(n){return nf([Uv],Ii(n))}function rf(n,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(i){return af(n,i,t)})}function af(n,e,t){return t===void 0&&(t=!0),Zr(e)?e.directives?e.directives.some(Ju(n))||t&&rf(n,e.selectionSet,t):!1:!0}function eE(n,e){Ii(e);var t;return Tl(visit(e,{SelectionSet:{enter:function(i,r,a,o){var v=o.join("-");if(!t||v===t||!v.startsWith(t))if(i.selections){var A=i.selections.filter(function(H){return af(n,H)});return rf(n,i,!1)&&(t=v),__assign(__assign({},i),{selections:A})}else return null}}}))}function qv(n){return function(t){return n.some(function(i){return t.value&&t.value.kind==="Variable"&&t.value.name&&(i.name===t.value.name.value||i.test&&i.test(t))})}}function Hv(n,e){var t=qv(n);return Tl((0,Rr.visit)(e,{OperationDefinition:{enter:function(i){return Et(Et({},i),{variableDefinitions:i.variableDefinitions.filter(function(r){return!n.some(function(a){return a.name===r.variable.name.value})})})}},Field:{enter:function(i){var r=n.some(function(o){return o.remove});if(r){var a=0;if(i.arguments.forEach(function(o){t(o)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(i){if(t(i))return null}}}))}function $v(n,e){function t(i){if(n.some(function(r){return r.name===i.name.value}))return null}return Tl((0,Rr.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function sf(n){var e=[];return n.selections.forEach(function(t){(Zr(t)||Ba(t))&&t.selectionSet?sf(t.selectionSet).forEach(function(i){return e.push(i)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function Gv(n){var e=Io(n),t=e.operation;if(t==="query")return n;var i=(0,Rr.visit)(n,{OperationDefinition:{enter:function(r){return Et(Et({},r),{operation:"query"})}}});return i}function Vv(n){Ii(n);var e=nf([{test:function(t){return t.name.value==="client"},remove:!0}],n);return e&&(e=(0,Rr.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var i=t.selectionSet.selections.every(function(r){return Zr(r)&&r.name.value==="__typename"});if(i)return null}}}})),e}var Zu=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),jv=Object.prototype.toString;function Wv(n){return ed(n,new Map)}function ed(n,e){switch(jv.call(n)){case"[object Array]":{if(e.has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(r,a){t[a]=ed(r,e)}),t}case"[object Object]":{if(e.has(n))return e.get(n);var i=Object.create(Object.getPrototypeOf(n));return e.set(n,i),Object.keys(n).forEach(function(r){i[r]=ed(n[r],e)}),i}default:return n}}function zv(){return typeof Ei!="undefined"?"production":"development"}function td(n){return zv()===n}function of(){return td("production")===!0}function Kv(){return td("development")===!0}function id(){return td("test")===!0}function nd(n){try{return n()}catch(e){console.error&&console.error(e)}}function ls(n){return n.errors&&n.errors.length}function lf(n){return Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){n[e]!==null&&(typeof n[e]=="object"||typeof n[e]=="function")&&!Object.isFrozen(n[e])&&lf(n[e])}),n}function tE(n){if(Kv()||id()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return lf(n)}return n}var Qv=Object.prototype.hasOwnProperty;function uf(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return rd(n)}function rd(n){var e=n[0]||{},t=n.length;if(t>1){var i=[];e=ad(e,i);for(var r=1;r<t;++r)e=cf(e,n[r],i)}return e}function df(n){return n!==null&&typeof n=="object"}function cf(n,e,t){return df(e)&&df(n)?(Object.isExtensible&&!Object.isExtensible(n)&&(n=ad(n,t)),Object.keys(e).forEach(function(i){var r=e[i];if(Qv.call(n,i)){var a=n[i];r!==a&&(n[i]=cf(ad(a,t),r,t))}else n[i]=r}),n):e}function ad(n,e){return n!==null&&typeof n=="object"&&e.indexOf(n)<0&&(Array.isArray(n)?n=n.slice(0):n=Et({__proto__:Object.getPrototypeOf(n)},n),e.push(n)),n}var ff=Object.create({});function iE(n,e){e===void 0&&(e="warn"),!of()&&!ff[n]&&(id()||(ff[n]=!0),e==="error"?console.error(n):console.warn(n))}function nE(n){return JSON.parse(JSON.stringify(n))}var Yv=Qt(16064),Xv=Qt.n(Yv),Jv=Xv();const rr=Jv;function Zv(n){for(var e=["query","operationName","variables","extensions","context"],t=0,i=Object.keys(n);t<i.length;t++){var r=i[t];if(e.indexOf(r)<0)throw new vn(2)}return n}var rE=function(n){Dr(e,n);function e(t,i){var r=n.call(this,t)||this;return r.link=i,r}return e}(Error);function Cl(n){return n.request.length<=1}function aE(n){var e=!1;return new Promise(function(t,i){n.subscribe({next:function(r){e||(e=!0,t(r))},error:i})})}var sE=null;function oE(n){return new Observable(function(e){n.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function hf(n){return new rr(function(e){e.error(n)})}function eg(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName=typeof e.query!="string"?yn(e.query):""),e}function tg(n,e){var t=Et({},n),i=function(a){typeof a=="function"?t=Et({},t,a(t)):t=Et({},t,a)},r=function(){return Et({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:r}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return ig(e)}}),e}function ig(n){var e=n.query,t=n.variables,i=n.operationName;return JSON.stringify([i,e,t])}function mf(n,e){return e?e(n):rr.of()}function Fo(n){return typeof n=="function"?new Lr(n):n}function pf(){return new Lr(function(){return rr.of()})}function ng(n){return n.length===0?pf():n.map(Fo).reduce(function(e,t){return e.concat(t)})}function vf(n,e,t){var i=Fo(e),r=Fo(t||new Lr(mf));return Cl(i)&&Cl(r)?new Lr(function(a){return n(a)?i.request(a)||rr.of():r.request(a)||rr.of()}):new Lr(function(a,o){return n(a)?i.request(a,o)||rr.of():r.request(a,o)||rr.of()})}var rg=function(n,e){var t=Fo(n);if(Cl(t))return t;var i=Fo(e);return Cl(i)?new Lr(function(r){return t.request(r,function(a){return i.request(a)||rr.of()})||rr.of()}):new Lr(function(r,a){return t.request(r,function(o){return i.request(o,a)||rr.of()})||rr.of()})},Lr=function(){function n(e){e&&(this.request=e)}return n.prototype.split=function(e,t,i){return this.concat(vf(e,t,i||new n(mf)))},n.prototype.concat=function(e){return rg(this,e)},n.prototype.request=function(e,t){throw new vn(1)},n.empty=pf,n.from=ng,n.split=vf,n.execute=Pl,n}();function Pl(n,e){return n.request(tg(e.context,eg(Zv(e))))||rr.of()}var ag=Qt(9423),gn;(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"})(gn||(gn={}));function gf(n){return n<7}var Do=function(n){Dr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype[ag.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(rr);function Ls(n){return Array.isArray(n)&&n.length>0}function sg(n){return n.hasOwnProperty("graphQLErrors")}var og=function(n){var e="";return Ls(n.graphQLErrors)&&n.graphQLErrors.forEach(function(t){var i=t?t.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),n.networkError&&(e+="Network error: "+n.networkError.message+`
`),e=e.replace(/\n$/,""),e},Ha=function(n){Dr(e,n);function e(t){var i=t.graphQLErrors,r=t.networkError,a=t.errorMessage,o=t.extraInfo,v=n.call(this,a)||this;return v.graphQLErrors=i||[],v.networkError=r||null,a?v.message=a:v.message=og(v),v.extraInfo=o,v.__proto__=e.prototype,v}return e}(Error),us;(function(n){n[n.normal=1]="normal",n[n.refetch=2]="refetch",n[n.poll=3]="poll"})(us||(us={}));var lg=function(n,e){return e===void 0&&(e="none"),n&&(n.networkError||e==="none"&&Ls(n.graphQLErrors))},ug=function(n){Dr(e,n);function e(t){var i=t.queryManager,r=t.options,a=t.shouldSubscribe,o=a===void 0?!0:a,v=n.call(this,function(H){return v.onSubscribe(H)})||this;v.observers=new Set,v.subscriptions=new Set,v.isTornDown=!1,v.options=r,v.variables=r.variables||{},v.queryId=i.generateQueryId(),v.shouldSubscribe=o;var A=dn(r.query);return v.queryName=A&&A.name&&A.name.value,v.queryManager=i,v}return e.prototype.result=function(){var t=this;return new Promise(function(i,r){var a={next:function(v){i(v),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:r},o=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:gn.error}}var i=this.queryManager.getCurrentQueryResult(this),r=i.data,a=i.partial,o=this.queryManager.queryStore.get(this.queryId),v,A=this.options.fetchPolicy,H=A==="network-only"||A==="no-cache";if(o){var Q=o.networkStatus;if(lg(o,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:Q,error:new Ha({graphQLErrors:o.graphQLErrors,networkError:o.networkError})};o.variables&&(this.options.variables=Et(Et({},this.options.variables),o.variables),this.variables=this.options.variables),v={data:r,loading:gf(Q),networkStatus:Q},o.graphQLErrors&&this.options.errorPolicy==="all"&&(v.errors=o.graphQLErrors)}else{var re=H||a&&A!=="cache-only";v={data:r,loading:re,networkStatus:re?gn.loading:gn.ready}}return a||this.updateLastResult(Et(Et({},v),{stale:!1})),Et(Et({},v),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var i=this.lastResultSnapshot;return!(i&&t&&i.networkStatus===t.networkStatus&&i.stale===t.stale&&Ct(i.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new vn(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),Ct(this.variables,t)||(this.variables=Et(Et({},this.variables),t)),Ct(this.options.variables,this.variables)||(this.options.variables=Et(Et({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Et(Et({},this.options),{fetchPolicy:i}),us.refetch))},e.prototype.fetchMore=function(t){var i=this;Ui(t.updateQuery,2);var r=Et(Et({},t.query?t:Et(Et(Et({},this.options),t),{variables:Et(Et({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,r,us.normal,this.queryId).then(function(o){return i.updateQuery(function(v){return t.updateQuery(v,{fetchMoreResult:o.data,variables:r.variables})}),i.queryManager.stopQuery(a),o},function(o){throw i.queryManager.stopQuery(a),o})},e.prototype.subscribeToMore=function(t){var i=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var o=t.updateQuery;o&&i.updateQuery(function(v,A){var H=A.variables;return o(v,{subscriptionData:a,variables:H})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var i=this.options.fetchPolicy;this.options=Et(Et({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,i!==r&&(i==="cache-only"||i==="standby"||r==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=!0),this.isTornDown=!1,t=t||this.variables,!i&&Ct(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var i=this.queryManager,r=i.getQueryWithPreviousResult(this.queryId),a=r.previousResult,o=r.variables,v=r.document,A=nd(function(){return t(a,{variables:o})});A&&(i.dataStore.markUpdateQueryResult(v,o,A),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){bf(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var i=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Wv(t),i},e.prototype.onSubscribe=function(t){var i=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=dg)}catch{}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){i.observers.delete(t)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,i=this,r=i.queryManager,a=i.queryId;this.shouldSubscribe&&r.addObservableQuery(a,this),this.options.pollInterval&&(bf(this),r.startPollingQuery(this.options,a));var o=function(v){t.updateLastResult(Et(Et({},t.lastResult),{errors:v.graphQLErrors,networkStatus:gn.error,loading:!1})),sd(t.observers,"error",t.lastError=v)};r.observeQuery(a,this.options,{next:function(v){if(t.lastError||t.isDifferentFromLastResult(v)){var A=t.updateLastResult(v),H=t.options,Q=H.query,re=H.variables,le=H.fetchPolicy;r.transform(Q).hasClientExports?r.getLocalState().addExportedVariables(Q,re).then(function(pe){var Se=t.variables;t.variables=t.options.variables=pe,!v.loading&&A&&le!=="cache-only"&&r.transform(Q).serverQuery&&!Ct(Se,pe)?t.refetch():sd(t.observers,"next",v)}):sd(t.observers,"next",v)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(Do);function dg(n){}function sd(n,e,t){var i=[];n.forEach(function(r){return r[e]&&i.push(r)}),i.forEach(function(r){return r[e](t)})}function bf(n){var e=n.options.fetchPolicy;Ui(e!=="cache-first"&&e!=="cache-only",3)}var cg=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initMutation=function(e,t,i){this.store[e]={mutation:t,variables:i||{},loading:!0,error:null}},n.prototype.markMutationError=function(e,t){var i=this.store[e];i&&(i.loading=!1,i.error=t)},n.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},n.prototype.reset=function(){this.store={}},n}(),fg=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initQuery=function(e){var t=this.store[e.queryId];Ui(!t||t.document===e.document||Ct(t.document,e.document),19);var i=!1,r=null;e.storePreviousVariables&&t&&t.networkStatus!==gn.loading&&(Ct(t.variables,e.variables)||(i=!0,r=t.variables));var a;i?a=gn.setVariables:e.isPoll?a=gn.poll:e.isRefetch?a=gn.refetch:a=gn.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:r,networkError:null,graphQLErrors:o,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=gn.fetchMore)},n.prototype.markQueryResult=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Ls(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=gn.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=gn.ready))},n.prototype.markQueryError=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=gn.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},n.prototype.markQueryResultClient=function(e,t){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,t&&(i.networkStatus=gn.ready))},n.prototype.stopQuery=function(e){delete this.store[e]},n.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?t.stopQuery(i):t.store[i].networkStatus=gn.loading})},n}();function hg(n){return n.charAt(0).toUpperCase()+n.slice(1)}var yf=function(){function n(e){var t=e.cache,i=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,i&&(this.client=i),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){t.resolvers=uf(t.resolvers,i)}):this.resolvers=uf(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,v=o===void 0?!1:o;return Xr(this,void 0,void 0,function(){return xr(this,function(A){return t?[2,this.resolveDocument(t,i.data,r,a,this.fragmentMatcher,v).then(function(H){return Et(Et({},i),{data:H.result})})]:[2,i]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return os(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return this.resolvers?Vv(e):e},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,i=Et(Et({},e),{cache:t,getCacheKey:function(r){if(t.config)return t.config.dataIdFromObject(r);Ui(!1,6)}});return i},n.prototype.addExportedVariables=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),Xr(this,void 0,void 0,function(){return xr(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then(function(a){return Et(Et({},t),a.exportedVariables)})]:[2,Et({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Rr.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(t=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),t))return Rr.BREAK}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Gv(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,i,r,a,o){return i===void 0&&(i={}),r===void 0&&(r={}),a===void 0&&(a=function(){return!0}),o===void 0&&(o=!1),Xr(this,void 0,void 0,function(){var v,A,H,Q,re,le,pe,Se,Ae;return xr(this,function(Oe){return v=Io(e),A=kn(e),H=Nl(A),Q=v.operation,re=Q?hg(Q):"Query",le=this,pe=le.cache,Se=le.client,Ae={fragmentMap:H,context:Et(Et({},i),{cache:pe,client:Se}),variables:r,fragmentMatcher:a,defaultOperationType:re,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(v.selectionSet,t,Ae).then(function(ue){return{result:ue,exportedVariables:Ae.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,i){return Xr(this,void 0,void 0,function(){var r,a,o,v,A,H=this;return xr(this,function(Q){return r=i.fragmentMap,a=i.context,o=i.variables,v=[t],A=function(re){return Xr(H,void 0,void 0,function(){var le,pe;return xr(this,function(Se){return Ao(re,o)?Zr(re)?[2,this.resolveField(re,t,i).then(function(Ae){var Oe;typeof Ae!="undefined"&&v.push((Oe={},Oe[Ra(re)]=Ae,Oe))})]:(Ba(re)?le=re:(le=r[re.name.value],Ui(le,7)),le&&le.typeCondition&&(pe=le.typeCondition.name.value,i.fragmentMatcher(t,pe,a))?[2,this.resolveSelectionSet(le.selectionSet,t,i).then(function(Ae){v.push(Ae)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(A)).then(function(){return rd(v)})]})})},n.prototype.resolveField=function(e,t,i){return Xr(this,void 0,void 0,function(){var r,a,o,v,A,H,Q,re,le,pe=this;return xr(this,function(Se){return r=i.variables,a=e.name.value,o=Ra(e),v=a!==o,A=t[o]||t[a],H=Promise.resolve(A),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(Q=t.__typename||i.defaultOperationType,re=this.resolvers&&this.resolvers[Q],re&&(le=re[v?a:o],le&&(H=Promise.resolve(le(t,as(e,r),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,H.then(function(Ae){if(Ae===void 0&&(Ae=A),e.directives&&e.directives.forEach(function(Oe){Oe.name.value==="export"&&Oe.arguments&&Oe.arguments.forEach(function(ue){ue.name.value==="as"&&ue.value.kind==="StringValue"&&(i.exportedVariables[ue.value.value]=Ae)})}),!e.selectionSet||Ae==null)return Ae;if(Array.isArray(Ae))return pe.resolveSubSelectedArray(e,Ae,i);if(e.selectionSet)return pe.resolveSelectionSet(e.selectionSet,Ae,i)})]})})},n.prototype.resolveSubSelectedArray=function(e,t,i){var r=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return r.resolveSubSelectedArray(e,a,i);if(e.selectionSet)return r.resolveSelectionSet(e.selectionSet,a,i)}))},n}();function wf(n){var e=new Set,t=null;return new Do(function(i){return e.add(i),t=t||n.subscribe({next:function(r){e.forEach(function(a){return a.next&&a.next(r)})},error:function(r){e.forEach(function(a){return a.error&&a.error(r)})},complete:function(){e.forEach(function(r){return r.complete&&r.complete()})}}),function(){e.delete(i)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function mg(n,e){return new Do(function(t){var i=t.next,r=t.error,a=t.complete,o=0,v=!1,A={next:function(Q){++o,new Promise(function(re){re(e(Q))}).then(function(re){--o,i&&i.call(t,re),v&&A.complete()},function(re){--o,r&&r.call(t,re)})},error:function(Q){r&&r.call(t,Q)},complete:function(){v=!0,o||a&&a.call(t)}},H=n.subscribe(A);return function(){return H.unsubscribe()}})}var pg=Object.prototype.hasOwnProperty,vg=function(){function n(e){var t=e.link,i=e.queryDeduplication,r=i===void 0?!1:i,a=e.store,o=e.onBroadcast,v=o===void 0?function(){}:o,A=e.ssrMode,H=A===void 0?!1:A,Q=e.clientAwareness,re=Q===void 0?{}:Q,le=e.localState,pe=e.assumeImmutableResults;this.mutationStore=new cg,this.queryStore=new fg,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Zu?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=a,this.onBroadcast=v,this.clientAwareness=re,this.localState=le||new yf({cache:a.getCache()}),this.ssrMode=H,this.assumeImmutableResults=!!pe}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(t){t(new vn(8))})},n.prototype.mutate=function(e){var t=e.mutation,i=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,v=o===void 0?[]:o,A=e.awaitRefetchQueries,H=A===void 0?!1:A,Q=e.update,re=e.errorPolicy,le=re===void 0?"none":re,pe=e.fetchPolicy,Se=e.context,Ae=Se===void 0?{}:Se;return Xr(this,void 0,void 0,function(){var Oe,ue,ye,Ee=this;return xr(this,function(De){switch(De.label){case 0:return Ui(t,9),Ui(!pe||pe==="no-cache",10),Oe=this.generateQueryId(),t=this.transform(t).document,this.setQuery(Oe,function(){return{document:t}}),i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,Ae)]:[3,2];case 1:i=De.sent(),De.label=2;case 2:return ue=function(){var Ue={};return a&&Ee.queries.forEach(function(Qe,Ye){var Pt=Qe.observableQuery;if(Pt){var Ft=Pt.queryName;Ft&&pg.call(a,Ft)&&(Ue[Ye]={updater:a[Ft],query:Ee.queryStore.get(Ye)})}}),Ue},this.mutationStore.initMutation(Oe,t,i),this.dataStore.markMutationInit({mutationId:Oe,document:t,variables:i,updateQueries:ue(),update:Q,optimisticResponse:r}),this.broadcastQueries(),ye=this,[2,new Promise(function(Ue,Qe){var Ye,Pt;ye.getObservableFromLink(t,Et(Et({},Ae),{optimisticResponse:r}),i,!1).subscribe({next:function(Ft){if(ls(Ft)&&le==="none"){Pt=new Ha({graphQLErrors:Ft.errors});return}ye.mutationStore.markMutationResult(Oe),pe!=="no-cache"&&ye.dataStore.markMutationResult({mutationId:Oe,result:Ft,document:t,variables:i,updateQueries:ue(),update:Q}),Ye=Ft},error:function(Ft){ye.mutationStore.markMutationError(Oe,Ft),ye.dataStore.markMutationComplete({mutationId:Oe,optimisticResponse:r}),ye.broadcastQueries(),ye.setQuery(Oe,function(){return{document:null}}),Qe(new Ha({networkError:Ft}))},complete:function(){if(Pt&&ye.mutationStore.markMutationError(Oe,Pt),ye.dataStore.markMutationComplete({mutationId:Oe,optimisticResponse:r}),ye.broadcastQueries(),Pt){Qe(Pt);return}typeof v=="function"&&(v=v(Ye));var Ft=[];Ls(v)&&v.forEach(function(fi){if(typeof fi=="string")ye.queries.forEach(function(Ni){var Gi=Ni.observableQuery;Gi&&Gi.queryName===fi&&Ft.push(Gi.refetch())});else{var On={query:fi.query,variables:fi.variables,fetchPolicy:"network-only"};fi.context&&(On.context=fi.context),Ft.push(ye.query(On))}}),Promise.all(H?Ft:[]).then(function(){ye.setQuery(Oe,function(){return{document:null}}),le==="ignore"&&Ye&&ls(Ye)&&delete Ye.errors,Ue(Ye)})}})})]}})})},n.prototype.fetchQuery=function(e,t,i,r){return Xr(this,void 0,void 0,function(){var a,o,v,A,H,Q,re,le,pe,Se,Ae,Oe,ue,ye,Ee,De,Ue,Qe,Ye=this;return xr(this,function(Pt){switch(Pt.label){case 0:return a=t.metadata,o=a===void 0?null:a,v=t.fetchPolicy,A=v===void 0?"cache-first":v,H=t.context,Q=H===void 0?{}:H,re=this.transform(t.query).document,le=this.getVariables(re,t.variables),this.transform(re).hasClientExports?[4,this.localState.addExportedVariables(re,le,Q)]:[3,2];case 1:le=Pt.sent(),Pt.label=2;case 2:if(t=Et(Et({},t),{variables:le}),Se=A==="network-only"||A==="no-cache",Ae=Se,Se||(Oe=this.dataStore.getCache().diff({query:re,variables:le,returnPartialData:!0,optimistic:!1}),ue=Oe.complete,ye=Oe.result,Ae=!ue||A==="cache-and-network",pe=ye),Ee=Ae&&A!=="cache-only"&&A!=="standby",os(["live"],re)&&(Ee=!0),De=this.idCounter++,Ue=A!=="no-cache"?this.updateQueryWatch(e,re,t):void 0,this.setQuery(e,function(){return{document:re,lastRequestId:De,invalidated:!0,cancel:Ue}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:re,storePreviousVariables:Ee,variables:le,isPoll:i===us.poll,isRefetch:i===us.refetch,metadata:o,fetchMoreForQueryId:r}),this.broadcastQueries(),Ee){if(Qe=this.fetchRequest({requestId:De,queryId:e,document:re,options:t,fetchMoreForQueryId:r}).catch(function(Ft){throw sg(Ft)?Ft:(De>=Ye.getQuery(e).lastRequestId&&(Ye.queryStore.markQueryError(e,Ft,r),Ye.invalidate(e),Ye.invalidate(r),Ye.broadcastQueries()),new Ha({networkError:Ft}))}),A!=="cache-and-network")return[2,Qe];Qe.catch(function(){})}return this.queryStore.markQueryResultClient(e,!Ee),this.invalidate(e),this.invalidate(r),this.transform(re).hasForcedResolvers?[2,this.localState.runResolvers({document:re,remoteResult:{data:pe},context:Q,variables:le,onlyRunForcedResolvers:!0}).then(function(Ft){return Ye.markQueryResult(e,Ft,t,r),Ye.broadcastQueries(),Ft})]:(this.broadcastQueries(),[2,{data:pe}])}})})},n.prototype.markQueryResult=function(e,t,i,r){var a=i.fetchPolicy,o=i.variables,v=i.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,v==="ignore"||v==="all")},n.prototype.queryListenerForObserver=function(e,t,i){var r=this;function a(o,v){if(i[o])try{i[o](v)}catch{}}return function(o,v){if(r.invalidate(e,!1),!!o){var A=r.getQuery(e),H=A.observableQuery,Q=A.document,re=H?H.options.fetchPolicy:t.fetchPolicy;if(re!=="standby"){var le=gf(o.networkStatus),pe=H&&H.getLastResult(),Se=!!(pe&&pe.networkStatus!==o.networkStatus),Ae=t.returnPartialData||!v&&o.previousVariables||Se&&t.notifyOnNetworkStatusChange||re==="cache-only"||re==="cache-and-network";if(!(le&&!Ae)){var Oe=Ls(o.graphQLErrors),ue=H&&H.options.errorPolicy||t.errorPolicy||"none";if(ue==="none"&&Oe||o.networkError)return a("error",new Ha({graphQLErrors:o.graphQLErrors,networkError:o.networkError}));try{var ye=void 0,Ee=void 0;if(v)re!=="no-cache"&&re!=="network-only"&&r.setQuery(e,function(){return{newData:null}}),ye=v.result,Ee=!v.complete;else{var De=H&&H.getLastError(),Ue=ue!=="none"&&(De&&De.graphQLErrors)!==o.graphQLErrors;if(pe&&pe.data&&!Ue)ye=pe.data,Ee=!1;else{var Qe=r.dataStore.getCache().diff({query:Q,variables:o.previousVariables||o.variables,returnPartialData:!0,optimistic:!0});ye=Qe.result,Ee=!Qe.complete}}var Ye=Ee&&!(t.returnPartialData||re==="cache-only"),Pt={data:Ye?pe&&pe.data:ye,loading:le,networkStatus:o.networkStatus,stale:Ye};ue==="all"&&Oe&&(Pt.errors=o.graphQLErrors),a("next",Pt)}catch(Ft){a("error",new Ha({networkError:Ft}))}}}}}},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.dataStore.getCache(),r=i.transformDocument(e),a=Bv(i.transformForLink(r)),o=this.localState.clientQuery(r),v=this.localState.serverQuery(a),A={document:r,hasClientExports:Je(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:v,defaultVars:Xu(dn(r))},H=function(Q){Q&&!t.has(Q)&&t.set(Q,A)};H(e),H(r),H(o),H(v)}return t.get(e)},n.prototype.getVariables=function(e,t){return Et(Et({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),Ui(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=Et({},e);return new ug({queryManager:this,options:i,shouldSubscribe:t})},n.prototype.query=function(e){var t=this;return Ui(e.query,12),Ui(e.query.kind==="Document",13),Ui(!e.returnPartialData,14),Ui(!e.pollInterval,15),new Promise(function(i,r){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,r),a.result().then(i,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},n.prototype.generateQueryId=function(){return String(this.idCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},n.prototype.addQueryListener=function(e,t){this.setQuery(e,function(i){var r=i.listeners;return r.add(t),{invalidated:!1}})},n.prototype.updateQueryWatch=function(e,t,i){var r=this,a=this.getQuery(e).cancel;a&&a();var o=function(){var v=null,A=r.getQuery(e).observableQuery;if(A){var H=A.getLastResult();H&&(v=H.data)}return v};return this.dataStore.getCache().watch({query:t,variables:i.variables,optimistic:!0,previousResult:o,callback:function(v){r.setQuery(e,function(){return{invalidated:!0,newData:v}})}})},n.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},n.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},n.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new vn(16))});var e=[];return this.queries.forEach(function(t,i){var r=t.observableQuery;r&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},n.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},n.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(r,a){var o=r.observableQuery;if(o){var v=o.options.fetchPolicy;o.resetLastResults(),v!=="cache-only"&&(e||v!=="standby")&&i.push(o.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(i)},n.prototype.observeQuery=function(e,t,i){return this.addQueryListener(e,this.queryListenerForObserver(e,t,i)),this.fetchQuery(e,t)},n.prototype.startQuery=function(e,t,i){return this.addQueryListener(e,i),this.fetchQuery(e,t).catch(function(){}),e},n.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,r=e.fetchPolicy,a=e.variables;i=this.transform(i).document,a=this.getVariables(i,a);var o=function(A){return t.getObservableFromLink(i,{},A,!1).map(function(H){if((!r||r!=="no-cache")&&(t.dataStore.markSubscriptionResult(H,i,A),t.broadcastQueries()),ls(H))throw new Ha({graphQLErrors:H.errors});return H})};if(this.transform(i).hasClientExports){var v=this.localState.addExportedVariables(i,a).then(o);return new Do(function(A){var H=null;return v.then(function(Q){return H=Q.subscribe(A)},A.error),function(){return H&&H.unsubscribe()}})}return o(a)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},n.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var i=e.options,r=i.variables,a=i.query,o=i.fetchPolicy,v=i.returnPartialData,A=e.getLastResult(),H=this.getQuery(e.queryId).newData;if(H&&H.complete)return{data:H.result,partial:!1};if(o==="no-cache"||o==="network-only")return{data:void 0,partial:!1};var Q=this.dataStore.getCache().diff({query:a,variables:r,previousResult:A?A.data:void 0,returnPartialData:!0,optimistic:t}),re=Q.result,le=Q.complete;return{data:le||v?re:void 0,partial:!le}},n.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;Ui(i,17),t=i}else t=e;var r=t.options,a=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:o}},n.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,i){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(i),t.newData)})})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,i,r){var a=this;r===void 0&&(r=this.queryDeduplication);var o,v=this.transform(e).serverQuery;if(v){var A=this,H=A.inFlightLinkObservables,Q=A.link,re={query:v,variables:i,operationName:yn(v)||void 0,context:this.prepareContext(Et(Et({},t),{forceFetch:!r}))};if(t=re.context,r){var le=H.get(v)||new Map;H.set(v,le);var pe=JSON.stringify(i);if(o=le.get(pe),!o){le.set(pe,o=wf(Pl(Q,re)));var Se=function(){le.delete(pe),le.size||H.delete(v),Ae.unsubscribe()},Ae=o.subscribe({next:Se,error:Se,complete:Se})}}else o=wf(Pl(Q,re))}else o=Do.of({data:{}}),t=this.prepareContext(t);var Oe=this.transform(e).clientQuery;return Oe&&(o=mg(o,function(ue){return a.localState.runResolvers({document:Oe,remoteResult:ue,context:t,variables:i})})),o},n.prototype.fetchRequest=function(e){var t=this,i=e.requestId,r=e.queryId,a=e.document,o=e.options,v=e.fetchMoreForQueryId,A=o.variables,H=o.errorPolicy,Q=H===void 0?"none":H,re=o.fetchPolicy,le,pe;return new Promise(function(Se,Ae){var Oe=t.getObservableFromLink(a,o.context,A),ue="fetchRequest:"+r;t.fetchQueryRejectFns.set(ue,Ae);var ye=function(){t.fetchQueryRejectFns.delete(ue),t.setQuery(r,function(De){var Ue=De.subscriptions;Ue.delete(Ee)})},Ee=Oe.map(function(De){if(i>=t.getQuery(r).lastRequestId&&(t.markQueryResult(r,De,o,v),t.queryStore.markQueryResult(r,De,v),t.invalidate(r),t.invalidate(v),t.broadcastQueries()),Q==="none"&&Ls(De.errors))return Ae(new Ha({graphQLErrors:De.errors}));if(Q==="all"&&(pe=De.errors),v||re==="no-cache")le=De.data;else{var Ue=t.dataStore.getCache().diff({variables:A,query:a,optimistic:!1,returnPartialData:!0}),Qe=Ue.result,Ye=Ue.complete;(Ye||o.returnPartialData)&&(le=Qe)}}).subscribe({error:function(De){ye(),Ae(De)},complete:function(){ye(),Se({data:le,errors:pe,loading:!1,networkStatus:gn.ready,stale:!1})}});t.setQuery(r,function(De){var Ue=De.subscriptions;Ue.add(Ee)})})},n.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},n.prototype.setQuery=function(e,t){var i=this.getQuery(e),r=Et(Et({},i),t(i));this.queries.set(e,r)},n.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return Et(Et({},t),{clientAwareness:this.clientAwareness})},n.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==gn.ready&&t.networkStatus!==gn.error},n.prototype.startPollingQuery=function(e,t,i){var r=this,a=e.pollInterval;if(Ui(a,18),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=a,o.options=Et(Et({},e),{fetchPolicy:"network-only"});var v=function(){var H=r.pollingInfoByQueryId.get(t);H&&(r.checkInFlight(t)?A():r.fetchQuery(t,H.options,us.poll).then(A,A))},A=function(){var H=r.pollingInfoByQueryId.get(t);H&&(clearTimeout(H.timeout),H.timeout=setTimeout(v,H.interval))};i&&this.addQueryListener(t,i),A()}return t},n.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},n}(),gg=function(){function n(e){this.cache=e}return n.prototype.getCache=function(){return this.cache},n.prototype.markQueryResult=function(e,t,i,r,a){a===void 0&&(a=!1);var o=!ls(e);a&&ls(e)&&e.data&&(o=!0),!r&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:i})},n.prototype.markSubscriptionResult=function(e,t,i){ls(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:i})},n.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var a=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},n.prototype.markMutationResult=function(e){var t=this;if(!ls(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(a){var o=r[a],v=o.query,A=o.updater,H=t.cache.diff({query:v.document,variables:v.variables,returnPartialData:!0,optimistic:!1}),Q=H.result,re=H.complete;if(re){var le=nd(function(){return A(Q,{mutationResult:e.result,queryName:yn(v.document)||void 0,queryVariables:v.variables})});le&&i.push({result:le,dataId:"ROOT_QUERY",query:v.document,variables:v.variables})}}),this.cache.performTransaction(function(a){i.forEach(function(v){return a.write(v)});var o=e.update;o&&nd(function(){return o(a,e.result)})})}},n.prototype.markMutationComplete=function(e){var t=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(t)},n.prototype.markUpdateQueryResult=function(e,t,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:t,query:e})},n.prototype.reset=function(){return this.cache.reset()},n}(),bg="2.6.10",yg=!1,wg=function(){function n(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,r=e.ssrMode,a=r===void 0?!1:r,o=e.ssrForceFetchDelay,v=o===void 0?0:o,A=e.connectToDevTools,H=e.queryDeduplication,Q=H===void 0?!0:H,re=e.defaultOptions,le=e.assumeImmutableResults,pe=le===void 0?!1:le,Se=e.resolvers,Ae=e.typeDefs,Oe=e.fragmentMatcher,ue=e.name,ye=e.version,Ee=e.link;if(!Ee&&Se&&(Ee=Lr.empty()),!Ee||!i)throw new vn(4);this.link=Ee,this.cache=i,this.store=new gg(i),this.disableNetworkFetches=a||v>0,this.queryDeduplication=Q,this.defaultOptions=re||{},this.typeDefs=Ae,v&&setTimeout(function(){return t.disableNetworkFetches=!1},v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var De=!1;(typeof A=="undefined"?De:A&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=bg,this.localState=new yf({cache:i,client:this,resolvers:Se,fragmentMatcher:Oe}),this.queryManager=new vg({link:this.link,store:this.store,queryDeduplication:Q,ssrMode:a,clientAwareness:{name:ue,version:ye},localState:this.localState,assumeImmutableResults:pe,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Et(Et({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Et(Et({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=Et(Et({},this.defaultOptions.query),e)),Ui(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Et(Et({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Et(Et({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return Pl(this.link,e)},n.prototype.initQueryManager=function(){return this.queryManager},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n}();const lE=null;var Ml,kg=new Uint8Array(16);function _g(){if(!Ml&&(Ml=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ml))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ml(kg)}const Sg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Rg(n){return typeof n=="string"&&Sg.test(n)}const Eg=Rg;for(var qn=[],od=0;od<256;++od)qn.push((od+256).toString(16).substr(1));function Ng(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(qn[n[e+0]]+qn[n[e+1]]+qn[n[e+2]]+qn[n[e+3]]+"-"+qn[n[e+4]]+qn[n[e+5]]+"-"+qn[n[e+6]]+qn[n[e+7]]+"-"+qn[n[e+8]]+qn[n[e+9]]+"-"+qn[n[e+10]]+qn[n[e+11]]+qn[n[e+12]]+qn[n[e+13]]+qn[n[e+14]]+qn[n[e+15]]).toLowerCase();if(!Eg(t))throw TypeError("Stringified UUID is invalid");return t}const Tg=Ng;function Cg(n,e,t){n=n||{};var i=n.random||(n.rng||_g)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return Tg(i)}const kf=Cg;var Pg=Object.defineProperty,Mg=(n,e,t)=>e in n?Pg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Us=(n,e,t)=>Mg(n,typeof e!="symbol"?e+"":e,t);const ld="PullRequestOverview";function ud(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<32;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}class _f extends g{constructor(){super(),Us(this,"_webview"),Us(this,"_waitForReady"),Us(this,"_onIsReady",this._register(new s.EventEmitter)),Us(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)});t&&this._register(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var i;const r={seq:e.req,res:t};(i=this._webview)==null||i.postMessage(r)}async _throwError(e,t){var i;const r={seq:e==null?void 0:e.req,err:t};(i=this._webview)==null||i.postMessage(r)}}class Sf extends _f{constructor(e){super(),this._extensionUri=e,Us(this,"viewType"),Us(this,"_view")}resolveWebviewView(e,t,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._register(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():lt.focusView(this.viewType)}}const Ag=/:([-+_a-z0-9]+):/g;let xo,dd;async function Ig(n){xo===void 0&&(dd===void 0&&(dd=Fg(n)),await dd)}async function Fg(n){const e=s.Uri.joinPath(n.extensionUri,"resources","emojis.json");xo=JSON.parse(new TextDecoder("utf8").decode(await s.workspace.fs.readFile(e)))}function Dg(n){return xo===void 0?n:n.replace(Ag,(e,t)=>(xo==null?void 0:xo[t])||e)}const xg="[a-zA-Z0-9-]+",Rf=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],Ef=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],Og=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var Lg=Object.defineProperty,Ug=(n,e,t)=>e in n?Lg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hn=(n,e,t)=>Ug(n,typeof e!="symbol"?e+"":e,t),cd;(n=>{function e(t){return t&&typeof t.gitHubThreadId=="string"}n.is=e})(cd||(cd={}));class Oo{constructor(e){Hn(this,"parent"),Hn(this,"mode"),Hn(this,"originalAuthor"),Hn(this,"label"),Hn(this,"reactions"),Hn(this,"contextValue"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Oo&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Oo&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const Nf=class Rv extends Oo{constructor(e,t,i,r,a){var o;super(e),this.input=t,Hn(this,"commentId"),Hn(this,"id"),Hn(this,"originalBody"),this.mode=s.CommentMode.Preview,this.originalAuthor={name:(o=r.specialDisplayName)!=null?o:r.login,iconPath:r.avatarUrl?s.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=i?s.l10n.t("Pending"):void 0,this.contextValue="temporary,canEdit,canDelete",this.originalBody=a?a.rawComment.body:void 0,this.reactions=a?a.reactions:void 0,this.id=Rv.idPool++}async doSetBody(e){typeof e=="string"&&(this.input=e)}set body(e){this.doSetBody(e)}get body(){return new s.MarkdownString(this.input)}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};Hn(Nf,"idPool",0);let Er=Nf;const Tf=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,Bg=/<img .*src=['"](?<src>.+?)['"].*?>/g,qg=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/,Cf=class Ev extends Oo{constructor(e,t,i,r){var a,o;super(i),this.context=e,Hn(this,"commentId"),Hn(this,"timestamp"),Hn(this,"rawComment"),Hn(this,"_rawBody"),Hn(this,"replacedBody"),Hn(this,"githubRepository"),this.rawComment=t,this.originalAuthor={name:(o=(a=t.user)==null?void 0:a.specialDisplayName)!=null?o:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0};const v=s.Uri.parse(t.url);this.githubRepository=r==null?void 0:r.find(Q=>Q.remote.host===v.authority);const A=t.user?na.avatarCirclesAsImageDataUris(e,[t.user],28,28):Promise.resolve([]);this.doSetBody(t.body,!t.user).then(async()=>{const Q=await A;Q.length>0&&(this.author.iconPath=Q[0]),this.refresh()}),this.commentId=t.id.toString(),Wf(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0;const H=[];t.canEdit&&H.push("canEdit"),t.canDelete&&H.push("canDelete"),this.suggestion!==void 0&&H.push("hasSuggestion"),this.contextValue=H.join(","),this.timestamp=new Date(t.createdAt)}get author(){var e;return(e=this.rawComment.user)!=null&&e.specialDisplayName?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(e){const t=this.rawComment;this.rawComment=e;let i=!1;Wf(this,e.reactions)&&(i=!0);const r=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0,this.label!==r&&(i=!0);const a=[];e.canEdit&&a.push("canEdit"),e.canDelete&&a.push("canDelete"),this.suggestion!==void 0&&a.push("hasSuggestion");const o=this.contextValue;this.contextValue=a.join(","),o!==this.contextValue&&(i=!0),t.body!==e.body&&(this.doSetBody(e.body,!0),i=!1),i&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match(Tf),i=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if(t)return i||""}commentEditId(){return this.commentId}replaceImg(e){return e.replace(Bg,(t,i,r,a,{src:o})=>`![image](${o})`)}replaceSuggestion(e){return e.replace(new RegExp(Tf,"g"),(t,...i)=>{var r;return`***
Suggested change:
\`\`\`
${(r=i[3])!=null?r:""}
\`\`\`
***`})}async createLocalFilePath(e,t,i,r){const a=s.Uri.joinPath(e,t);try{if((await s.workspace.fs.stat(a)).type===s.FileType.File)return`${a.with({fragment:`${i}-${r}`}).toString()}`}catch{return}}async replacePermalink(e){const t=this.githubRepository;if(!t)return e;const i=Fe(t.remote.repositoryName),r=new RegExp(`https://github.com/(.+)/${i}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return Me(e,r,async(a,o,v,A,H,Q,re,le)=>{if(le&&le>0&&e.charAt(le-1)==="(")return a;const pe=parseInt(H),Se=re?parseInt(re):pe+1,Ae=await t.getLines(v,A,pe,Se);if(!Ae)return a;const Oe=await this.createLocalFilePath(t.rootUri,A,pe,Se),ue=re?`Lines ${pe} to ${Se} in \`${v.substring(0,7)}\``:`Line ${pe} in \`${v.substring(0,7)}\``;return`
***
[${A}](${Oe!=null?Oe:a})${Oe?` ([view on GitHub](${a}))`:""}

${ue}
\`\`\`
${Ae}
\`\`\`
***`})}replaceImages(e){var t;const i=this.rawComment.bodyHTML;return i?Hg(e,i,(t=this.githubRepository)==null?void 0:t.remote.host):e}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(e){return this.rawComment.specialDisplayBodyPostfix?`${e}  

_${this.rawComment.specialDisplayBodyPostfix}_`:e}async replaceBody(e){const t=Ig(this.context);if(b.trace("Replace comment body",Ev.ID),e instanceof s.MarkdownString){const H=await this.replacePermalink(e.value);return this.replaceImg(this.replaceSuggestion(H))}const i=this.replaceImages(e),r=this.replaceNewlines(i),a=(await s.workspace.openTextDocument(this.parent.uri)).languageId,o=new RegExp(`([^/[\`]|^)@(${xg})`,"g"),v=r.replace(o,(H,Q,re,le)=>{var pe,Se,Ae,Oe;if(((Se=(pe=r.substring(0,le).match(/```/g))==null?void 0:pe.length)!=null?Se:0)%2===1||H.includes("]")||H.includes(")"))return H;const ue=H.substring(H.startsWith("@")?1:2);if((a==="javascript"||a==="typescript")&&Rf.includes(ue)||a==="php"&&Ef.includes(ue))return H;const ye=(Oe=(Ae=pn[ue])==null?void 0:Ae.url)!=null?Oe:`${L.dirname(this.rawComment.user.url)}/${ue}`;return`${H.startsWith("@")?"":H.charAt(0)}[@${ue}](${ye})`}),A=await this.replacePermalink(v);return await t,this.postpendSpecialAuthorComment(Dg(this.replaceImg(this.replaceSuggestion(A))))}async doSetBody(e,t){this._rawBody=e;const i=await this.replaceBody(e);i!==this.replacedBody&&(this.replacedBody=i,t&&this.refresh())}set body(e){this.doSetBody(e,!1)}get body(){return this.mode===s.CommentMode.Editing?this._rawBody:new s.MarkdownString(this.replacedBody)}getCancelEditBody(){return new s.MarkdownString(this.rawComment.body)}};Hn(Cf,"ID","GHPRComment");let Sn=Cf;function Hg(n,e,t="github.com"){var i;const r=new RegExp(`https://${t}/.+/assets/([^/]+/)?(?<uuid>${qg.source})`);let a=n.match(r);const o=Fe(t==="github.com"?"githubusercontent.com":t);for(;a;){if((i=a.groups)!=null&&i.uuid){const v=Fe(a.groups.uuid),A=new RegExp(`https://([^"]*${o})/[^?]+${v}[^"]+`),H=e.match(A);if(H&&H[0])n=n.replace(a[0],H[0]);else return n}a=n.match(r)}return n}async function ds(n,e,t,i,r=!1){var a;const o=[],v=[];for(const H of t){const Q=ln(H);e.has(Q)||(v.push(H),e.add(Q))}const A=await na.avatarCirclesAsImageDataUris(n,v,16,16,r);for(let H=0;H<v.length;H++){const Q=v[H];let re;Pn(Q)&&(re=Q.isAuthor&&Q.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):Q.isAuthor?s.l10n.t("Recently edited these files"):Q.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),o.push({label:ri(Q)?`${Q.org}/${Q.slug}`:pn[Q.login]?pn[Q.login].name:Q.login,description:Q.name,user:Q,picked:i,detail:re,iconPath:(a=A[H])!=null?a:$g(Q)})}return o}async function Pf(n,e,t,i,r,a){var o;const[v,A]=await Promise.all([n.getAssignableUsers(),r?n.getPullRequestParticipants(r.githubRepository,r.number):void 0]),H=A==null?void 0:A.viewer,Q=(o=A==null?void 0:A.participants)!=null?o:[];let re=v[t];re=re!=null?re:[];const le=new Set,pe=[];if(i.length&&pe.push(ds(n.context,le,i!=null?i:[],!0)),H&&!le.has(H.login)&&re.findIndex(Ae=>Ae.login===H.login)!==-1&&pe.push(ds(n.context,le,[H],!1)),Q.length&&pe.push(ds(n.context,le,Q,!1)),pe.length!==0&&pe.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),re.length){const Ae=re.length>80;pe.push(ds(n.context,le,re,!1,Ae))}const Se=(await Promise.all(pe)).flat();if(Se.length===0&&Se.push({label:s.l10n.t("No assignees available for this repository")}),a){const Ae=H!=null?H:await n.getCurrentUser(e);Se.length!==0&&Se.unshift({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Users")}),Se.unshift({label:s.l10n.t("Assign yourself"),user:Ae})}return Se}function $g(n){return ri(n)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function Gg(n,e,t,i,r,a,o){var v;if(r=r.filter(Oe=>ri(Oe.reviewer)||Oe.reviewer.accountType!==Mi.Bot),!a)return[];const A=await n.getAssignableUsers(),re=[...(v=(t?await n.getTeamReviewers(o):[])[e])!=null?v:[]];A[e]&&re.push(...A[e]);const le=new Set([i.login]),pe=[];r.length&&pe.push(ds(n.context,le,r.map(Oe=>Oe.reviewer),!0)),pe.push(ds(n.context,le,a,!1));const Se=re.length>60;pe.push(ds(n.context,le,re,!1,Se));const Ae=(await Promise.all(pe)).flat();return Ae.length===0&&Ae.push({label:s.l10n.t("No reviewers available for this repository")}),Ae}async function Mf(n,e,t,i,r,a,o){const v=s.window.createQuickPick(),A=100,H=s.l10n.t("Add reviewers");v.busy=!0,v.canSelectMany=!0,v.matchOnDescription=!0,v.placeholder=H,t&&(v.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),v.show();const Q=async re=>{const le=setTimeout(()=>{v.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),pe=performance.now();v.items=await Gg(n,e,t,r,a,o,re),b.appendLine(`Setting quick pick reviewers took ${performance.now()-pe}ms`,"QuickPicks"),clearTimeout(le),v.selectedItems=v.items.filter(Se=>Se.picked),v.placeholder=H};return await Q(i!==0&&i<=A?qs.Try:qs.None),v.onDidTriggerButton(()=>{v.busy=!0,v.ignoreFocusOut=!0,Q(qs.Force).then(()=>{v.ignoreFocusOut=!1,v.busy=!1})}),v}function Vg(n){return!!n.id&&!!n.project}async function Af(n,e,t,i){try{let r=[];async function a(){const v=await n.getAllProjects(e);return!v||!v.length?[{label:s.l10n.t("No projects created for this repository.")}]:v.map(H=>{const Q={iconPath:new s.ThemeIcon("github-project"),label:H.title,id:H.id,project:H};return t&&t.find(re=>re.id===H.id)&&r.push(Q),Q})}const o=s.window.createQuickPick();o.busy=!0,o.canSelectMany=!0,o.title=s.l10n.t("Set projects"),o.ignoreFocusOut=!0,o.show(),o.items=await a(),o.ignoreFocusOut=!1,o.items.length===1&&(o.canSelectMany=!1),o.selectedItems=r,o.busy=!1,n.getOrgProjects(!0),o.onDidAccept(async()=>{o.hide();const v=o.selectedItems.map(A=>Vg(A)?A.project:void 0).filter(A=>A!==void 0);v&&await i(v)})}catch(r){s.window.showErrorMessage(`Failed to add project: ${he(r)}`)}}function jg(n){return!!n.id&&!!n.milestone}async function If(n,e,t,i){try{const r={label:s.l10n.t("Remove Milestone")};let a;async function o(){var A;const H=(A=await e.getMilestones())==null?void 0:A.sort((re,le)=>re.dueOn&&le.dueOn?new Date(re.dueOn).getTime()-new Date(le.dueOn).getTime():re.dueOn?-1:le.dueOn?1:re.title.localeCompare(le.title));if(!H||!H.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const Q=H.map(re=>{const le={iconPath:new s.ThemeIcon("milestone"),label:re.title,id:re.id,milestone:re};return t&&t.id===re.id&&(a=le),le});return t&&(Q.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),Q.unshift(r)),Q}const v=s.window.createQuickPick();v.busy=!0,v.canSelectMany=!1,v.title=s.l10n.t("Set milestone"),v.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],v.onDidTriggerButton(A=>{v.hide();const H=s.window.createInputBox();H.title=s.l10n.t("Create new milestone"),H.placeholder=s.l10n.t("New milestone title"),v.value!==""&&(H.value=v.value),H.show(),H.onDidAccept(async()=>{if(H.hide(),H.value!==""){if(H.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const Q of v.items)if(Q.label===H.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",H.value));return}try{const Q=await n.createMilestone(e,H.value);Q!==void 0&&await i(Q)}catch(Q){s.window.showErrorMessage(`Failed to create milestone: ${he(Q)}`)}}})}),v.show(),v.items=await o(),v.activeItems=a?[a]:t?[v.items[1]]:[v.items[0]],v.busy=!1,v.onDidAccept(async()=>{v.hide();const A=v.selectedItems[0];A&&jg(A)?await i(A.milestone):A&&A===r&&await i(void 0)})}catch(r){s.window.showErrorMessage(`Failed to add milestone: ${he(r)}`)}}async function Ff(n,e,t,i){const r=await n.getLabels(void 0,{owner:t,repo:i}),a=r.map(o=>{var v;return{label:o.name,description:(v=o.description)!=null?v:void 0,picked:e.some(A=>A.name===o.name),iconPath:na.asImageDataURI(qe.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${o.color}"/>
				</svg>`,"utf8"))}}).sort((o,v)=>o.picked===v.picked?o.label.localeCompare(v.label):o.picked?-1:1);return{newLabels:r,labelPicks:a}}async function Wg(n,e){async function t(){return(await n.getAuthenticatedUserEmails()).map(a=>({label:a,picked:a.toLowerCase()===e.toLowerCase()}))}const i=await s.window.showQuickPick(t(),{canPickMany:!1,title:s.l10n.t("Choose an email")});return i?i.label:void 0}var zg=Qt(65606),Kg=Object.defineProperty,Qg=(n,e,t)=>e in n?Kg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ea=(n,e,t)=>Qg(n,typeof e!="symbol"?e+"":e,t);const Al=class pa extends _f{constructor(e,t,i,r,a,o=pa._viewType,v){super(),this._telemetry=e,this._extensionUri=t,this.type=o,Ea(this,"_panel"),Ea(this,"_item"),Ea(this,"_folderRepositoryManager"),Ea(this,"_scrollPosition",{x:0,y:0}),Ea(this,"timeout"),Ea(this,"lastRefreshTime"),this._folderRepositoryManager=a,this._panel=this._register(s.window.createWebviewPanel(o,r,i,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(t,"dist")],enableFindWidget:!0})),v&&(this._panel.iconPath={dark:s.Uri.joinPath(t,v.dark),light:s.Uri.joinPath(t,v.light)}),this._webview=this._panel.webview,super.initialize(),this._register(this._panel.onDidDispose(()=>this.dispose())),this._register(this._folderRepositoryManager.onDidChangeActiveIssue(A=>{if(this._folderRepositoryManager&&this._item){const H=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:H})}})),this._register(a.credentialStore.onDidUpgradeSession(()=>{this.updateItem(this._item)})),this._register(this._panel.onDidChangeViewState(A=>this.onDidChangeViewState(A))),this.lastRefreshTime=new Date,this.pollForUpdates(!0),this._register(s.workspace.onDidChangeConfiguration(A=>{A.affectsConfiguration(`${Tt}.${on}`)&&this.pollForUpdates(this._panel.visible,!0)}))}static async createOrShow(e,t,i,r,a=!1){const o=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(pa.currentPanel)pa.currentPanel._panel.reveal(o,!0);else{const v=`Issue #${r.number.toString()}`;pa.currentPanel=new pa(e,t,o||s.ViewColumn.Active,v,i)}await pa.currentPanel.update(i,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(e){try{this._panel.title=e}catch{}}getRefreshInterval(){return s.workspace.getConfiguration().get(`${Tt}.${on}`)||60}onDidChangeViewState(e){e.webviewPanel.visible&&this.pollForUpdates(!!this._item)}pollForUpdates(e,t=!1){clearTimeout(this.timeout);const i=async()=>{const o=this.lastRefreshTime;if(this.lastRefreshTime=await this._item.getLastUpdateTime(o),this.lastRefreshTime.getTime()>o.getTime())return this.refreshPanel()};t&&i();const a=1e3*(e||s.window.tabGroups.all.find(o=>{var v;return((v=o.activeTab)==null?void 0:v.input)instanceof s.TabInputWebview&&o.activeTab.input.viewType.endsWith(this.type)})?this.getRefreshInterval():5*60);this.timeout=setTimeout(async()=>{await i(),this.pollForUpdates(this._panel.visible)},a)}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}continueOnGitHub(){return Vl()}getInitializeContext(e,t,i,r,a,o,v){var A;const H=a.hasWritePermission,Q=H||o;return{number:t.number,title:t.title,titleHTML:t.titleHTML,url:t.html_url,createdAt:t.createdAt,body:t.body,bodyHTML:t.bodyHTML,labels:t.item.labels,author:t.author,state:t.state,events:r,continueOnGitHub:this.continueOnGitHub(),canEdit:Q,hasWritePermission:H,isIssue:!0,projectItems:t.item.projectItems,milestone:t.milestone,assignees:(A=t.assignees)!=null?A:[],isEnterprise:t.githubRepository.remote.isEnterprise,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,canAssignCopilot:v.find(le=>pn[le.login])!==void 0,reactions:t.item.reactions,isAuthor:[t.author,...i].find(le=>le.login===e.login)!==void 0}}async updateItem(e){var t;try{const[i,r,a,o,v,A]=await Promise.all([this._folderRepositoryManager.resolveIssue(e.remote.owner,e.remote.repositoryName,e.number),e.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.canEdit(),this._folderRepositoryManager.getAssignableUsers(),this._folderRepositoryManager.getCurrentUser()]);if(!i)throw new Error(`Fail to resolve issue #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=i,this.setPanelTitle(`Issue #${e.number.toString()}`),b.debug("pr.initialize",pa.ID),this._postMessage({command:"pr.initialize",pullrequest:this.getInitializeContext(A,i,[],r,a,o,(t=v[this._item.remote.remoteName])!=null?t:[])})}catch(i){s.window.showErrorMessage(`Error updating issue description: ${he(i)}`)}}async update(e,t){return this._folderRepositoryManager=e,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(),this.updateItem(t)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.submit":return this.submitReviewMessage(e);case"scroll":this._scrollPosition=e.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(e);case"pr.delete-comment":return this.deleteComment(e);case"pr.edit-description":return this.editDescription(e);case"pr.edit-title":return this.editTitle(e);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(e);case"pr.remove-label":return this.removeLabel(e);case"pr.change-assignees":return this.changeAssignees(e);case"pr.remove-milestone":return this.removeMilestone(e);case"pr.add-milestone":return this.addMilestone(e);case"pr.change-projects":return this.changeProjects(e);case"pr.remove-project":return this.removeProject(e);case"pr.add-assignee-yourself":return this.addAssigneeYourself(e);case"pr.add-assignee-copilot":return this.addAssigneeCopilot(e);case"pr.copy-prlink":return this.copyItemLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return ua(this._item,this._item._telemetry);case"pr.debug":return this.webviewDebug(e);default:return this.MESSAGE_UNHANDLED}}submitReviewMessage(e){return this.createComment(e)}async addLabels(e){const t=s.window.createQuickPick();try{let i=[];t.busy=!0,t.canSelectMany=!0,t.show(),t.items=await Ff(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(v=>(i=v.newLabels,v.labelPicks)),t.selectedItems=t.items.filter(v=>v.picked),t.busy=!1;const r=Ne(t.onDidAccept).then(()=>t.selectedItems),a=Ne(t.onDidHide),o=await Promise.race([r,a]);if(t.busy=!0,t.enabled=!1,o){await this._item.setLabels(o.map(A=>A.label));const v=o.map(A=>i.find(H=>H.name===A.label));this._item.item.labels=v,await this._replyMessage(e,{added:v})}}catch(i){s.window.showErrorMessage(he(i))}finally{t.hide(),t.dispose()}}async removeLabel(e){try{await this._item.removeLabel(e.args);const t=this._item.item.labels.findIndex(i=>i.name===e.args);this._item.item.labels.splice(t,1),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(he(t))}}webviewDebug(e){b.debug(e.args,pa.ID)}editDescription(e){this._item.edit({body:e.args.text}).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing description failed: ${he(t)}`)})}editTitle(e){return this._item.edit({title:e.args.text}).then(t=>this._replyMessage(e,{titleHTML:t.titleHTML})).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing title failed: ${he(t)}`)})}async changeAssignees(e){var t;const i=s.window.createQuickPick();try{i.busy=!0,i.canSelectMany=!0,i.matchOnDescription=!0,i.show(),i.items=await Pf(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(t=this._item.assignees)!=null?t:[],this._item),i.selectedItems=i.items.filter(v=>v.picked),i.busy=!1;const r=Ne(i.onDidAccept).then(()=>i.selectedItems.filter(v=>v.user)),a=Ne(i.onDidHide),o=await Promise.race([r,a]);if(i.busy=!0,i.enabled=!1,o){const v=o.map(Q=>Q.user);await this._item.replaceAssignees(v);const A=await this._item.getIssueTimelineEvents(),H={assignees:v,events:A};await this._replyMessage(e,H)}}catch(r){s.window.showErrorMessage(he(r))}finally{i.hide(),i.dispose()}}async addMilestone(e){return If(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,t=>this.updateMilestone(t,e))}async updateMilestone(e,t){if(!e)return this.removeMilestone(t);await this._item.updateMilestone(e.id),this._replyMessage(t,{added:e})}async removeMilestone(e){try{await this._item.updateMilestone("null"),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(he(t))}}async changeProjects(e){var t;return Af(this._folderRepositoryManager,this._item.githubRepository,(t=this._item.item.projectItems)==null?void 0:t.map(i=>i.project),i=>this.updateProjects(i,e))}async updateProjects(e,t){var i;let r=[];e&&(r=(i=await this._item.updateProjects(e))!=null?i:[]);const a={projectItems:r};return this._replyMessage(t,a)}async removeProject(e){return await this._item.removeProjects([e.args]),this._replyMessage(e,{})}async addAssigneeYourself(e){var t,i,r;try{const a=await this._folderRepositoryManager.getCurrentUser();if(!((t=this._item.assignees)==null?void 0:t.find(H=>H.login===a.login))){const H=((i=this._item.assignees)!=null?i:[]).concat(a);await this._item.replaceAssignees(H)}const v=await this._item.getIssueTimelineEvents(),A={assignees:(r=this._item.assignees)!=null?r:[],events:v};this._replyMessage(e,A)}catch(a){s.window.showErrorMessage(he(a))}}async addAssigneeCopilot(e){var t,i;try{const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName].find(v=>pn[v.login]);if(r){const v=((t=this._item.assignees)!=null?t:[]).concat(r);await this._item.replaceAssignees(v)}const a=await this._item.getIssueTimelineEvents(),o={assignees:(i=this._item.assignees)!=null?i:[],events:a};this._replyMessage(e,o)}catch(r){s.window.showErrorMessage(he(r))}}async copyItemLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(wd(this._item))}editCommentPromise(e,t){return this._item.editIssueComment(e,t)}editComment(e){this.editCommentPromise(e.args.comment,e.args.text).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(he(t))})}deleteCommentPromise(e){return this._item.deleteIssueComment(e.id.toString())}deleteComment(e){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(t=>{t==="Delete"&&this.deleteCommentPromise(e.args).then(i=>{this._replyMessage(e,{})}).catch(i=>{this._throwError(e,i),s.window.showErrorMessage(he(i))})})}async close(e){let t;e.args&&(t=await this._item.createIssueComment(e.args));const i=await this._item.close(),r={state:i.item.state.toUpperCase(),commentEvent:t?{...t,event:ai.Commented}:void 0,closeEvent:i.closedEvent};this._replyMessage(e,r)}createComment(e){return this._item.createIssueComment(e.args).then(t=>{const i={...t,event:ai.Commented};return this._replyMessage(e,{event:i})})}set _currentPanel(e){pa.currentPanel=e}dispose(){super.dispose(),this._currentPanel=void 0,this._webview=void 0}getHtmlForWebview(){const e=ud(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${zg.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}getCurrentItem(){return this._item}};Ea(Al,"ID","IssueOverviewPanel"),Ea(Al,"currentPanel"),Ea(Al,"_viewType","IssueOverview");let fd=Al;var Il;(n=>{async function e(t,i){var r;const a=await t.getBranchNameForPullRequest(i),o=[],v=await t.getPullRequestRepositoryDefaultBranch(i);if(i.isResolved()){const Q=i.head.ref,re=t.findRepo(pe=>pe.remote.owner===i.head.owner&&pe.remote.repositoryName===i.remote.repositoryName);!(v===i.head.ref)&&!i.isRemoteHeadDeleted&&o.push({label:s.l10n.t("Delete remote branch {0}",`${re==null?void 0:re.remote.remoteName}/${Q}`),description:`${i.remote.normalizedHost}/${i.head.repositoryCloneUrl.owner}/${i.remote.repositoryName}`,type:"remoteHead",picked:!0})}if(a){const Q=s.workspace.getConfiguration(Tt).get(`${_i}.${$i}`);o.push({label:s.l10n.t("Delete local branch {0}",a.branch),type:"local",picked:!!Q});const re=s.workspace.getConfiguration(Tt).get(`${_i}.${Li}`);a.remote&&a.createdForPullRequest&&!a.remoteInUse&&o.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",a.remote),type:"remote",picked:!!re})}if(s.env.remoteName==="codespaces"&&o.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!o.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",i.number)),{isReply:!0,message:{cancelled:!0}};const A=await s.window.showQuickPick(o,{canPickMany:!0,ignoreFocusOut:!0}),H=[];if(A){const Q=i.equals(t.activePullRequest)||((r=t.repository.state.HEAD)==null?void 0:r.name)&&t.repository.state.HEAD.name===(a==null?void 0:a.branch),re=A.map(async le=>{switch(le.type){case"remoteHead":await t.deleteBranch(i),H.push(le.type),await t.repository.fetch({prune:!0}),t.repository.rootUri.scheme===Vt.VscodeVfs&&await t.repository.checkout(v);return;case"local":if(Q){if(t.repository.state.workingTreeChanges.length){const pe=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},pe)===pe)await s.commands.executeCommand("git.cleanAll");else return}await t.repository.checkout(v)}return await t.repository.deleteBranch(a.branch,!0),H.push(le.type);case"remote":return H.push(le.type),t.repository.removeRemote(a.remote);case"suspend":return H.push(le.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(re),s.commands.executeCommand("pr.refreshList"),{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:H}}}else return{isReply:!0,message:{cancelled:!0}}}n.deleteBranch=e})(Il||(Il={}));var cs=(n=>(n.Comment="comment",n.Approve="approve",n.RequestChanges="requestChanges",n))(cs||{}),Fl=(n=>(n[n.None=0]="None",n[n.Available=1]="Available",n[n.ReviewedWithComments=2]="ReviewedWithComments",n[n.ReviewedWithoutComments=3]="ReviewedWithoutComments",n))(Fl||{}),Yg=Object.defineProperty,Xg=(n,e,t)=>e in n?Yg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fs=(n,e,t)=>Xg(n,typeof e!="symbol"?e+"":e,t);const hd=class Hr extends fd{constructor(e,t,i,r,a){super(e,t,i,r,a,ld,{light:"resources/icons/pr_webview.svg",dark:"resources/icons/dark/pr_webview.svg"}),fs(this,"_repositoryDefaultBranch"),fs(this,"_existingReviewers",[]),fs(this,"_teamsCount",0),fs(this,"_prListeners",[]),fs(this,"_isUpdating",!1),this.registerPrListeners(),this.setVisibilityContext(),this._register(a.onDidMergePullRequest(o=>{this._postMessage({command:"update-state",state:bt.Merged})})),this._register(s.commands.registerCommand("review.approveDescription",o=>this.approvePullRequestCommand(o))),this._register(s.commands.registerCommand("review.commentDescription",o=>this.submitReviewCommand(o))),this._register(s.commands.registerCommand("review.requestChangesDescription",o=>this.requestChangesCommand(o))),this._register(s.commands.registerCommand("review.approveOnDotComDescription",()=>ua(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>ua(this._item,this._item._telemetry)))}static async createOrShow(e,t,i,r,a=!1,o=!0){const v=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(Hr.currentPanel)Hr.currentPanel._panel.reveal(v,o);else{const A=`Pull Request #${r.number.toString()}`;Hr.currentPanel=new Hr(e,t,v||s.ViewColumn.Active,A,i)}await Hr.currentPanel.update(i,r)}set _currentPanel(e){Hr.currentPanel=e}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerPrListeners(){k(this._prListeners),this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:t})}})),this._item&&this._prListeners.push(this._item.onDidChangeComments(()=>{this._isUpdating||this.refreshPanel()}))}onDidChangeViewState(e){super.onDidChangeViewState(e),this.setVisibilityContext()}setVisibilityContext(){return lt.setContext(kt.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(e,t){const i=e.find(r=>ln(r.reviewer)===t.login);return i==null?void 0:i.state}isUpdateBranchWithGitHubEnabled(){return this._item.isActive||s.workspace.getConfiguration(Tt).get("experimentalUpdateBranchWithGitHub",!1)}continueOnGitHub(){const e=!!this._item.base&&!!this._item.head&&!this._item.base.repositoryCloneUrl.equals(this._item.head.repositoryCloneUrl);return super.continueOnGitHub()&&e}async updateItem(e){var t,i;try{const[r,a,o,v,A,H,Q,re,le,pe,Se,Ae,Oe,ue,ye]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),e.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),e.getStatusChecks(),e.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(e.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(e),e.getMergeability(),this._folderRepositoryManager.getPreferredEmail(e),e.getCoAuthors()]);if(!r)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=r,this.registerPrListeners(),this._repositoryDefaultBranch=o,this._teamsCount=pe,this.setPanelTitle(`Pull Request #${e.number.toString()}`);const Ee=e.equals(this._folderRepositoryManager.activePullRequest),De=H.mergeMethodsAvailability,Ue=Dl(De);this._existingReviewers=oh(A,a,r.author);const Qe=this.isUpdateBranchWithGitHubEnabled(),Ye=this.getCurrentUserReviewState(this._existingReviewers,re);b.debug("pr.initialize",Hr.ID);const Ft={...this.getInitializeContext(re,r,ye,a,H,le,[]),isCurrentlyCheckedOut:Ee,isRemoteBaseDeleted:r.isRemoteBaseDeleted,base:r.base.label,isRemoteHeadDeleted:r.isRemoteHeadDeleted,isLocalHeadDeleted:!Q,head:(i=(t=r.head)==null?void 0:t.label)!=null?i:"",repositoryDefaultBranch:o,status:v[0],reviewRequirement:v[1],canUpdateBranch:r.item.viewerCanUpdate&&!Ae&&Qe,mergeable:Oe.mergeability,reviewers:this._existingReviewers,isDraft:r.isDraft,mergeMethodsAvailability:De,defaultMergeMethod:Ue,autoMerge:r.autoMerge,allowAutoMerge:r.allowAutoMerge,autoMergeMethod:r.autoMergeMethod,mergeQueueMethod:Se,mergeQueueEntry:r.mergeQueueEntry,mergeCommitMeta:r.mergeCommitMeta,squashCommitMeta:r.squashCommitMeta,isIssue:!1,emailForCommit:ue,currentUserReviewState:Ye,revertable:r.state===bt.Merged};this._postMessage({command:"pr.initialize",pullrequest:Ft}),r.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(r,!0)}catch(r){s.window.showErrorMessage(`Error updating pull request description: ${he(r)}`)}}async update(e,t){return this._folderRepositoryManager!==e&&(this._folderRepositoryManager=e,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==t.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview()),s.window.withProgress({location:{viewId:"pr:github"}},()=>this.updateItem(t))}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.checkout":return this.checkoutPullRequest(e);case"pr.merge":return this.mergePullRequest(e);case"pr.change-email":return this.changeEmail(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.apply-patch":return this.applyPatch(e);case"pr.open-diff":return this.openDiff(e);case"pr.resolve-comment-thread":return this.resolveCommentThread(e);case"pr.checkMergeability":return this._replyMessage(e,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(e);case"pr.update-automerge":return this.updateAutoMerge(e);case"pr.dequeue":return this.dequeue(e);case"pr.enqueue":return this.enqueue(e);case"pr.update-branch":return this.updateBranch(e);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview();case"pr.re-request-review":return this.reRequestReview(e);case"pr.revert":return this.revert(e)}}gotoChangesSinceReview(){this._item.showChangesSinceReview=!0}async changeReviewers(e){let t;try{t=await Mf(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),t.busy=!1;const i=Ne(t.onDidAccept).then(()=>{const o=t==null?void 0:t.selectedItems.filter(A=>A.user).map(A=>A.user),v=this._existingReviewers.filter(A=>!ri(A.reviewer)&&A.reviewer.accountType==="Bot").map(A=>A.reviewer);return o.concat(v)}),r=Ne(t.onDidHide),a=await Promise.race([i,r]);if(t.busy=!0,t.enabled=!1,a){const o=[],v=[];a.forEach(re=>{(ri(re)?v:o).push(re)});const A=[],H=[];this._existingReviewers.forEach(re=>{let le=ri(re.reviewer)?v:o,pe=ri(re.reviewer)?H:A;le.find(Se=>Se.id===re.reviewer.id)||pe.push(re.reviewer)}),await this._item.requestReview(o,v),await this._item.deleteReviewRequest(A,H);const Q=a.map(re=>({reviewer:re,state:"REQUESTED"}));this._existingReviewers=Q,await this._replyMessage(e,{reviewers:Q})}}catch(i){b.error(he(i),Hr.ID),s.window.showErrorMessage(he(i))}finally{t==null||t.hide(),t==null||t.dispose()}}async applyPatch(e){try{const t=e.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(t.body),a=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${t.id}.diff`),o=new TextEncoder;await s.workspace.fs.writeFile(a,o.encode(r[1])),await this._folderRepositoryManager.repository.apply(a.fsPath),await s.workspace.fs.delete(a),s.window.showInformationMessage("Patch applied!")}catch(t){b.error(`Applying patch failed: ${t}`,Hr.ID),s.window.showErrorMessage(`Applying patch failed: ${he(t)}`)}}async openDiff(e){try{const t=e.args.comment;return In.openDiffFromComment(this._folderRepositoryManager,this._item,t)}catch(t){b.error(`Open diff view failed: ${he(t)}`,Hr.ID)}}async resolveCommentThread(e){try{e.args.toResolve?await this._item.resolveReviewThread(e.args.threadId):await this._item.unresolveReviewThread(e.args.threadId);const t=await this._item.getTimelineEvents();this._replyMessage(e,t)}catch(t){s.window.showErrorMessage(t),this._replyMessage(e,void 0)}}checkoutPullRequest(e){s.commands.executeCommand("pr.pick",this._item).then(()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})},()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})})}mergePullRequest(e){const{title:t,description:i,method:r,email:a}=e.args;this._folderRepositoryManager.mergePullRequest(this._item,t,i,r,a).then(o=>{s.commands.executeCommand("pr.refreshList"),o.merged||s.window.showErrorMessage(`Merging PR failed: ${o.message}`);const v={state:o.merged?bt.Merged:bt.Open,revertable:o.merged,events:o.timeline};this._replyMessage(e,v)}).catch(o=>{s.window.showErrorMessage(`Unable to merge pull request. ${he(o)}`),this._throwError(e,{})})}async changeEmail(e){const t=await Wg(this._item.githubRepository,e.args);return t&&this._folderRepositoryManager.saveLastUsedEmail(t),this._replyMessage(e,t!=null?t:e.args)}async deleteBranch(e){const t=await Il.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):(this.refreshPanel(),this._postMessage(t.message))}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(`Unable to set PR ready for review. ${he(t)}`),this._throwError(e,{})})}async checkoutDefaultBranch(e){var t;try{const i=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(e.args),i&&await this._folderRepositoryManager.cleanupAfterPullRequest(i,this._item)}finally{this._replyMessage(e,{})}}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const r={command:"pr.submitting-review",lastReviewType:t};this._postMessage(r);try{const a=await i(e.body);this.updateReviewers(a);const o={command:"pr.append-review",event:a,reviewers:this._existingReviewers};await this._postMessage(o)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(a))),this._throwError(void 0,`${he(a)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i);const r={event:i,reviewers:this._existingReviewers};this._replyMessage(e,r)}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(i))),this._throwError(e,`${he(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,cs.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,cs.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(St.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,cs.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}reRequestReview(e){let t;const i=[],r=[];for(const a of this._existingReviewers){let o=a.reviewer.id;o&&(a.state==="REQUESTED"||o===e.args)&&o===e.args&&(t=a)}t&&ri(t.reviewer)?r.push(t.reviewer):t&&!ri(t.reviewer)&&i.push(t.reviewer),this._item.requestReview(i,r,!0).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async revert(e){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async t=>{const i={revertable:!t};return this._replyMessage(e,i)})}async updateAutoMerge(e){let t;!e.args.autoMerge&&!this._item.autoMerge?t={autoMerge:!1}:e.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),t={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&e.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(e.args.autoMergeMethod),t={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(e,t)}async dequeue(e){const t=await this._item.dequeuePullRequest();this._replyMessage(e,t)}async enqueue(e){const t=await this._item.enqueuePullRequest();this._replyMessage(e,{mergeQueueEntry:t})}async updateBranch(e){if(!this.isUpdateBranchWithGitHubEnabled())return await s.window.showErrorMessage(s.l10n.t("The pull request branch must be checked out to be updated."),{modal:!0}),this._replyMessage(e,{});if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=qt.Unknown,r=5;do i=(await this._item.getMergeability()).mergeability,r--,await new Promise(o=>setTimeout(o,1e3));while(r>0&&i===qt.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refreshPanel(),this._replyMessage(e,a)}editCommentPromise(e,t){return this._item.editReviewComment(e,t)}deleteCommentPromise(e){return this._item.deleteReviewComment(e.id.toString())}dispose(){super.dispose(),k(this._prListeners)}};fs(hd,"ID","PullRequestOverviewPanel"),fs(hd,"currentPanel");let br=hd;function Dl(n){const e=s.workspace.getConfiguration(Tt).get(ki);return e&&n.hasOwnProperty(e)&&n[e]?e:["merge","squash","rebase"].find(i=>n[i])}var Jg=Object.defineProperty,Zg=(n,e,t)=>e in n?Jg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,e0=(n,e,t)=>Zg(n,typeof e!="symbol"?e+"":e,t);class Df extends g{constructor(e,t){super(),this._folderRepoManager=e,this._telemetry=t,e0(this,"_commentController")}get commentController(){return this._commentController}githubReposForPullRequest(e){const t=e?[e.githubRepository]:void 0;if(t&&(e!=null&&e.head)){const i=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});i&&t.push(i)}return t}}var t0=Object.defineProperty,i0=(n,e,t)=>e in n?t0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bs=(n,e,t)=>i0(n,typeof e!="symbol"?e+"":e,t);const xf=class Nv extends Df{constructor(e,t,i,r){if(super(t,r),this.pullRequestModel=e,Bs(this,"_pendingCommentThreadAdds",[]),Bs(this,"_commentHandlerId"),Bs(this,"_commentThreadCache",{}),Bs(this,"_context"),Bs(this,"_githubRepositories"),this._commentController=i,this._context=t.context,this._commentHandlerId=kf(),Oi(this._commentHandlerId,this,t.repository),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const a=this.pullRequestModel.onDidChangeReviewThreads(async()=>{a.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(e)}registerListeners(){this._register(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._register(s.window.tabGroups.onDidChangeTabs(async e=>this.onDidChangeOpenTabs(e))),this._register(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(i=>{zf(i,e)})})),this._register(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==Vt.Pr)return;const i=fn(t);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(e){const t=[],i=r=>{const a=fn(r.uri);if(a&&a.prNumber===this.pullRequestModel.number)return r.editor?Promise.resolve(r.editor.document):(b.trace(`Opening text document for PR editor ${r.uri.toString()}`,Nv.ID),s.workspace.openTextDocument(r.uri))};for(const r of e){const a=[];r instanceof s.TabInputText?a.push({uri:r.uri}):r instanceof s.TabInputTextDiff?a.push({uri:r.original},{uri:r.modified}):a.push({uri:r.document.uri,editor:r}),t.push(...a.map(i).filter(o=>!!o))}return Promise.all(t)}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}async addThreadsForEditors(e){const t=this.pullRequestModel.reviewThreadsCache,i=te(t,a=>a.path),r=await this._folderRepoManager.getCurrentUser();for(const a of e){const{fileName:o,isBase:v}=fn(a.uri),A=this.getCommentThreadCacheKey(o,v);this._commentThreadCache[A]||i[o]&&(this._commentThreadCache[A]=i[o].filter(H=>(H.diffSide===Yi.LEFT&&v||H.diffSide===Yi.RIGHT&&!v)&&H.endLine!==null).map(H=>{const Q=H.endLine-1,re=H.subjectType===Bn.FILE?void 0:qo(H.startLine-1,Q,a.lineAt(Q).range.end.character);return Ho(this._context,a.uri,re,H,this._commentController,r,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const e=await this.getPREditors(s.window.visibleTextEditors);return this.addThreadsForEditors(e)}allTabs(){return this.filterTabsToPrTabs(s.window.tabGroups.all.map(e=>e.tabs).flat())}filterTabsToPrTabs(e){return e.filter(t=>t.input instanceof s.TabInputText||t.input instanceof s.TabInputTextDiff).map(t=>t.input)}prDescriptionOpened(e){return e.some(t=>t.input instanceof s.TabInputWebview&&t.label.includes(`#${this.pullRequestModel.number}`)&&t.input.viewType.includes(ld))}async cleanClosedPrs(){const e=await this.getPREditors(this.allTabs()),t=this.prDescriptionOpened(s.window.tabGroups.all.map(i=>i.tabs).flat());e.length===0&&!t&&this.removeAllCommentsThreads()}async openAllTextDocuments(){const e=await In.getChangeModels(this._folderRepoManager,this.pullRequestModel),t=[];for(const i of e)t.push(await s.workspace.openTextDocument(i.filePath));return t}async onDidChangeOpenTabs(e){const t=await this.getPREditors(this.filterTabsToPrTabs(e.opened));if(t.length)await this.addThreadsForEditors(t);else if(this.prDescriptionOpened(e.opened)){const i=await this.openAllTextDocuments();await this.addThreadsForEditors(i)}e.closed.length>0&&(await new Promise(i=>setTimeout(i,100)),await this.cleanClosedPrs())}onDidChangeReviewThreads(e){e.added.forEach(async t=>{const i=t.path,r=this._pendingCommentThreadAdds.findIndex(v=>{const A=this._folderRepoManager.gitRelativeRootPath(v.uri.path)===t.path,H=v.range===void 0&&t.subjectType===Bn.FILE||v.range&&v.range.end.line+1===t.endLine;return A&&H});let a;if(r>-1)a=this._pendingCommentThreadAdds[r],a.gitHubThreadId=t.id,a.comments=t.comments.map(v=>new Sn(this._context,v,a,this._githubRepositories)),jf(this._context,a,t,this._githubRepositories),this._pendingCommentThreadAdds.splice(r,1);else{const A=(await this.getPREditors(s.window.visibleTextEditors)).find(H=>{const Q=fn(H.uri),re=t.diffSide===Yi.RIGHT&&!(Q!=null&&Q.isBase)||t.diffSide===Yi.LEFT&&(Q==null?void 0:Q.isBase);return(Q==null?void 0:Q.fileName)===i&&re});if(A){const H=t.endLine-1,Q=t.subjectType===Bn.FILE?void 0:qo(t.startLine-1,H,A.lineAt(H).range.end.character);a=Ho(this._context,A.uri,Q,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this._githubRepositories)}}if(!a)return;const o=this.getCommentThreadCacheKey(t.path,t.diffSide===Yi.LEFT);this._commentThreadCache[o]?this._commentThreadCache[o].push(a):this._commentThreadCache[o]=[a]}),e.changed.forEach(t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===Yi.LEFT),r=this._commentThreadCache[i]?this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id):-1;if(r>-1){const a=this._commentThreadCache[i][r];Ul(this._context,a,t,this._githubRepositories)}}),e.removed.forEach(async t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===Yi.LEFT),r=this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id);if(r>-1){const a=this._commentThreadCache[i][r];this._commentThreadCache[i].splice(r,1),a.dispose()}})}hasCommentThread(e){if(e.uri.scheme!==Vt.Pr)return!1;const t=fn(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=fn(e.uri);return t!=null&&t.isBase?Yi.LEFT:Yi.RIGHT}async createOrReplyComment(e,t,i,r){var a;const o=e.comments.length,v=i?!1:r!==void 0?r:this.pullRequestModel.hasPendingReview,A=await this.optimisticallyAddComment(e,t,v);try{if(o)await this.reply(e,t,i);else{const H=this._folderRepoManager.gitRelativeRootPath(e.uri.path),Q=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await Promise.all([this.pullRequestModel.createReviewThread(t,H,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,Q,i),Ll(e,await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),this._context)])}i&&await this.pullRequestModel.submitReview()}catch(H){(a=H.graphQLErrors)!=null&&a.length&&H.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Q=>{Q==="Refresh"&&this.pullRequestModel.invalidate()}):s.window.showErrorMessage(`Creating comment failed: ${H}`),e.comments=e.comments.map(Q=>(Q instanceof Er&&Q.id===A&&(Q.mode=s.CommentMode.Editing),Q))}}reply(e,t,i){const r=e.comments[0];if(r instanceof Sn)return this.pullRequestModel.createCommentReply(t,r.rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),r=new Er(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Sn&&a.commentId===t.commentId?r:a),r.id}async editComment(e,t){if(t instanceof Sn){const i=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(`Editing comment failed ${r}`),e.comments=e.comments.map(a=>a instanceof Er&&a.id===i?new Sn(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof Sn?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(i=>!(i instanceof Er&&i.id===t.id)),await this.pullRequestModel.validateDraftMode()}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r)await this.reply(e,t,!1);else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),v=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,o,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,v)}this.setContextKey(!0)}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(v=>(v instanceof Er&&v.id===a&&(v.mode=s.CommentMode.Editing),v))}}async openReview(){await br.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,this.pullRequestModel),br.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new Er(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,$s(e)}async createCommentOnResolve(e,t){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,t){e.parent.uri.scheme===Vt.Pr&&(e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t))}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(e=>{k(this._commentThreadCache[e]),delete this._commentThreadCache[e]})}dispose(){super.dispose(),this.removeAllCommentsThreads(),Mt(this._commentHandlerId)}};Bs(xf,"ID","PullRequestCommentController");let n0=xf;var r0=Object.defineProperty,a0=(n,e,t)=>e in n?r0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xl=(n,e,t)=>a0(n,typeof e!="symbol"?e+"":e,t);class s0 extends g{constructor(e,t){super(),this.commentsController=e,this._telemetry=t,xl(this,"_prCommentHandlers",{}),xl(this,"_prCommentingRangeProviders",{}),xl(this,"_activeChangeListeners",new Map),xl(this,"resourceHints",{schemes:[Vt.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const i=e.uri,r=fn(i);return!r||!this._prCommentingRangeProviders[r.prNumber]?void 0:this._prCommentingRangeProviders[r.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[r.prNumber])(e,t)}async toggleReaction(e,t){const i=e.parent.uri,r=fn(i);return!r||!this._prCommentHandlers[r.prNumber]||!this._prCommentHandlers[r.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[r.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[r.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(i)||this._activeChangeListeners.set(i,i.onDidChangeActivePullRequest(a=>{var o;a.old&&((o=this._prCommentHandlers[a.old])==null||o.dispose())}));const r=new n0(t,i,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:r,refCount:1,dispose:()=>{this._prCommentHandlers[e]&&(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]=t,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){super.dispose(),Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}function Lo(n,e){const t=n.definitions,r=e.definitions.concat(t);return{...e,...n,definitions:r}}function o0(n){return!!n&&"name"in n&&"email"in n}function l0(n){return!!n&&"slug"in n}var Uo=(n=>(n.prTitle="PR_TITLE",n.commitOrPrTitle="COMMIT_OR_PR_TITLE",n.mergeMessage="MERGE_MESSAGE",n))(Uo||{}),Ol=(n=>(n.prBody="PR_BODY",n.commitMessages="COMMIT_MESSAGES",n.blank="BLANK",n.prTitle="PR_TITLE",n))(Ol||{});function u0(n){return n.__typename==="CheckRun"}var d0=Object.defineProperty,c0=(n,e,t)=>e in n?d0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,En=(n,e,t)=>c0(n,typeof e!="symbol"?e+"":e,t);const Of=class cr{constructor(e,t,i,r=!1){En(this,"id"),En(this,"graphNodeId"),En(this,"number"),En(this,"title"),En(this,"titleHTML"),En(this,"html_url"),En(this,"state",bt.Open),En(this,"author"),En(this,"assignees"),En(this,"createdAt"),En(this,"updatedAt"),En(this,"milestone"),En(this,"githubRepository"),En(this,"remote"),En(this,"item"),En(this,"bodyHTML"),En(this,"_onDidInvalidate",new s.EventEmitter),En(this,"onDidInvalidate",this._onDidInvalidate.event),this.githubRepository=e,this.remote=t,this.item=i,r||this.update(i)}invalidate(){this._onDidInvalidate.fire()}get isOpen(){return this.state===bt.Open}get isClosed(){return this.state===bt.Closed}get isMerged(){return this.state===bt.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const e=this.userAvatar;if(e){const t=s.Uri.parse(`${e}&s=64`),i=t.toString;return t.toString=function(r){return i.call(t,!0)},t}}}get body(){return this.item?this.item.body:""}updateState(e){e.toLowerCase()==="open"?this.state=bt.Open:this.state=bt.Closed}update(e){this.id=e.id,this.graphNodeId=e.graphNodeId,this.number=e.number,this.title=e.title,e.titleHTML&&(this.titleHTML=e.titleHTML),(!this.bodyHTML||e.body!==this.body)&&(this.bodyHTML=e.bodyHTML),this.html_url=e.url,this.author=e.user,this.milestone=e.milestone,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.updateState(e.state),e.assignees&&(this.assignees=e.assignees),this.item=e}equals(e){return!(!e||this.number!==e.number||this.html_url!==e.html_url)}updateIssueInput(e){return{id:e}}updateIssueSchema(e){return e.UpdateIssue}async edit(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),body:e.body,title:e.title}}});return r!=null&&r.updateIssue.issue&&(this.item.body=r.updateIssue.issue.body,this.bodyHTML=r.updateIssue.issue.bodyHTML,this.title=r.updateIssue.issue.title,this.titleHTML=r.updateIssue.issue.titleHTML,this.invalidate()),r.updateIssue.issue}catch(t){throw new Error(he(t))}}canEdit(){const e=this.author&&this.author.login;return this.githubRepository.isCurrentUser(e)}async createIssueComment(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:e}}});return Xf(r.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(e,t){try{const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.EditIssueComment,variables:{input:{id:e.graphNodeId,body:t}}});return Xf(a.updateIssueComment.issueComment,this.githubRepository)}catch(i){throw new Error(he(i))}}async deleteIssueComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.deleteComment,{owner:i.owner,repo:i.repositoryName,comment_id:Number(e)})}catch(t){throw new Error(he(t))}}async setLabels(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();try{await t.call(t.api.issues.setLabels,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:e})}catch{b.error(`Failed to add labels to PR #${this.number}`,cr.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeLabel,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:e})}async removeProjects(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure();try{await Promise.all(e.map(a=>i({mutation:r.RemovePullRequestFromProject,variables:{input:{itemId:a.id,projectId:a.project.id}}}))),this.item.projectItems=(t=this.item.projectItems)==null?void 0:t.filter(a=>!e.find(o=>o.project.id===a.project.id))}catch(a){b.error(a,cr.ID)}}async addProjects(e){const{mutate:t,schema:i}=await this.githubRepository.ensure();try{const r=await Promise.all(e.map(a=>t({mutation:i.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:a.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...e.map((a,o)=>({project:a,id:r[o].data.addProjectV2ItemById.item.id})))}catch(r){b.error(r,cr.ID)}}async updateProjects(e){var t,i;const r=e.filter(o=>{var v;return!((v=this.item.projectItems)!=null&&v.find(A=>A.project.id===o.id))}),a=(i=(t=this.item.projectItems)==null?void 0:t.filter(o=>!e.find(v=>v.id===o.project.id)))!=null?i:[];return await this.removeProjects(a),await this.addProjects(r),this.item.projectItems}async getRestOnlyTimelineEvents(){if(!pn[this.author.login])return[];b.debug(`Fetch Copilot timeline events of issue #${this.number} - enter`,cr.ID);const{octokit:e,remote:t}=await this.githubRepository.ensure();try{const i=await Gl(e.api.issues.listEventsForTimeline,{issue_number:this.number,owner:t.owner,repo:t.repositoryName,per_page:100});return D0(this,i)}catch(i){return b.error(`Error fetching Copilot timeline events of issue #${this.number} - ${he(i)}`,cr.ID),[]}}async getIssueTimelineEvents(){b.debug(`Fetch timeline events of issue #${this.number} - enter`,cr.ID);const e=this.githubRepository,{query:t,remote:i,schema:r}=await e.ensure();try{const{data:a}=await t({query:r.IssueTimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}});if(a.repository===null)return b.error("Unexpected null repository when getting issue timeline events",cr.ID),[];const o=a.repository.pullRequest.timelineItems.nodes;return await vd(o,await this.getRestOnlyTimelineEvents(),e)}catch(a){return console.log(a),[]}}getUpdatesQuery(e){return e.LatestIssueUpdates}async getLastUpdateTime(e){b.debug(`Fetch timeline events of issue #${this.number} - enter`,cr.ID);const t=this.githubRepository,{query:i,remote:r,schema:a}=await t.ensure();try{const{data:o}=await i({query:this.getUpdatesQuery(a),variables:{owner:r.owner,name:r.repositoryName,number:this.number,since:new Date(e)}}),v=[e,new Date(o.repository.pullRequest.updatedAt),...o.repository.pullRequest.reactions.nodes.map(A=>new Date(A.createdAt)),...o.repository.pullRequest.comments.nodes.map(A=>new Date(A.updatedAt)),...o.repository.pullRequest.comments.nodes.flatMap(A=>A.reactions.nodes.map(H=>new Date(H.createdAt))),...o.repository.pullRequest.timelineItems.nodes.map(A=>{var H,Q,re;const le=A;if((H=le.commit)!=null&&H.committedDate)return new Date(le.commit.committedDate);const pe=A;return((re=(Q=pe.comments)==null?void 0:Q.nodes.length)!=null?re:0)>0?new Date(pe.comments.nodes[0].createdAt):new Date(A.createdAt)})];return new Date(Math.max(...v.map(A=>A.getTime())))}catch(o){return b.error(`Error fetching timeline events of issue #${this.number} - ${he(o)}`,cr.ID),e}}async updateMilestone(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),r=e==="null"?null:e;try{await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),milestoneId:r}}})}catch(a){b.error(a,cr.ID)}}async replaceAssignees(e){var t,i;b.debug(`Replace assignees of issue #${this.number} - enter`,cr.ID);const{mutate:r,schema:a}=await this.githubRepository.ensure();try{if(a.ReplaceActorsForAssignable){const o=e.map(v=>v.id);await r({mutation:a.ReplaceActorsForAssignable,variables:{input:{actorIds:o,assignableId:this.graphNodeId}}})}else{const o=e.map(A=>A.login),v=((i=(t=this.assignees)==null?void 0:t.filter(A=>!e.find(H=>H.login===A.login)))!=null?i:[]).map(A=>A.login);await this.addAssignees(o),await this.deleteAssignees(v)}this.assignees=e}catch(o){b.error(o,cr.ID)}b.debug(`Replace assignees of issue #${this.number} - done`,cr.ID)}async addAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.addAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async deleteAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async close(){var e;const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.update,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,state:"closed"});return{item:Yf(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:ai.Closed,id:`${r.data.id}`,actor:{login:r.data.closed_by.login,avatarUrl:r.data.closed_by.avatar_url,url:r.data.closed_by.url}}}}};En(Of,"ID","IssueModel");let Nn=Of;var f0=Qt(58667),Lf=Qt.n(f0),h0=Qt(8575),m0=Qt.n(h0),p0=Qt(87831),Uf=Qt.n(p0),v0=Qt(72256),Bo=Qt.n(v0),g0=Object.defineProperty,b0=(n,e,t)=>e in n?g0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yn=(n,e,t)=>b0(n,typeof e!="symbol"?e+"":e,t);const Bf=20,qf="GraphQL";var Nr=(n=>(n.Unknown="unknown",n.Admin="ADMIN",n.Maintain="MAINTAIN",n.Read="READ",n.Triage="TRIAGE",n.Write="WRITE",n))(Nr||{}),qs=(n=>(n[n.None=0]="None",n[n.Try=1]="Try",n[n.Force=2]="Force",n))(qs||{}),Hf=(n=>(n.Unprocessable="UNPROCESSABLE",n))(Hf||{});const $f=class Tv extends g{constructor(e,t,i,r,a,o=!1){super(),this._id=e,this.remote=t,this.rootUri=i,this._credentialStore=r,this._telemetry=a,Yn(this,"_initialized",!1),Yn(this,"_hub"),Yn(this,"_metadata"),Yn(this,"commentsController"),Yn(this,"commentsHandler"),Yn(this,"_pullRequestModels",new Map),Yn(this,"_queriesSchema"),Yn(this,"_areQueriesLimited",!1),Yn(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),Yn(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Yn(this,"query",async(v,A=!1,H)=>{var Q,re,le;const pe=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!pe){const Ae=(Q=v.query.definitions[0].name)==null?void 0:Q.value;return b.debug(`Not available for query: ${Ae!=null?Ae:"unknown"}`,qf),{data:null,loading:!1,networkStatus:gn.error,stale:!1}}let Se;try{Se=await pe.query(v)}catch(Ae){const Oe=(re=v.query.definitions[0].name)==null?void 0:re.value,ue=Ae.graphQLErrors?Ae.graphQLErrors:void 0;if(b.error(`Error querying GraphQL API (${Oe}): ${Ae.message}${ue?`. ${ue.map(ye=>{var Ee;return(Ee=ye.extensions)==null?void 0:Ee.code}).join(",")}`:""}`,this.id),H)return v.query=H.query,this.query(v,A);if(ue&&ue.length&&ue.some(ye=>{var Ee;return((Ee=ye.extensions)==null?void 0:Ee.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=Lo(Bo(),Uf()),v.query=this.schema[v.query.definitions[0].name.value],Se=await pe.query(v);else if(!(A&&Ro(Ae)))if((le=Ae.message)!=null&&le.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),Se=await pe.query(v);else throw Ae.graphQLErrors&&Ae.graphQLErrors.length&&Ae.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(v),Ae}return Se}),Yn(this,"mutate",async(v,A)=>{var H;const Q=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!Q)return b.debug(`Not available for query: ${v.context}`,qf),{data:null,loading:!1,networkStatus:gn.error,stale:!1};let re;try{re=await Q.mutate(v)}catch(le){if(A){if(v.mutation=A.mutation,(H=v.variables)!=null&&H.input)for(const pe of A.deleteProps)delete v.variables.input[pe];return this.mutate(v)}else le.graphQLErrors&&le.graphQLErrors.length&&le.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(v);throw le}return re}),Yn(this,"_repoAccessAndMergeMethods"),Yn(this,"_branchHasMergeQueue",new Map),Yn(this,"_useFallbackChecks",!1),this._queriesSchema=Lo(Bo(),Lf()),o||this.ensureCommentsController()}get hub(){if(!this._hub)throw this._initialized?new rn:new Error("Call ensure() before accessing this property.");return this._hub}equals(e){return this.remote.equals(e.remote)}get pullRequestModels(){return this._pullRequestModels}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=s.comments.createCommentController(`github-browse-${this.remote.normalizedHost}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new s0(this.commentsController,this._telemetry),this._register(this.commentsHandler),this._register(this.commentsController)}catch(e){console.log(e)}}dispose(){super.dispose(),this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${Tv.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===Ri.GitHubDotCom&&this._credentialStore.isAuthenticated(ui.github)?!0:!!(this.remote.githubServerType===Ri.Enterprise&&this._credentialStore.isAuthenticated(ui.githubEnterprise))}async codespacesTokenError(e){var t;if(Vl()&&((t=await this._metadata)!=null&&t.fork))throw this._telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:e.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(e,t){if(this._metadata&&this.remote.owner===e&&this.remote.repositoryName===t)return b.debug(`Using cached metadata for repo ${e}/${t}`,this.id),this._metadata;b.debug("Fetch metadata for repo - enter",this.id);const{octokit:i}=await this.ensure(),r=await i.call(i.api.repos.get,{owner:e,repo:t});return b.debug(`Fetch metadata for repo ${e}/${t} - done`,this.id),{...r.data,currentUser:i.currentUser}}async getMetadata(){var e;if(this._metadata){const i=await this._metadata;return b.debug(`Using cached metadata ${(e=i.owner)==null?void 0:e.login}/${i.name}`,this.id),i}b.debug("Fetch metadata - enter",this.id);const{remote:t}=await this.ensure();return this._metadata=this.getMetadataForRepo(t.owner,t.repositoryName),b.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:e}=await this.getMetadata();this.remote=ps.remoteAsGitHub(Vo(this.remote.remoteName,e,this.remote.gitProtocol),this.remote.githubServerType)}catch(e){if(b.warn(`Unable to resolve remote: ${e}`),Ro(e))return!1}return!0}async ensure(e=!1){this._initialized=!0;const t=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?e?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,e),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),t!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)?(this._areQueriesLimited=!0,this._queriesSchema=Lo(Bo(),Uf())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=Lo(Bo(),m0()):this._queriesSchema=Lo(Bo(),Lf())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const e=dh();if(e)return e;try{return(await this.getMetadata()).default_branch}catch(t){b.warn(`Fetching default branch failed: ${t}`,this.id)}return"master"}async getPullRequestTemplates(){try{b.debug("Fetch pull request templates - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),r=await e({query:i.PullRequestTemplates,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch pull request templates - done",this.id),r.data.repository.pullRequestTemplates.map(a=>a.body)}catch{}}async getRepoAccessAndMergeMethods(e=!1){var t,i,r,a,o,v;try{if(!this._repoAccessAndMergeMethods||e){b.debug("Fetch repo permissions and available merge methods - enter",this.id);const A=await this.getMetadata();b.debug("Fetch repo permissions and available merge methods - done",this.id);const H=(i=(t=A.permissions)==null?void 0:t.push)!=null?i:!1;this._repoAccessAndMergeMethods={hasWritePermission:H,mergeMethodsAvailability:{merge:(r=A.allow_merge_commit)!=null?r:!1,squash:(a=A.allow_squash_merge)!=null?a:!1,rebase:(o=A.allow_rebase_merge)!=null?o:!1},viewerCanAutoMerge:(v=A.allow_auto_merge&&H)!=null?v:!1}}return this._repoAccessAndMergeMethods}catch(A){b.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${A}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(e){var t,i;if(this._branchHasMergeQueue.has(e))return this._branchHasMergeQueue.get(e);try{b.debug("Fetch branch has merge queue - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();if(!o.MergeQueueForBranch)return;const v=await r({query:o.MergeQueueForBranch,variables:{owner:a.owner,name:a.repositoryName,branch:e}});b.debug("Fetch branch has merge queue - done",this.id);const A=th((i=(t=v.data.repository.mergeQueue)==null?void 0:t.configuration)==null?void 0:i.mergeMethod);return A&&this._branchHasMergeQueue.set(e,A),A}catch(r){b.error(`Fetching branch has merge queue failed: ${r}`,this.id)}}async commit(e,t,i){b.debug(`Committing files to branch ${e} - enter`,this.id);let r=!1;try{const{octokit:a,remote:o}=await this.ensure(),v=(await a.call(a.api.repos.getBranch,{owner:o.owner,repo:o.repositoryName,branch:e})).data.commit.sha,A=(await a.call(a.api.repos.getCommit,{owner:o.owner,repo:o.repositoryName,ref:v})).data.commit.tree.sha,H=[];for(const[le,pe]of i)H.push({path:le.substring(1),mode:"100644",content:pe.toString()});const Q=(await a.call(a.api.git.createTree,{owner:o.owner,repo:o.repositoryName,base_tree:A,tree:H})).data.sha,re=(await a.call(a.api.git.createCommit,{owner:o.owner,repo:o.repositoryName,message:t,tree:Q,parents:[v]})).data.sha;await a.call(a.api.git.updateRef,{owner:o.owner,repo:o.repositoryName,ref:`heads/${e}`,sha:re}),r=!0}catch(a){b.error(`Committing files to branch ${e} failed: ${a}`,this.id)}return b.debug(`Committing files to branch ${e} - done`,this.id),r}async getAllPullRequests(e){let t;try{b.debug("Fetch all pull requests - enter",this.id);const i=await this.ensure();t=i.remote;const r=i.octokit,a=await r.call(r.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:Bf,page:e||1}),o=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1;if(!a.data)return b.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${a.status}`),{items:[],hasMorePages:!1,totalCount:0};const v=a.data.map(A=>A.head.repo?this.createOrUpdatePullRequestModel(Bl(A,this)):(b.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(A=>A!==null);return b.debug("Fetch all pull requests - done",this.id),{items:v,hasMorePages:o}}catch(i){if(b.error(`Fetching all pull requests failed: ${i}`,this.id),i.status===404)s.window.showWarningMessage(`Fetching all pull requests for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw i}}async getPullRequestForBranch(e,t){var i;let r;try{b.debug("Fetch pull requests for branch - enter",this.id);const a=await this.ensure();r=a.remote;const{query:o,schema:v}=a,{data:A}=await o({query:v.PullRequestForHead,variables:{owner:r.owner,name:r.repositoryName,headRefName:e}});if(b.debug("Fetch pull requests for branch - done",this.id),A!=null&&A.repository&&A.repository.pullRequests.nodes.length>0){const H=(await Promise.all(A.repository.pullRequests.nodes.map(re=>$o(re,this)))).filter(re=>{var le;return((le=re.head)==null?void 0:le.repo.owner)===t});if(H.length===0)return;const Q=(i=H.find(re=>re.state.toLowerCase()==="open"))!=null?i:H[0];return this.createOrUpdatePullRequestModel(Q)}}catch(a){b.error(`Fetching pull request for branch failed: ${a}`,this.id),a.status===404&&s.window.showWarningMessage(`Fetching pull request for branch for remote '${r==null?void 0:r.remoteName}' failed, please check if the repository ${r==null?void 0:r.owner}/${r==null?void 0:r.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:e}=await this.ensure();return!!(e.GetRepoProjects&&e.GetOrgProjects)}async getOrgProjects(){b.debug("Fetch org projects - enter",this.id);let{query:e,remote:t,schema:i}=await this.ensure();const r=[];try{const{data:a}=await e({query:i.GetOrgProjects,variables:{owner:t.owner,after:null}});a&&a.organization.projectsV2&&a.organization.projectsV2.nodes&&a.organization.projectsV2.nodes.forEach(o=>{r.push(o)})}catch(a){return b.error(`Unable to fetch org projects: ${a}`,this.id),r}return b.debug("Fetch org projects - done",this.id),r}async getProjects(){var e;try{b.debug("Fetch projects - enter",this.id);let{query:t,remote:i,schema:r}=await this.ensure();if(!r.GetRepoProjects){const v=await this.ensureAdditionalScopes();t=v.query,i=v.remote,r=v.schema}const{data:a}=await t({query:r.GetRepoProjects,variables:{owner:i.owner,name:i.repositoryName}});b.debug("Fetch projects - done",this.id);const o=[];return a&&((e=a.repository)!=null&&e.projectsV2)&&a.repository.projectsV2.nodes&&a.repository.projectsV2.nodes.forEach(v=>{o.push(v)}),o}catch(t){b.error(`Unable to fetch projects: ${t}`,this.id);return}}async getMilestones(e=!1){var t;try{b.debug("Fetch milestones - enter",this.id);const{query:i,remote:r,schema:a}=await this.ensure(),o=["OPEN"];e&&o.push("CLOSED");const{data:v}=await i({query:a.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,states:o}});b.debug("Fetch milestones - done",this.id);const A=[];return v&&((t=v.repository)!=null&&t.milestones)&&v.repository.milestones.nodes&&v.repository.milestones.nodes.forEach(H=>{const Q=md(H);Q&&A.push(Q)}),A}catch(i){b.error(`Unable to fetch milestones: ${i}`,this.id);return}}async getLines(e,t,i,r){var a;b.debug("Fetch milestones - enter",this.id);const{query:o,remote:v,schema:A}=await this.ensure(),{data:H}=await o({query:A.GetFileContent,variables:{owner:v.owner,name:v.repositoryName,expression:`${e}:${t}`}});if((a=H.repository)!=null&&a.object.text)return H.repository.object.text.split(`
`).slice(i-1,r).join(`
`)}async getIssues(e,t){try{b.debug("Fetch issues with query - enter",this.id);const{query:i,schema:r}=await this.ensure(),{data:a}=await i({query:r.Issues,variables:{query:`${t} type:issue`}});b.debug("Fetch issues with query - done",this.id);const o=[];return a&&a.search.edges&&await Promise.all(a.search.edges.map(async v=>{v.node.id&&o.push(await nh(v.node,this))})),{items:o,hasMorePages:a.search.pageInfo.hasNextPage,totalCount:a.search.issueCount}}catch(i){b.error(`Unable to fetch issues with query: ${i}`,this.id);return}}async getMaxIssue(){try{b.debug("Fetch max issue - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.MaxIssue,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch max issue - done",this.id),r!=null&&r.repository&&r.repository.issues.edges.length===1?r.repository.issues.edges[0].node.number:void 0}catch(e){b.error(`Unable to fetch issues with query: ${e}`,this.id);return}}async getViewerPermission(){try{b.debug("Fetch viewer permission - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetViewerPermission,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch viewer permission - done",this.id),U0(r)}catch(e){return b.error(`Unable to fetch viewer permission: ${e}`,this.id),"unknown"}}async fork(){try{b.debug("Fork repository",this.id);const{octokit:e,remote:t}=await this.ensure(),i=await e.call(e.api.repos.createFork,{owner:t.owner,repo:t.repositoryName});b.debug("Fork repository - done",this.id);const r=Date.now();let a=async()=>{try{return await e.call(e.api.repos.get,{owner:i.data.owner.login,repo:i.data.name}),b.appendLine("Fork ready",this.id),!0}catch{return b.appendLine("Fork not ready yet",this.id),!1}};for(;!await a()&&Date.now()-r<5e3;)await new Promise(o=>setTimeout(o,500));return i.data.clone_url}catch(e){b.error(`GitHubRepository> Forking repository failed: ${e}`,this.id);return}}async getRepositoryForkDetails(){try{b.debug("Fetch repository fork details - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetRepositoryForkDetails,variables:{owner:t.owner,name:t.repositoryName}});return b.debug("Fetch repository fork details - done",this.id),r.repository}catch(e){b.error(`Unable to fetch repository fork details: ${e}`,this.id);return}}async getAuthenticatedUser(){return await this._credentialStore.getCurrentUser(this.remote.authProviderId)}async getAuthenticatedUserEmails(){try{b.debug("Fetch authenticated user emails - enter",this.id);const{octokit:e}=await this.ensure(),{data:t}=await e.call(e.api.users.listEmailsForAuthenticatedUser,{});b.debug("Fetch authenticated user emails - done",this.id);const i=t.some(r=>r.visibility==="private");return t.filter(r=>i?r.email.endsWith("@users.noreply.github.com"):r.verified).sort((r,a)=>+a.primary-+r.primary).map(r=>r.email)}catch(e){return b.error(`Unable to fetch authenticated user emails: ${e}`,this.id),[]}}createOrUpdatePullRequestModel(e){let t=this._pullRequestModels.get(e.number);return t?t.update(e):(t=new In(this._credentialStore,this._telemetry,this,this.remote,e),t.onDidInvalidate(()=>this.getPullRequest(e.number)),this._pullRequestModels.set(e.number,t),this._onDidAddPullRequest.fire(t)),t}async createPullRequest(e){try{b.debug("Create pull request - enter",this.id);const t=await this.getMetadata(),{mutate:i,schema:r}=await this.ensure(),{data:a}=await i({mutation:r.CreatePullRequest,variables:{input:{repositoryId:t.node_id,baseRefName:e.base,headRefName:e.head,title:e.title,body:e.body,draft:e.draft}}});if(b.debug("Create pull request - done",this.id),!a)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(await $o(a.createPullRequest.pullRequest,this))}catch(t){throw b.error(`Unable to create PR: ${t}`,this.id),t}}async revertPullRequest(e,t,i,r){try{b.debug("Revert pull request - enter",this.id);const{mutate:a,schema:o}=await this.ensure(),{data:v}=await a({mutation:o.RevertPullRequest,variables:{input:{pullRequestId:e,title:t,body:i,draft:r}}});if(b.debug("Revert pull request - done",this.id),!v)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(await $o(v.revertPullRequest.revertPullRequest,this))}catch(a){throw b.error(`Unable to create revert PR: ${a}`,this.id),a}}async getPullRequest(e){try{const{query:t,remote:i,schema:r}=await this.ensure();b.debug(`Fetch pull request ${i.owner}/${i.repositoryName} ${e} - enter`,this.id);const{data:a}=await t({query:r.PullRequest,variables:{owner:i.owner,name:i.repositoryName,number:e}},!0);if(a.repository===null){b.error("Unexpected null repository when getting PR",this.id);return}return b.debug(`Fetch pull request ${e} - done`,this.id),this.createOrUpdatePullRequestModel(await $o(a.repository.pullRequest,this))}catch(t){b.error(`Unable to fetch PR: ${t}`,this.id);return}}async getIssue(e,t=!1){try{b.debug(`Fetch issue ${e} - enter`,this.id);const{query:i,remote:r,schema:a}=await this.ensure(),{data:o}=await i({query:t?a.IssueWithComments:a.Issue,variables:{owner:r.owner,name:r.repositoryName,number:e}},!0);if(o.repository===null){b.error("Unexpected null repository when getting issue",this.id);return}return b.debug(`Fetch issue ${e} - done`,this.id),new Nn(this,r,await nh(o.repository.issue,this))}catch(i){b.error(`Unable to fetch issue: ${i}`,this.id);return}}async getFile(e,t){var i;const{octokit:r,remote:a}=await this.ensure();let o="",v;b.debug(`Fetch file ${e} - enter`,this.id);try{if(v=await r.call(r.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),Array.isArray(v.data))throw new Error(`Unexpected array response when getting file ${e}`);o=(i=v.data.content)!=null?i:""}catch(H){if(b.error(`Unable to fetch file ${e}: ${H}`,this.id),H.status===404)return new Uint8Array(0);throw H}if(o===""&&v.data.encoding==="none"){b.debug(`Fetch blob file ${e} - enter`,this.id);const H=v.data.sha;v=await r.call(r.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:H}),o=v.data.content,b.debug(`Fetch blob file ${e} - done`,this.id)}const A=qe.Buffer.from(o,v.data.encoding);return b.debug(`Fetch file ${e}, file length ${o.length} - done`,this.id),A}async hasBranch(e){var t,i;b.appendLine(`Fetch branch ${e} - enter`,this.id);const{query:r,remote:a,schema:o}=await this.ensure(),{data:v}=await r({query:o.GetBranch,variables:{owner:a.owner,name:a.repositoryName,qualifiedName:`refs/heads/${e}`}});return b.appendLine(`Fetch branch ${e} - done: ${((t=v.repository)==null?void 0:t.ref)!==null}`,this.id),((i=v.repository)==null?void 0:i.ref)!==null}async listBranches(e,t){const{query:i,remote:r,schema:a}=await this.ensure();b.debug(`List branches for ${e}/${t} - enter`,this.id);let o=null,v=!1;const A=[],H=(await this.getMetadataForRepo(e,t)).default_branch,Q=new Date().getTime();do try{const{data:re}=await i({query:a.ListBranches,variables:{owner:r.owner,name:r.repositoryName,first:100,after:o}});if(A.push(...re.repository.refs.nodes.map(le=>le.name)),new Date().getTime()-Q>5e3){b.warn("List branches timeout hit.",this.id);break}v=re.repository.refs.pageInfo.hasNextPage,o=re.repository.refs.pageInfo.endCursor}catch(re){throw b.debug(`List branches for ${e}/${t} failed`,this.id),re}while(v);return b.debug(`List branches for ${e}/${t} - done`,this.id),A.includes(H)||A.unshift(H),A}async deleteBranch(e){const{octokit:t}=await this.ensure();if(e.validatePullRequestModel("Unable to delete branch"))try{await t.call(t.api.git.deleteRef,{owner:e.head.repositoryCloneUrl.owner,repo:e.head.repositoryCloneUrl.repositoryName,ref:`heads/${e.head.ref}`})}catch(i){b.error(`Unable to delete branch: ${i}`,this.id);return}}async getMentionableUsers(){b.debug("Fetch mentionable users - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure();let r=null,a=!1;const o=[];do try{const v=await e({query:i.GetMentionableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:r}});if(v.data.repository===null)return b.error("Unexpected null repository when getting mentionable users",this.id),[];o.push(...v.data.repository.mentionableUsers.nodes.map(A=>Ji(A,this))),a=v.data.repository.mentionableUsers.pageInfo.hasNextPage,r=v.data.repository.mentionableUsers.pageInfo.endCursor}catch(v){return b.debug(`Unable to fetch mentionable users: ${v}`,this.id),o}while(a);return o}async getAssignableUsers(){var e,t,i;b.debug("Fetch assignable users - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();let v=null,A=!1;const H=[];do try{let Q;if(o.GetSuggestedActors?Q=await r({query:o.GetSuggestedActors,variables:{owner:a.owner,name:a.repositoryName,capabilities:["CAN_BE_ASSIGNED"],first:100,after:v}}):Q=await r({query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:v}},!0),Q.data.repository===null)return b.error("Unexpected null repository when getting assignable users",this.id),[];const re=(i=(e=Q.data.repository)==null?void 0:e.assignableUsers)!=null?i:(t=Q.data.repository)==null?void 0:t.suggestedActors;H.push(...re==null?void 0:re.nodes.map(le=>Ji(le,this))),A=re==null?void 0:re.pageInfo.hasNextPage,v=re==null?void 0:re.pageInfo.endCursor}catch(Q){return b.debug(`Unable to fetch assignable users: ${Q}`,this.id),Q.graphQLErrors&&Q.graphQLErrors.length>0&&Q.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${Q.graphQLErrors[0].message}`),H}while(A);return H}async getOrgTeamsCount(){if(b.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:e,remote:t,schema:i}=await this.ensureAdditionalScopes();try{const a=(await e({query:i.GetOrganizationTeamsCount,variables:{login:t.owner}})).data.organization.teams.totalCount;return b.debug("Fetch Teams Count - done",this.id),a}catch(r){return b.debug(`Unable to fetch teams Count: ${r}`,this.id),r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${r.graphQLErrors[0].message}`),0}}async getOrgTeams(e){if(b.debug("Fetch Teams - enter",this.id),e===0||e===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return b.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:t,remote:i,schema:r}=await this.ensureAdditionalScopes();let a=null,o=!1;const v=[];do try{const A=await t({query:r.GetOrganizationTeams,variables:{login:i.owner,after:a,repoName:i.repositoryName}});A.data.organization.teams.nodes.forEach(H=>{const Q={avatarUrl:ms(H.avatarUrl,void 0,this.remote.isEnterprise),name:H.name,url:H.url,slug:H.slug,id:H.id,org:i.owner};v.push({...Q,repositoryNames:H.repositories.nodes.map(re=>re.name)})}),o=A.data.organization.teams.pageInfo.hasNextPage,a=A.data.organization.teams.pageInfo.endCursor}catch(A){return b.debug(`Unable to fetch teams: ${A}`,this.id),A.graphQLErrors&&A.graphQLErrors.length>0&&A.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${A.graphQLErrors[0].message}`),v}while(o);return b.debug("Fetch Teams - exit",this.id),v}async getPullRequestParticipants(e){b.debug("Fetch participants from a Pull Request",this.id);const{query:t,remote:i,schema:r}=await this.ensure(),a=[];try{const o=await t({query:r.GetParticipants,variables:{owner:i.owner,name:i.repositoryName,number:e,first:18}});if(o.data.repository===null)return b.error("Unexpected null repository when fetching participants",this.id),[];a.push(...o.data.repository.pullRequest.participants.nodes.map(v=>Ji(v,this)))}catch(o){b.debug(`Unable to fetch participants from a PullRequest: ${o}`,this.id),o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${o.graphQLErrors[0].message}`)}return a}async compareCommits(e,t){b.debug("Compare commits - enter",this.id);try{const{remote:i,octokit:r}=await this.ensure(),{data:a}=await r.call(r.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:e,head:t});return b.debug("Compare commits - done",this.id),a}catch(i){b.error(`Unable to compare commits between ${e} and ${t}: ${i}`,this.id)}}isCurrentUser(e){return this._credentialStore.isCurrentUser(e)}async getStatusChecks(e){var t,i,r;b.debug("Get Status Checks - enter",this.id);const{query:a,remote:o,schema:v}=await this.ensure(),A=this._useFallbackChecks;let H;try{H=await a({query:A?v.GetChecksWithoutSuite:v.GetChecks,variables:{owner:o.owner,name:o.repositoryName,number:e}})}catch(Se){if(Ro(Se)&&!A)return this._useFallbackChecks=!0,this.getStatusChecks(e);throw b.error(`Unable to fetch PR checks: ${Se}`,this.id),Se}if(H.data.repository===null||H.data.repository.pullRequest.commits.nodes===void 0||H.data.repository.pullRequest.commits.nodes.length===0)return b.error(`Unable to fetch PR checks: ${(t=H.errors)==null?void 0:t.map(Se=>Se.message).join(", ")}`,this.id),[null,null];const Q=H.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,re=Q?{state:this.mapStateAsCheckState(Q.state),statuses:Q.contexts.nodes.map(Se=>{var Ae,Oe,ue,ye,Ee,De,Ue,Qe,Ye;return u0(Se)?{id:Se.id,url:(Oe=(Ae=Se.checkSuite)==null?void 0:Ae.app)==null?void 0:Oe.url,avatarUrl:((ye=(ue=Se.checkSuite)==null?void 0:ue.app)==null?void 0:ye.logoUrl)&&ms(Se.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(Se.conclusion),description:Se.title,context:Se.name,workflowName:(De=(Ee=Se.checkSuite)==null?void 0:Ee.workflowRun)==null?void 0:De.workflow.name,event:(Qe=(Ue=Se.checkSuite)==null?void 0:Ue.workflowRun)==null?void 0:Qe.event,targetUrl:Se.detailsUrl,isRequired:Se.isRequired}:{id:Se.id,url:(Ye=Se.targetUrl)!=null?Ye:void 0,avatarUrl:Se.avatarUrl?ms(Se.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(Se.state),description:Se.description,context:Se.context,workflowName:void 0,event:void 0,targetUrl:Se.targetUrl,isRequired:Se.isRequired}})}:{state:Wi.Success,statuses:[]};let le=null;const pe=(i=H.data.repository.pullRequest.baseRef)==null?void 0:i.refUpdateRule;if(pe){const Se=H.data.repository.pullRequest.url;for(const Ee of pe.requiredStatusCheckContexts||[])re.statuses.some(De=>De.context===Ee)||(re.state=Wi.Pending,re.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:Wi.Pending,description:s.l10n.t("Waiting for status to be reported"),context:Ee,workflowName:void 0,event:void 0,targetUrl:Se,isRequired:!0}));const Ae=(r=pe.requiredApprovingReviewCount)!=null?r:0,Oe=H.data.repository.pullRequest.latestReviews.nodes.filter(Ee=>Ee.authorCanPushToRepository&&Ee.state==="APPROVED"),ue=H.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(Ee=>Ee.authorCanPushToRepository);let ye=Wi.Success;Oe.length<Ae&&(ye=Wi.Failure,ue.length&&(ye=Wi.Pending)),Ae>0&&(le={count:Ae,approvals:Oe.map(Ee=>Ee.author.login),requestedChanges:ue.map(Ee=>Ee.author.login),state:ye})}return b.debug("Get Status Checks - done",this.id),[re.statuses.length?re:null,le]}mapStateAsCheckState(e){switch(e){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return Wi.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return Wi.Failure;case"SUCCESS":return Wi.Success;case"NEUTRAL":case"SKIPPED":return Wi.Neutral}return Wi.Unknown}};Yn($f,"ID","GitHubRepository");let dr=$f;const y0=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,hs=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function Hs(n){if(!n)return;const e={owner:void 0,name:void 0,issueNumber:0};return n.length===7?(e.owner=n[2],e.name=n[3],e.issueNumber=parseInt(n[5]),e):n.length===16?(e.owner=n[3]||n[11],e.name=n[4]||n[12],e.issueNumber=parseInt(n[7]||n[14]),e.commentNumber=n[9]!==void 0?parseInt(n[9]):void 0,e):void 0}function qo(n,e,t){return n!==e&&t===void 0?t=300:t||(t=0),new s.Range(n,0,e,t)}async function Ll(n,e,t){var i,r;if(e.avatarUrl){const a=n;a.canReply={name:(i=e.name)!=null?i:e.login,iconPath:s.Uri.parse(e.avatarUrl)};const o=await na.avatarCirclesAsImageDataUris(t,[e],28,28);a.canReply={name:(r=e.name)!=null?r:e.login,iconPath:o[0]}}else n.canReply=!0}function Ho(n,e,t,i,r,a,o){const v=r.createCommentThread(e,t,[]);v.gitHubThreadId=i.id,v.comments=i.comments.map(Q=>new Sn(n,Q,v,o));const A=Gf(i.isResolved);let H=s.CommentThreadApplicability.Current;return i.viewerCanResolve&&!i.isResolved?v.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(v.contextValue="canUnresolve"),i.isOutdated&&(v.contextValue+="outdated",H=s.CommentThreadApplicability.Outdated),v.state={resolved:A,applicability:H},$s(v),v.collapsibleState=Vf(i,void 0,a.login),Ll(v,a,n),v}function Gf(n){return n?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const w0="commentExpandState",uE="collapseAll",k0="expandUnresolved";function Vf(n,e,t){var i,r;const a=t&&((i=n.comments[n.comments.length-1].user)==null?void 0:i.login)===t,o=n.comments.length===1&&n.comments[0].body.startsWith("```suggestion")&&n.comments[0].body.endsWith("```");return n.isResolved||!n.isOutdated&&a&&!o?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((r=s.workspace.getConfiguration(Tt))==null?void 0:r.get(w0))===k0),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function jf(n,e,t,i,r){if(!e.range)return;const a=s.window.visibleTextEditors;for(let o of a)if(o.document.uri.toString()===e.uri.toString()){const v=o.document.lineAt(e.range.end.line),A=new s.Range(e.range.start.line,0,e.range.end.line,v.text.length);Ul(n,e,t,i,r,A);break}}function Ul(n,e,t,i,r,a){var o,v;t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve"),t.isOutdated&&(e.contextValue+="outdated");const A=Gf(t.isResolved),H=t.isOutdated?s.CommentThreadApplicability.Outdated:s.CommentThreadApplicability.Current;if((((o=e.state)==null?void 0:o.resolved)!==A||((v=e.state)==null?void 0:v.applicability)!==H)&&(e.state={resolved:A,applicability:H}),e.collapsibleState=Vf(t,r),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((Q,re)=>Q.commentId===`${t.comments[re].id}`)){let Q=0;for(const re of e.comments)re instanceof Sn&&re.update(t.comments[Q]),Q++}else e.comments=t.comments.map(Q=>new Sn(n,Q,e,i));$s(e)}function $s(n){var e;if(((e=n.state)==null?void 0:e.resolved)===s.CommentThreadState.Resolved){n.label=s.l10n.t("Marked as resolved");return}if(n.comments.length){const t=w(n.comments,i=>i.originalAuthor.name).map(i=>`@${i.originalAuthor.name}`).join(", ");n.label=s.l10n.t("Participants: {0}",t)}else n.label=s.l10n.t("Start discussion")}function Wf(n,e){let t=!1;const i=n.reactions,r=$l().map((a,o)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const v=e.find(H=>H.label===a.label);let A;return v?A={label:v.label,authorHasReacted:v.viewerHasReacted,count:v.count,iconPath:a.icon||"",reactors:v.reactors.map(H=>({name:H}))}:A={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!i||i[o].authorHasReacted!==A.authorHasReacted||i[o].count!==A.count)&&(t=!0),A});return n.reactions=r,t}function zf(n,e){e||(n.comments=n.comments.map(t=>(t instanceof Sn&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function Xn(n){return n===ui.githubEnterprise}function Gs(n,e){return Ji(n,e)}function Kf(n){return{label:n.label,ref:n.ref,sha:n.sha,repo:{cloneUrl:n.repo.clone_url,isInOrganization:n.repo.owner.type==="Organization",owner:n.repo.owner.login,name:n.repo.name}}}async function Qf(n,e){const t=new RegExp(`href="https?://${Fe(e.remote.gitProtocol.url.authority)}\\/${Fe(e.remote.owner)}\\/${Fe(e.remote.repositoryName)}\\/(issues|pull)\\/([0-9]+)"`);return Me(n,t,async(i,r,a)=>r==="issues"?`href="${(await Ph({owner:e.remote.owner,repo:e.remote.repositoryName,issueNumber:Number(a)})).toString()}""`:`href="${(await Mh({owner:e.remote.owner,repo:e.remote.repositoryName,pullRequestNumber:Number(a)})).toString()}"`)}function Bl(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:v,assignees:A,created_at:H,updated_at:Q,head:re,base:le,labels:pe,node_id:Se,id:Ae,draft:Oe}=n,ue={id:Ae,graphNodeId:Se,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:Gs(o,e),state:v,merged:n.merged||!1,assignees:A?A.map(ye=>Gs(ye,e)):void 0,createdAt:H,updatedAt:Q,viewerCanUpdate:!1,head:re.repo?Kf(re):void 0,base:Kf(le),labels:pe.map(ye=>({name:"",color:"",...ye})),isDraft:Oe,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,reactions:[],commentCount:0};return"mergeable"in n&&(ue.mergeable=n.mergeable?qt.Mergeable:qt.NotMergeable),ue}function Yf(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:v,assignees:A,created_at:H,updated_at:Q,labels:re,node_id:le,id:pe,comments:Se}=n;return{id:pe,graphNodeId:le,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:Gs(o,e),state:v,assignees:A?A.map(Oe=>Gs(Oe,e)):void 0,createdAt:H,updatedAt:Q,labels:re.map(Oe=>{var ue,ye,Ee;return typeof Oe=="string"?{name:Oe,color:""}:{name:(ue=Oe.name)!=null?ue:"",color:(ye=Oe.color)!=null?ye:"",description:(Ee=Oe.description)!=null?Ee:void 0}}),projectItems:[],reactionCount:0,reactions:[],commentCount:Se}}function _0(n,e){return{event:ai.Reviewed,comments:[],submittedAt:n.submitted_at,body:n.body,bodyHTML:n.body,htmlUrl:n.html_url,user:Gs(n.user,e),authorAssociation:n.user.type,state:n.state,id:n.id}}function S0(n){const e=[],t=Oa(n.diffHunk);let i=t.next();for(;!i.done;){const r=i.value;e.push(r),i=t.next()}return e}function R0(n){switch(n){case"PullRequestCommit":return ai.Committed;case"LabeledEvent":return ai.Labeled;case"MilestonedEvent":return ai.Milestoned;case"AssignedEvent":return ai.Assigned;case"UnassignedEvent":return ai.Unassigned;case"HeadRefDeletedEvent":return ai.HeadRefDeleted;case"IssueComment":return ai.Commented;case"PullRequestReview":return ai.Reviewed;case"MergedEvent":return ai.Merged;case"CrossReferencedEvent":return ai.CrossReferenced;case"ClosedEvent":return ai.Closed;case"ReopenedEvent":return ai.Reopened;default:return ai.Other}}function ql(n,e){var t,i,r,a;return{id:n.id,prReviewDatabaseId:n.comments.edges&&n.comments.edges.length?(t=n.comments.edges[0].node.pullRequestReview)==null?void 0:t.databaseId:void 0,isResolved:n.isResolved,viewerCanResolve:n.viewerCanResolve,viewerCanUnresolve:n.viewerCanUnresolve,path:n.path,startLine:(i=n.startLine)!=null?i:n.line,endLine:n.line,originalStartLine:(r=n.originalStartLine)!=null?r:n.originalLine,originalEndLine:n.originalLine,diffSide:n.diffSide,isOutdated:n.isOutdated,comments:n.comments.nodes.map(o=>Vs(o,n.isResolved,e)),subjectType:(a=n.subjectType)!=null?a:Bn.LINE}}function Vs(n,e,t){var i,r;const a=pn[(r=(i=n.author)==null?void 0:i.login)!=null?r:""],o={id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:a==null?void 0:a.postComment,bodyHTML:n.bodyHTML,path:n.path,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,pullRequestReviewId:n.pullRequestReview&&n.pullRequestReview.databaseId,diffHunk:n.diffHunk,position:n.position,commitId:n.commit.oid,originalPosition:n.originalPosition,originalCommitId:n.originalCommit&&n.originalCommit.oid,user:n.author?Ji(n.author,t):void 0,createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,isDraft:n.state==="PENDING",inReplyToId:n.replyTo&&n.replyTo.databaseId,reactions:Hl(n.reactionGroups),isResolved:e},v=S0(o);return o.diffHunks=v,o}function Xf(n,e){var t,i,r;return{id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:(r=pn[(i=(t=n.author)==null?void 0:t.login)!=null?i:""])==null?void 0:r.postComment,bodyHTML:n.bodyHTML,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,user:Ji(n.author,e),createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,diffHunk:""}}function Hl(n){const e=$l().reduce((i,r)=>(i[r.title]=r,i),{});return n.filter(i=>i.reactors.totalCount>0).map(i=>({label:e[i.content].label,count:i.reactors.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted,reactors:i.reactors.nodes.map(a=>{var o,v;return(v=(o=pn[a.login])==null?void 0:o.name)!=null?v:a.login})}))}function Jf(n,e,t){if(t)return{label:`${t.owner.login}:${n}`,ref:n,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:n}}}function Ji(n,e){var t,i,r,a,o,v,A;if(n){const H="avatarUrl"in n?n.avatarUrl:n.avatar_url,Q="node_id"in n?n.node_id:n.id,re="html_url"in n?n.html_url:n.url;return{login:n.login,url:(i=(t=pn[n.login])==null?void 0:t.url)!=null?i:re,avatarUrl:e?ms(H,void 0,e.remote.isEnterprise):H,email:(r=n.email)!=null?r:void 0,id:Q,name:(v=(o=n.name)!=null?o:(a=pn[n.login])==null?void 0:a.name)!=null?v:void 0,specialDisplayName:pn[n.login]?(A=n.name)!=null?A:pn[n.login].name:void 0,accountType:Ci("__typename"in n?n.__typename:n.type)}}else return{login:"",url:"",id:"",accountType:Mi.User}}function E0(n,e){return{name:n.name,url:n.url,avatarUrl:ms(n.avatarUrl,void 0,e.remote.isEnterprise),id:n.id,org:e.remote.owner,slug:n.slug}}function N0(n,e){if(!n.repository)return[];const t=[];for(const i of n.repository.pullRequest.reviewRequests.nodes)if(l0(i.requestedReviewer)){const r=E0(i.requestedReviewer,e);t.push(r)}else if(o0(i.requestedReviewer)){const r=Ji(i.requestedReviewer,e);t.push(r)}return t}function T0(n,e){return n?{login:n.login,url:n.url,avatarUrl:ms(n.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function Zf(n){if(n)return n.map(e=>({id:e.id,project:e.project}))}function md(n){if(n)return{title:n.title,dueOn:n.dueOn,createdAt:n.createdAt,id:n.id,number:n.number}}function eh(n){if(!n)return null;let e;switch(n.state){case"AWAITING_CHECKS":{e=ii.AwaitingChecks;break}case"LOCKED":{e=ii.Locked;break}case"QUEUED":{e=ii.Queued;break}case"MERGEABLE":{e=ii.Mergeable;break}case"UNMERGEABLE":{e=ii.Unmergeable;break}}return{position:n.position,state:e,url:n.mergeQueue.url}}function th(n){switch(n){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function pd(n,e){let t;switch(n){case void 0:case"UNKNOWN":t=qt.Unknown;break;case"MERGEABLE":t=qt.Mergeable;break;case"CONFLICTING":t=qt.Conflict;break}return t!==qt.Conflict&&(e==="BLOCKED"?t=qt.NotMergeable:e==="BEHIND"&&(t=qt.Behind)),t}async function $o(n,e){var t,i,r,a,o,v,A,H;const Q={id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:await Qf(n.bodyHTML,e),title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,isRemoteHeadDeleted:!n.headRef,head:Jf((i=(t=n.headRef)==null?void 0:t.name)!=null?i:n.headRefName,n.headRefOid,n.headRepository),isRemoteBaseDeleted:!n.baseRef,base:Jf((a=(r=n.baseRef)==null?void 0:r.name)!=null?a:n.baseRefName,n.baseRefOid,n.baseRepository),user:Ji(n.author,e),merged:n.merged,mergeable:pd(n.mergeable,n.mergeStateStatus),mergeQueueEntry:eh(n.mergeQueueEntry),hasComments:n.reviewThreads.totalCount>0,autoMerge:!!n.autoMergeRequest,autoMergeMethod:th((o=n.autoMergeRequest)==null?void 0:o.mergeMethod),allowAutoMerge:n.viewerCanEnableAutoMerge||n.viewerCanDisableAutoMerge,viewerCanUpdate:n.viewerCanUpdate,labels:n.labels.nodes,isDraft:n.isDraft,suggestedReviewers:A0(n.suggestedReviewers),comments:P0((v=n.comments)==null?void 0:v.nodes,e),projectItems:Zf((A=n.projectItems)==null?void 0:A.nodes),milestone:md(n.milestone),assignees:(H=n.assignees)==null?void 0:H.nodes.map(re=>Ji(re,e)),commits:C0(n.commits.nodes),reactionCount:n.reactions.totalCount,reactions:Hl(n.reactionGroups),commentCount:n.comments.totalCount};return Q.mergeCommitMeta=ih(n.baseRepository.mergeCommitTitle,n.baseRepository.mergeCommitMessage,Q),Q.squashCommitMeta=ih(n.baseRepository.squashMergeCommitTitle,n.baseRepository.squashMergeCommitMessage,Q),Q}function ih(n,e,t){var i,r;if(n===void 0||e===void 0)return;let a="",o="";const v=`(#${t.number})`;switch(n){case Uo.prTitle:{a=`${t.title} ${v}`;break}case Uo.mergeMessage:{a=`Merge pull request #${t.number} from ${(r=(i=t.head)==null?void 0:i.label)!=null?r:""}`;break}case Uo.commitOrPrTitle:{t.commits.length===1?a=`${t.commits[0].message.split(`
`)[0]} ${v}`:a=`${t.title} ${v}`;break}}switch(e){case Ol.prBody:{o=t.body;break}case Ol.commitMessages:{if(t.commits.length===1&&n===Uo.commitOrPrTitle){const A=t.commits[0].message.split(`
`);o=A.length>1?A.slice(1).join(`
`).trim():""}else o=t.commits.map(A=>`* ${A.message}`).join(`

`);break}case Ol.prTitle:{o=t.title;break}}return{title:a,description:o}}function C0(n){return n.map(e=>({message:e.commit.message}))}function P0(n,e){if(!n)return;const t=[];for(const i of n)t.push({author:Ji(i.author,e),body:i.body,databaseId:i.databaseId,reactionCount:i.reactions.totalCount,createdAt:i.createdAt});return t}async function nh(n,e){var t,i,r,a,o,v,A,H,Q;return{id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:await Qf(n.bodyHTML,e),title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,assignees:(t=n.assignees)==null?void 0:t.nodes.map(re=>Ji(re,e)),user:Ji(n.author,e),labels:n.labels.nodes,milestone:md(n.milestone),repositoryName:(r=(i=n.repository)==null?void 0:i.name)!=null?r:e.remote.repositoryName,repositoryOwner:(o=(a=n.repository)==null?void 0:a.owner.login)!=null?o:e.remote.owner,repositoryUrl:(A=(v=n.repository)==null?void 0:v.url)!=null?A:e.remote.url,projectItems:Zf((H=n.projectItems)==null?void 0:H.nodes),comments:(Q=n.comments.nodes)==null?void 0:Q.map(re=>M0(re,e)),reactionCount:n.reactions.totalCount,reactions:Hl(n.reactionGroups),commentCount:n.comments.totalCount}}function M0(n,e){return{author:Ji(n.author,e),body:n.body,databaseId:n.databaseId,reactionCount:n.reactions.totalCount,createdAt:n.createdAt}}function A0(n){return n?n.map(t=>({...Ji(t.reviewer,void 0),isAuthor:t.isAuthor,isCommenter:t.isCommenter})).sort(rh):[]}function rh(n,e){return n.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function I0(n,e){var t,i,r,a;const o=(i=(t=n.name)!=null?t:n.slug)!=null?i:n.id,v=(a=(r=e.name)!=null?r:e.slug)!=null?a:e.id;return o.localeCompare(v,"en",{sensitivity:"accent"})}function F0(n,e){return{event:ai.Reviewed,comments:n.comments.nodes.map(t=>Vs(t,!1,e)).filter(t=>!t.inReplyToId),submittedAt:n.submittedAt,body:n.body,bodyHTML:n.bodyHTML,htmlUrl:n.url,user:Ji(n.author,e),authorAssociation:n.authorAssociation,state:n.state,id:n.databaseId}}function D0(n,e){const t=[];let i=-1;for(const r of e){const a=r;a.created_at&&a.node_id&&(r.event==="copilot_work_started"?(i=t.length,t.push({id:a.node_id,event:ai.CopilotStarted,createdAt:a.created_at,onBehalfOf:Ji(a.actor)})):r.event==="copilot_work_finished"&&t.push({id:a.node_id,event:ai.CopilotFinished,createdAt:a.created_at,onBehalfOf:Ji(a.actor)}))}if(i>-1){const r=t[i];r.sessionUrl=`https://${n.githubRepository.remote.gitProtocol.host}/${n.githubRepository.remote.owner}/${n.githubRepository.remote.repositoryName}/pull/${n.number}/agent-sessions`}return t}function ah(n){switch(n.event){case ai.Committed:return new Date(n.committedDate);case ai.Commented:case ai.Assigned:case ai.HeadRefDeleted:case ai.Merged:case ai.CrossReferenced:case ai.Closed:case ai.Reopened:case ai.CopilotStarted:case ai.CopilotFinished:return new Date(n.createdAt);case ai.Reviewed:return new Date(n.submittedAt);default:return}}async function vd(n,e,t){const i=[];let r=-1,a;const o=()=>{var A;r++,a=e.length>r?(A=ah(e[r]))==null?void 0:A.getTime():void 0};o();const v=A=>{var H;if(!a){i.push(A);return}const Q=(H=ah(A))==null?void 0:H.getTime();if(Q)for(;a&&Q>a;)i.push(e[r]),o();i.push(A)};for(const A of n){const H=R0(A.__typename);switch(H){case ai.Commented:const Q=A;v({htmlUrl:Q.url,body:Q.body,bodyHTML:Q.bodyHTML,user:Ji(Q.author,t),event:H,canEdit:Q.viewerCanUpdate,canDelete:Q.viewerCanDelete,id:Q.databaseId,graphNodeId:Q.id,createdAt:Q.createdAt});break;case ai.Reviewed:const re=A;v({event:H,comments:[],submittedAt:re.submittedAt,body:re.body,bodyHTML:re.bodyHTML,htmlUrl:re.url,user:Ji(re.author,t),authorAssociation:re.authorAssociation,state:re.state,id:re.databaseId});break;case ai.Committed:const le=A;v({id:le.id,event:H,sha:le.commit.oid,author:le.commit.author.user?Ji(le.commit.author.user,t):{login:le.commit.committer.name},htmlUrl:le.url,message:le.commit.message,committedDate:new Date(le.commit.committedDate)});break;case ai.Merged:const pe=A;v({id:pe.id,event:H,user:T0(pe.actor,t),createdAt:pe.createdAt,mergeRef:pe.mergeRef.name,sha:pe.commit.oid,commitUrl:pe.commit.commitUrl,url:pe.url,graphNodeId:pe.id});break;case ai.Assigned:const Se=A;v({id:Se.id,event:H,assignees:[Ji(Se.user,t)],actor:Ji(Se.actor),createdAt:Se.createdAt});break;case ai.Unassigned:const Ae=A;i.push({id:Ae.id,event:H,unassignees:[Ji(Ae.user,t)],actor:Ji(Ae.actor),createdAt:Ae.createdAt});break;case ai.HeadRefDeleted:const Oe=A;v({id:Oe.id,event:H,actor:Ji(Oe.actor,t),createdAt:Oe.createdAt,headRef:Oe.headRefName});break;case ai.CrossReferenced:const ue=A,ye=ue.source.__typename==="Issue",Ee=ye?await Ph({owner:ue.source.repository.owner.login,repo:ue.source.repository.name,issueNumber:ue.source.number}):await Mh({owner:ue.source.repository.owner.login,repo:ue.source.repository.name,pullRequestNumber:ue.source.number});v({id:ue.id,event:H,actor:Ji(ue.actor,t),createdAt:ue.createdAt,source:{url:ue.source.url,extensionUrl:Ee.toString(),number:ue.source.number,title:ue.source.title,isIssue:ye},willCloseTarget:ue.willCloseTarget});break;case ai.Closed:const De=A;v({id:De.id,event:H,actor:Ji(De.actor,t),createdAt:De.createdAt});break;case ai.Reopened:const Ue=A;v({id:Ue.id,event:H,actor:Ji(Ue.actor,t),createdAt:Ue.createdAt});break;default:break}}for(;a;)i.push(e[r]),o();return i}function x0(n,e){var t;return{login:n.user.login,name:n.user.name,avatarUrl:ms((t=n.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:n.user.url,bio:n.user.bio,company:n.user.company,location:n.user.location,commitContributions:O0(n.user.contributionsCollection),id:n.user.id,accountType:Ci(n.user.__typename)}}function O0(n){const e=[];return n.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function $l(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:Fr.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:Fr.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:Fr.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:Fr.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:Fr.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:Fr.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:Fr.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:Fr.icons.reactions.EYES}]}async function Gl(n,e,t=100){let i=1,r=[],a=!1;do{const o=await n({...e,per_page:t,page:i});r=r.concat(o.data),a=!!o.headers.link&&o.headers.link.indexOf('rel="next"')>-1,i+=1}while(a);return r}function L0(n){const e=[];return n.forEach(t=>{var i,r;t.event===ai.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===ai.Reviewed&&e.push({login:t.user.login,name:(i=t.user.name)!=null?i:t.user.login}),t.event===ai.Commented&&t.user&&e.push({login:t.user.login,name:(r=t.user.name)!=null?r:t.user.login})}),e}function U0(n){var e;return n&&((e=n.repository)!=null&&e.viewerPermission)&&Object.values(Nr).includes(n.repository.viewerPermission)?n.repository.viewerPermission:Nr.Unknown}function sh(n,e){return e.path.toLowerCase()===n.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(n.rootUri.path.toLowerCase())&&e.path.substring(n.rootUri.path.length).startsWith("/")}function gd(n,e){const t=[];for(const i of n.repositories.reverse())sh(i,e)&&t.push(i);if(t.length>0)return t.sort((i,r)=>r.rootUri.path.length-i.rootUri.path.length),t[0]}function oh(n,e,t){const i=e.filter(o=>o.event===ai.Reviewed).filter(o=>o.state!=="PENDING");let r=[];const a=new Map;a.set(t.login,!0);for(let o=i.length-1;o>=0;o--){const v=i[o],A=v.user;v.state&&!a.get(A.login)&&(a.set(A.login,!0),r.push({reviewer:A,state:v.state}))}return n.forEach(o=>{if(!a.get(ln(o)))r.push({reviewer:o,state:"REQUESTED"});else{const v=r.find(A=>ln(A.reviewer)===ln(o));v.state="REQUESTED"}}),r=r.sort((o,v)=>o.state==="REQUESTED"&&v.state!=="REQUESTED"?1:v.state==="REQUESTED"&&o.state!=="REQUESTED"||lr(o.reviewer).toLowerCase()<lr(v.reviewer).toLowerCase()?-1:1),r}function B0(n){if(!n.subject.url)return;const e=n.repository.owner.login,t=n.repository.name,i=n.subject.url.split("/").pop();return{owner:e,name:t,key:lh(e,t,i),id:n.id,itemID:i,subject:{title:n.subject.title,type:n.subject.type,url:n.subject.url},lastReadAt:n.last_read_at?new Date(n.last_read_at):void 0,reason:n.reason,unread:n.unread,updatedAd:new Date(n.updated_at)}}function lh(n,e,t){return`${n}/${e}#${t}`}function q0(n,e,t,i){if(e&&i&&i.sha!==e){let r=n.length-1,a=!1,o=[];for(let v=n.length-1;v>0;v--)if(n[v].event===ai.Committed&&n[v].sha===e){o.unshift({id:e,event:ai.NewCommitsSinceReview}),n.splice(r+1,0,...o);break}else a&&n[v].event===ai.Committed?(o.unshift(n[v]),n.splice(v,1)):!a&&n[v].event===ai.Reviewed&&n[v].user.login===t&&(r=v,a=!0)}}function H0(n,e){return`is:pull-request ${e.replace(/\$\{user\}/g,n)} type:pr`}function Vl(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function bd(n){return s.workspace.getConfiguration(Vr).update(hr,n,s.ConfigurationTarget.Workspace)}function js(){const n=s.workspace.getConfiguration(Vr).get(hr,"");if(n){let e=s.Uri.parse(n,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function Tr(){return!!js()}function $0(n,e=200){return n?`https://www.gravatar.com/avatar/${n}?s=${e}&d=retro`:void 0}function ms(n,e,t){var i;return t?e?$0(nn.n1("sha256").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex")):void 0:n}function G0(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/pulls`)}function V0(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/issues`)}function uh(n){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return n.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const j0=/-([0-9]+)([d])/;function W0(n){const e=n?j0.exec(n):void 0,t=new Date;if(e&&e.length===3&&e[2]==="d"){const a=parseInt(e[1])*864e5;t.setTime(t.getTime()-a)}const i=`${t.getMonth()+1}`,r=`${t.getDate()}`;return`${t.getFullYear()}-${i.padStart(2,"0")}-${r.padStart(2,"0")}`}const z0=/\:(Copilot|copilot)(\s|$)/g,K0=/\$\{([^-]*?)(-.*?)?\}/g;async function Ws(n,e,t,i){return n.replace(K0,(o,v,A)=>{let H;switch(v){case"user":H=i||o;break;case"issueNumber":H=e?`${e.number}`:o;break;case"issueNumberLabel":H=e?`${Go(e,t)}`:o;break;case"issueTitle":H=e?e.title:o;break;case"repository":H=t?t.repo:o;break;case"owner":H=t?t.owner:o;break;case"sanitizedIssueTitle":H=e?uh(e.title):o;break;case"sanitizedLowercaseIssueTitle":H=e?uh(e.title).toLowerCase():o;break;case"today":H=W0(A);break;default:H=o;break}return b.debug(`${o} -> ${H}`,"VariableSubstitution"),H}).replace(z0,()=>":copilot-swe-agent[bot] ")}function Go(n,e){const t={issueNumber:n.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==n.remote.owner.toLowerCase()||e.repo.toLowerCase()!==n.remote.repositoryName.toLowerCase())&&(t.owner=n.remote.owner,t.name=n.remote.repositoryName),yd(t)}function yd(n){return!n.owner||!n.name?`#${n.issueNumber}`:`${n.owner}/${n.name}#${n.issueNumber}`}function dh(){const n=s.workspace.getConfiguration(Tt).get(Xt);if(n)return b.debug("Using override setting for default branch",dr.ID),n}async function ch(n){const e=[],t=[],i=[];for(const r of n){for(const a of await r.computeAllGitHubRemotes())a.githubServerType===Ri.GitHubDotCom?e.push(a):a.githubServerType===Ri.Enterprise&&t.push(a);i.push(...await r.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:i}}function wd(n){const e=s.Uri.parse(n.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function fh(n){const e=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,t=ee(n.color,e,!0);return`<span style="color:${t.textColor};background-color:${t.backgroundColor};border-radius:10px;">&nbsp;&nbsp;${n.name.trim()}&nbsp;&nbsp;</span>`}var ar=(n=>(n[n.None=0]="None",n[n.ReviewRequired=1]="ReviewRequired",n[n.ChangesRequested=2]="ChangesRequested",n[n.CIFailed=4]="CIFailed",n[n.CIPending=8]="CIPending",n))(ar||{});class jl{constructor(e,t,i){this.remoteName=e,this.url=t,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=js())==null?void 0:e.authority)?ui.githubEnterprise:ui.github}get isEnterprise(){return Xn(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function Vo(n,e,t){if(!e)return null;const i=new Qn(e);return t&&i.update({type:t.type}),i.host?new jl(n,e,i):null}function Na(n){const e=[];for(const t of n.state.remotes){const i=[];t.fetchUrl&&i.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&i.push(t.pushUrl),i.forEach(r=>{const a=Vo(t.name,r);a&&e.push(a)})}return e}class ps extends jl{constructor(e,t,i,r){super(e,t,i),this.githubServerType=r}static remoteAsGitHub(e,t){return new ps(e.remoteName,e.url,e.gitProtocol,t)}}var Q0=Object.defineProperty,Y0=(n,e,t)=>e in n?Q0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,X0=(n,e,t)=>Y0(n,typeof e!="symbol"?e+"":e,t);class hh{constructor(e,t,i,r,a,o,v){this.ref=e,this.label=t,this.sha=i,this.owner=a,this.name=o,this.isInOrganization=v,X0(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new Qn(r)}}function J0(n,e){var t;const i=e.repositoryCloneUrl.repositoryName.toLowerCase(),r=e.owner.toLowerCase();for(const a of n.state.remotes){const o=(t=a.fetchUrl)!=null?t:a.pushUrl;if(!o)continue;const v=Vo(a.name,o),A=v==null?void 0:v.owner.toLowerCase(),H=v==null?void 0:v.repositoryName.toLowerCase();if(A===r&&H===i)return a}}var Z0=Object.defineProperty,eb=(n,e,t)=>e in n?Z0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vs=(n,e,t)=>eb(n,typeof e!="symbol"?e+"":e,t);const mh=class Cv{constructor(e,t,i,r){this.pullRequest=e,this.folderRepoManager=t,this.change=i,this.sha=r,vs(this,"_filePath"),vs(this,"_parentFilePath"),vs(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof pr&&this.change.diffHunks)return this.change.diffHunks;if(this.status!==Ht.RENAME)try{const i=(e=this.sha)!=null?e:this.pullRequest.head.sha,r=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,i,this.fileName);t=Ps(r)}catch(i){b.error(`Failed to parse patch for outdated comments: ${i}`,Cv.ID)}return t}};vs(mh,"ID","FileChangeModel");let kd=mh;class _d extends kd{constructor(e,t,i,r,a,o,v){if(super(t,e,i,o),vs(this,"_show"),this._filePath=r,this._parentFilePath=a,v)try{this.showBase()}catch{b.warn(`Unable to preload file content for ${r.fsPath} at commit ${o}`)}}async showBase(){if(!this._show&&this.change.status!==Ht.ADD){const e=this.change instanceof pr||this.change instanceof ur?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class gs extends kd{constructor(e,t,i,r,a){super(t,e,i),this.change=i;const o=t.head.sha,v=i.status===Ht.RENAME?i.previousFileName:i.fileName,A=e.repository.rootUri.with({path:s.Uri.file(Ks(e.repository.rootUri,i.fileName)).path}),H=e.repository.rootUri.with({path:s.Uri.file(Ks(e.repository.rootUri,v)).path});this._filePath=r?i.status===Ht.DELETE?Cr(A,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):A:Ta(A,t,i.baseCommit,o,i.fileName,!1,i.status,i.previousFileName),this._parentFilePath=r?Cr(H,i.status===Ht.RENAME?i.previousFileName:i.fileName,void 0,i.status===Ht.ADD?"":a,!1,{base:!0},e.repository.rootUri):Ta(H,t,i.baseCommit,o,i.fileName,!0,i.status,i.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,t;if(this.change.patch===""&&(this.change.status===Ht.MODIFY||this.change.status===Ht.RENAME||this.change.status===Ht.ADD))return!0;this.change.status===Ht.DELETE||this.change.status===Ht.MODIFY?t=this.change.fileName:this.change.status===Ht.RENAME&&(t=this.change.previousFileName);try{t&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,t),e=!0)}catch{}return!e}get patch(){return this.change.patch}}class zs extends kd{constructor(e,t,i){super(i,e,t),this.change=t,vs(this,"fileChangeResourceUri"),vs(this,"childrenDisposables",[]);const r=i.head.sha,a=t.status===Ht.RENAME?t.previousFileName:t.fileName;this._filePath=Ta(s.Uri.file(Ks(e.repository.rootUri,t.fileName)),i,t.baseCommit,r,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=Ta(s.Uri.file(Ks(e.repository.rootUri,a)),i,t.baseCommit,r,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}}const Sd=new AbortController().signal,ph=new AbortController;ph.abort();const dE=ph.signal,cE=n=>{const e=new AbortController;if(!n)return e;if(n.aborted&&e.abort(),n!==Sd){const t=new WeakRef(e);onAbort(n)(()=>{var i;return(i=t.deref())==null?void 0:i.abort()})}return e},tb=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return{resolve:n,reject:e,promise:t}};class Rd extends Error{constructor(e="Operation cancelled"){super(e),this.message=e,this.isTaskCancelledError=!0}}const vh={dispose:()=>{}};var gh;(function(n){n.once=(e,t)=>{let i=!1,r;return r=e(a=>{t(a),r?r.dispose():i=!0}),i?(r.dispose(),vh):r},n.toPromise=(e,t)=>t?t.aborted?Promise.reject(new Rd):new Promise((i,r)=>{const a=ib(t)(()=>{o.dispose(),r(new Rd)}),o=n.once(e,v=>{a.dispose(),i(v)})}):new Promise(i=>n.once(e,i))})(gh||(gh={}));const ib=n=>{const e=new nb;if(n.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),n.removeEventListener("abort",t)};return n.addEventListener("abort",t),e.addListener};class jo{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class fE extends jo{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class nb extends jo{constructor(){super(...arguments),this.addListener=e=>this.lastValue?(e(this.lastValue.value),vh):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var bh=Qt(65606);const rb=n=>{if("error"in n)throw n.error;return"success"in n?n.success:n.value},ab=()=>{if(typeof performance!="undefined"){const n=performance.now();return()=>performance.now()-n}else{const n=bh.hrtime.bigint();return()=>Number(bh.hrtime.bigint()-n)/1e6}};class Wl{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new jo,this.failureEmitter=new jo,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new Wl(this.errorFilter,this.resultFilter)}async invoke(e,...t){const i=this.successEmitter.size||this.failureEmitter.size?ab():null;try{const r=await e(...t);return this.resultFilter(r)?(i&&this.failureEmitter.emit({duration:i(),handled:!0,reason:{value:r}}),{value:r}):(i&&this.successEmitter.emit({duration:i()}),{success:r})}catch(r){const a=r,o=this.errorFilter(a);if(i&&this.failureEmitter.emit({duration:i(),handled:o,reason:{error:a}}),!o)throw a;return{error:a}}}}class sb extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}}class ob{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new jo,this.executor=new Wl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=Sd){if(t.aborted)throw new Rd;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:i,reject:r,promise:a}=tb();return this.queue.push({signal:t,fn:e,resolve:i,reject:r}),a}throw this.onRejectEmitter.emit(),new sb(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class lb{constructor(){this.executor=new Wl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=Sd){return rb(await this.executor.invoke(e,{signal:t}))}}const zl=(n,e)=>e?t=>t instanceof n&&e(t):t=>t instanceof n,ub=()=>!0,Wo=()=>!1;class ta{constructor(e){this.options=e}orType(e,t){const i=zl(e,t);return new ta({...this.options,errorFilter:r=>this.options.errorFilter(r)||i(r)})}orWhen(e){return new ta({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new ta({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const i=zl(e,t);return new ta({...this.options,resultFilter:r=>this.options.resultFilter(r)||i(r)})}}const hE=new lb,mE=new ta({errorFilter:ub,resultFilter:Wo});function pE(n,e){return new ta({errorFilter:zl(n,e),resultFilter:Wo})}function vE(n){return new ta({errorFilter:n,resultFilter:Wo})}function gE(n,e){return new ta({errorFilter:Wo,resultFilter:zl(n,e)})}function bE(n){return new ta({errorFilter:Wo,resultFilter:n})}function yh(n,e=0){return new ob(n,e)}function yE(n){return(e,t,i)=>{const r=i.value;if(typeof r!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof r}`);i.value=function(...a){const o=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return n.execute(v=>r.apply(this,[...a,v]),o)}}}function wE(n,e){return new TimeoutPolicy(n,typeof e=="string"?{strategy:e}:e)}function kE(...n){return{_altReturn:void 0,onFailure:n[0].onFailure,onSuccess:n[0].onSuccess,wrapped:n,execute(e,t){const i=(r,a)=>a===n.length?e(r):n[a].execute(o=>i({...r,...o},a+1),r.signal);return Promise.resolve(i({signal:t},0))}}}function _E(n,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:1/0},new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function SE(n,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function RE(n,e){return new FallbackPolicy(new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter),typeof e=="function"?e:()=>e)}var db=Object.defineProperty,cb=(n,e,t)=>e in n?db(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ed=(n,e,t)=>cb(n,typeof e!="symbol"?e+"":e,t);const wh=class Wa{constructor(e,t){this.telemetry=e,this.errorOnFlood=t,Ed(this,"bulkhead",yh(140)),Ed(this,"hasLoggedLowRateLimit",!1)}logAndLimit(e,t){if(this.bulkhead.executionSlots===0)if(b.error("API call count has exceeded 140 concurrent calls.",Wa.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return t();const i=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${e}`;return this.bulkhead.executionSlots<5?b.appendLine(i,Wa.ID):b.debug(i,Wa.ID),this.bulkhead.execute(()=>t())}async logRateLimit(e,t,i=!1){var r,a,o,v;let A;try{const re=await t;A=(r=re==null?void 0:re.data)==null?void 0:r.rateLimit}catch{return}const H=e==null?void 0:e.startsWith("/search/");((a=A==null?void 0:A.limit)!=null?a:5e3)<5e3&&(H?((o=A==null?void 0:A.limit)!=null?o:30)<30&&b.appendLine(`Unexpectedly low SEARCH rate limit: ${A==null?void 0:A.limit}`,Wa.ID):b.appendLine(`Unexpectedly low rate limit: ${A==null?void 0:A.limit}`,Wa.ID));const Q=`${i?"REST":"GraphQL"} Rate limit remaining: ${A==null?void 0:A.remaining}, cost: ${A==null?void 0:A.cost}, ${e}`;((v=A==null?void 0:A.remaining)!=null?v:1e3)<1e3&&!H?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),b.warn(Q,Wa.ID)):b.debug(Q,Wa.ID)}async logRestRateLimit(e,t){let i;try{i=await t}catch{return}const r={cost:-1,limit:Number(i.headers["x-ratelimit-limit"]),remaining:Number(i.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(e,Promise.resolve({data:{rateLimit:r}}),!0)}};Ed(wh,"ID","RateLimit");let fb=wh;class hb{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const i=(t=e.query.definitions[0].name)==null?void 0:t.value,r=this._rateLogger.logAndLimit(i,()=>this._graphql.query(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(i,r),r}mutate(e){const t=e.context,i=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(i===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,i),i}}class mb{constructor(e,t){this.api=e,this._rateLogger=t}call(e,...t){var i,r;const a=(r=(i=e.endpoint)==null?void 0:i.DEFAULTS)==null?void 0:r.url,o=this._rateLogger.logAndLimit(a,()=>e(...t));if(o===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,o),o}}async function pb(n,e,t,i,r,a,o){b.debug(`Comparing commits for ${n.owner}/${n.repositoryName} with base ${t.repositoryCloneUrl.owner}:${r} and head ${i.repositoryCloneUrl.owner}:${i.sha}`,o);let v,A;const H=async Q=>Gl(e.api.pulls.listFiles,{owner:t.repositoryCloneUrl.owner,pull_number:a,repo:n.repositoryName},Q);try{const{data:Q}=await e.call(e.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${t.repositoryCloneUrl.owner}:${r}`,head:`${i.repositoryCloneUrl.owner}:${i.sha}`}),re=100;Q.files&&Q.files.length>=re?(b.appendLine(`More than ${re} files changed in #${a}`,o),v=await H()):v=Q.files?Q.files:[],A=Q.merge_base_commit.sha}catch(Q){if(Q.message==="Server Error")v=await H(3),A=t.sha;else throw Q}return{mergeBaseSha:A,files:v}}var vb=Object.defineProperty,gb=(n,e,t)=>e in n?vb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hi=(n,e,t)=>gb(n,typeof e!="symbol"?e+"":e,t);const kh=100,_h=class zi extends Nn{constructor(e,t,i,r,a,o){super(i,r,a,!0),this.credentialStore=e,Hi(this,"isDraft"),Hi(this,"localBranchName"),Hi(this,"mergeBase"),Hi(this,"mergeQueueEntry"),Hi(this,"conflicts"),Hi(this,"suggestedReviewers"),Hi(this,"hasChangesSinceLastReview"),Hi(this,"_showChangesSinceReview"),Hi(this,"_hasPendingReview",!1),Hi(this,"_onDidChangePendingReviewState",new s.EventEmitter),Hi(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),Hi(this,"_reviewThreadsCache",[]),Hi(this,"_reviewThreadsCacheInitialized",!1),Hi(this,"_onDidChangeReviewThreads",new s.EventEmitter),Hi(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),Hi(this,"_fileChangeViewedState",{}),Hi(this,"_viewedFiles",new Set),Hi(this,"_unviewedFiles",new Set),Hi(this,"_onDidChangeFileViewedState",new s.EventEmitter),Hi(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),Hi(this,"_onDidChangeChangesSinceReview",new s.EventEmitter),Hi(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),Hi(this,"_hasComments"),Hi(this,"_comments"),Hi(this,"_onDidChangeComments",new s.EventEmitter),Hi(this,"onDidChangeComments",this._onDidChangeComments.event),Hi(this,"_isActive"),Hi(this,"_telemetry"),Hi(this,"isRemoteHeadDeleted"),Hi(this,"head"),Hi(this,"isRemoteBaseDeleted"),Hi(this,"base"),Hi(this,"_fileChanges",new Map),Hi(this,"markFilesInProgressRefCount",new Map),this._telemetry=t,this.isActive=!!o,this._showChangesSinceReview=!1,this.update(a)}get isActive(){return this._isActive}set isActive(e){this._isActive=e}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=[]}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){return this._reviewThreadsCache}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(e){this._hasPendingReview!==e&&(this._hasPendingReview=e,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(e){this._showChangesSinceReview!==e&&(this._showChangesSinceReview=e,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var e;return(e=this._comments)!=null?e:[]}set comments(e){this._comments=e,this._onDidChangeComments.fire()}get fileChangeViewedState(){return this._fileChangeViewedState}updateState(e){e.toLowerCase()==="open"?this.state=bt.Open:e.toLowerCase()==="merged"||this.item.merged?this.state=bt.Merged:this.state=bt.Closed}update(e){var t;super.update(e),this.isDraft=e.isDraft,this.suggestedReviewers=e.suggestedReviewers,e.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=e.isRemoteHeadDeleted),e.head&&(this.head=new hh(e.head.ref,e.head.label,e.head.sha,e.head.repo.cloneUrl,e.head.repo.owner,e.head.repo.name,e.head.repo.isInOrganization)),e.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=e.isRemoteBaseDeleted),e.base&&(this.base=new hh(e.base.ref,e.base.label,e.base.sha,e.base.repo.cloneUrl,e.base.repo.owner,e.base.repo.name,e.base.repo.isInOrganization)),e.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(t=e.mergeQueueEntry)!=null?t:void 0),e.hasComments!==void 0&&(this._hasComments=e.hasComments)}isResolved(){return!!this.head}validatePullRequestModel(e){if(this.head)return!0;const t=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);e?e+=`: ${t}`:e=t;const i=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(e,i).then(r=>{r&&r===i&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}updateIssueInput(e){return{pullRequestId:e}}updateIssueSchema(e){return e.UpdatePullRequest}async approve(e,t){var i,r,a,o,v,A;let H,Q,re;return this.isActive?(Q=(i=e.state.HEAD)==null?void 0:i.commit,H=(a=(r=await this.githubRepository.getPullRequest(this.number))==null?void 0:r.head)==null?void 0:a.sha,re=s.l10n.t("The remote head of the PR branch has changed. Please pull the latest changes from the remote branch before approving.")):(Q=(o=this.head)==null?void 0:o.sha,H=(A=(v=await this.githubRepository.getPullRequest(this.number))==null?void 0:v.head)==null?void 0:A.sha,re=s.l10n.t("The remote head of the PR branch has changed. Please refresh the pull request before approving.")),!H||H!==Q?Promise.reject(re):(await this.getPendingReviewId()?this.submitReview(St.Approve,t):this.createReview(St.Approve,t)).then(pe=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChangeComments.fire(),pe))}async requestChanges(e){return(await this.getPendingReviewId()?this.submitReview(St.RequestChanges,e):this.createReview(St.RequestChanges,e)).then(i=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChangeComments.fire(),i))}async close(){var e;const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.pulls.update,{owner:i.owner,repo:i.repositoryName,pull_number:this.number,state:"closed"});this._telemetry.sendTelemetryEvent("pr.close");const a=await this.githubRepository.getAuthenticatedUser();return{item:Bl(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:ai.Closed,id:`${r.data.id}`,actor:{login:a.login,avatarUrl:a.avatarUrl,url:a.url}}}}async createReview(e,t){const{octokit:i,remote:r}=await this.githubRepository.ensure(),{data:a}=await i.call(i.api.pulls.createReview,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:e,body:t});return _0(a,this.githubRepository)}async submitReview(e,t){let i=await this.getPendingReviewId();const{mutate:r,schema:a}=await this.githubRepository.ensure();if(!i&&e===St.Comment&&(i=await this.startReview()),i){const{data:o}=await r({mutation:a.SubmitReview,variables:{id:i,event:e||St.Comment,body:t}});this.hasPendingReview=!1,await this.updateDraftModeContext();const v=F0(o.submitPullRequestReview.pullRequestReview,this.githubRepository),A=this._reviewThreadsCache.find(H=>H.comments.length?H.comments[0].pullRequestReviewId===v.id:void 0);return A&&(A.comments=v.comments,A.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[A],removed:[]})),v}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async getPendingReviewId(){const{query:e,schema:t}=await this.githubRepository.ensure(),i=(await this.githubRepository.getAuthenticatedUser()).login;try{const{data:r}=await e({query:t.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return r.node.reviews.nodes.length>0?r.node.reviews.nodes[0].id:void 0}catch{return}}async getViewerLatestReviewCommit(){var e,t;b.debug("Fetch viewers latest review commit",Nn.ID);const{query:i,remote:r,schema:a}=await this.githubRepository.ensure();try{const{data:o}=await i({query:a.LatestReviewCommit,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});return o.repository===null&&b.error("Unexpected null repository while getting last review commit",zi.ID),(e=o.repository)!=null&&e.pullRequest.viewerLatestReview?{sha:(t=o.repository)==null?void 0:t.pullRequest.viewerLatestReview.commit.oid}:void 0}catch{return}}async deleteReview(){const e=await this.getPendingReviewId(),{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:e}}}),{comments:a,databaseId:o}=r.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:o,deletedReviewComments:a.nodes.map(v=>Vs(v,!1,this.githubRepository))}}async startReview(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:e||((t=this.head)==null?void 0:t.sha)}}});if(!a)throw new Error("Failed to start review");return this.hasPendingReview=!0,this._onDidChangeComments.fire(),a.addPullRequestReview.pullRequestReview.id}async createReviewThread(e,t,i,r,a,o){if(!this.validatePullRequestModel("Creating comment failed"))return;const v=await this.getPendingReviewId(),{mutate:A,schema:H}=await this.githubRepository.ensure(),{data:Q}=await A({mutation:H.AddReviewThread,variables:{input:{path:t,body:e,pullRequestId:this.graphNodeId,pullRequestReviewId:v,startLine:i===r?void 0:i,line:r===void 0?0:r,side:a,subjectType:i===void 0||r===void 0?Bn.FILE:Bn.LINE}}},{mutation:H.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!Q)throw new Error("Creating review thread failed.");if(!Q.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");o||(this.hasPendingReview=!0,await this.updateDraftModeContext());const re=Q.addPullRequestReviewThread.thread,le=ql(re,this.githubRepository);return this._reviewThreadsCache.push(le),this._onDidChangeReviewThreads.fire({added:[le],changed:[],removed:[]}),le}async createCommentReply(e,t,i,r){var a;if(!this.validatePullRequestModel("Creating comment failed"))return;let o=await this.getPendingReviewId();o||(o=await this.startReview(r));const{mutate:v,schema:A}=await this.githubRepository.ensure(),{data:H}=await v({mutation:A.AddComment,variables:{input:{pullRequestReviewId:o,body:e,inReplyTo:t,commitOID:r||((a=this.head)==null?void 0:a.sha)}}});if(!H)throw new Error("Creating comment reply failed.");const{comment:Q}=H.addPullRequestReviewComment,re=Vs(Q,!1,this.githubRepository);i&&(re.isDraft=!1);const le=this._reviewThreadsCache.find(pe=>pe.comments.some(Se=>Se.graphNodeId===t));return le&&(le.comments.push(re),this._onDidChangeReviewThreads.fire({added:[],changed:[le],removed:[]})),re}async validateDraftMode(){const e=!!await this.getPendingReviewId();return e!==this.hasPendingReview&&(this.hasPendingReview=e),await this.updateDraftModeContext(),e}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(e,t){const{mutate:i,schema:r}=await this.githubRepository.ensure();let a=this._reviewThreadsCache.find(A=>A.comments.some(H=>H.graphNodeId===e.graphNodeId));if(!a)return this.editIssueComment(e,t);const{data:o}=await i({mutation:r.EditComment,variables:{input:{pullRequestReviewCommentId:e.graphNodeId,body:t}}});if(!o)throw new Error("Editing review comment failed.");const v=Vs(o.updatePullRequestReviewComment.pullRequestReviewComment,!!e.isResolved,this.githubRepository);if(a){const A=a.comments.findIndex(H=>H.graphNodeId===e.graphNodeId);a.comments.splice(A,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]})}return v}async deleteReviewComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=Number(e),a=this._reviewThreadsCache.findIndex(o=>o.comments.some(v=>v.id===r));if(a===-1)this.deleteIssueComment(e);else if(await t.call(t.api.pulls.deleteReviewComment,{owner:i.owner,repo:i.repositoryName,comment_id:r}),a>-1){const o=this._reviewThreadsCache[a],v=o.comments.findIndex(A=>A.id===r);o.comments.splice(v,1),o.comments.length===0?(this._reviewThreadsCache.splice(a,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[o]})):this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]})}}catch(t){throw new Error(he(t))}}async getFileContent(e,t,i){var r;b.debug("Fetch file content - enter",dr.ID);const{query:a,remote:o,schema:v}=await this.githubRepository.ensure(),{data:A}=await a({query:v.GetFileContent,variables:{owner:e,name:o.repositoryName,expression:`${t}:${i}`}});if((r=A.repository)!=null&&r.object.text)return b.debug("Fetch file content - end",dr.ID),A.repository.object.text}async compareBaseBranchForMerge(e,t,i,r){var a,o,v;const{octokit:A,remote:H}=await this.githubRepository.ensure(),Q=await A.call(A.api.repos.compareCommits,{repo:H.repositoryName,owner:e,base:`${e}:${t}`,head:`${i}:${r}`});return(v=(o=(a=Q==null?void 0:Q.data)==null?void 0:a.files)==null?void 0:o.filter(re=>re!==void 0))!=null?v:[]}async getUpdateBranchFiles(e,t,i){if(this.item.mergeable===qt.Conflict&&(!i.resolvedConflicts||i.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:r}=await this.githubRepository.ensure(),a=await this.compareBaseBranchForMerge(i.prHeadOwner,i.prHeadBranchName,i.prBaseOwner,e),o=(await r.call(r.api.repos.getCommit,{owner:i.prBaseOwner,repo:i.repositoryName,ref:e})).data.commit.tree.sha,v=await r.call(r.api.git.getTree,{owner:i.prBaseOwner,repo:i.repositoryName,tree_sha:o,recursive:"true"});return(await Promise.all(a.map(async H=>{var Q,re,le,pe;if(!H)return;const Se=v.data.tree.find(Qe=>Qe.path===H.filename),Ae=(Q=Se==null?void 0:Se.mode)!=null?Q:"100644",ue=(await r.call(r.api.git.getTree,{owner:i.prHeadOwner,repo:i.repositoryName,tree_sha:t,recursive:"true"})).data.tree.find(Qe=>Qe.path===H.filename),ye=(re=ue==null?void 0:ue.mode)!=null?re:"100644";if(H.status==="removed")return{path:H.filename,sha:null,mode:(le=ue==null?void 0:ue.mode)!=null?le:"100644"};const Ee={path:H.filename,mode:Ae},De=i.resolvedConflicts.get(H.filename);if((De==null?void 0:De.resolvedContents)!==void 0){if(H.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${H.filename}: ${H.status}`);if(Ae!==ye)throw new Error(`Conflict resolution not supported for file with different modes ${H.filename}: ${Ae} -> ${ye}`);if(H.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return Ee.content=De.resolvedContents,Ee}if((!H.previous_filename||!this._fileChanges.has(H.previous_filename))&&!this._fileChanges.has(H.filename))return Ee.sha=H.sha,Ee;const{data:Ue}=await r.call(r.api.repos.getContent,{owner:i.prHeadOwner,repo:i.repositoryName,path:(pe=H==null?void 0:H.previous_filename)!=null?pe:H.filename,ref:i.prHeadBranchName});if(H.status==="modified"&&H.patch&&Ue.content){const Qe=qe.Buffer.from(Ue.content,"base64"),Ye=new TextDecoder().decode(Qe);Ee.content=zr(Ye,H.patch)}else throw b.error(`File ${H.filename} has status ${H.status} and can't be merged.`,dr.ID),new Error(`File ${H.filename} has status ${H.status} and can't be merged,`);return Ee}))).filter(H=>H!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:t,remote:i}=await this.githubRepository.ensure();return(await t.call(t.api.repos.getBranch,{owner:i.owner,repo:i.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(e){if(this.item.mergeable===qt.Conflict&&(!e.resolvedConflicts||e.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");b.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - enter`,dr.ID);try{const{octokit:t}=await this.githubRepository.ensure(),i=(await t.call(t.api.repos.getBranch,{owner:e.prHeadOwner,repo:e.repositoryName,branch:e.prHeadBranchName})).data.commit.sha,r=(await t.call(t.api.repos.getCommit,{owner:e.prHeadOwner,repo:e.repositoryName,ref:i})).data.commit.tree.sha,a=await this.getUpdateBranchFiles(e.latestPrBaseSha,r,e),o=(await t.call(t.api.git.createTree,{owner:e.prHeadOwner,repo:e.repositoryName,base_tree:r,tree:a})).data.sha;let v;e.prBaseOwner===e.prHeadOwner?v=`Merge branch \`${e.prBaseBranchName}\` into ${e.prHeadBranchName}`:v=`Merge branch \`${e.prBaseOwner}:${e.prBaseBranchName}\` into ${e.prHeadBranchName}`;const A=(await t.call(t.api.git.createCommit,{owner:e.prHeadOwner,repo:e.repositoryName,message:v,tree:o,parents:[i,e.latestPrBaseSha]})).data.sha;await t.call(t.api.git.updateRef,{owner:e.prHeadOwner,repo:e.repositoryName,ref:`heads/${e.prHeadBranchName}`,sha:A})}catch(t){return b.error(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} failed: ${t}`,dr.ID),!1}return b.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - done`,dr.ID),!0}async getReviewRequests(){b.debug("Get Review Requests - enter",zi.ID);const e=this.githubRepository,{remote:t,query:i,schema:r}=await e.ensure(),{data:a}=await i({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(e.remote.authProviderId)?r.GetReviewRequestsAdditionalScopes:r.GetReviewRequests,variables:{number:this.number,owner:t.owner,name:t.repositoryName}});if(a.repository===null)return b.error("Unexpected null repository while getting review requests",zi.ID),[];const o=N0(a,e);return b.debug("Get Review Requests - done",zi.ID),o}async requestReview(e,t,i=!1){const{mutate:r,schema:a}=await this.githubRepository.ensure();await r({mutation:a.AddReviewers,variables:{input:{pullRequestId:this.graphNodeId,teamIds:t.map(o=>o.id),userIds:e.filter(o=>o.accountType!==Mi.Bot).map(o=>o.id),union:i}}})}async deleteReviewRequest(e,t){const{octokit:i,remote:r}=await this.githubRepository.ensure();await i.call(i.api.pulls.removeRequestedReviewers,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:e.filter(a=>a.accountType!==Mi.Bot).map(a=>a.id),team_reviewers:t.map(a=>a.id)})}diffThreads(e,t){const i=[],r=[],a=[];t.forEach(o=>{const v=e.find(A=>A.id===o.id);v?ya()(o,v)||r.push(o):i.push(o)}),e.forEach(o=>{t.find(v=>v.id===o.id)||a.push(o)}),this._onDidChangeReviewThreads.fire({added:i,changed:r,removed:a})}async initializeReviewThreadCacheAndReviewComments(){const{remote:e}=await this.githubRepository.ensure(),t=await this.getRawReviewComments();this.setReviewThreadCacheFromRaw(t),this.comments=t.map(i=>i.comments.nodes.map(r=>Vs(r,i.isResolved,this.githubRepository),e)).reduce((i,r)=>i.concat(r),[]).sort((i,r)=>i.createdAt>r.createdAt?1:-1)}setReviewThreadCacheFromRaw(e){const t=e.map(r=>ql(r,this.githubRepository)),i=this._reviewThreadsCache;return this._reviewThreadsCache=t,this.diffThreads(i,t),t}async getRawReviewComments(){const{remote:e,query:t,schema:i}=await this.githubRepository.ensure();let r=null,a=!1;const o=[];try{do{const{data:v}=await t({query:i.PullRequestComments,variables:{owner:e.owner,name:e.repositoryName,number:this.number,after:r}},!1,{query:i.LegacyPullRequestComments});o.push(...v.repository.pullRequest.reviewThreads.nodes),a=v.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=v.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(a&&o.length<1e3);return o}catch(v){return b.error(`Failed to get pull request review comments: ${v}`,zi.ID),[]}}async getReviewThreads(){const e=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(e)}async getCommits(){try{b.debug(`Fetch commits of PR #${this.number} - enter`,zi.ID);const{remote:e,octokit:t}=await this.githubRepository.ensure(),i=await Gl(t.api.pulls.listCommits,{pull_number:this.number,owner:e.owner,repo:e.repositoryName});return b.debug(`Fetch commits of PR #${this.number} - done`,zi.ID),i}catch(e){return s.window.showErrorMessage(`Fetching commits failed: ${he(e)}`),[]}}async getCommitChangedFiles(e){var t;try{b.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - enter`,zi.ID);const{octokit:i,remote:r}=await this.githubRepository.ensure(),a=await i.call(i.api.repos.getCommit,{owner:r.owner,repo:r.repositoryName,ref:e.sha});return b.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - done`,zi.ID),(t=a.data.files)!=null?t:[]}catch(i){return s.window.showErrorMessage(`Fetching commit file changes failed: ${he(i)}`),[]}}async getCoAuthors(){var e;if(!pn[this.item.user.login])return[];const{octokit:t,remote:i}=await this.githubRepository.ensure(),a=(e=(await t.call(t.api.issues.listEventsForTimeline,{issue_number:this.number,owner:i.owner,repo:i.repositoryName,per_page:100})).data.find(o=>o.event==="copilot_work_started"))==null?void 0:e.actor;return a?[Ji(a,this.githubRepository)]:[]}async getTimelineEvents(){var e,t;const i=async()=>{b.debug(`Fetch timeline events of PR #${this.number} - enter`,zi.ID);const{query:Q,remote:re,schema:le}=await this.githubRepository.ensure();try{const{data:pe}=await Q({query:le.TimelineEvents,variables:{owner:re.owner,name:re.repositoryName,number:this.number}});return pe.repository===null&&b.error("Unexpected null repository when fetching timeline",zi.ID),pe}catch(pe){b.error(`Failed to get pull request timeline events: ${pe}`,zi.ID),console.log(pe);return}},[r,a,o,v]=await Promise.all([i(),this.getViewerLatestReviewCommit(),(await this.githubRepository.getAuthenticatedUser()).login,this.getReviewThreads()]),A=(t=(e=r==null?void 0:r.repository)==null?void 0:e.pullRequest.timelineItems.nodes)!=null?t:[],H=await vd(A,await this.getRestOnlyTimelineEvents(),this.githubRepository);return this.addReviewTimelineEventComments(H,v),q0(H,a==null?void 0:a.sha,o,this.head),b.debug(`Fetch timeline events of PR #${this.number} - done`,zi.ID),H}getUpdatesQuery(e){return e.LatestUpdates}addReviewTimelineEventComments(e,t){const i=e.filter(Q=>Q.event===ai.Reviewed),r=t.reduce((Q,re)=>Q.concat(re.comments),[]),a=i.reduce((Q,re)=>(Q[re.id]=re,re.comments=[],Q),{}),o=r.reduce((Q,re)=>(Q[re.id]=re,Q),{}),v=[];let A=r.length;for(;A-- >0;){const Q=r[A];if(!Q.inReplyToId){v.unshift(Q);continue}const re=o[Q.inReplyToId];re.childComments=re.childComments||[],re.childComments=[Q,...Q.childComments||[],...re.childComments]}v.forEach(Q=>{const re=a[Q.pullRequestReviewId];re&&(re.comments=re.comments.concat(Q).concat(Q.childComments||[]))}),t.forEach(Q=>{if(!Q.prReviewDatabaseId||!a[Q.prReviewDatabaseId])return;const re=a[Q.prReviewDatabaseId];re.reviewThread={threadId:Q.id,canResolve:Q.viewerCanResolve,canUnresolve:Q.viewerCanUnresolve,isResolved:Q.isResolved}});const H=i.filter(Q=>{var re;return((re=Q.state)==null?void 0:re.toLowerCase())==="pending"})[0];H&&(H.comments=r.filter(Q=>Q.isDraft))}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(e,t){const i=await zi.getChangeModels(e,t),r=[];for(const a of i)r.push([a.filePath,a.parentFilePath,a.filePath]);return e.telemetry.sendTelemetryEvent("pr.openChanges"),s.commands.executeCommand("vscode.changes",s.l10n.t("Changes in Pull Request #{0}",t.number),r)}static async openDiffFromComment(e,t,i){const a=(await t.getFileChangesInfo()).find(A=>A.fileName===i.path||A.previousFileName===i.path);if(!a)throw new Error("Can't find matching file");const o=i.path.split("/"),v=i.diffHunks&&i.diffHunks.length>0?i.diffHunks[0].newLineNumber:void 0;this.openDiff(e,t,a,o[o.length-1],v)}static async openFirstDiff(e,t){const i=await t.getFileChangesInfo();if(!i.length)return;const r=i[0];this.openDiff(e,t,r,r.fileName)}static async openDiff(e,t,i,r,a){let o,v;if(t.equals(e.activePullRequest)){const A=s.Uri.file(L.resolve(e.repository.rootUri.fsPath,i.fileName));o=i.status===Ht.DELETE?Cr(A,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):A;const H=t.mergeBase||t.base.sha;v=Cr(A,i.status===Ht.RENAME?i.previousFileName:i.fileName,void 0,i.status===Ht.ADD?"":H,!1,{base:!0},e.repository.rootUri)}else{const A=t.head.sha,H=i.status===Ht.RENAME?i.previousFileName:i.fileName;o=Ta(s.Uri.file(Ks(e.repository.rootUri,i.fileName)),t,i.baseCommit,A,i.fileName,!1,i.status,i.previousFileName),v=Ta(s.Uri.file(Ks(e.repository.rootUri,H)),t,i.baseCommit,A,i.fileName,!0,i.status,i.previousFileName)}s.commands.executeCommand("vscode.diff",v,o,`${r} (Pull Request)`,a?{selection:{start:{line:a,character:0},end:{line:a,character:0}}}:{})}get fileChanges(){return this._fileChanges}async getFileChangesInfo(){this._fileChanges.clear();const e=await this.getRawFileChangesInfo(),t=this.mergeBase||this.base.sha,i=await is(e,t);return i.forEach(r=>{this._fileChanges.set(r.fileName,r)}),i}static async getChangeModels(e,t){var i;const r=((i=e.activePullRequest)==null?void 0:i.number)===t.number,a=t.fileChanges.size>0?t.fileChanges.values():await t.getFileChangesInfo(),o=[];for(const v of a){let A;v instanceof ur?A=new zs(e,v,t):A=new gs(e,t,v,r,t.mergeBase),o.push(A)}return o}async getRawFileChangesInfo(){var e;b.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,zi.ID);const t=this.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!this.base){b.appendLine("No base branch found for PR, fetching it now",zi.ID);const Q=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(Bl(Q.data,t))}let a=this.base.sha;const o=await this.getViewerLatestReviewCommit(),v=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=o!==void 0&&((e=this.head)==null?void 0:e.sha)!==o.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&o!=null&&(a=o.sha),this.item.merged){b.appendLine("PR is merged, fetching all file changes",zi.ID);const Q=await Gl(i.api.pulls.listFiles,{repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,Q}b.debug(`Comparing commits for ${r.owner}/${r.repositoryName} with base ${this.base.repositoryCloneUrl.owner}:${a} and head ${this.head.repositoryCloneUrl.owner}:${this.head.sha}`,zi.ID);const{files:A,mergeBaseSha:H}=await pb(r,i,this.base,this.head,a,this.number,zi.ID);return this.mergeBase=H,v!==void 0&&v!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),b.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${A.length} `,zi.ID),A}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var e,t,i,r,a,o;try{b.debug(`Fetch pull request mergeability ${this.number} - enter`,zi.ID);const{query:v,remote:A,schema:H}=await this.githubRepository.ensure(),{data:Q}=H.PullRequestMergeabilityMergeRequirements&&((e=await this.credentialStore.getCurrentUser(this.remote.authProviderId))==null?void 0:e.login)==="alexr00"?await v({query:H.PullRequestMergeabilityMergeRequirements,variables:{owner:A.owner,name:A.repositoryName,number:this.number},context:{headers:{"GraphQL-Features":"pull_request_merge_requirements_api"}}}):await v({query:H.PullRequestMergeability,variables:{owner:A.owner,name:A.repositoryName,number:this.number}});Q.repository===null&&b.error("Unexpected null repository while getting mergeability",zi.ID),b.debug(`Fetch pull request mergeability ${this.number} - done`,zi.ID);const re=pd((t=Q.repository)==null?void 0:t.pullRequest.mergeable,(i=Q.repository)==null?void 0:i.pullRequest.mergeStateStatus);return this.item.mergeable=re,this.conflicts=(o=(a=(r=Q.repository)==null?void 0:r.pullRequest.mergeRequirements)==null?void 0:a.conditions.find(le=>le.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:o.conflicts,this.update(this.item),{mergeability:re,conflicts:this.conflicts}}catch(v){return b.error(`Unable to fetch PR Mergeability: ${v}`,zi.ID),{mergeability:qt.Unknown}}}async setReadyForReview(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const r={isDraft:i.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:pd(i.markPullRequestReadyForReview.pullRequest.mergeable,i.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:i.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||i.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this.item.allowAutoMerge=r.allowAutoMerge,r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),e}}updateCommentReactions(e,t){const i=this._reviewThreadsCache.find(r=>r.comments.some(a=>a.graphNodeId===e));if(i){const r=i.comments.find(a=>a.graphNodeId===e);r&&(r.reactions=Hl(t),this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]}))}}async addCommentReaction(e,t){const i=$l().reduce((A,H)=>(A[H.label]=H.title,A),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.AddReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Add comment reaction failed.");const v=o.addReaction.subject.reactionGroups;return this.updateCommentReactions(e,v),o}async deleteCommentReaction(e,t){const i=$l().reduce((A,H)=>(A[H.label]=H.title,A),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.DeleteReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Delete comment reaction failed.");const v=o.removeReaction.subject.reactionGroups;return this.updateCommentReactions(e,v),o}undoOptimisticResolveState(e){e&&(e.isResolved=!e.isResolved,e.viewerCanResolve=!e.viewerCanResolve,e.viewerCanUnresolve=!e.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}))}async resolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{b.debug("Resolve review thread - enter",zi.ID);const{mutate:i,schema:r}=await this.githubRepository.ensure();t&&t.viewerCanResolve&&(t.isResolved=!0,t.viewerCanResolve=!1,t.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:r.ResolveReviewThread,variables:{input:{threadId:e}}},{mutation:r.LegacyResolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Resolve review thread failed.");const o=this._reviewThreadsCache.findIndex(v=>v.id===e);if(o>-1){const v=ql(a.resolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(o,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[v],removed:[]})}b.debug("Resolve review thread - done",zi.ID)}catch(i){b.error(`Resolve review thread failed: ${i}`,zi.ID),this.undoOptimisticResolveState(t)}}async unresolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{b.debug("Unresolve review thread - enter",zi.ID);const{mutate:i,schema:r}=await this.githubRepository.ensure();t&&t.viewerCanUnresolve&&(t.isResolved=!1,t.viewerCanUnresolve=!1,t.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:r.UnresolveReviewThread,variables:{input:{threadId:e}}},{mutation:r.LegacyUnresolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Unresolve review thread failed.");const o=this._reviewThreadsCache.findIndex(v=>v.id===e);if(o>-1){const v=ql(a.unresolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(o,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[v],removed:[]})}b.debug("Unresolve review thread - done",zi.ID)}catch(i){b.error(`Unresolve review thread failed: ${i}`,zi.ID),this.undoOptimisticResolveState(t)}}async enableAutoMerge(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:e.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!r)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=e}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async disableAutoMerge(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!i)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async dequeuePullRequest(){b.debug(`Dequeue pull request ${this.number} - enter`,dr.ID);const{mutate:e,schema:t}=await this.githubRepository.ensure();if(!t.DequeuePullRequest)return!1;try{return await e({mutation:t.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),b.debug(`Dequeue pull request ${this.number} - done`,dr.ID),this.mergeQueueEntry=void 0,!0}catch(i){return b.error(`Dequeueing pull request failed: ${i}`,dr.ID),!1}}async enqueuePullRequest(){var e;b.debug(`Enqueue pull request ${this.number} - enter`,dr.ID);const{mutate:t,schema:i}=await this.githubRepository.ensure();if(i.EnqueuePullRequest)try{const{data:r}=await t({mutation:i.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return b.debug(`Enqueue pull request ${this.number} - done`,dr.ID),(e=eh(r==null?void 0:r.enqueuePullRequest.mergeQueueEntry))!=null?e:void 0}catch(r){b.error(`Enqueuing pull request failed: ${r}`,dr.ID)}}async initializePullRequestFileViewState(){const{query:e,schema:t,remote:i}=await this.githubRepository.ensure(),r=[];let a=null,o=!1;do{const{data:v}=await e({query:t.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:a}});v.repository.pullRequest.files.nodes.forEach(A=>{this._fileChangeViewedState[A.path]!==A.viewerViewedState&&r.push({fileName:A.path,viewed:A.viewerViewedState}),this.setFileViewedState(A.path,A.viewerViewedState,!1)}),o=v.repository.pullRequest.files.pageInfo.hasNextPage,a=v.repository.pullRequest.files.pageInfo.endCursor}while(o);r.length&&this._onDidChangeFileViewedState.fire({changed:r})}updateMarkFilesInProgressRefCount(e,t){const i=[];for(const r of e){let a=this.markFilesInProgressRefCount.get(r)||0;t==="increment"?a++:a--,a===0?(this.markFilesInProgressRefCount.delete(r),i.push(r)):this.markFilesInProgressRefCount.set(r,a)}return i}async markFiles(e,t,i){const r=e.map(H=>Z(this.githubRepository.rootUri.path,H,"/")?H.substring(this.githubRepository.rootUri.path.length+1):H);this.updateMarkFilesInProgressRefCount(r,"increment");const{mutate:a}=await this.githubRepository.ensure(),o=this.graphNodeId,v=i==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let H=0;H<r.length;H+=kh){const Q=r.slice(H,H+kh),re=Ja()`mutation Batch${v}{
				${Q.map((le,pe)=>`alias${pe}: ${v}(
						input: {path: "${le}", pullRequestId: "${o}"}
					) { clientMutationId }
					`)}
			}`;await a({mutation:re})}this.updateMarkFilesInProgressRefCount(r,"decrement").forEach(H=>this.setFileViewedState(H,i==="viewed"?Kn.VIEWED:Kn.UNVIEWED,t))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(e,t,i){const r=s.Uri.joinPath(this.githubRepository.rootUri,e),a=this.githubRepository.rootUri.scheme===Vt.VscodeVfs?r.path:r.fsPath;switch(t){case Kn.DISMISSED:{this._viewedFiles.delete(a),this._unviewedFiles.delete(a);break}case Kn.UNVIEWED:{this._viewedFiles.delete(a),this._unviewedFiles.add(a);break}case Kn.VIEWED:this._viewedFiles.add(a),this._unviewedFiles.delete(a)}this._fileChangeViewedState[e]=t,i&&this._onDidChangeFileViewedState.fire({changed:[{fileName:e,viewed:t}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};Hi(_h,"ID","PullRequestModel");let In=_h;var bb=Object.defineProperty,yb=(n,e,t)=>e in n?bb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kl=(n,e,t)=>yb(n,typeof e!="symbol"?e+"":e,t);let ia;const Sh=class xu extends s.Disposable{constructor(e){super(()=>k(this.disposables)),this._storageUri=e,Kl(this,"SUBPATH","temp"),Kl(this,"disposables",[]),Kl(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){k(this.disposables),k(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const i=this.disposables.shift();i==null||i.dispose()}this.disposables.push(e)}}async writeState(e,t,i,r){let a=this.path;const o=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;o&&(a=s.Uri.joinPath(a,o)),e&&(a=s.Uri.joinPath(a,e)),await s.workspace.fs.createDirectory(a);const v=s.Uri.joinPath(a,t);await s.workspace.fs.writeFile(v,i);const A={dispose:()=>{try{return s.workspace.fs.delete(v,{recursive:!0})}catch{}}};return this.addDisposable(A,r),v}async readState(e,t){let i=this.path;const r=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;r&&(i=s.Uri.joinPath(i,r)),i=s.Uri.joinPath(i,e);const a=s.Uri.joinPath(i,t);return s.workspace.fs.readFile(a)}static async init(e){if(e.globalStorageUri&&!ia){ia=new xu(e.globalStorageUri);try{await s.workspace.fs.delete(ia.path,{recursive:!0})}catch(t){b.appendLine(`Error in initialization: ${t.message}`,xu.ID)}try{await s.workspace.fs.createDirectory(ia.path)}catch(t){b.appendLine(`Error in initialization: ${t.message}`,xu.ID)}return e.subscriptions.push(ia),ia}}static async write(e,t,i,r=!1){if(ia)return ia.writeState(e,t,i,r)}static async read(e,t){if(ia)return ia.readState(e,t)}};Kl(Sh,"ID","TemporaryState");let Rh=Sh;function Ur(n){return JSON.parse(n)}function fn(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Eh(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Nd(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function $a(n,e,t){return n.with({scheme:e,query:JSON.stringify(t)})}const wb=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],Nh=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],Th=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function Td(n,e){try{const{commit:t,baseCommit:i,headCommit:r,isBase:a,path:o}=JSON.parse(n.query),v=L.extname(o);if(!Nh.includes(v))return;const A=n.scheme==="review"?t:a?i:r,H=L.join(e.rootUri.fsPath,o).replace(/\\/g,"/"),{object:Q}=await e.getObjectDetails(A,H),{mimetype:re}=await e.detectObjectType(Q);if(re==="text/plain")return;if(wb.indexOf(re)>-1){const le=await e.buffer(A,H);return Rh.write(L.dirname(o),L.basename(o),le)}}catch{return}}var na;(n=>{const e="userIcons";function t(Q){return`${ln(Q)}.jpg`}function i(Q){return s.Uri.joinPath(Q.globalStorageUri,e)}function r(Q,re){return s.Uri.joinPath(i(Q),t(re))}function a(Q){return s.Uri.joinPath(i(Q),"cache.log")}async function o(Q,re,le){await s.workspace.fs.createDirectory(i(Q));const pe=r(Q,re);return await s.workspace.fs.writeFile(pe,le),pe}async function v(Q,re){try{const le=r(Q,re);return s.workspace.fs.readFile(le)}catch{return}}function A(Q){return s.Uri.parse(`data:image/svg+xml;size:${Q.byteLength};base64,${Q.toString("base64")}`)}n.asImageDataURI=A;async function H(Q,re,le,pe,Se){let Ae;const Oe=a(Q);try{const De=await s.workspace.fs.readFile(Oe);Ae=JSON.parse(De.toString())}catch{Ae=[]}const ue=Ae.length,ye=await Promise.all(re.map(async De=>{const Ue=De.avatarUrl;if(Ue===void 0)return;let Qe,Ye=!1;try{const Ni=await v(Q,De);if(!Ni)throw new Error("Temporary state not initialized");Qe=qe.Buffer.from(Ni)}catch{if(Se)return;Ye=!0;const Gi=async()=>{const Es=await(await ft()(Ue.toString())).arrayBuffer();await o(Q,De,new Uint8Array(Es)),Qe=qe.Buffer.from(Es)};try{await Gi()}catch{await Gi()}}if(!Qe)return;if(Ye){const Ni=t(De);Ae.push(Ni)}const Pt=`data:image/jpeg;size:${Qe.byteLength};base64,${Qe.toString("base64")}`,Ft=`<svg width="${pe}" height="${le}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${Pt}" width="${pe}" height="${le}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,fi=qe.Buffer.from(Ft);return A(fi)})),Ee=Math.max(re.length,200);if(Ae.length>ue&&ue>0&&Ae.length>Ee){const De=Ae.splice(0,50);await Promise.all(De.map(async Ue=>{try{await s.workspace.fs.delete(s.Uri.joinPath(i(Q),Ue))}catch(Qe){b.error(`Failed to delete avatar from cache: ${Qe}`,"avatarCirclesAsImageDataUris")}}))}return await s.workspace.fs.writeFile(Oe,qe.Buffer.from(JSON.stringify(Ae))),ye}n.avatarCirclesAsImageDataUris=H})(na||(na={}));function Cr(n,e,t,i,r,a,o){const v={path:e||n.path,ref:t,commit:i,base:a.base,isOutdated:r,rootPath:o.path};let A=n.path;return a.replaceFileExtension&&(A=`${A}.git`),n.with({scheme:"review",path:A,query:JSON.stringify(v)})}function Cd(n,e,t,i,r){const a={prNumber:e,fileName:t,status:i,previousFileName:r};return n.with({scheme:"filechange",query:JSON.stringify(a)})}function Ch(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Ta(n,e,t,i,r,a,o,v){const A={baseCommit:t,headCommit:i,isBase:a,fileName:r,prNumber:e.number,status:o,remoteName:e.githubRepository.remote.remoteName,previousFileName:v},H=n.path;return n.with({scheme:"pr",path:H,query:JSON.stringify(A)})}function Pd(n){let e;return n instanceof In?e=`${n.remote.url}:${n.number}`:typeof n=="string"?e=n:e=`${n.remote}:${n.prNumber}`,e}function Md(n){const e=Pd(n),t={prIdentifier:e};return s.Uri.parse(`PRNode:${e}`).with({scheme:"prnode",query:JSON.stringify(t)})}function Ad(n){return s.Uri.from({scheme:"notification",path:n.key})}function kb(n){if(n.scheme==="notification")try{return{key:n.path}}catch{}}function _b(n){const e={origin:n.originUri.toString()};return n.repoUriParams&&(e.origin=Sb(n.repoUriParams).toString()),s.Uri.from({scheme:"newissue",path:"/NewIssue.md",query:JSON.stringify(e)})}function Ql(n){if(n.scheme==="newissue")try{const e=JSON.parse(n.query),t=s.Uri.parse(e.origin),i=Id(t);return{originUri:t,repoUriParams:i}}catch{}}function Sb(n){const e={folderManagerRootUri:n.repoRootUri.toString()};return s.Uri.from({scheme:"repo",path:`${n.owner}/${n.repo}`,query:JSON.stringify(e)})}function Id(n){if(n.scheme!=="repo")return;const[e,t]=n.path.split("/");try{const i=JSON.parse(n.query),r=s.Uri.parse(i.folderManagerRootUri);return{owner:e,repo:t,repoRootUri:r}}catch{}}var Fd=(n=>(n.OpenIssueWebview="/open-issue-webview",n.OpenPullRequestWebview="/open-pull-request-webview",n))(Fd||{});async function Ph(n){const e=JSON.stringify(n);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:vt,path:"/open-issue-webview",query:e}))}function Rb(n){if(ve(n.authority,vt)===0&&n.path==="/open-issue-webview")try{const e=JSON.parse(n.query.split("&")[0]);return!e.owner||!e.repo||!e.issueNumber?void 0:e}catch{}}async function Mh(n){const e=JSON.stringify(n);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:vt,path:"/open-pull-request-webview",query:e}))}function Eb(n){if(ve(n.authority,vt)===0&&n.path==="/open-pull-request-webview")try{const e=JSON.parse(n.query.split("&")[0]);return!e.owner||!e.repo||!e.pullRequestNumber?void 0:e}catch{}}var Vt=(n=>(n.File="file",n.Review="review",n.Pr="pr",n.PRNode="prnode",n.FileChange="filechange",n.GithubPr="githubpr",n.GitPr="gitpr",n.VscodeVfs="vscode-vfs",n.Comment="comment",n.MergeOutput="merge-output",n.Notification="notification",n.NewIssue="newissue",n.Repo="repo",n.Git="git",n))(Vt||{});function Ks(n,e){return n.scheme==="file"?L.resolve(n.fsPath,e):L.posix.resolve(n.path,e)}function Yl(n){return!!n&&n.kind==="notification"}function zo(n){return n===void 0||n===0?0:n-1}function EE(n,e){for(let t=0;t<n.length;t++){const i=n[t];for(let r=0;r<i.diffLines.length;r++)if(i.diffLines[r].positionInHunk===e)return i.diffLines[r]}}function Xl(n,e,t){const i=Oa(n);let r=i.next(),a=0;for(;!r.done;){const o=r.value;if(!(o.oldLineNumber>e))if(o.oldLineNumber+o.oldLength-1<e)a+=o.newLength-o.oldLength;else{if(t===o.newLength)return a+=o.newLength-o.oldLength,e+a;for(const v of o.diffLines){if(v.oldLineNumber>e)return e+a;v.type===Xi.Add?a++:v.type===Xi.Delete&&a--}return e+a}r=i.next()}return e+a}function Ko(n,e){const t=Oa(n);let i=t.next(),r=0;for(;!i.done;){const a=i.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)r+=a.oldLength-a.newLength;else{for(const o of a.diffLines)if(o.type===Xi.Add?r--:o.type===Xi.Delete&&r++,o.newLineNumber>e)return e+r;return e+r}i=t.next()}return e+r}function Ah(n,e,t="GetCommentingRanges"){n.length===0&&b.debug("No commenting ranges: File contains no diffs.",t);const i=[];for(let r=0;r<n.length;r++){const a=n[r];let o,v;if(e){let A;for(let H=0;H<a.diffLines.length;H++){const Q=a.diffLines[H];Q.type===Xi.Delete?(o!==void 0||(o=zo(Q.oldLineNumber)),A=zo(Q.oldLineNumber)):o!==void 0&&A!==void 0&&(i.push(new s.Range(o,0,A,0)),o=void 0,A=void 0)}o!==void 0&&A!==void 0?(i.push(new s.Range(o,0,A,0)),o=void 0,A=void 0):i.length===0&&b.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(o=zo(a.newLineNumber),v=zo(a.newLength),i.push(new s.Range(o,0,o+v,0))):b.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return b.debug(`Found ${i.length} commenting ranges.`,t),i}var Nb=Object.defineProperty,Tb=(n,e,t)=>e in n?Nb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qs=(n,e,t)=>Tb(n,typeof e!="symbol"?e+"":e,t);class Fn extends g{constructor(e){super(),this.parent=e,Qs(this,"children"),Qs(this,"childrenDisposables",[]),Qs(this,"label"),Qs(this,"accessibilityInformation"),Qs(this,"id")}getParent(){if(this.parent instanceof Fn)return this.parent}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(i){b.error(i,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this.children&&this.children.length?this.children:this.getChildren()}async getChildren(e=!0){return this.children&&this.children.length&&e&&k(this.children),[]}updateFromCheckboxChanged(e){}dispose(){super.dispose(),this.childrenDisposables&&k(this.childrenDisposables)}}class Ih extends Fn{constructor(e,t){super(e),Qs(this,"label",""),this.label=t}getTreeItem(){return new s.TreeItem(this.label)}}var Cb=Object.defineProperty,Pb=(n,e,t)=>e in n?Cb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pr=(n,e,t)=>Pb(n,typeof e!="symbol"?e+"":e,t);function Jl(n,e={}){const t=s.window.activeTextEditor,i={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===n.path&&(i.selection=t.selection),{command:"vscode.open",arguments:[n,i],title:"Open File"}}async function Dd(n,e,t,i,r){let a=await Td(e,n.repository)||e,o=await Td(t,n.repository)||t;(a.scheme==="data"||o.scheme==="data")&&(r===Ht.ADD&&(a=Th),r===Ht.DELETE&&(o=Th));const v=t.path.split("/");return{command:"vscode.diff",arguments:[a,o,`${v[v.length-1]} (Pull Request)`,i],title:"Open Changed File in PR"}}class bs extends Fn{constructor(e,t,i,r){var a;super(e),this.pullRequestManager=t,this.pullRequest=i,this.changeModel=r,Pr(this,"iconPath"),Pr(this,"fileChangeResourceUri"),Pr(this,"contextValue"),Pr(this,"command"),Pr(this,"opts"),Pr(this,"checkboxState");const o=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:Kn.UNVIEWED;this.contextValue=`${Vt.FileChange}:${Ht[this.changeModel.status]}:${o===Kn.VIEWED?"viewed":"unviewed"}`,this.label=L.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=Cd(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof pr?this.changeModel.change.previousFileName:void 0),this.updateViewed(o),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(v=>{[...v.added,...v.removed].some(A=>A.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(v=>{const A=v.changed.find(H=>H.fileName===this.changeModel.fileName&&H.viewed!==this.changeModel.viewed);A&&(this.updateViewed(A.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"}}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}get description(){return s.workspace.getConfiguration(Tt).get(Ie)==="flat"?!0:""}updateViewed(e){var t,i;this.changeModel.updateViewed(e),this.contextValue=`${Vt.FileChange}:${Ht[this.changeModel.status]}:${e===Kn.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===Kn.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(i=this.label)!=null?i:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?Kn.VIEWED:Kn.UNVIEWED;this.updateViewed(t)}updateShowOptions(){var e,t;const i=this.pullRequest.reviewThreadsCache,a=(te(i,o=>o.path)[this.changeModel.fileName]||[]).filter(o=>!o.isOutdated);if(a.length){a.sort((A,H)=>A.endLine-H.endLine);const o=(e=a[0].startLine)!=null?e:a[0].originalStartLine,v=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(o,0,v,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return Jl(this.changeModel.filePath)}async openDiff(e,t){var i;const r=await Dd(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(r.command,...(i=r.arguments)!=null?i:[])}}class xd extends bs{get description(){let e=s.workspace.asRelativePath(L.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}constructor(e,t,i,r){super(e,t,i,r),this.fileChangeResourceUri=Cd(s.Uri.parse(r.blobUrl),r.pullRequest.number,r.fileName,r.status,r.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class Od extends bs{constructor(e,t,i,r){super(t,e,i,r),this.folderRepositoryManager=e}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}async resolve(){this.status===Ht.ADD?this.command=Jl(this.changeModel.filePath):this.command=await Dd(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class Ys extends bs{constructor(e,t,i,r,a,o){super(e,t,i,r),this.isCurrent=a,this._comments=o,Pr(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Ht.DELETE||this.status===Ht.ADD){const pe=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Ht.DELETE?[this.changeModel.parentFilePath,pe,`${this.fileName}`,{}]:[pe,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:i,rootPath:r}=Ur(this.changeModel.filePath.query),a=`${i}^`,o={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:r},v=this.changeModel.filePath.with({query:JSON.stringify(o)});let A=this.changeModel.filePath;this.isCurrent&&(A=this.pullRequestManager.repository.rootUri.with({path:L.posix.join(o.rootPath,o.path)}));const H={},Q=this.pullRequest.reviewThreadsCache,le=(te(Q,pe=>pe.path)[this.fileName]||[]).filter(pe=>pe.isOutdated).sort((pe,Se)=>pe.endLine-Se.endLine);return le.length&&(H.selection=new s.Range(le[0].originalStartLine,0,le[0].originalEndLine,0)),{command:"vscode.diff",arguments:[v,A,`${this.fileName} from ${(i||"").substr(0,8)}`,H],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(ir,this.pullRequestManager.repository.rootUri).get(zn,!0)&&this.status!==Ht.ADD?this.command=await Dd(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Zl extends Fn{constructor(e,t,i,r,a,o,v){super(e),this.fileName=t,this.previousFileName=i,this.status=r,this.baseBranch=a,this.headBranch=o,this.isLocal=v,Pr(this,"description"),Pr(this,"iconPath"),Pr(this,"fileChangeResourceUri"),Pr(this,"tooltip"),Pr(this,"command");const A=v?Vt.GitPr:Vt.GithubPr;this.label=t,this.tooltip=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:A,query:JSON.stringify({status:r,fileName:t})});let H=$a(s.Uri.file(t),A,{fileName:t,branch:a}),Q=$a(s.Uri.file(t),A,{fileName:t,branch:o});switch(r){case Ht.ADD:H=$a(s.Uri.file(t),A,{fileName:t,branch:a,isEmpty:!0});break;case Ht.RENAME:H=$a(s.Uri.file(i),A,{fileName:i,branch:a,isEmpty:!0});break;case Ht.DELETE:Q=$a(s.Uri.file(t),A,{fileName:t,branch:o,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[H,Q,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function Ld(n){return n.filter(e=>e instanceof Ys)}var Mb=Object.defineProperty,Ab=(n,e,t)=>e in n?Mb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ra=(n,e,t)=>Ab(n,typeof e!="symbol"?e+"":e,t);const Fh=class sr extends Df{constructor(e,t,i,r,a,o){var v,A;super(t,o),this._reviewManager=e,this._repository=i,this._reviewModel=r,this._gitApi=a,ra(this,"_commentHandlerId"),ra(this,"_workspaceFileChangeCommentThreads",{}),ra(this,"_reviewSchemeFileChangeCommentThreads",{}),ra(this,"_obsoleteFileChangeCommentThreads",{}),ra(this,"_visibleNormalTextEditors",[]),ra(this,"_pendingCommentThreadAdds",[]),ra(this,"_context"),ra(this,"resourceHints",{schemes:[Vt.Review]}),ra(this,"_commentContentChangedListener"),this._context=this._folderRepoManager.context,this._commentController=this._register(s.comments.createCommentController(`github-review-${(v=t.activePullRequest)==null?void 0:v.remote.owner}-${(A=t.activePullRequest)==null?void 0:A.remote.owner}-${t.activePullRequest.number}`,s.l10n.t("Pull Request ({0})",t.activePullRequest.title))),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._register(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._commentHandlerId=kf(),Oi(this._commentHandlerId,this,i)}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(e,t){const i=t.comments[0].originalCommitId,r=s.Uri.file(L.join(`commit~${i.substr(0,8)}`,e)),a=Cr(r,e,void 0,i,!0,{base:t.diffSide===Yi.LEFT},this._repository.rootUri),o=t.subjectType===Bn.FILE?void 0:qo(t.originalStartLine-1,t.originalEndLine-1);return Ho(this._context,a,o,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(e,t,i){let r=i.startLine,a=i.endLine;const o=await this._repository.diffWithHEAD(t);o&&(r=Xl(o,r),a=Xl(o,a));let v;if(i.subjectType!==Bn.FILE){const A=r-1,H=a-1;(A<0||H<0)&&b.error(`Mapped new position for workspace comment thread is invalid. Original: (${i.startLine}, ${i.endLine}) New: (${A}, ${H})`,sr.ID),v=qo(A,H)}return Ho(this._context,e,v,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(e,t,i){var r;if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=Cr(e,t,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),o=i.subjectType===Bn.FILE?void 0:qo(i.startLine-1,i.endLine-1);return Ho(this._context,a,o,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(e){for(const i in this._workspaceFileChangeCommentThreads)k(this._workspaceFileChangeCommentThreads[i]);this._workspaceFileChangeCommentThreads={};for(const i in this._reviewSchemeFileChangeCommentThreads)k(this._reviewSchemeFileChangeCommentThreads[i]);this._reviewSchemeFileChangeCommentThreads={};for(const i in this._obsoleteFileChangeCommentThreads)k(this._obsoleteFileChangeCommentThreads[i]);this._obsoleteFileChangeCommentThreads={};const t=te(e,i=>i.path);Object.keys(t).forEach(i=>{const r=t[i],a=r[0];if(a){const o=L.join(this._repository.rootUri.path,a.path).replace(/\\/g,"/"),v=this._repository.rootUri.with({path:o});let A=[],H=[],Q=[];const re=r.map(async le=>{le.isOutdated?Q.push(await this.createOutdatedCommentThread(i,le)):le.diffSide===Yi.RIGHT?A.push(await this.createWorkspaceCommentThread(v,i,le)):H.push(await this.createReviewCommentThread(v,i,le))});Promise.all(re),this._workspaceFileChangeCommentThreads[i]=A,this._reviewSchemeFileChangeCommentThreads[i]=H,this._obsoleteFileChangeCommentThreads[i]=Q}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var e,t;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[i,r]of(t=(e=this._folderRepoManager.activePullRequest)==null?void 0:e.fileChanges.entries())!=null?t:[])if(r.status!==Ht.DELETE){const a=s.Uri.joinPath(this._folderRepoManager.repository.rootUri,i);b.trace(`Prefetching commenting ranges for ${a.toString()}`,sr.ID),s.workspace.openTextDocument(a)}}}async initializeCommentThreads(){const e=this._folderRepoManager.activePullRequest;if(!(!e||!e.isResolved()))return this.doInitializeCommentThreads(e.reviewThreadsCache)}async registerListeners(){const e=this._folderRepoManager.activePullRequest;e&&(this._register(e.onDidChangePendingReviewState(t=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const r in i)i[r].forEach(a=>{zf(a,t),$s(a)})})})),this._register(e.onDidChangeReviewThreads(t=>{const i=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);t.added.forEach(async r=>{const{path:a}=r,o=this._pendingCommentThreadAdds.findIndex(async H=>{const Q=this._folderRepoManager.gitRelativeRootPath(H.uri.path);if(Q!==r.path)return!1;const re=await this.getContentDiff(H.uri,Q);return(H.range?Ko(re,H.range.end.line):0)+1===r.endLine});let v;if(o>-1)v=this._pendingCommentThreadAdds[o],v.gitHubThreadId=r.id,v.comments=r.comments.map(H=>new Sn(this._context,H,v,i)),jf(this._context,v,r,i),this._pendingCommentThreadAdds.splice(o,1);else{const H=L.join(this._repository.rootUri.path,a).replace(/\\/g,"/"),Q=this._repository.rootUri.with({path:H});r.isOutdated?v=await this.createOutdatedCommentThread(a,r):r.diffSide===Yi.RIGHT?v=await this.createWorkspaceCommentThread(Q,a,r):v=await this.createReviewCommentThread(Q,a,r)}const A=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===Yi.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;A[a]?A[a].push(v):A[a]=[v]}),t.changed.forEach(r=>{const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];Ul(this._context,o,r,i)}}),t.removed.forEach(r=>{const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];a.threadMap[r.path].splice(a.index,1),o.dispose()}}),this.updateResourcesWithCommentingRanges()})),this._register(s.window.onDidChangeActiveTextEditor(t=>this.onDidChangeActiveTextEditor(t))))}_findMatchingThread(e){var t,i,r,a;const o=e.isOutdated?this._obsoleteFileChangeCommentThreads:e.diffSide===Yi.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;let v=(i=(t=o[e.path])==null?void 0:t.findIndex(A=>A.gitHubThreadId===e.id))!=null?i:-1;if(v===-1&&e.isOutdated&&(v=(a=(r=this._workspaceFileChangeCommentThreads[e.path])==null?void 0:r.findIndex(A=>A.gitHubThreadId===e.id))!=null?a:-1,v>-1)){const A=this._workspaceFileChangeCommentThreads[e.path].splice(v,1)[0];this._obsoleteFileChangeCommentThreads[e.path]||(this._obsoleteFileChangeCommentThreads[e.path]=[]),this._obsoleteFileChangeCommentThreads[e.path].push(A)}return{threadMap:o,index:v}}onDidChangeActiveTextEditor(e){var t;if((t=this._commentContentChangedListener)==null||t.dispose(),this._commentContentChangedListener=void 0,(e==null?void 0:e.document.uri.scheme)!==Vt.Comment)return;const i=()=>{e.document.getText().includes("```suggestion")?lt.setContext(kt.ACTIVE_COMMENT_HAS_SUGGESTION,!0):lt.setContext(kt.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListener=s.workspace.onDidChangeTextDocument(r=>{r.document.uri.toString()===e.document.uri.toString()&&i()}),i()}updateCommentExpandState(e){const t=this._folderRepoManager.activePullRequest;if(!t)return;const i=this.githubReposForPullRequest(t);function r(A,H){if(H.size!==0)for(const Q of H.keys()){const re=H.get(Q),le=A[Q];for(const pe of le){const Se=re.get(pe.gitHubThreadId);Ul(this._context,pe,Se,i,e)}}}const a=new Map,o=new Map,v=new Map;for(const A of t.reviewThreadsCache){let H;A.isOutdated?H=a:A.diffSide===Yi.RIGHT?H=v:H=o,H.has(A.path)||H.set(A.path,new Map),H.get(A.path).set(A.id,A)}r(this._obsoleteFileChangeCommentThreads,a),r(this._reviewSchemeFileChangeCommentThreads,o),r(this._workspaceFileChangeCommentThreads,v)}visibleEditorsEqual(e,t){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),t=t.filter(i=>i.document.uri.scheme!=="comment"),e=w(e,i=>i.document.uri.toString()),t=w(t,i=>i.document.uri.toString()),e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!t.find(a=>a.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){return e.uri.scheme===Vt.Review?!0:sh(this._repository,e.uri)?e.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(e,t){let i=e.uri.query&&e.uri.query!==""?Ur(e.uri.query):void 0;if(i){const a=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,e.uri);if(a)return b.debug("Found matched file for commenting ranges.",sr.ID),{ranges:Ah(await a.changeModel.diffHunks(),i.base,sr.ID),enableFileComments:!0}}const r=gd(this._gitApi,e.uri);if((r==null?void 0:r.rootUri.toString())!==this._repository.rootUri.toString()){e.uri.scheme!=="output"&&b.debug("No commenting ranges: File is not in the current repository.",sr.ID);return}if(e.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){b.debug("No commenting ranges: Active PR has not been resolved.",sr.ID);return}const a=this._folderRepoManager.gitRelativeRootPath(e.uri.path),o=Ld(this._reviewModel.localFileChanges).find(A=>A.fileName===a),v=[];if(o){const A=await o.changeModel.diffHunks();if(o.status===Ht.RENAME&&A.length===0)return b.debug("No commenting ranges: File was renamed with no diffs.",sr.ID),{ranges:[],enableFileComments:!0};const H=await this.getContentDiff(e.uri,o.fileName);for(let Q=0;Q<A.length;Q++){const re=A[Q],le=Xl(H,re.newLineNumber,e.lineCount),pe=Xl(H,re.newLineNumber+re.newLength-1,e.lineCount);le>0&&pe>0&&v.push(new s.Range(le-1,0,pe-1,0))}v.length===0&&b.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",sr.ID)}else b.debug("No commenting ranges: File does not match any of the files in the review.",sr.ID);return b.debug(`Providing ${v.length} commenting ranges for ${L.basename(e.uri.fsPath)}.`,sr.ID),{ranges:v,enableFileComments:v.length>0}}else b.debug("No commenting ranges: File scheme differs from repository scheme.",sr.ID)}async getContentDiff(e,t,i=!0){var r,a,o,v;const A=s.window.visibleTextEditors.find(H=>H.document.uri.toString()===e.toString());if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.head))throw b.error("Failed to get content diff. Cannot get content diff without an active pull request head.",sr.ID),new Error("Cannot get content diff without an active pull request head.");try{if(A&&A.document.isDirty&&s.workspace.getConfiguration("files",A.document.uri).get("autoSave")!=="afterDelay"){const H=A.document.getText(),re=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,t)).object,le=await this._repository.hashObject(H);return await this._repository.diffBlobs(re,le)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,t)}catch(H){if(b.error(`Failed to get content diff. ${he(H)}`,sr.ID),(a=H.stderr)!=null&&a.includes("bad object")){if((o=this._repository.state.HEAD)!=null&&o.upstream&&i){const Q=s.workspace.getConfiguration(Tt).get(Pi,"pull");if((Q==="pull"||Q==="pullAndMergeBase"||Q==="pullAndUpdateBase"||Q===!0)&&s.workspace.getConfiguration(Tt).get(Rt,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(e,t,!1)}catch{}else if((v=this._repository.state.HEAD)!=null&&v.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,t)}this._folderRepoManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),b.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,sr.ID)}throw H}}findMatchedFileChangeForReviewDiffView(e,t){const i=Ur(t.query),r=e.filter(a=>{const o=a.changeModel;if(o instanceof zs||o.fileName!==i.path&&!(o.change instanceof pr&&o.change.previousFileName===i.path))return!1;if(o.filePath.scheme!=="review"&&o.sha===i.commit)return!0;const v=o.filePath.query?JSON.parse(o.filePath.query):void 0;if(v&&v.commit===i.commit)return!0;const A=o.parentFilePath.query?JSON.parse(o.parentFilePath.query):void 0;return!!(A&&A.commit===i.commit)});if(r&&r.length)return r[0]}getCommentSide(e){return e.uri.scheme===Vt.Review&&Ur(e.uri.query).base?Yi.LEFT:Yi.RIGHT}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r){const o=e.comments[0];if(o instanceof Sn)await this._folderRepoManager.activePullRequest.createCommentReply(t,o.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),v=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let A,H;if(e.range){if(v===Yi.RIGHT){const Q=await this.getContentDiff(e.uri,o);A=Ko(Q,e.range.start.line),H=Ko(Q,e.range.end.line)}else A=e.range.start.line,H=e.range.end.line;A++,H++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,o,A,H,v),Ll(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(v=>(v instanceof Er&&v.id===a&&(v.mode=s.CommentMode.Editing),v))}}async openReview(){await this._reviewManager.openDescription(),br.scrollToReview()}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(),a=new Er(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,$s(e)}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(),r=new Er(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Sn&&a.commentId===t.commentId?r:a),r.id}async createOrReplyComment(e,t,i,r){var a;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const o=e.comments.length,v=i?!1:r!==void 0?r:this._folderRepoManager.activePullRequest.hasPendingReview,A=await this.optimisticallyAddComment(e,t,v);try{if(o){const H=e.comments[0];if(H instanceof Sn)await this._folderRepoManager.activePullRequest.createCommentReply(t,H.rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const H=this._folderRepoManager.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const Q=this.getCommentSide(e);let re,le;if(e.range){if(Q===Yi.RIGHT){const pe=await this.getContentDiff(e.uri,H);re=Ko(pe,e.range.start.line),le=Ko(pe,e.range.end.line)}else re=e.range.start.line,le=e.range.end.line;re++,le++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,H,re,le,Q,i),Ll(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}i&&await this._folderRepoManager.activePullRequest.submitReview()}catch(H){(a=H.graphQLErrors)!=null&&a.length&&H.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(Q=>{Q==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${H}`),e.comments=e.comments.map(Q=>(Q instanceof Er&&Q.id===A&&(Q.mode=s.CommentMode.Editing),Q))}}async createSuggestionsFromChanges(e,t){const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=this._folderRepoManager.gitRelativeRootPath(e.path),a=`\`\`\`suggestion
${t.suggestionContent}
\`\`\``;await i.createReviewThread(a,r,t.originalStartLine,t.originalStartLine+t.originalLineLength-1,Yi.RIGHT,!1)}async createCommentOnResolve(e,t){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,t){if(t instanceof Sn){const i=await this.optimisticallyEditComment(e,t);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(he(r)),e.comments=e.comments.map(a=>a instanceof Er&&a.id===i?new Sn(this._context,t.rawComment,e):a)}}}async deleteComment(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t instanceof Sn?await this._folderRepoManager.activePullRequest.deleteReviewComment(t.commentId):e.comments=e.comments.filter(r=>!(r instanceof Er&&r.id===t.id)),e.comments.length===0?e.dispose():$s(e);const i=await this._folderRepoManager.activePullRequest.validateDraftMode();i!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=i),this.update()}catch(i){throw new Error(he(i))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(e.rawComment.graphNodeId,t):await this._folderRepoManager.activePullRequest.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(i){throw new Error(he(i))}}async applySuggestion(e){const t=e.parent.range,i=e.suggestion;if(i===void 0||!t)throw new Error("Comment doesn't contain a suggestion");const r=s.window.visibleTextEditors.find(a=>e.parent.uri.toString()===a.document.uri.toString());if(!r)throw new Error("Cannot find the editor to apply the suggestion to.");await r.edit(a=>{a.replace(t.with(void 0,r.document.lineAt(t.end.line).range.end),i)})}dispose(){super.dispose(),Mt(this._commentHandlerId)}};ra(Fh,"ID","ReviewCommentController");let Dh=Fh;class eu{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(Tt).get(Wt)}static registerProvider(e,t){return s.window.registerTerminalLinkProvider(new eu(e,t))}provideTerminalLinks(e,t){var i;const r=e.line.indexOf("https://github.com");if(r===-1)return[];const a=e.line.substring(r),o=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),v=a.match(o);if(v&&v.length===4){const A=v[1],H=v[2],Q=v[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(le=>le.remote.owner===A&&le.remote.repositoryName===H)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===Q)return[{startIndex:r,length:e.line.length-r,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=eu.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const i="Yes",r="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",i,"No, continue to github.com",r).then(a=>{switch(a){case i:{this.reviewManager.createPullRequest();break}case r:{s.workspace.getConfiguration(Tt).update(Wt,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var Ib=Object.defineProperty,Fb=(n,e,t)=>e in n?Ib(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Db=(n,e,t)=>Fb(n,typeof e!="symbol"?e+"":e,t);const xh="github-pr-remote",Oh="github-pr-owner-number",xb="github-pr-base-branch",Ob="vscode-merge-base",Lh=/branch\.(.+)\.github-pr-owner-number/,Lb=/branch\.(.+)\.remote/,Uh=class Qi{static async checkoutFromFork(e,t,i,r){const a=await Qi.calculateUniqueBranchNameForPR(e,t);i||(b.appendLine(`Branch ${a} is from a fork. Create a remote first.`,Qi.ID),r.report({message:s.l10n.t("Creating git remote for {0}",`${t.remote.owner}/${t.remote.repositoryName}`)}),i=await Qi.createRemote(e,t.remote,t.head.repositoryCloneUrl));const o=`${t.head.ref}:${a}`;b.debug(`Fetch ${i}/${t.head.ref}:${a} - start`,Qi.ID),r.report({message:s.l10n.t("Fetching branch {0}",o)}),await e.fetch(i,o),b.debug(`Fetch ${i}/${t.head.ref}:${a} - done`,Qi.ID),r.report({message:s.l10n.t("Checking out {0}",o)}),await e.checkout(a),await e.setBranchUpstream(a,`refs/remotes/${i}/${t.head.ref}`),await Qi.associateBranchWithPullRequest(e,t,a)}static async fetchAndCheckout(e,t,i,r){var a;if(!i.validatePullRequestModel("Checkout pull request failed"))return;const o=Qi.getHeadRemoteForPullRequest(t,i),v=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!o||v)return Qi.checkoutFromFork(e,i,o&&o.remoteName,r);const A=i.head.ref,H=o.remoteName;let Q;try{if(Q=await e.getBranch(A),((a=e.state.HEAD)==null?void 0:a.name)===Q.name){b.appendLine(`Tried to checkout ${A}, but branch is already checked out.`,Qi.ID);return}if(b.debug(`Checkout ${A}`,Qi.ID),r.report({message:s.l10n.t("Checking out {0}",A)}),await e.checkout(A),!Q.upstream){const re=`refs/remotes/${H}/${A}`;await e.setBranchUpstream(A,re)}Q.behind!==void 0&&Q.behind>0&&Q.ahead===0&&(b.debug("Pull from upstream",Qi.ID),r.report({message:s.l10n.t("Pulling {0}",A)}),await e.pull())}catch{b.appendLine(`Branch ${H}/${A} doesn't exist on local disk yet.`,Qi.ID);const le=`refs/remotes/${H}/${A}`;b.appendLine(`Fetch tracked branch ${le}`,Qi.ID),r.report({message:s.l10n.t("Fetching branch {0}",A)}),await e.fetch(H,A);const pe=await e.getBranch(le);r.report({message:s.l10n.t("Creating and checking out branch {0}",A)}),await e.createBranch(A,!0,pe.commit),await e.setBranchUpstream(A,le)}await Qi.associateBranchWithPullRequest(e,i,A)}static async checkoutExistingPullRequestBranch(e,t,i){const r=Qi.buildPullRequestMetadata(t),a=await e.getConfigs(),o=A=>a.filter(({key:H})=>A===H).map(({value:H})=>H)[0],v=a.map(A=>{const H=Lh.exec(A.key);return{branch:H&&H.length?H[1]:null,value:A.value}}).filter(A=>A.branch&&A.value===r);if(v&&v.length){const A=v[0].branch;i.report({message:s.l10n.t("Checking out branch {0}",A)}),await e.checkout(A);const H=s.workspace.getConfiguration(Tt).get(Pi,"pull");if(H==="pull"||H==="pullAndMergeBase"||H==="pullAndUpdateBase"||H===!0){const re=o(`branch.${A}.remote`),le=o(`branch.${A}.merge`);i.report({message:s.l10n.t("Fetching branch {0}",A)}),await e.fetch(re,le)}const Q=await e.getBranch(v[0].branch);return Q.upstream===void 0?!1:(Q.behind!==void 0&&Q.behind>0&&Q.ahead===0&&(b.debug("Pull from upstream",Qi.ID),i.report({message:s.l10n.t("Pulling branch {0}",A)}),await e.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(e,t){let i=null;try{const r=Qi.buildPullRequestMetadata(t),a=await e.getConfigs(),o=a.map(v=>{const A=Lh.exec(v.key);return{branch:A&&A.length?A[1]:null,value:v.value}}).find(v=>!!v.branch&&v.value===r);if(o){i=o.branch;const v=`branch.${i}.remote`,A=a.filter(le=>le.key===v).map(le=>le.value);let H;A.length&&(H=A[0]);let Q=!1;if(H){const le=`remote.${H}.github-pr-remote`;a.filter(Se=>Se.key===le&&Se.value).length&&(Q=!0)}let re;return Q&&(re=a.some(le=>!!(Lb.exec(le.key)&&le.key!==`branch.${i}.remote`&&le.value===H))),{branch:i,remote:H,createdForPullRequest:Q,remoteInUse:re}}}catch(r){return i?{branch:i}:(b.error(`getBranchNRemoteForPullRequest failed ${r}`,Qi.ID),null)}return null}static async getEmail(e){try{const t=await e.getConfig("user.email");return t||await e.getGlobalConfig("user.email")}catch{return}}static buildPullRequestMetadata(e){return`${e.base.repositoryCloneUrl.owner}#${e.base.repositoryCloneUrl.repositoryName}#${e.number}`}static buildBaseBranchMetadata(e,t,i){return`${e}#${t}#${i}`}static parsePullRequestMetadata(e){if(e){const t=/(.*)#(.*)#(.*)/g.exec(e);if(t&&t.length===4){const[,i,r,a]=t;return{owner:i,repositoryName:r,prNumber:Number(a)}}}}static getMetadataKeyForBranch(e){return`branch.${e}.${Oh}`}static async getMatchingPullRequestMetadataForBranch(e,t){try{const i=this.getMetadataKeyForBranch(t),r=await e.getConfig(i);return Qi.parsePullRequestMetadata(r)}catch{return}}static async createRemote(e,t,i){b.appendLine(`create remote for ${i}.`,Qi.ID);const r=Na(e);for(const o of r)if(new Qn(o.url).equals(i))return o.remoteName;const a=Qi.getUniqueRemoteName(e,i.owner);return i.update({type:t.gitProtocol.type}),await e.addRemote(a,i.toString()),await e.setConfig(`remote.${a}.${xh}`,"true"),a}static async isRemoteCreatedForPullRequest(e,t){try{b.debug(`Check if remote '${t}' is created for pull request - start`,Qi.ID);const i=await e.getConfig(`remote.${t}.${xh}`);return b.debug(`Check if remote '${t}' is created for pull request - end`,Qi.ID),i==="true"}catch{return!1}}static async calculateUniqueBranchNameForPR(e,t){const i=`pr/${t.author.login}/${t.number}`;let r=i,a=1;for(;;)try{await e.getBranch(r),r=`${i}-${a++}`}catch{break}return r}static getUniqueRemoteName(e,t){let i=t,r=1;const a=Na(e);for(;a.find(o=>o.remoteName===i);)i=`${t}${r++}`;return i}static getHeadRemoteForPullRequest(e,t){return e.find(i=>i.gitProtocol&&i.gitProtocol.owner.toLowerCase()===t.head.repositoryCloneUrl.owner.toLowerCase()&&i.gitProtocol.repositoryName.toLowerCase()===t.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(e,t,i){try{t&&b.appendLine(`associate ${i} with Pull Request #${t.number}`,Qi.ID);const r=`branch.${i}.${Oh}`;t?await e.setConfig(r,Qi.buildPullRequestMetadata(t)):e.unsetConfig&&await e.unsetConfig(r)}catch{t&&b.error(`associate ${i} with Pull Request #${t.number} failed`,Qi.ID)}}static async associateBaseBranchWithBranch(e,t,i){try{const r=`branch.${t}.${xb}`;if(i)b.appendLine(`associate ${t} with base branch ${i.owner}/${i.repo}#${i.branch}`,Qi.ID),await e.setConfig(r,Qi.buildBaseBranchMetadata(i.owner,i.repo,i.branch));else if(e.unsetConfig){await e.unsetConfig(r);const a=`branch.${t}.${Ob}`;await e.unsetConfig(a)}}catch{b.error(`associate ${t} with base branch ${i==null?void 0:i.owner}/${i==null?void 0:i.repo}#${i==null?void 0:i.branch} failed`,Qi.ID)}}};Db(Uh,"ID","PullRequestGitHelper");let Jn=Uh;const Bh=void 0;var Ub=Qt(65606);let qh=!1;const Hh=class{static async getApiHost(n){const e=Ub.env.GITHUB_TEST_SERVER;if(e){if(qh)return s.Uri.parse(e);const i=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},i)===i)return qh=!0,s.Uri.parse(e)}const t=n instanceof s.Uri?n:s.Uri.parse(n.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(n,e){return(n instanceof s.Uri?n:s.Uri.parse(n.host)).authority==="github.com"?e:`/api/v3${e}`}};var Bb=Object.defineProperty,qb=(n,e,t)=>e in n?Bb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tu=(n,e,t)=>qb(n,typeof e!="symbol"?e+"":e,t);const iu=class po{constructor(){tu(this,"_knownServers",new Map([...Array.from(po._githubDotComServers.keys()).map(e=>[e,Ri.GitHubDotCom]),...Array.from(po._gheServers.keys()).map(e=>[e,Ri.Enterprise])]))}static isGithubDotCom(e){return this._githubDotComServers.has(e)}static isNeverGitHub(e){return this._neverGitHubServers.has(e)}async isGitHub(e){var t;if(e===null)return Ri.None;const i=e.authority.toLowerCase();if(e.path.endsWith(".wiki")||i.match(/gist[.]github[.]com/))return Ri.None;if(po.isGithubDotCom(i))return Ri.GitHubDotCom;const r=Array.from(this._knownServers.keys()).find(H=>i.endsWith(H)),a=js();if(e.authority.toLowerCase()===(a==null?void 0:a.authority.toLowerCase())&&(!r||this._knownServers.get(r)===Ri.None))return Ri.Enterprise;if(r)return(t=this._knownServers.get(r))!=null?t:Ri.None;const[o,v]=await po.getOptions(e,"HEAD","/rate_limit");let A=Ri.None;try{const H=await ft()(o.toString(),v),Q=[];H.headers.forEach((pe,Se)=>{Q.push(Se)}),b.debug(`All headers: ${Q.join(", ")}`,"GitHubServer");const re=H.headers.get("x-github-request-id"),le=H.headers.get("x-github-enterprise-version");if(!re&&!le){const[pe]=await po.getOptions(e,"HEAD","/status"),Ae=await(await ft()(pe.toString())).text();if(Ae.startsWith("GitHub lives!"))A=Ri.Enterprise;else{b.appendLine(`Received fallback response from the server: ${Ae}`,"GitHubServer");const Oe=JSON.parse(Ae);Oe.documentation_url&&Oe.documentation_url.startsWith("https://docs.github.com/enterprise")&&(A=Ri.Enterprise)}}else A=re!=null?le?Ri.Enterprise:Ri.GitHubDotCom:Ri.None;return A}catch(H){return b.warn(`No response from host ${e}: ${H.message}`,"GitHubServer"),A}finally{b.debug(`Host ${e} is associated with GitHub: ${A}`,"GitHubServer"),this._knownServers.set(i,A)}}static async getOptions(e,t="GET",i,r){const a={"user-agent":"GitHub VSCode Pull Requests"};r&&(a.authorization=`token ${r}`);const o=s.Uri.joinPath(await Hh.getApiHost(e),Hh.getApiPath(e,i)),v={hostname:o.authority,port:443,method:t,headers:a,agent:Bh};return[o,v]}};tu(iu,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),tu(iu,"_gheServers",new Set().add("ghe.com")),tu(iu,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com"));let $h=iu;const Ud="github.pullRequest.pullNotification.show",Gh="github.pullRequest.repos",Bd="github.pullRequest.previousCreateMethod",Vh="github.pullRequest.lastUsedEmail";function NE(n){n.globalState.setKeysForSync([Ud])}var nu;(n=>{async function e(){try{await s.commands.executeCommand("git.checkout")}catch{await s.commands.executeCommand("remoteHub.switchToBranch")}}n.checkout=e})(nu||(nu={}));var Hb=Object.defineProperty,$b=(n,e,t)=>e in n?Hb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xs=(n,e,t)=>$b(n,typeof e!="symbol"?e+"":e,t);class qd extends g{constructor(e,t,i,r){super(),this._repository=e,this._upstream=t,this._into=i,this.push=r,Xs(this,"startingConflictsCount"),Xs(this,"_lastReportedRemainingCount"),Xs(this,"_onConflictCountChanged",new s.EventEmitter),Xs(this,"onConflictCountChanged",this._onConflictCountChanged.event),Xs(this,"_finishedCommit",new s.EventEmitter),Xs(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._register(s.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._register(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const t=await new Promise(i=>{var r;const a=(r=this._repository.state.HEAD)==null?void 0:r.commit;e=this._register(this._repository.state.onDidChange(()=>{var o;((o=this._repository.state.HEAD)==null?void 0:o.commit)!==a&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&i(!0)}))});e==null||e.dispose(),t&&this.push&&this._repository.push(),this._finishedCommit.fire(t)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of s.window.tabGroups.all)for(const t of e.tabs)t.input instanceof s.TabInputTextMerge&&s.window.tabGroups.close(t)}async abort(){this._repository.inputBox.value="";const e=this._register(this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(t=>setTimeout(t,1e3)),this.closeMergeEditors(),e.dispose())}));await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await lt.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>lt.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,t,i,r){const a=new qd(e,t,i,r);if(a.remainingConflicts.length!==0)return a._register(new Gb(a,e)),a.first(),a}finished(){return Ne(this._finishedCommit.event)}}class Gb extends g{constructor(e,t){super(),this._conflictModel=e,this._repository=t,s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0},async(i,r)=>{const a=o=>{i.report({message:s.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:o})};return a(0),new Promise(o=>{this._register(this._conflictModel.onConflictCountChanged(v=>{const A=v*(100/this._conflictModel.startingConflictsCount);a(A),this._conflictModel.remainingConflicts.length===0&&o(!0)})),this._register(r.onCancellationRequested(()=>{this._conflictModel.abort(),o(!1)}))})}).then(async i=>{if(i){const r=s.l10n.t("Commit"),a=s.l10n.t("Abort Merge");let o;this._conflictModel.push?o=s.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):o=s.l10n.t("All conflicts resolved. Commit the resolution to continue.");const v=await s.window.showInformationMessage(o,r,a);v===r?await this._repository.commit(this._conflictModel.message):v===a&&await this._conflictModel.abort()}})}}var Vb=Object.defineProperty,jb=(n,e,t)=>e in n?Vb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hd=(n,e,t)=>jb(n,typeof e!="symbol"?e+"":e,t);class Wb extends g{constructor(e){super(),this._conflictResolutionModel=e,Hd(this,"_treeView"),Hd(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Hd(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=this._register(s.window.createTreeView("github:conflictResolution",{treeDataProvider:this})),this._register(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),lt.focusView("github:conflictResolution")}async getTreeItem(e){const t=s.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),i=new s.TreeItem(t);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(i.iconPath=new s.ThemeIcon("check"),i.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:s.l10n.t("View Merge Result")}):i.command={command:"pr.resolveConflict",title:s.l10n.t("Resolve Conflict"),arguments:[e.conflict]},i}async getChildren(e){if(e)return[];const t=new s.MarkdownString;t.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let i=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?t.appendMarkdown(s.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):t.appendMarkdown(s.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),i=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(r=>({conflict:r}))):t.appendMarkdown(s.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=t,i}}var zb=Object.defineProperty,Kb=(n,e,t)=>e in n?zb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ru=(n,e,t)=>Kb(n,typeof e!="symbol"?e+"":e,t);async function Qb(n,e,t,i){let r="";return i||(r=await n.repository.show(t,s.Uri.joinPath(n.repository.rootUri,e).fsPath)),new TextEncoder().encode(r)}class jh{constructor(){ru(this,"_onDidChangeFile",new s.EventEmitter),ru(this,"onDidChangeFile",this._onDidChangeFile.event),ru(this,"changedFiles",new Map),ru(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,t){var i;return this.changedFiles.has(e.toString())||(!t||t.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(i=this.changedFiles.get(e.toString()))==null?void 0:i.file}writeFile(e,t,i){this.changedFiles.set(e.toString(),{file:t,modified:!0})}watch(e,t){return{dispose:()=>{}}}async stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0,permissions:s.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,t){}rename(e,t,i){}}class Wh extends jh{constructor(e){super(),this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(t=>ve(t.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const t=Nd(e),i=await this.tryReadFile(e,t);if(i)return i;const r=this.gitHubRepositoryForOwner(t==null?void 0:t.owner);if(!r)throw new Error(`No GitHub repository found for owner ${t.owner}`);const a=await r.getFile(t.fileName,t.branch);return this.changedFiles.set(e.toString(),{file:a,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,t){const i=new Map;for(const[r,a]of this.changedFiles)a.modified&&i.set(s.Uri.parse(r).path,a.file);return this._gitHubRepositories[0].commit(t,e,i)}}class Yb extends jh{constructor(e){super(),this.folderRepositoryManager=e}async stat(e){var t,i;let r=0;const a=Nd(e);if(a!=null&&a.branch){const o=await this.folderRepositoryManager.repository.getBranch(a==null?void 0:a.branch);if(o.commit){const v=await this.folderRepositoryManager.repository.getCommit(o.commit);v&&(r=(i=(t=v.commitDate)==null?void 0:t.getTime())!=null?i:0)}}return{type:s.FileType.File,ctime:0,mtime:r,size:0,permissions:s.FilePermission.Readonly}}async readFile(e){const t=Nd(e);if(!t||t.isEmpty)return new TextEncoder().encode("");const i=await Qb(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty);return this.changedFiles.set(e.toString(),{file:i,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var t;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return s.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const i=[];for(const[r,a]of this.changedFiles)if(a.modified){const o=s.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,s.Uri.parse(r).path);await s.workspace.fs.writeFile(o,a.file),i.push(o.fsPath)}return await this.folderRepositoryManager.repository.add(i),await this.folderRepositoryManager.repository.commit(e),(t=this.folderRepositoryManager.repository.state.HEAD)!=null&&t.upstream?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var Xb=Object.defineProperty,Jb=(n,e,t)=>e in n?Xb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ys=(n,e,t)=>Jb(n,typeof e!="symbol"?e+"":e,t);const zh=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class Zb extends g{constructor(e){super(),this._conflictResolutionModel=e,ys(this,"_createTime",0),ys(this,"_modifiedTimes",new Map),ys(this,"_mergedFiles",new Map),ys(this,"_onDidChangeFile",this._register(new s.EventEmitter)),ys(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,t){return{dispose:()=>{}}}stat(e){var t,i,r;return{type:s.FileType.File,ctime:this._createTime,mtime:(t=this._modifiedTimes.get(e.path))!=null?t:0,size:(r=(i=this._mergedFiles.get(e.path))==null?void 0:i.length)!=null?r:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,qe.Buffer.from(zh)),this._mergedFiles.get(e.path)}writeFile(e,t,i){this.updateFile(e.path,t)}delete(e,t){throw new Error("Method not implemented.")}rename(e,t,i){throw new Error("Method not implemented.")}updateFile(e,t){this._mergedFiles.set(e,t),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const t of this._mergedFiles.keys())e.push({uri:s.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:t}),type:s.FileChangeType.Changed}),this.updateFile(t,qe.Buffer.from(zh));this._onDidChangeFile.fire(e)}dispose(){super.dispose(),this._mergedFiles.clear()}}class ey extends g{constructor(e,t,i){super(),this._telemetry=e,this._conflictResolutionModel=t,this._githubRepositories=i,ys(this,"_mergeOutputProvider"),ys(this,"_onExitConflictResolutionMode",new s.EventEmitter),this._mergeOutputProvider=this._register(new Zb(this._conflictResolutionModel))}async openConflict(e){const t=this._conflictResolutionModel.prHeadUri(e),i=this._conflictResolutionModel.baseUri(e),r={uri:t,title:s.l10n.t("Pull Request Head")},a={uri:i,title:s.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},o=this._conflictResolutionModel.mergeBaseUri(e),v=this._conflictResolutionModel.mergeOutputUri(e),A={base:o,input1:r,input2:a,output:v};await lt.executeCommand("_open.mergeEditor",A)}register(){this._register(s.workspace.registerFileSystemProvider(Vt.GithubPr,new Wh(this._githubRepositories),{isReadonly:!0})),this._register(s.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._register(s.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._register(s.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._register(s.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=s.l10n.t("Exit and lose changes");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._register(s.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._register(new Wb(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof s.Uri))return;const{activeTab:t}=s.window.tabGroups.activeTabGroup;if(!t||!(t.input instanceof s.TabInputTextMerge))return;if((await lt.executeCommand("mergeEditor.acceptMerge")).successful){const r=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),r)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await lt.setContext(kt.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await lt.setContext(kt.RESOLVING_CONFLICTS,!1);const t=[];for(const i of s.window.tabGroups.all)for(const r of i.tabs)r.input instanceof s.TabInputTextMerge&&r.input.result.scheme===this._conflictResolutionModel.mergeScheme&&t.push(r);await s.window.tabGroups.close(t),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),Ne(this._onExitConflictResolutionMode.event)}}var ty=Object.defineProperty,iy=(n,e,t)=>e in n?ty(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qo=(n,e,t)=>iy(n,typeof e!="symbol"?e+"":e,t);class ny{constructor(e,t,i,r,a,o,v,A){this.startingConflicts=e,this.repositoryName=t,this.prBaseOwner=i,this.latestPrBaseSha=r,this.prHeadOwner=a,this.prHeadBranchName=o,this.prBaseBranchName=v,this.prMergeBaseRef=A,Qo(this,"_startingConflicts",new Map),Qo(this,"_resolvedConflicts",new Map),Qo(this,"_onAddedResolution",new s.EventEmitter),Qo(this,"onAddedResolution",this._onAddedResolution.event),Qo(this,"mergeScheme",`${Vt.MergeOutput}-${new Date().getTime()}`);for(const H of e)this._startingConflicts.set(H.prHeadFilePath,H)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,t){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:t}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return s.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const t=s.Uri.file(e.prHeadFilePath);return $a(t,Vt.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const t=s.Uri.file(e.prHeadFilePath);return $a(t,Vt.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const t=s.Uri.file(e.prHeadFilePath);return $a(t,Vt.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var ry=Object.defineProperty,ay=(n,e,t)=>e in n?ry(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bi=(n,e,t)=>ay(n,typeof e!="symbol"?e+"":e,t);async function sy(n){var e;const t=n.head;if(!t)throw new Error("No head found for pull request");const i=await n.getLatestBaseCommitSha(),r=n.base.owner,a=t.owner,o=t.ref,v=(await n.githubRepository.ensure()).remote.repositoryName,A=[];if(n.item.mergeable===qt.Conflict){const H=await n.compareBaseBranchForMerge(a,o,r,i);if(n.item.mergeable===qt.Conflict&&H.length>=300)return;const Q=new Map;for(const le of n.fileChanges.values())le.previousFileName&&Q.set(le.previousFileName,le);const re=new Set(n.conflicts);for(const le of H){const pe=(e=n.fileChanges.get(le.filename))!=null?e:Q.get(le.filename);if(pe&&(re.size===0||re.has(pe.fileName))){const Se=pe.fileName;let Ae=!1,Oe=!1,ue=!1;le.status==="modified"&&(Ae=!0),(le.previous_filename||pe.previousFileName)&&(Oe=!0),A.push({prHeadFilePath:Se,contentsConflict:Ae,filePathConflict:Oe,modeConflict:ue})}}}return new ny(A,v,r,i,a,o,n.base.ref,n.mergeBase)}class Kh extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class oy extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first",this.repository.rootUri.toString())}}class ly extends Error{constructor(e,t,i){super(),this.branchName=e,this.upstreamRef=t,this.problem=i}get message(){const{upstreamRef:{remote:e,name:t},branchName:i,problem:r}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,i,r)}}const Qh="ReposManagerStateContext";var aa=(n=>(n.Initializing="Initializing",n.NeedsAuthentication="NeedsAuthentication",n.RepositoriesLoaded="RepositoriesLoaded",n))(aa||{}),uy=(n=>(n[n.PullRequest=0]="PullRequest",n[n.IssueSearch=1]="IssueSearch",n))(uy||{});const dy="templateBody",Yh=class Pv extends g{constructor(e,t,i,r,a,o,v){super(),this._id=e,this.context=t,this._repository=i,this.telemetry=r,this._git=a,this._credentialStore=o,this.createPullRequestHelper=v,Bi(this,"_activePullRequest"),Bi(this,"_activeIssue"),Bi(this,"_githubRepositories"),Bi(this,"_allGitHubRemotes",[]),Bi(this,"_mentionableUsers"),Bi(this,"_fetchMentionableUsersPromise"),Bi(this,"_assignableUsers"),Bi(this,"_teamReviewers"),Bi(this,"_fetchAssignableUsersPromise"),Bi(this,"_fetchTeamReviewersPromise"),Bi(this,"_gitBlameCache",{}),Bi(this,"_githubManager"),Bi(this,"_repositoryPageInformation",new Map),Bi(this,"_addedUpstreamCount",0),Bi(this,"_onDidMergePullRequest",this._register(new s.EventEmitter)),Bi(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),Bi(this,"_onDidChangeActivePullRequest",this._register(new s.EventEmitter)),Bi(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Bi(this,"_onDidChangeActiveIssue",this._register(new s.EventEmitter)),Bi(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Bi(this,"_onDidLoadRepositories",this._register(new s.EventEmitter)),Bi(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Bi(this,"_onDidChangeRepositories",this._register(new s.EventEmitter)),Bi(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Bi(this,"_onDidChangeAssignableUsers",this._register(new s.EventEmitter)),Bi(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Bi(this,"_onDidChangeGithubRepositories",this._register(new s.EventEmitter)),Bi(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Bi(this,"_onDidDispose",this._register(new s.EventEmitter)),Bi(this,"onDidDispose",this._onDidDispose.event),Bi(this,"_sessionIgnoredRemoteNames",new Set),Bi(this,"_updatingRepositories"),Bi(this,"totalFetchedPages",new Map),Bi(this,"_updateMessageShown",!1),Bi(this,"_createGitHubRepositoryBulkhead",yh(1,300)),this._githubRepositories=[],this._githubManager=new $h,this._register(s.workspace.onDidChangeConfiguration(async A=>{A.affectsConfiguration(`${Tt}.${Ti}`)&&await this.updateRepositories()})),this._register(o.onDidInitialize(()=>this.updateRepositories())),this.cleanStoredRepoState()}cleanStoredRepoState(){const e=new Date().valueOf()-2592e6,t=this.context.globalState.get(Gh);if(t!=null&&t.repos){let i=!1;Object.keys(t.repos).forEach(r=>{var a;((a=t.repos[r].stateModifiedTime)!=null?a:0)<e&&(i=!0,delete t.repos[r])}),i&&this.context.globalState.update(Gh,t)}}get id(){return`${Pv.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const t=Na(this.repository).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(b.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",he(o))),[])),r=[];let a=0;for(const o of t)i[a]===Ri.None&&r.push(o),a++;return r}async computeAllGitHubRemotes(){const t=Na(this.repository).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(b.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",he(o))),[])),r=[];let a=0;for(const o of t)i[a]!==Ri.None&&r.push(ps.remoteAsGitHub(o,i[a])),a++;return r}async getActiveGitHubRemotes(e){const t=s.workspace.getConfiguration(Tt).get(Ti);if(!t)return b.error("Unable to read remotes setting",this.id),Promise.resolve([]);const i=t.filter(r=>!e.some(a=>a.remoteName===r));return i.length===t.length?b.warn(`No remotes found. The following remotes are missing: ${i.join(", ")}`):b.debug(`Not all remotes found. The following remotes are missing: ${i.join(", ")}`,this.id),b.debug(`Displaying configured remotes: ${t.join(", ")}`,this.id),t.map(r=>e.find(a=>a.remoteName===r)).filter(r=>!!r&&!this._sessionIgnoredRemoteNames.has(r.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(e){this._activeIssue=e,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(e){var t,i;if(e===this._activePullRequest)return;const r=(t=this._activePullRequest)==null?void 0:t.number;this._activePullRequest&&(this._activePullRequest.isActive=!1),e&&(e.isActive=!0,(i=e.githubRepository.commentsHandler)==null||i.unregisterCommentController(e.number));const a=e==null?void 0:e.number;this._activePullRequest=e,this._onDidChangeActivePullRequest.fire({old:r,new:a})}get repository(){return this._repository}set repository(e){this._repository=e}get credentialStore(){return this._credentialStore}setFileViewedContext(){var e;const t=(e=this.activePullRequest)==null?void 0:e.getViewedFileStates();t?(lt.setContext(kt.VIEWED_FILES,Array.from(t.viewed)),lt.setContext(kt.UNVIEWED_FILES,Array.from(t.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){lt.setContext(kt.VIEWED_FILES,[]),lt.setContext(kt.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const e=new Promise(t=>{const i=this.onDidChangeRepositories(()=>{i.dispose(),t()})});await this._credentialStore.login(ui.github),await e}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const e=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return e.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),b.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`,this.id)):b.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`,this.id),e}async updateRepositories(e=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(e),this._updatingRepositories}checkForAuthMatch(e){let t=0,i=0;for(const a of e)a.githubServerType===Ri.GitHubDotCom?t++:a.githubServerType===Ri.Enterprise&&i++;let r=this._credentialStore.isAuthenticated(ui.github)||this._credentialStore.isAuthenticated(ui.githubEnterprise);return t>0&&this._credentialStore.isAuthenticated(ui.github)||i>0&&this._credentialStore.isAuthenticated(ui.githubEnterprise)||r&&(r=!1),s.commands.executeCommand("setContext","github:authenticated",r),r}async doUpdateRepositories(e){if(this._git.state==="uninitialized")return b.appendLine("Cannot updates repositories as git is uninitialized",this.id),!1;const t=await this.getActiveRemotes(),i=this.checkForAuthMatch(t);if(this.credentialStore.isAnyAuthenticated()&&t.length===0&&(await this.computeAllUnknownRemotes()).every(Q=>$h.isNeverGitHub(s.Uri.parse(Q.normalizedHost).authority)))return this._onDidLoadRepositories.fire("RepositoriesLoaded"),!0;const r=[],a=[],o=[];this._githubRepositories.forEach(H=>o.push(H));const v=t.filter(H=>this._credentialStore.isAuthenticated(H.authProviderId));for(const H of v){const Q=await this.createGitHubRepository(H,this._credentialStore);a.push(Q.resolveRemote()),r.push(Q)}const A=async H=>{for(const Q of H){this._sessionIgnoredRemoteNames.add(Q.remote.remoteName),this.removeGitHubRepository(Q.remote);const re=r.indexOf(Q);re>-1&&r.splice(re,1)}};return Promise.all(a).then(async H=>{const Q=[];for(let le=0;le<H.length;le++)H[le]||Q.push(r[le]);if(Q.length>0){const le=await this._credentialStore.showSamlMessageAndAuth(Q.map(Ae=>Ae.remote.owner)),pe=le.canceled?[]:await Promise.all(Q.map(Ae=>Ae.resolveRemote())),Se=le.canceled?Q:pe.map((Ae,Oe)=>Ae?void 0:Q[Oe]).filter(Ae=>!!Ae);if(Se.length>0){if(Se.length===r.length)return await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),A(Se)}}this._githubRepositories=r,o.filter(le=>this._githubRepositories.indexOf(le)<0).forEach(le=>le.dispose());const re=o.length!==this._githubRepositories.length?this.gitHubRepositories.filter(le=>!o.some(pe=>pe.remote.equals(le.remote))):[];return re.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&re.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(e),!0):(this.activePullRequest&&this.getMentionableUsers(re.length>0),this.getAssignableUsers(re.length>0),i&&t.length?this._onDidLoadRepositories.fire("RepositoriesLoaded"):i||this._onDidLoadRepositories.fire("NeedsAuthentication"),e||this._onDidChangeRepositories.fire({added:re.length>0}),!0)})}async checkIfMissingUpstream(){var e;try{const i=await(await this.getOrigin()).getMetadata(),r=s.workspace.getConfiguration(Tt);if(i.fork&&i.parent&&r.get(Gt,"add")==="add"){const a=new Qn(i.parent.git_url);if(!this._githubRepositories.some(v=>ve(v.remote.owner,a.owner)===0&&ve(v.remote.repositoryName,a.repositoryName)===0)){const A=!this.repository.state.remotes.some(H=>H.name==="upstream")?"upstream":(e=i.parent.owner)==null?void 0:e.login;if(A){if(this.gitHubRepositories[0].remote.gitProtocol.type===So.SSH?await this.repository.addRemote(A,i.parent.ssh_url):await this.repository.addRemote(A,i.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const Q=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),Q).then(re=>{re===Q&&r.update(Gt,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(t){b.appendLine(`Missing upstream check failed: ${t}`,this.id)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const e=[];return Object.keys(this._assignableUsers).forEach(t=>{e.push(...this._assignableUsers[t])}),e}}async getCachedFromGlobalState(e){b.appendLine(`Trying to use globalState for ${e}.`,this.id);const t=s.Uri.joinPath(this.context.globalStorageUri,e);let i;try{i=await s.workspace.fs.stat(t)}catch{}if(!i){b.appendLine(`GlobalState does not exist for ${e}.`,this.id);return}const r={};if((await Promise.all(this._githubRepositories.map(async o=>{const v=`${o.remote.owner}/${o.remote.repositoryName}.json`,A=s.Uri.joinPath(t,v);let H,Q;try{H=await s.workspace.fs.readFile(A),Q=JSON.parse(H.toString())}catch(re){re instanceof Error&&re.message.includes("Unexpected non-whitespace character after JSON")&&b.error(`Error parsing ${e} cache for ${o.remote.remoteName}.`,this.id)}if(H&&H.toString())return r[o.remote.remoteName]=Q!=null?Q:[],!0}))).every(o=>o))return b.appendLine(`Using globalState ${e} for ${Object.keys(r).length}.`,this.id),r;b.appendLine(`No globalState for ${e}.`,this.id)}async saveInGlobalState(e,t){const i=s.Uri.joinPath(this.context.globalStorageUri,e);await Promise.all(this._githubRepositories.map(async r=>{const a=`${r.remote.owner}/${r.remote.repositoryName}.json`,o=s.Uri.joinPath(i,a);await s.workspace.fs.writeFile(o,new TextEncoder().encode(JSON.stringify(t[r.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const e={};return new Promise(t=>{const i=this._githubRepositories.map(async r=>{const a=await r.getMentionableUsers();e[r.remote.remoteName]=a});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",e).then(()=>t(e))})})}async getMentionableUsers(e){if(e&&delete this._mentionableUsers,this._mentionableUsers)return b.appendLine("Using in-memory cached mentionable users.",this.id),this._mentionableUsers;const t=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),t!=null?t:this._fetchMentionableUsersPromise)}async getAssignableUsers(e){if(e&&delete this._assignableUsers,this._assignableUsers)return b.appendLine("Using in-memory cached assignable users.",this.id),this._assignableUsers;const t=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const i={},r=[];return this._fetchAssignableUsersPromise=new Promise(a=>{const o=this._githubRepositories.map(async v=>{const A=await v.getAssignableUsers();i[v.remote.remoteName]=A.sort(rh),r.push(...A)});Promise.all(o).then(()=>{this._assignableUsers=i,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",i),a(i),this._onDidChangeAssignableUsers.fire(r)})}),t!=null?t:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(e){if(e===qs.Force&&delete this._teamReviewers,this._teamReviewers)return b.appendLine("Using in-memory cached team reviewers.",this.id),this._teamReviewers;const t=e===qs.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(t)return this._teamReviewers=t,t||{};if(!this._fetchTeamReviewersPromise){const i={};return this._fetchTeamReviewersPromise=new Promise(async r=>{var a;const o=new Map;for(const v of this._githubRepositories){if(!o.has(v.remote.owner))try{const H=await v.getOrgTeams(e);o.set(v.remote.owner,H)}catch{break}const A=(a=o.get(v.remote.owner))!=null?a:[];i[v.remote.remoteName]=A.filter(H=>H.repositoryNames.includes(v.remote.repositoryName)).sort(I0)}this._teamReviewers=i,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",i),r(i)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const e={};return new Promise(async t=>{var i;const r=new Map;for(const a of this._githubRepositories){if(!r.has(a.remote.owner))try{const o=await a.getOrgProjects();r.set(a.remote.owner,o)}catch{break}e[a.remote.remoteName]=(i=r.get(a.remote.owner))!=null?i:[]}await this.saveInGlobalState("orgProjects",e),t(e)})}async getOrgProjects(e){if(e)return this.createFetchOrgProjectsPromise();const t=await this.getCachedFromGlobalState("orgProjects");return t!=null?t:this.createFetchOrgProjectsPromise()}async getAllProjects(e,t){const i=!!(await e.getMetadata()).organization,[r,a]=await Promise.all([e.getProjects(),i?this.getOrgProjects(t):void 0]);return[...r!=null?r:[],...a?a[e.remote.remoteName]:[]]}async getOrgTeamsCount(e){return(await e.getMetadata()).organization?e.getOrgTeamsCount():0}async getPullRequestParticipants(e,t){return{participants:await e.getPullRequestParticipants(t),viewer:await this.getCurrentUser(e)}}async getGitHubRemotes(){const e=this._githubRepositories;if(!e||!e.length)return[];const t=e.map(a=>a.remote).flat(),i=await Promise.all(t.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(b.error(`Resolving GitHub remotes failed: ${a}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",he(a))),[])),r=t.map((a,o)=>ps.remoteAsGitHub(a,i[o]));return this.checkForAuthMatch(r)?r:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const e=this._githubRepositories;if(!e||!e.length||!this.repository.getRefs)return[];const t=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(o=>o.name!==void 0).map(o=>o.name),i=[],r=100;for(let o=0;o<t.length;o+=r){const v=t.slice(o,o+r);i.push(v)}const a=[];for(const o of i)a.push(...await Promise.all(o.map(async v=>{const A=await Jn.getMatchingPullRequestMetadataForBranch(this.repository,v);if(A){const{owner:H,prNumber:Q}=A,re=e.find(le=>le.remote.owner.toLocaleLowerCase()===H.toLocaleLowerCase());if(re){const le=await re.getPullRequest(Q);if(le)return le.localBranchName=v,le}}})));return a.filter(o=>o!==void 0)}async getLabels(e,t){const i=e?e.githubRepository:this._githubRepositories.find(H=>H.remote.owner===(t==null?void 0:t.owner)&&H.remote.repositoryName===(t==null?void 0:t.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:a}=await i.ensure();let o=!1,v=1,A=[];do{const H=await a.call(a.api.issues.listLabelsForRepo,{owner:r.owner,repo:r.repositoryName,per_page:100,page:v});A=A.concat(H.data.map(Q=>{var re;return{name:Q.name,color:Q.color,description:(re=Q.description)!=null?re:void 0}})),A=A.sort((Q,re)=>Q.name.localeCompare(re.name)),o=!!H.headers.link&&H.headers.link.indexOf('rel="next"')>-1,v+=1}while(o);return A}async deleteLocalPullRequest(e,t){if(!e.localBranchName)return;await this.repository.deleteBranch(e.localBranchName,t);let i;try{i=await this.repository.getConfig(`branch.${e.localBranchName}.remote`)}catch{}if(!i)return;await Jn.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:v,value:A})=>/^branch.*\.remote$/.test(v)&&A===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(e={fetchNextPage:!1},t,i=0,r=We.All,a){const o=i===0?this._githubRepositories.filter(pe=>this.repository.state.remotes.find(Se=>Se.name===pe.remote.remoteName)):this._githubRepositories;if(!o.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const v=()=>this.totalFetchedPages.get(t)||0,A=pe=>this.totalFetchedPages.set(t,pe);for(const pe of o){const Se=pe.remote.url.toString()+t;this._repositoryPageInformation.get(Se)||this._repositoryPageInformation.set(Se,{pullRequestPage:0,hasMorePages:null})}let H=0;const Q={hasMorePages:!1,items:[],totalCount:0},re=pe=>{H++,pe&&(Q.items=Q.items.concat(pe.items),Q.hasMorePages=pe.hasMorePages,Q.totalCount=pe.totalCount)},le=this._githubRepositories.filter(pe=>{const Se=this._repositoryPageInformation.get(pe.remote.url.toString()+t);return Se&&(e.fetchNextPage===!1||Se.hasMorePages!==!1)});for(let pe=0;pe<le.length;pe++){const Se=le[pe],Ae=Se.remote.url.toString()+t;let Oe=this._repositoryPageInformation.get(Ae);Oe||(b.warn(`No page information for ${Ae}`),Oe={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Ae,Oe));const ue=Oe,ye=async Ee=>{const De=a?await Ws(a,void 0,{base:await Se.getDefaultBranch(),owner:Se.remote.owner,repo:Se.remote.repositoryName}):void 0;switch(i){case 0:return r===We.All?Se.getAllPullRequests(Ee):this.getPullRequestsForCategory(Se,De||"",Ee);case 1:return Se.getIssues(ue.pullRequestPage,De)}};if(e.fetchNextPage?(ue.pullRequestPage++,re(await ye(ue.pullRequestPage)),A(v()+1)):(ue.pullRequestPage===0&&(ue.pullRequestPage=1),(await Promise.all(Array.from({length:ue.pullRequestPage}).map((De,Ue)=>ye(Ue+1)))).forEach(De=>re(De))),ue.hasMorePages=Q.hasMorePages,Q.items.length&&(e.fetchNextPage||e.fetchNextPage===!1&&!e.fetchOnePagePerRepo&&H>=v()))return v()===0&&A(H),{items:Q.items,hasMorePages:ue.hasMorePages,hasUnsearchedRepositories:pe<le.length-1,totalCount:Q.totalCount}}return{items:Q.items,hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:Q.totalCount}}async getPullRequestsForCategory(e,t,i){let r;try{b.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:a,query:o,schema:v}=await e.ensure(),A=(await e.getAuthenticatedUser()).login;r=await e.getMetadata();const{data:H,headers:Q}=await a.call(a.api.search.issuesAndPullRequests,{q:H0(A,t),per_page:Bf,page:i||1}),re=H.items.map(async Ae=>{const Oe=new Qn(Ae.repository_url),ue=await this.createGitHubRepositoryFromOwnerName(Oe.owner,Oe.repositoryName),{data:ye}=await o({query:v.PullRequest,variables:{owner:ue.remote.owner,name:ue.remote.repositoryName,number:Ae.number}});return{data:ye,repo:ue}}),le=!!Q.link&&Q.link.indexOf('rel="next"')>-1,pe=await Promise.all(re),Se=(await Promise.all(pe.map(async Ae=>Ae!=null&&Ae.data.repository?Ae.repo.createOrUpdatePullRequestModel(await $o(Ae.data.repository.pullRequest,Ae.repo)):(b.appendLine("Pull request doesn't appear to exist.",this.id),null)))).filter(Ae=>Ae!==null);return b.debug(`Fetch pull request category ${t} - done`,this.id),{items:Se,hasMorePages:le,totalCount:H.total_count}}catch(a){if(b.error(`Fetching pull request with query failed: ${a}`,this.id),a.status===404)s.window.showWarningMessage(`Fetching pull requests for remote ${e.remote.remoteName} with query failed, please check if the repo ${r==null?void 0:r.full_name} is valid.`);else throw a}}isPullRequestAssociatedWithOpenRepository(e){const t=e.githubRepository.remote;return!!this.repository.state.remotes.find(r=>r.name===t.remoteName)}async getPullRequests(e,t={fetchNextPage:!1},i){const r=e.toString()+(i||"");return this.fetchPagedData(t,r,0,e,i)}async createMilestone(e,t){try{const{data:i}=await e.octokit.call(e.octokit.api.issues.createMilestone,{owner:e.remote.owner,repo:e.remote.repositoryName,title:t});return{title:i.title,dueOn:i.due_on,createdAt:i.created_at,id:i.node_id,number:i.number}}catch(i){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,he(i)));return}}async getRepoForIssue(e){const t=new jl(e.repositoryName,e.repositoryUrl,new Qn(e.repositoryUrl));return this.createGitHubRepository(t,this.credentialStore,!0,!0)}async getIssues(e){if(this.gitHubRepositories.length!==0)try{const t=await this.fetchPagedData({fetchNextPage:!1,fetchOnePagePerRepo:!1},`issuesKey${e}`,1,We.All,e),i={items:[],hasMorePages:t.hasMorePages,hasUnsearchedRepositories:t.hasUnsearchedRepositories,totalCount:t.totalCount};for(const r of t.items){const a=await this.getRepoForIssue(r);i.items.push(new Nn(a,a.remote,r))}return i}catch(t){return b.error(`Error fetching issues with query ${e}: ${t instanceof Error?t.message:t}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const e=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let t=0;for(const i of e)i!==void 0&&(t=Math.max(t,i));return t}async getIssueTemplates(){const e="{docs,.github}/ISSUE_TEMPLATE/*.md";return s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,e),null)}async getPullRequestTemplateBody(e){try{const t=await this.getPullRequestTemplateWithCache(e);return t||this.getOwnerPullRequestTemplate(e)}catch(t){b.error(`Error fetching pull request template for ${e}: ${t instanceof Error?t.message:t}`,this.id)}}async getPullRequestTemplateWithCache(e){const t=`${dy}+${this.repository.rootUri.toString()}`,i=this.getPullRequestTemplate(e).then(o=>(o?this.context.workspaceState.update(t,o):this.context.workspaceState.update(t,null),o)),r=this.context.workspaceState.keys().includes(t),a=this.context.workspaceState.get(t);if(r){if(a===null)return;if(a)return a}return i}async getOwnerPullRequestTemplate(e){const t=await this.createGitHubRepositoryFromOwnerName(e,".github");if(!t)return;const i=await t.getPullRequestTemplates();if(i&&(i==null?void 0:i.length)>0)return i[0]}async getPullRequestTemplate(e){const t=this.gitHubRepositories.find(r=>r.remote.owner===e);if(!t)return;const i=await t.getPullRequestTemplates();return i?i[0]:void 0}async getPullRequestDefaults(e){var t,i;if(!e&&!this.repository.state.HEAD)throw new oy(this.repository);const r=await this.getOrigin(e),a=await r.getMetadata(),o=(t=s.workspace.getConfiguration(Tt).inspect(Ti))==null?void 0:t.defaultValue,v=s.workspace.getConfiguration(Tt).get(Ti),A=!v||(o==null?void 0:o.every((Q,re)=>v[re]===Q)),H=a.fork&&a.parent&&A?a.parent:await(this.findRepo(Zs("upstream"))||r).getMetadata();return{owner:H.owner.login,repo:H.name,base:(i=dh())!=null?i:H.default_branch}}async getPullRequestDefaultRepo(){const e=await this.getPullRequestDefaults();return this.findRepo(t=>t.remote.owner===e.owner&&t.remote.repositoryName===e.repo)||this._githubRepositories[0]}async getMetadata(e){const t=this.findRepo(Zs(e));return t&&t.getMetadata()}async getHeadCommitMessage(){const{repository:e}=this;if(e.state.HEAD&&e.state.HEAD.commit){const{message:t}=await e.getCommit(e.state.HEAD.commit);return t}return""}async getTipCommitMessage(e){b.debug(`Git tip message for branch ${e} - enter`,this.id);const{repository:t}=this;let{commit:i}=await t.getBranch(e),r="",a=0;do{if(i){let o=await t.getCommit(i);if(o.parents.length<=1){r=o.message;break}else i=o.parents[0]}a++}while(r===""&&i&&a<5);return b.debug(`Git tip message for branch ${e} - done`,this.id),r}async getOrigin(e){if(!this._githubRepositories.length)throw new Kh(this.repository);const t=e?e.upstream:this.upstreamRef;if(t){const a=this.findRepo(Zs(t.remote));if(!a){const o=(await this.getAllGitHubRemotes()).find(v=>v.remoteName===t.remote);if(o)return this.createAndAddGitHubRepository(o,this._credentialStore);throw b.error(`The remote '${t.remote}' is not a GitHub repository.`,this.id),new ly(this.repository.state.HEAD.name,t,"is not a GitHub repo")}return a}const[i,...r]=this._githubRepositories;return r.length&&(this.findRepo(Zs("origin"))||this.findRepo(cy))||i}findRepo(e){return this._githubRepositories.filter(e)[0]}get upstreamRef(){const{HEAD:e}=this.repository.state;return e&&e.upstream}async createPullRequest(e){var t;const i=this._githubRepositories.find(a=>a.remote.owner===e.owner&&a.remote.repositoryName===e.repo);if(!i)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);let r;try{r=await i.createPullRequest(e);const a=e.head.indexOf(":"),o=e.head.slice(a+1);return await Jn.associateBranchWithPullRequest(this._repository,r,o),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(e.draft||"").toString()}),r}catch(a){if(a.message.indexOf("No commits between ")>-1){if((t=this._repository.state.HEAD)!=null&&t.ahead){const o=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.push(),this.createPullRequest(e)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const o=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.add(this._repository.state.indexChanges.map(A=>A.uri.fsPath)),await this.repository.commit(`${e.title}${e.body?`
${e.body}`:""}`),await this._repository.push(),this.createPullRequest(e)):void 0}}if(b.error(`Creating pull requests failed: ${a}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(e.draft||"").toString()}),r)return r;throw new Error(he(a))}}async createIssue(e){try{const t=this._githubRepositories.find(o=>o.remote.owner===e.owner&&o.remote.repositoryName===e.repo);if(!t)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);await t.ensure();const{data:i}=await t.octokit.call(t.octokit.api.issues.create,e),r=Yf(i,t),a=new Nn(t,t.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(t){b.error(` Creating issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",he(t)))}}async assignIssue(e,t){try{const i=this._githubRepositories.find(a=>a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName);if(!i)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);await i.ensure();const r={assignees:[t],owner:e.remote.owner,repo:e.remote.repositoryName,issue_number:e.number};await i.octokit.call(i.octokit.api.issues.addAssignees,r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){b.error(`Assigning issue failed: ${i}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",he(i)))}}getCurrentUser(e){return e||(e=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(e.remote.authProviderId)}async mergePullRequest(e,t,i,r,a){var o,v,A;b.debug(`Merging PR: ${e.number} method: ${r} for user: "${a}" - enter`,this.id);const{mutate:H,schema:Q}=await e.githubRepository.ensure(),re=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,le=this.repository.state.HEAD&&this.repository.state.HEAD.commit,pe=e.head&&e.head.sha,Se=this.repository.state.workingTreeChanges.length>0;let Ae=(o=e.head)==null?void 0:o.sha;if(re===pe){if(Ae=le,le!==pe){const{ahead:ue}=this.repository.state.HEAD,ye=s.l10n.t(`You have {0} unpushed commits on this PR branch.

Would you like to proceed anyway?`,ue!=null?ue:"unknown"),Ee=s.l10n.t(`You have 1 unpushed commit on this PR branch.

Would you like to proceed anyway?`);if(ue&&await s.window.showWarningMessage(ue>1?ye:Ee,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("unpushed changes")}}if(Se&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("uncommitted changes")}}const Oe={pullRequestId:e.graphNodeId,commitHeadline:t,commitBody:i,expectedHeadOid:Ae,authorEmail:a,mergeMethod:(A=r==null?void 0:r.toUpperCase())!=null?A:(v=s.workspace.getConfiguration(Tt).get(ki,"merge"))==null?void 0:v.toUpperCase()};return H({mutation:Q.MergePullRequest,variables:{input:Oe}}).then(async ue=>{var ye,Ee;return b.debug(`Merging PR: ${e.number}} - done`,this.id),this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),{merged:!0,message:"",timeline:await vd((Ee=(ye=ue.data)==null?void 0:ye.mergePullRequest.pullRequest.timelineItems.nodes)!=null?Ee:[],await e.getRestOnlyTimelineEvents(),e.githubRepository)}}).catch(ue=>{this.telemetry.sendTelemetryErrorEvent("pr.merge.failure");const ye=ue.graphQLErrors;if(ye!=null&&ye.length&&ye.find(Ee=>{var De;return Ee.type===Hf.Unprocessable&&((De=Ee.message)==null?void 0:De.includes("Head branch was modified"))}))return{merged:!1,message:s.l10n.t("Head branch was modified. Pull, review, then try again.")};throw ue})}async deleteBranch(e){await e.githubRepository.deleteBranch(e)}async getBranchDeletionItems(){const e=await this.repository.getConfigs(),t=new Map;e.forEach(a=>{const o=a.key,v=/^branch\.(.*)\.(.*)$/.exec(o);if(v&&v.length===3){const A=v[1];t.has(A)||t.set(A,{});const H=t.get(A);if(v[2]==="remote"&&(H.remote=a.value),v[2]==="github-pr-owner-number"){const Q=Jn.parsePullRequestMetadata(a.value);H!=null&&H.metadata||(H.metadata=[]),Q&&(H.metadata.find(le=>le.owner===Q.owner&&le.repositoryName===Q.repositoryName&&le.prNumber===Q.prNumber)||H.metadata.push(Q))}t.set(A,H)}}),b.debug(`Found ${t.size} possible branches to delete`,this.id),b.trace(`Branches to delete: ${JSON.stringify(Array.from(t.keys()))}`,this.id);const i=[];t.forEach((a,o)=>{var v;if(a.metadata){const A=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl,H=a.metadata.find(Q=>{var re;return Q.owner===(A==null?void 0:A.owner)&&Q.repositoryName===(A==null?void 0:A.repositoryName)&&Q.prNumber===((re=this.activePullRequest)==null?void 0:re.number)});H?(b.debug(`Skipping ${H.prNumber}, active PR is #${(v=this.activePullRequest)==null?void 0:v.number}`,this.id),b.trace(`Skipping active branch ${o}`,this.id)):i.push({label:`${o}`,picked:!1,metadata:a.metadata})}});const r=await Promise.all(i.map(async a=>((await Promise.all(a.metadata.map(async v=>{var A,H;const Q=this._githubRepositories.find(Se=>Se.remote.owner.toLowerCase()===v.owner.toLowerCase()&&Se.remote.repositoryName.toLowerCase()===v.repositoryName.toLowerCase());if(!Q)return a;const{remote:re,query:le,schema:pe}=await Q.ensure();try{const{data:Se}=await le({query:pe.PullRequestState,variables:{owner:re.owner,name:re.repositoryName,number:v.prNumber}});return v.isOpen=((A=Se.repository)==null?void 0:A.pullRequest.state)==="OPEN",((H=Se.repository)==null?void 0:H.pullRequest.state)!=="OPEN"}catch{}return!1}))).every(v=>v)&&(a.legacy=!0),a)));return r.forEach(a=>{a.metadata.length!==0&&(a.description=`${a.metadata[0].repositoryName}/${a.metadata[0].owner} ${a.metadata.map(o=>{const v=`#${o.prNumber}`;return o.isOpen?s.l10n.t("{0} is open",v):v}).join(", ")}`,a.legacy&&(a.picked=!0))}),r}gitRelativeRootPath(e){return L.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}async cleanupAfterPullRequest(e,t){var i;const r=await this.getPullRequestDefaults();if(e===r.base){b.debug("Not cleaning up default branch.",this.id);return}if(t.author.login===(await this.getCurrentUser()).login){b.debug("Not cleaning up user's branch.",this.id);return}const o=(i=(await this.repository.getBranch(e)).upstream)==null?void 0:i.remote;try{b.debug(`Cleaning up branch ${e}`,this.id),await this.repository.deleteBranch(e)}catch{return}if(!o)return;const v=await this.getDeleatableRemotes(void 0);v.has(o)&&v.get(o).createdForPullRequest&&(b.debug(`Cleaning up remote ${o}`,this.id),this.repository.removeRemote(o))}async getDeleatableRemotes(e){const t=await this.repository.getConfigs(),i=new Map;return t.forEach(r=>{const a=r.key;let o=/^branch\.(.*)\.(.*)$/.exec(a);if(o&&o.length===3){const v=o[1];if(o[2]==="remote"){const A=r.value;i.has(A)||i.set(A,{branches:new Set}),e!=null&&e.has(v)||i.get(A).branches.add(v)}}if(o=/^remote\.(.*)\.(.*)$/.exec(a),o&&o.length===3){const v=o[1];i.has(v)||i.set(v,{branches:new Set});const A=i.get(v);o[2]==="github-pr-remote"&&(A.createdForPullRequest=r.value==="true"),o[2]==="url"&&(A.url=r.value)}}),i}async getRemoteDeletionItems(e){const t=await this.getDeleatableRemotes(e),i=[];return t.forEach((r,a)=>{if(r.branches.size===0){let o=r.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");r.url&&(o=o?`${o} ${r.url}`:r.url),i.push({label:a,description:o,picked:r.createdForPullRequest,remote:a})}}),i}async deleteBranches(e,t,i,r,a,o){const v=()=>{a++,i.report({message:s.l10n.t("Deleted {0} of {1} branches",a,r)})},A=async H=>{await Jn.associateBaseBranchWithBranch(this.repository,H,void 0),await Jn.associateBranchWithPullRequest(this.repository,void 0,H)};for(const H of e)await A(H.label);await $e(e,5,async H=>{try{await this.repository.deleteBranch(H.label,!0),await Jn.getMatchingPullRequestMetadataForBranch(this.repository,H.label)&&console.log(`Branch ${H.label} was not deleted`),v()}catch(Q){if(typeof Q.stderr=="string"&&Q.stderr.includes("not found"))t.add(H.label),v();else if(typeof Q.stderr=="string"&&Q.stderr.includes("unable to access")&&o)o.push(H);else throw Q}}),o&&o.length&&await this.deleteBranches(o,t,i,r,a)}async deleteLocalBranchesNRemotes(){return new Promise(async e=>{const t=s.window.createQuickPick();t.canSelectMany=!0,t.ignoreFocusOut=!0,t.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),t.show(),t.busy=!0;const i=await this.getBranchDeletionItems(),r=await this.getPullRequestDefaults();t.items=i,t.selectedItems=i.filter(o=>o.picked&&!(o.label===r.base&&o.metadata.find(v=>v.owner===r.owner&&v.repositoryName===r.repo))),t.busy=!1,i.length===0&&(t.canSelectMany=!1,t.items=[{label:s.l10n.t("No local branches to delete"),picked:!1}]);let a=!0;t.onDidAccept(async()=>{if(t.busy=!0,a){const o=t.selectedItems,v=new Set;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Cleaning up")},async H=>{try{await this.deleteBranches(o,v,H,o.length,0,[])}catch(Q){t.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",Q.message,Q.stderr))}}),a=!1;const A=await this.getRemoteDeletionItems(v);A&&A.length?(t.canSelectMany=!0,t.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),t.items=A,t.selectedItems=A.filter(H=>H.picked)):t.hide()}else{const o=t.selectedItems;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Deleting {0} remotes...",o.length)},async()=>{await $e(o,5,async v=>{await this.repository.removeRemote(v.label)})}),t.hide()}t.busy=!1}),t.onDidHide(()=>{e()})})}async revert(e,t,i,r){const a=this._githubRepositories.find(v=>v.remote.owner===e.remote.owner&&v.remote.repositoryName===e.remote.repositoryName);if(!a)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);return await a.revertPullRequest(e.graphNodeId,t,i,r)}async getPullRequestRepositoryDefaultBranch(e){return await e.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(e){return await e.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(e,t,i){var r;return await((r=this.gitHubRepositories.find(a=>a.remote.owner===t&&a.remote.repositoryName===i))==null?void 0:r.mergeQueueMethodForBranch(e))}async fulfillPullRequestMissingInfo(e){try{if(!e.isResolved())return;b.debug("Fulfill pull request missing info - start",this.id);const t=e.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!e.base){const{data:a}=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:e.number});e.update(Bl(a,t))}if(!e.mergeBase){const{data:a}=await i.call(i.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${e.base.repositoryCloneUrl.owner}:${e.base.ref}`,head:`${e.head.repositoryCloneUrl.owner}:${e.head.ref}`});e.mergeBase=a.merge_base_commit.sha}}catch(t){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",he(t)))}b.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(e,t){let i=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===e.toLowerCase()&&r.remote.repositoryName.toLowerCase()===t.toLowerCase());return i||(b.appendLine(`GitHubRepository not found: ${e}/${t}`,this.id),i=await this.createGitHubRepositoryFromOwnerName(e,t)),i}async resolveIssueOrPullRequest(e,t,i){let r=await this.resolveIssue(e,t,i,!0);return r||(r=await this.resolvePullRequest(e,t,i)),r}async resolvePullRequest(e,t,i){const r=await this.resolveItem(e,t);if(b.appendLine(`Found GitHub repo for pr #${i}: ${r?"yes":"no"}`,this.id),r){const a=await r.getPullRequest(i);return b.appendLine(`Found GitHub pr repo for pr #${i}: ${a?"yes":"no"}`,this.id),a}}async resolveIssue(e,t,i,r=!1){const a=await this.resolveItem(e,t);if(a)return a.getIssue(i,r)}async resolveUser(e,t,i){var r;b.debug(`Fetch user ${i}`,this.id);const a=await this.createGitHubRepositoryFromOwnerName(e,t),{query:o,schema:v}=await a.ensure();try{const{data:A}=await o({query:v.GetUser,variables:{login:i}});return x0(A,a)}catch(A){(r=A.message)!=null&&r.startsWith("GraphQL error: Could not resolve to a User with the login of")||b.warn(A.message)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await Jn.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(e,t,i,r){try{return t?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,r):this.getMatchingPullRequestMetadataFromGitHubWithUrl(e,i,r)}catch(a){return b.error(`Unable to get matching pull request metadata from GitHub: ${a}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(e,t,i){var r,a;if(b.debug(`Searching GitHub for a PR with branch ${i} and remote ${t}`,this.id),!t)return null;const o=new Qn(t);let v=this.findRepo(H=>ve(H.remote.owner,o.owner)===0&&ve(H.remote.repositoryName,o.repositoryName)===0);if(!v&&this.gitHubRepositories.length>0){const H=Vo(o.repositoryName,t,o);H&&(v=await this.createGitHubRepository(H,this.credentialStore,!0,!0))}const A=await this.doGetMatchingPullRequestMetadataFromGitHub(v,i);if(A&&e.upstream===void 0&&v&&e.name){const H=await Jn.createRemote(this.repository,v==null?void 0:v.remote,o),Q=`refs/remotes/${H}/${(r=A.model.head)==null?void 0:r.name}`;await this.repository.fetch({remote:H,ref:(a=A.model.head)==null?void 0:a.name}),await this.repository.setBranchUpstream(e.name,Q)}return A}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,t){var i;if(b.debug(`Searching GitHub for a PR with branch ${t} and remote ${e}`,this.id),!e)return null;let r=this.gitHubRepositories.find(a=>a.remote.remoteName===e);if(!r&&this.gitHubRepositories.length>0){const a=this.repository.state.remotes.find(H=>H.name===e),o=(i=a==null?void 0:a.fetchUrl)!=null?i:a==null?void 0:a.pushUrl;if(!o)return null;const v=new Qn(o!=null?o:""),A=Vo(e,o,v);A&&(r=await this.createGitHubRepository(A,this.credentialStore,!0,!0))}return this.doGetMatchingPullRequestMetadataFromGitHub(r,t)}async doGetMatchingPullRequestMetadataFromGitHub(e,t){if(!e||!t)return null;const i=await(e==null?void 0:e.getMetadata());if(!(i!=null&&i.owner))return null;const r=this.gitHubRepositories.filter(a=>{var o,v,A;return i.fork?a.remote.owner===((v=(o=i.parent)==null?void 0:o.owner)==null?void 0:v.login)&&a.remote.repositoryName===i.parent.name:a.remote.owner===((A=i.owner)==null?void 0:A.login)&&a.remote.repositoryName===i.name});for(const a of r){const o=await a.getPullRequestForBranch(t,i.owner.login);if(o)return{owner:a.remote.owner,repositoryName:a.remote.repositoryName,prNumber:o.number,model:o}}return null}async checkoutExistingPullRequestBranch(e,t){return await Jn.checkoutExistingPullRequestBranch(this.repository,e,t)}async getBranchNameForPullRequest(e){return await Jn.getBranchNRemoteForPullRequest(this.repository,e)}async fetchAndCheckout(e,t){await Jn.fetchAndCheckout(this.repository,this._allGitHubRemotes,e,t)}async checkout(e){return this.repository.checkout(e)}async tryMergeBaseIntoHead(e,t){var i;if(await this.isHeadUpToDateWithBase(e))return!0;const r=s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev";if(!e.isActive||r){const v=await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Finding conflicts...")},()=>sy(e));if(v===void 0)return await s.window.showErrorMessage(s.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:r?void 0:s.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let A=!0;if(e.item.mergeable===qt.Conflict){const H=await Promise.all([this.createGitHubRepositoryFromOwnerName(e.head.owner,e.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(e.base.owner,e.base.repositoryCloneUrl.repositoryName)]),Q=new ey(this.telemetry,v,H);A=await Q.enterConflictResolutionAndWaitForExit(),Q.dispose()}return A?e.updateBranch(v):!1}if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const a=(i=J0(this.repository,e.base))==null?void 0:i.name;if(!a)return!1;const o=`${a}/${e.base.ref}`;if(await s.window.withProgress({location:s.ProgressLocation.Notification},async v=>{v.report({message:s.l10n.t("Fetching branch {0}",o)}),await this.repository.fetch({ref:e.base.ref,remote:a}),v.report({message:s.l10n.t("Merging branch {0} into {1}",o,this.repository.state.HEAD.name)});try{await this.repository.merge(o)}catch(A){if(A.gitErrorCode!==ot.Conflict)throw A}}),e.item.mergeable===qt.Conflict){const v=await qd.begin(this.repository,e.base.ref,this.repository.state.HEAD.name,t);await(v==null?void 0:v.finished()),v==null||v.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(e){if(!e.head)return!1;const t=this._githubRepositories.find(o=>o.remote.owner===e.remote.owner&&o.remote.repositoryName===e.remote.repositoryName),i=`${e.head.owner}:${e.head.ref}`,r=`${e.base.owner}:${e.base.ref}`,a=await(t==null?void 0:t.compareCommits(r,i));return(a==null?void 0:a.behind_by)===0}async fetchById(e,t){const i=await e.getPullRequest(t);if(i)return i;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",t,`${e.remote.owner}/${e.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(e){var t,i,r,a,o;let v;try{if(v=await this.repository.getBranch(e),((t=this.repository.state.HEAD)==null?void 0:t.name)===v.name){const Q=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),Q).then(re=>{if(re===Q)return nu.checkout()});return}if(s.workspace.getConfiguration(ir).get(nr,!1)&&v.upstream)try{await this.repository.fetch({remote:v.upstream.remote,ref:`${v.upstream.name}:${v.name}`})}catch(Q){if((i=Q.stderr)!=null&&i.startsWith&&Q.stderr.startsWith("fatal: refusing to fetch into branch"))s.window.showErrorMessage(s.l10n.t("Unable to fetch the {0} branch. There is some state (bisect, unpushed commits, etc.) on {0} that is preventing the fetch.",[v.name]));else throw Q}v.upstream&&e===v.upstream.name?await this.repository.checkout(e):await nu.checkout();const H=[];for(const Q of s.window.tabGroups.all)for(const re of Q.tabs){let le;re.input instanceof s.TabInputText?le=re.input.uri:re.input instanceof s.TabInputTextDiff?le=re.input.original:re.input instanceof s.TabInputWebview&&(le=re.input.viewType),(le instanceof s.Uri&&le.scheme===Vt.Review||typeof le=="string"&&le.endsWith(ld))&&H.push(s.window.tabGroups.close(re))}await Promise.all(H)}catch(A){if(A.gitErrorCode&&A.gitErrorCode===ot.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}b.error(`Exiting failed: ${A}. Target branch ${e} used to find branch ${(r=v==null?void 0:v.name)!=null?r:"unknown"} with upstream ${(o=(a=v==null?void 0:v.upstream)==null?void 0:a.name)!=null?o:"unknown"}.`,this.id),s.window.showErrorMessage(`Exiting failed: ${A}`)}}async pullBranchConfiguration(){return this.context.globalState.get(Ud,!1)&&(this.context.globalState.update(Ud,!1),await s.workspace.getConfiguration(Tt).update(Rt,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(Tt).get(Rt,"prompt")}async pullBranch(e){var t;((t=this._repository.state.HEAD)==null?void 0:t.name)===e.name&&await this._repository.pull()}async promptPullBrach(e,t,i){if(!this._updateMessageShown||i){this._updateMessageShown=!0;const r=s.l10n.t("Pull"),a=s.l10n.t("Always Pull"),o=s.l10n.t("Never Show Again"),v=[r];i||v.push(a,o),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${e.number}: ${e.title}`),{},...v)===r?(await this.pullBranch(t),this._updateMessageShown=!1):o?await s.workspace.getConfiguration(Tt).update(Rt,"never",s.ConfigurationTarget.Global):a&&(await s.workspace.getConfiguration(Tt).update(Rt,"always",s.ConfigurationTarget.Global),await this.pullBranch(t))}}async checkBranchUpToDate(e,t){var i,r;if(((i=this.activePullRequest)==null?void 0:i.id)!==e.id)return;const a=this._repository.state.HEAD;if(a){const o=a.upstream?a.upstream.remote:null,v=a.upstream?a.upstream.name:a.name;if(o){try{t&&s.workspace.getConfiguration(Tt).get(Mr,!0)&&await this._repository.fetch(o,v)}catch(H){H.stderr&&(H.stderr.startsWith("fatal: couldn't find remote ref")||H.stderr.includes("key_exchange_identification")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",H.stderr))),b.error(`Error when fetching: ${(r=H.stderr)!=null?r:H}`,this.id)}const A=await this.pullBranchConfiguration();if(a.behind!==void 0&&a.behind>0)switch(A){case"always":{const H=s.workspace.getConfiguration(ir).get(Ir,!1);return H?this.promptPullBrach(e,a,H):this.pullBranch(a)}case"prompt":return this.promptPullBrach(e,a);case"never":return}}}}findExistingGitHubRepository(e){return this._githubRepositories.find(t=>t.remote.owner.toLowerCase()===e.owner.toLowerCase()&&t.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||t.remote.remoteName===e.remoteName))}async createAndAddGitHubRepository(e,t,i){const r=this._id+this._githubRepositories.length*.1,a=new dr(r,ps.remoteAsGitHub(e,await this._githubManager.isGitHub(e.gitProtocol.normalizeUri())),this.repository.rootUri,t,this.telemetry,i);return this._githubRepositories.push(a),a}removeGitHubRepository(e){const t=this._githubRepositories.findIndex(i=>i.remote.owner.toLowerCase()===e.owner.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||i.remote.remoteName===e.remoteName));t>-1&&this._githubRepositories.splice(t,1)}async createGitHubRepository(e,t,i,r=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var a;return(a=this.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName,remoteName:r?void 0:e.remoteName}))!=null?a:await this.createAndAddGitHubRepository(e,t,i)})}async createGitHubRepositoryFromOwnerName(e,t){var i,r;const a=this.findExistingGitHubRepository({owner:e,repositoryName:t});if(a)return a;const v=Na(this.repository).find(H=>H.owner===e&&H.repositoryName===t),A=(i=v==null?void 0:v.url)!=null?i:`https://github.com/${e}/${t}`;return this.createAndAddGitHubRepository(new jl((r=v==null?void 0:v.remoteName)!=null?r:t,A,new Qn(A)),this._credentialStore)}async findUpstreamForItem(e){let t,i;for(const a of this.gitHubRepositories){if(!t&&a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName){t=a;continue}const o=await a.getRepositoryForkDetails();if(o&&o.isFork&&o.parent.owner.login===e.remote.owner&&o.parent.name===e.remote.repositoryName){const v=await a.getViewerPermission();if(v===Nr.Admin||v===Nr.Maintain||v===Nr.Write){i=a.remote;break}}}let r=!1;if(t&&!i){const a=await e.githubRepository.getViewerPermission();(a===Nr.Read||a===Nr.Triage||a===Nr.Unknown)&&(r=!0)}return{needsFork:r,upstream:t,remote:i}}async forkWithProgress(e,t,i,r){e.report({message:s.l10n.t("Forking {0}...",i)});const a=await t.fork();if(e.report({increment:50}),!a){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",i));return}const o=r.state.remotes.length>1?"origin":r.state.remotes[0].name;e.report({message:s.l10n.t("Adding remotes. This may take a few moments.")});const v=this.gitHubRepositories.length;return await r.renameRemote(o,"upstream"),await r.addRemote(o,a),await new Promise(A=>{if(this.gitHubRepositories.length===v){const H=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>v&&(H.dispose(),A())})}else A()}),e.report({increment:50}),o}async doFork(e,t,i){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async r=>{try{return this.forkWithProgress(r,e,t,i)}catch(a){s.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(e){const t=`${e.remote.owner}/${e.remote.repositoryName}`,i=s.l10n.t("Fork"),r=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",t),{modal:!0},i,r)){case i:return this.doFork(e,t,this.repository);case r:return!1;default:return}}async publishBranch(e,t){const i=await this.createGitHubRepository(e,this.credentialStore),r=await i.getViewerPermission();let a;if(r===Nr.Read||r===Nr.Triage||r===Nr.Unknown){const o=await this.tryOfferToFork(i);if(!o)return;a=(await this.getGitHubRemotes()).find(v=>v.remoteName===o)}else a=(await this.getGitHubRemotes()).find(o=>o.remoteName===e.remoteName);if(a)try{return await this._repository.push(a.remoteName,t,!0),await this._repository.status(),a}catch(o){if(o.gitErrorCode===ot.PushRejected){s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0});return}if(o.gitErrorCode===ot.RemoteConnectionError){s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0});return}throw o}}saveLastUsedEmail(e){return this.context.globalState.update(Vh,e)}async getPreferredEmail(e){if(await this.credentialStore.getIsEmu(e.remote.authProviderId))return;const i=await e.githubRepository.getAuthenticatedUserEmails(),r=A=>A&&i.find(H=>H.toLowerCase()===A.toLowerCase()),a=await Jn.getEmail(this.repository);let o=r(a);if(o)return o;const v=this.context.globalState.get(Vh);return o=r(v),o||i[0]}getTitleAndDescriptionProvider(e){return this._git.getTitleAndDescriptionProvider(e)}getAutoReviewer(){return this._git.getReviewerCommentsProvider()}dispose(){this._onDidDispose.fire(),super.dispose()}};Bi(Yh,"ID","FolderRepositoryManager");let Js=Yh;function TE(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const cy=n=>{const{currentUser:e=null}=n.octokit;return e&&n.remote.owner===e.login},Zs=n=>({remote:{remoteName:e}})=>e===n,fy=async n=>{const e=await n;if(!e)return;const t=e.indexOf(`
`);return{title:t===-1?e:e.substr(0,t),body:t===-1?"":e.slice(t+1).trim()}};var hy=Object.defineProperty,my=(n,e,t)=>e in n?hy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xh=(n,e,t)=>my(n,typeof e!="symbol"?e+"":e,t);class py{constructor(){Xh(this,"_onDidChangeFile",new s.EventEmitter),Xh(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,i){}delete(e,t){}rename(e,t,i){}}class Jh extends py{constructor(e,t){super(),this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){b.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const i=new Promise(o=>{t=this.gitAPI.onDidOpenRepository(()=>{b.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,o()})});let r;const a=new Promise(o=>{r=setTimeout(()=>{b.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),o()},e)});await Promise.race([i,a]),r&&clearTimeout(r),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}}var vy=Object.defineProperty,gy=(n,e,t)=>e in n?vy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,by=(n,e,t)=>gy(n,typeof e!="symbol"?e+"":e,t);class yy extends Jh{constructor(e,t,i){super(t,i),this.reposManagers=e,by(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,i,r){const a=t.equals(i.activePullRequest);return e.map(o=>o instanceof ur?new zs(i,o,t):new gs(i,t,o,a,r))}waitForGitHubRepos(e,t){return new Promise(i=>{const r=setTimeout(()=>{a.dispose(),i()},t),a=e.onDidLoadRepositories(o=>{o===aa.RepositoriesLoaded&&(clearTimeout(r),a.dispose(),i())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const i=this.reposManagers.getManagerForFile(e);if(!i)return;let r=i.findRepo(H=>H.remote.remoteName===t.remoteName);if(r||(await this.waitForGitHubRepos(i,1e4),r=i.findRepo(H=>H.remote.remoteName===t.remoteName)),!r)return;const a=await i.resolvePullRequest(r.remote.owner,r.remote.repositoryName,t.prNumber);if(!a)return;const o=await a.getFileChangesInfo(),v=a.mergeBase;if(!v)return;const A=this.resolveChanges(o,a,i,v);this.registerTextDocumentContentProvider(a.number,async H=>{const Q=fn(H);if(!Q)return"";const re=A.find(le=>le.fileName===Q.fileName);return re?Vd(i,a,Q,re):(b.error(`Cannot find content for document ${H.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const i=this._prFileChangeContentProviders[t];if(i){const r=await i(e);return typeof r=="string"?new TextEncoder().encode(r):r}}async readFile(e){var t;const i=fn(e);if(!i||i.prNumber===void 0)return new TextEncoder().encode("");const r=await this.readFileWithProvider(e,i.prNumber);return r||(await this.tryRegisterNewProvider(e,i),(t=await this.readFileWithProvider(e,i.prNumber))!=null?t:new TextEncoder().encode(""))}}let $d;function Gd(n){return!$d&&n&&($d=new yy(n.reposManager,n.gitAPI,n.credentialStore)),$d}async function Vd(n,e,t,i){if(t.isBase&&i.status===Ht.ADD||!t.isBase&&i.status===Ht.DELETE)return"";const r=await i.diffHunks();let a=!1;if(i instanceof gs&&(a=await i.isPartial()),i instanceof zs||i instanceof gs&&a)try{return t.isBase?e.githubRepository.getFile(i.previousFileName||i.fileName,t.baseCommit):e.githubRepository.getFile(i.fileName,t.headCommit)}catch(o){return b.error(`Fetching file content failed: ${o}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(v=>{v==="Open on GitHub"&&i.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(i.blobUrl))}),""}if(i instanceof gs)if(i.status===Ht.ADD||i.status===Ht.DELETE)if(t.isBase){const v=[];for(let A=0;A<r.length;A++)for(let H=0;H<r[A].diffLines.length;H++){const Q=r[A].diffLines[H];Q.type===Xi.Add||(Q.type===Xi.Delete?v.push(Q.text):Q.type===Xi.Control||v.push(Q.text))}return v.join(`
`)}else{const v=[];for(let A=0;A<r.length;A++)for(let H=0;H<r[A].diffLines.length;H++){const Q=r[A].diffLines[H];Q.type===Xi.Add?v.push(Q.text):Q.type===Xi.Delete||Q.type===Xi.Control||v.push(Q.text)}return v.join(`
`)}else{const v=i.status===Ht.RENAME?i.previousFileName:i.fileName,A=s.Uri.joinPath(n.repository.rootUri,v),H=await n.repository.show(t.baseCommit,A.fsPath);return t.isBase?H:zr(H,i.patch)}return""}var wy=Object.defineProperty,ky=(n,e,t)=>e in n?wy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zh=(n,e,t)=>ky(n,typeof e!="symbol"?e+"":e,t);class _y{constructor(){Zh(this,"_progress",Promise.resolve()),Zh(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var Sy=Object.defineProperty,Ry=(n,e,t)=>e in n?Sy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,au=(n,e,t)=>Ry(n,typeof e!="symbol"?e+"":e,t);class Ey{constructor(){au(this,"_localFileChanges"),au(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),au(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),au(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}var Ny=Object.defineProperty,Ty=(n,e,t)=>e in n?Ny(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Tn=(n,e,t)=>Ty(n,typeof e!="symbol"?e+"":e,t);const em=class Mv extends g{constructor(e,t,i,r,a,o,v,A,H,Q,re){super(),this._id=e,this._context=t,this._repository=i,this._folderRepoManager=r,this._telemetry=a,this.changesInPrDataProvider=o,this._pullRequestsTree=v,this._showPullRequest=A,this._activePrViewCoordinator=H,this._createPullRequestHelper=Q,this._gitApi=re,Tn(this,"_localToDispose",[]),Tn(this,"_reviewModel",new Ey),Tn(this,"_lastCommitSha"),Tn(this,"_validateStatusInProgress"),Tn(this,"_reviewCommentController"),Tn(this,"_quickDiffProvider"),Tn(this,"_inMemGitHubContentProvider"),Tn(this,"_statusBarItem"),Tn(this,"_prNumber"),Tn(this,"_isShowingLastReviewChanges",!1),Tn(this,"_previousRepositoryState"),Tn(this,"_switchingToReviewMode"),Tn(this,"_changesSinceLastReviewProgress",new _y),Tn(this,"justSwitchedToReviewMode",!1),Tn(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._previousRepositoryState={HEAD:i.state.HEAD,remotes:Na(this._repository)},this._register(y(()=>k(this._localToDispose))),this.registerListeners(),re.state==="initialized"&&this.updateState(!0)}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(e){this._switchingToReviewMode=e,e||this.updateState(!0)}registerListeners(){this._register(this._repository.state.onDidChange(e=>{const t=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!t&&!i)return;let r;!t||!i?r=!1:r=t.upstream?i.upstream&&t.upstream.name===i.upstream.name&&t.upstream.remote===i.upstream.remote:!i.upstream;const a=r&&t.ahead===i.ahead&&t.behind===i.behind&&t.commit===i.commit&&t.name===i.name&&t.remote===i.remote&&t.type===i.type,o=Na(this._repository),v=this._previousRepositoryState.remotes.length===o.length&&this._previousRepositoryState.remotes.every(A=>o.some(H=>A.equals(H)));(!a||!v)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:o},this.updateState(!0)),t&&i&&this.updateBaseBranchMetadata(t,i)})),this._register(s.workspace.onDidChangeConfiguration(e=>{this.updateFocusedViewMode(),e.affectsConfiguration(`${Tt}.${it}`)&&this.validateStateAndResetPromise(!0,!1)})),this._register(this._folderRepoManager.onDidChangeActivePullRequest(e=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),this._register(eu.registerProvider(this,this._folderRepoManager))}async updateBaseBranchMetadata(e,t){var i;if(!e.commit||e.commit!==t.commit||!t.name||!e.name||e.name===t.name)return;let r=this._folderRepoManager.gitHubRepositories.find(a=>{var o;return a.remote.remoteName===((o=e.upstream)==null?void 0:o.remote)});if(r){const a=await r.getMetadata();return a.fork&&e.name===a.default_branch&&(r=(i=this._folderRepoManager.gitHubRepositories.find(o=>{var v,A,H;return o.remote.owner===((A=(v=a.parent)==null?void 0:v.owner)==null?void 0:A.login)&&o.remote.repositoryName===((H=a.parent)==null?void 0:H.name)}))!=null?i:r),Jn.associateBaseBranchWithBranch(this.repository,t.name,{owner:r.remote.owner,repo:r.remote.repositoryName,branch:e.name})}}registerQuickDiff(){if(s.workspace.getConfiguration(Tt).get(Lt)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const e=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._register(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:t=>{const i=this.reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===t.toString());if(i)return i.changeModel.parentFilePath}},"github-pr",e,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}get id(){return`${Mv.ID}+${this._id}`}async updateState(e=!1,t=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(b.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async i=>await this.validateStatusAndSetContext(e,t)),this._validateStatusInProgress):(b.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(e,t),this._validateStatusInProgress)}async validateStatusAndSetContext(e,t){let i;const r=new Promise(o=>{i=setTimeout(()=>{i&&(clearTimeout(i),i=void 0,b.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),o()},12e4)}),a=new Promise(o=>{this.validateStateAndResetPromise(e,t).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{i&&(clearTimeout(i),i=void 0),o()})})});return Promise.race([a,r])}async offerIgnoreBranch(e){const t="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(t,!0))return!1;const r="githubPullRequest.offerIgnoreBranchTime",a=this._context.workspaceState.get(r,0),o=new Date().getTime();if(o-a<1e3*60*60*24)return!1;const{base:v}=await this._folderRepoManager.getPullRequestDefaults(e);if(v!==e)return!1;await this._context.workspaceState.update(r,o);const A=s.l10n.t("Ignore Pull Request"),H=s.l10n.t("Don't Show Again"),Q=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",e),A,H);if(Q===A){b.appendLine(`Branch ${e} will now be ignored in ${it}.`,this.id);const re=s.workspace.getConfiguration(Tt),le=re.get(it,[]);return le.push(e),await re.update(it,le),!0}else if(Q===H)return await this._context.workspaceState.update(t,!1),!1;return!1}async getUpstreamUrlAndName(e){if(e.upstream)return b.debug(`Upstream for branch ${e.name} is ${e.upstream.remote}/${e.upstream.name}`,this.id),{remoteName:e.upstream.remote,upstreamBranchName:e.upstream.name,remoteUrl:void 0};try{const t=await this.repository.getConfig(`branch.${e.name}.remote`),i=await this.repository.getConfig(`branch.${e.name}.merge`);let r;return i&&(r=i.substring(11)),b.debug(`Upstream for branch ${e.name} is ${r} at ${t}`,this.id),{remoteUrl:t,upstreamBranchName:r,remoteName:void 0}}catch{return b.appendLine(`Failed to get upstream for branch ${e.name} from git config.`,this.id),{remoteUrl:void 0,upstreamBranchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(e){let t;this._repository.state.HEAD&&e.name===this._repository.state.HEAD.name?t=this._repository.state.HEAD:t=e;const{remoteUrl:i,upstreamBranchName:r,remoteName:a}=await this.getUpstreamUrlAndName(t),o=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(t,a,i,r);if(o)return b.appendLine(`Found matching pull request metadata on GitHub for current branch ${e.name}. Repo: ${o.owner}/${o.repositoryName} PR: ${o.prNumber}`,this.id),await Jn.associateBranchWithPullRequest(this._repository,o.model,e.name),o}async resolvePullRequest(e){try{this._prNumber=e.prNumber;const{owner:t,repositoryName:i}=e;b.appendLine("Resolving pull request",this.id);let r=await this._folderRepoManager.resolvePullRequest(t,i,e.prNumber);if(!r||!r.isResolved()||!await r.githubRepository.hasBranch(r.base.name)){await this.clear(!0),this._prNumber=void 0,b.appendLine("This PR is no longer valid",this.id);return}return r}catch(t){b.appendLine(`Pull request cannot be resolved: ${t.message}`,this.id)}}async validateStateAndResetPromise(e,t){return this.validateState(e,t).then(()=>{this._validateStatusInProgress=void 0})}async validateState(e,t){var i,r,a,o;b.appendLine("Validating state...",this.id);const v=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const A=this._repository.state.HEAD,H=s.workspace.getConfiguration(Tt).get(it),Q=(r=A.remote)!=null?r:(i=A.upstream)==null?void 0:i.remote;if(H!=null&&H.find(Ee=>Ee===A.name)&&(Q==="origin"||!((o=await((a=this._folderRepoManager.gitHubRepositories.find(Ee=>Ee.remote.remoteName===Q))==null?void 0:a.getMetadata()))!=null&&o.fork))){b.appendLine(`Branch ${A.name} is ignored in ${it}.`,this.id),await this.clear(!0);return}let re=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(re||(b.appendLine(`No matching pull request metadata found locally for current branch ${A.name}`,this.id),re=await this.checkGitHubForPrBranch(A)),!re){b.appendLine(`No matching pull request metadata found on GitHub for current branch ${A.name}`,this.id),await this.clear(!0);return}if(b.appendLine(`Found matching pull request metadata for current branch ${A.name}. Repo: ${re.owner}/${re.repositoryName} PR: ${re.prNumber}`,this.id),!(A.upstream?A.upstream.remote:null)){b.appendLine(`Current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`,this.id),await this.clear(!0);return}b.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${re.prNumber}`,this.id);const pe=this._prNumber;let Se=await this.resolvePullRequest(re);if(!Se){b.appendLine(`Unable to resolve PR #${re.prNumber}`,this.id);return}if(b.appendLine(`Resolved PR #${re.prNumber}, state is ${Se.state}`,this.id),Se.state!==bt.Open){const Ee=await this.checkGitHubForPrBranch(A);if(Ee&&(Ee==null?void 0:Ee.prNumber)!==Se.number){const De=await this.resolvePullRequest(Ee);De&&(Se=De)}}const Ae=A.commit!==v&&A.ahead===0&&A.behind===0;if(pe===Se.number&&!Ae&&this._isShowingLastReviewChanges===Se.showChangesSinceReview)return;this._isShowingLastReviewChanges=Se.showChangesSinceReview,pe!==Se.number&&this.clear(!1);const Oe=Xa();if(Se.isClosed&&!Oe.closed){b.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(Se.isMerged&&!Oe.merged){b.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(Tt).get(ut,!1)||this.offerIgnoreBranch(A.name);const ye=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=Se,this._lastCommitSha=Se.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(Se,!0)),b.appendLine("Fetching pull request data",this.id),e||j(this._reviewModel.onDidChangeLocalFileChanges)(()=>{Se&&this._upgradePullRequestEditors(Se)}),this.initializePullRequestData(Se),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,Se,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),b.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(Se,this._folderRepoManager,this,ye),this._localToDispose.push(Se.onDidChangeChangesSinceReview(async Ee=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),this._changesSinceLastReviewProgress.endProgress()})),b.appendLine("Register in memory content provider",this.id),await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",Se.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[Se]},b.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(Se,t,this.justSwitchedToReviewMode?!1:e),this.justSwitchedToReviewMode=!1}layout(e,t,i){const r=this._context.workspaceState.get(nt);if(b.appendLine(`Using focus mode = ${r}.`,this.id),b.appendLine(`State validation silent = ${i}.`,this.id),b.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!i||this._showPullRequest.shouldShow)&&r)this._doFocusShow(e,t);else if(!this._showPullRequest.shouldShow&&r){const a=this._showPullRequest.onChangedShowValue(o=>{b.appendLine(`PR show value changed = ${o}.`,this.id),o&&this._doFocusShow(e,t),a.dispose()});this._localToDispose.push(a)}}async reopenNewReviewDiffs(){let e=!1;await Promise.all(s.window.tabGroups.all.map(t=>t.tabs.map(i=>{if(i.input instanceof s.TabInputTextDiff&&i.input.original.scheme===Vt.Review)for(const r of this._reviewModel.localFileChanges){const a=Ur(i.input.original.query);if(r.fileName===a.path){e=!0,s.window.tabGroups.close(i).then(o=>r.openDiff(this._folderRepoManager,{preview:i.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!e&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let e=[];for(const i of this._reviewModel.localFileChanges)if(i.status===Ht.MODIFY)if(Nh.includes(L.extname(i.fileName)))e.push(i);else{e.unshift(i);break}(e.length?e[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_doFocusShow(e,t){if(s.workspace.getConfiguration(Qa).get(Sr)!=="never"&&e.hasComments&&lt.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(e),t){const r=s.workspace.getConfiguration(Tt).get(ei);if(r==="firstDiff")if(this._reviewModel.localFileChanges.length)this.openDiff();else{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{a.dispose(),this.openDiff()})}else{if(r==="overview")return this.openDescription();if(r==="multiDiff")return In.openChanges(this._folderRepoManager,e)}}}async _upgradePullRequestEditors(e){const t=new Set;await Promise.all(s.window.tabGroups.all.map(r=>r.tabs.map(a=>{if(a.input instanceof s.TabInputTextDiff&&a.input.original.scheme===Vt.Pr&&a.input.modified.scheme===Vt.Pr){const o=fn(a.input.original),v=fn(a.input.modified);if((o==null?void 0:o.prNumber)===e.number&&(v==null?void 0:v.prNumber)===e.number)return t.add([o,v]),s.window.tabGroups.close(a)}return Promise.resolve(void 0)})).flat());const i=[];if(t.size){for(const r of this.reviewModel.localFileChanges)for(const a of t)if(Array.isArray(a)){const o=a[1];if(r.fileName===o.fileName){i.push(r.openDiff(this._folderRepoManager,{preview:!1})),t.delete(a);break}}}return Promise.all(i)}async createSuggestionFromChange(e,t){if(!this._reviewModel.localFileChanges.find(a=>a.changeModel.filePath.toString()===e.uri.toString()))return;const r=[];for(const a of t){const o=e.getText(new s.Range(a.modifiedStartLineNumber-1,0,a.modifiedEndLineNumber-1,e.lineAt(a.modifiedEndLineNumber-1).range.end.character)),v=a.originalEndLineNumber<a.originalStartLineNumber?a.originalStartLineNumber:a.originalEndLineNumber;r.push({suggestionContent:o,originalLineLength:v-a.originalStartLineNumber+1,originalStartLine:a.originalStartLineNumber,diffLine:a})}await Promise.all(r.map(async a=>{var o;try{await((o=this._reviewCommentController)==null?void 0:o.createSuggestionsFromChanges(e.uri,a)),await s.commands.executeCommand("git.revertSelectedRanges",a.diffLine)}catch{s.window.showErrorMessage(s.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(e){let t=e.oldLineNumber,i=e.oldLength,r=0;for(;r<e.diffLines.length;r++){const v=e.diffLines[r];if(v.type!==Xi.Control)if(v.type===Xi.Context)t++,i--;else break}let a=e.diffLines.length-1;for(;a>=0&&e.diffLines[a].type===Xi.Context;a--)i--;let o=e.diffLines.slice(r,a+1);o.every(v=>v.type===Xi.Add)&&(r>1?(r--,t--,i++):a<e.diffLines.length-1?(a++,i++):(r=1,a=e.diffLines.length-1),o=e.diffLines.slice(r,a+1)),e.diffLines=o,e.oldLength=i,e.oldLineNumber=t}convertDiffHunkToSuggestion(e){return this.trimContextFromHunk(e),{suggestionContent:e.diffLines.filter(t=>t.type===Xi.Add||t.type==Xi.Context).map(t=>t.text).join(`
`),originalLineLength:e.oldLength,originalStartLine:e.oldLineNumber}}async createSuggestionsFromChanges(e){const t=e.map(H=>H.toString());let i=!1,r=0;const a=[],o=async(H,Q)=>{var re;try{await((re=this._reviewCommentController)==null?void 0:re.createSuggestionsFromChanges(H.uri,this.convertDiffHunkToSuggestion(Q))),a.push(H.uri)}catch{i=!0}},v=async H=>{if(!(!t.includes(H.uri.toString())||H.status!==ct.MODIFIED))return Ps(await this._folderRepoManager.repository.diffWithHEAD(H.uri.fsPath)).map(Q=>Ms(Q)).flat()},A=async(H,Q)=>{const re=await v(H);if(re)if(r+=re.length,Q)await Promise.allSettled(re.map(async le=>o(H,le)));else for(const le of re)await o(H,le)};if(await s.window.withProgress({location:s.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{let H=0;for(;a.length===0&&H<this._folderRepoManager.repository.state.workingTreeChanges.length;H++){const re=this._folderRepoManager.repository.state.workingTreeChanges[H];await A(re,!1)}const Q=[];for(;H<this._folderRepoManager.repository.state.workingTreeChanges.length;H++){const re=this._folderRepoManager.repository.state.workingTreeChanges[H];Q.push(A(re,!0))}await Promise.all(Q)}),i)a.length?s.window.showWarningMessage(s.l10n.t("Not all changes could be converted to suggestions."),{detail:s.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,a.length,r),modal:!0}):s.window.showWarningMessage(s.l10n.t("No changes could be converted to suggestions."),{detail:s.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const H=s.l10n.t("Reset all changes");s.window.showInformationMessage(s.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:s.l10n.t("Do you want to reset your local changes?")},H).then(Q=>{if(Q===H)return Promise.all(a.map(re=>this._folderRepoManager.repository.checkout(re.fsPath)))})}}async updateComments(){var e;const t=this._repository.state.HEAD;if(!t)return;const i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const a=await this._folderRepoManager.resolvePullRequest(i.owner,i.repositoryName,this._prNumber);if(!a||!a.isResolved()){b.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(a,!1),await this.initializePullRequestData(a),await((e=this._reviewCommentController)==null?void 0:e.update()),Promise.resolve(void 0)}async getLocalChangeNodes(e,t){const i=[],r=e.mergeBase||e.base.sha,a=e.head.sha;for(let o=0;o<t.length;o++){const v=t[o],A=L.join(this._repository.rootUri.path,v.fileName).replace(/\\/g,"/"),H=this._repository.rootUri.with({path:A}),Q=v.status===Ht.DELETE?Cr(H,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):H,re=Cr(H,v.status===Ht.RENAME?v.previousFileName:v.fileName,void 0,v.status===Ht.ADD?"":r,!1,{base:!0},this._repository.rootUri),le=new _d(this._folderRepoManager,e,v,Q,re,a,t.length<20),pe=new Ys(this.changesInPrDataProvider,this._folderRepoManager,e,le);i.push(pe)}return i}async initializePullRequestData(e){try{const t=await e.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(e,t),await Promise.all([e.initializeReviewThreadCacheAndReviewComments(),e.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const i=e.comments.filter(o=>!o.position),r=te(i,o=>o.originalCommitId),a=[];for(const o in r){const v=r[o],A=te(v,H=>H.path);for(const H in A){const Q=A[H],re=s.Uri.file(L.join(`commit~${o.substr(0,8)}`,H)),le=new _d(this._folderRepoManager,e,{status:Ht.MODIFY,fileName:H,blobUrl:void 0},Cr(re,H,void 0,Q[0].originalCommitId,!0,{base:!1},this._repository.rootUri),Cr(re,H,void 0,Q[0].originalCommitId,!0,{base:!0},this._repository.rootUri),o),pe=new Ys(this.changesInPrDataProvider,this._folderRepoManager,e,le,!1,Q);a.push(pe)}}return this._reviewModel.obsoleteFileChanges=a,Promise.resolve(void 0)}catch(t){b.error(`Failed to initialize PR data ${t}: ${t.message}`,this.id)}}async registerGitHubInMemContentProvider(){var e,t;try{(e=this._inMemGitHubContentProvider)==null||e.dispose(),this._inMemGitHubContentProvider=void 0;const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=await i.getFileChangesInfo(),a=i.mergeBase;if(!a)return;const o=r.map(v=>v instanceof ur?new zs(this._folderRepoManager,v,i):new gs(this._folderRepoManager,i,v,!0,a));this._inMemGitHubContentProvider=(t=Gd())==null?void 0:t.registerTextDocumentContentProvider(i.number,async v=>{const A=fn(v);if(!A)return"";const H=o.find(Q=>Q.fileName===A.fileName);return H?Vd(this._folderRepoManager,i,A,H):(b.error(`Cannot find content for document ${v.toString()}`,"PR"),"")})}catch(i){b.error(`Failed to register in mem content provider: ${i}`,this.id)}}async registerCommentController(){var e;if((e=this._folderRepoManager.activePullRequest)!=null&&e.reviewThreadsCacheReady&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const t=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var i;(i=this._folderRepoManager.activePullRequest)!=null&&i.reviewThreadsCache&&this._reviewModel.hasLocalFileChanges&&(t&&t.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new Dh(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(e){var t,i;b.appendLine(`Switch to Pull Request #${e.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async a=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(e,a)||await this._folderRepoManager.fetchAndCheckout(e,a)});const r=s.workspace.getConfiguration(Tt).get(Pi,"pull");(r==="pullAndMergeBase"||r==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(e,r==="pullAndUpdateBase")}catch(r){b.error(`Checkout failed #${JSON.stringify(r)}`,this.id),this.switchingToReviewMode=!1,r.message==="User aborted"||(r.gitErrorCode&&(r.gitErrorCode===ot.LocalChangesOverwritten||r.gitErrorCode===ot.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):(t=r.stderr)!=null&&t.startsWith("fatal: couldn't find remote ref")&&r.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(`Error switching to pull request: ${he(r)}`)),((i=this._folderRepoManager.activePullRequest)==null?void 0:i.number)===e.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${e.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(e),this._upgradePullRequestEditors(e),this._telemetry.sendTelemetryEvent("pr.checkout"),b.appendLine(`Switch to Pull Request #${e.number} - done`,this.id)}finally{this.setStatusForPr(e),await this._repository.status()}}setStatusForPr(e){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",e.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async createPullRequest(e){const t=async i=>{if(!i)return;const r=s.workspace.getConfiguration(Tt).get(dt,"openOverview");if(r==="openOverview"){const a=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Zo(this._telemetry,i,a,this._folderRepoManager,!0)}else if(r.startsWith("checkoutDefaultBranch")){const a=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(i);a&&(r==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(a),r==="checkoutDefaultBranchAndShow"?(await lt.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(a),await this._pullRequestsTree.expandPullRequest(i)):r==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(a),s.env.clipboard.writeText(i.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,e,t)}async openDescription(){const e=this._folderRepoManager.activePullRequest;if(!e)return;const t=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Zo(this._telemetry,e,t,this._folderRepoManager,!0)}get isCreatingPullRequest(){var e,t;return(t=(e=this._createPullRequestHelper)==null?void 0:e.isCreatingPullRequest)!=null?t:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(Tt).get(ei)?(s.commands.executeCommand("setContext",nt,!0),await this._context.workspaceState.update(nt,!0)):(s.commands.executeCommand("setContext",nt,!1),this._context.workspaceState.update(nt,!1))}async clear(e){var t,i;if(e){const r=this._folderRepoManager.activePullRequest;r&&this._activePrViewCoordinator.removePullRequest(r),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._reviewModel.clear(),k(this._localToDispose),r==null||r.clear(),this._folderRepoManager.setFileViewedContext()}(t=this._reviewCommentController)==null||t.dispose(),this._reviewCommentController=void 0,(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(e){const{path:t,commit:i,base:r}=Ur(e.query);let a=Ld(this._reviewModel.localFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i);if(a.length){const o=a[0],v=i===o.sha?Xi.Delete:Xi.Add;return(await o.changeModel.diffHunks()).map(H=>H.diffLines.filter(Q=>Q.type!==v).map(Q=>Q.text)).reduce((H,Q)=>H.concat(...Q),[]).join(`
`)}if(a=Ld(this._reviewModel.obsoleteFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i),a.length){const o=a[0],v=i===o.sha?Xi.Delete:Xi.Add,A=[],H=te(o.comments,Q=>String(Q.originalPosition));for(const Q in H){if(!H[Q][0].diffHunks)continue;const re=H[Q][0].diffHunks.map(le=>le.diffLines.filter(pe=>pe.type!==v).map(pe=>pe.text)).reduce((le,pe)=>le.concat(...pe),[]);A.push(...re)}return A.join(`
`)}else if(r&&i&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(t,i)).toString()}dispose(){super.dispose(),this.clear(!0)}static getReviewManagerForRepository(e,t,i){return e.find(r=>r._folderRepoManager.gitHubRepositories.some(a=>a.equals(t)&&(!i||r._folderRepoManager.repository===i)))}static getReviewManagerForFolderManager(e,t){return e.find(i=>i._folderRepoManager===t)}};Tn(em,"ID","Review");let yr=em;class Cy{constructor(){Tn(this,"_shouldShow",!1),Tn(this,"_onChangedShowValue",new s.EventEmitter),Tn(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var Py=Object.defineProperty,My=(n,e,t)=>e in n?Py(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,su=(n,e,t)=>My(n,typeof e!="symbol"?e+"":e,t);class Ca extends Fn{constructor(e,t){super(e),su(this,"collapsibleState"),su(this,"children",[]),su(this,"pathToChild",new Map),su(this,"checkboxState"),this.label=t,this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(t=>{t instanceof Ca&&t.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof Ca&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children,this.children.forEach(t=>{t.parent=this}))}sort(){if(this.children.length<=1)return;const e=[],t=[];this.children.forEach(i=>{i instanceof Ca?(i.sort(),e.push(i)):t.push(i)}),e.sort((i,r)=>i.label<r.label?-1:1),t.sort((i,r)=>i.label<r.label?-1:1),this.children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this.children.push(t);return}const i=e[0],r=e.slice(1);let a=this.pathToChild.get(i);a||(a=new Ca(this,i),this.pathToChild.set(i,a),this.children.push(a)),a.addPathRecc(r,t)}allChildrenViewed(){for(const e of this.children)if(e instanceof Ca){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var Ay=Object.defineProperty,Iy=(n,e,t)=>e in n?Ay(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yo=(n,e,t)=>Iy(n,typeof e!="symbol"?e+"":e,t);const tm=class Ou extends Fn{constructor(e,t,i,r,a){super(e),this._folderReposManager=t,this.pullRequestModel=i,this._isLocal=r,this._notificationProvider=a,Yo(this,"_fileChanges"),Yo(this,"_commentController"),Yo(this,"_inMemPRContentProvider"),Yo(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._register(this.pullRequestModel.onDidInvalidate(()=>this.refresh(this))),this._register(this._folderReposManager.onDidChangeActivePullRequest(o=>{(o.new===this.pullRequestModel.number||o.old===this.pullRequestModel.number)&&this.refresh(this)}))}get command(){return this._command}set command(e){this._command=e}get repository(){return this._folderReposManager.repository}async getChildren(){var e;super.getChildren(),b.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Ou.ID);try{if(!this.pullRequestModel.isResolved())return[];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(r=>r()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(e=Gd())==null?void 0:e.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)),this._inMemPRContentProvider&&this._register(this._inMemPRContentProvider));const t=[];if(s.workspace.getConfiguration(Tt).get(Ie)==="tree"){const r=new Ca(this,"");this._fileChanges.forEach(a=>r.addFile(a)),r.finalize(),r.label===""?t.push(...r.children):t.push(r)}else t.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this.children=t,this.pullRequestModel.initializeReviewThreadCache(),t}catch(t){return b.error(`Error getting children ${t}: ${t.message}`,Ou.ID),[]}}registerSinceReviewChange(){this._register(this.pullRequestModel.onDidChangeChangesSinceReview(e=>{this.refresh(this)}))}registerConfigurationChange(){this._register(s.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(`${Tt}.${ti}`)&&this.refresh()}))}async reopenNewPrDiffs(e){let t=!1;s.window.tabGroups.all.map(i=>{i.tabs.map(r=>{if(r.input instanceof s.TabInputTextDiff&&r.input.original.scheme===Vt.Pr&&r.input.modified.scheme===Vt.Pr&&this._fileChanges)for(const a of this._fileChanges){const o=fn(r.input.original),v=fn(r.input.modified),A=fn(a.changeModel.filePath);if((o==null?void 0:o.prNumber)===e.number&&(v==null?void 0:v.prNumber)===e.number&&a.fileName===v.fileName&&(A==null?void 0:A.headCommit)!==v.headCommit){t=!0,s.window.tabGroups.close(r).then(H=>a.openDiff(this._folderReposManager,{preview:r.isPreview}));break}}})}),e.showChangesSinceReview&&!t&&this._fileChanges&&this._fileChanges.length&&!e.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._register(this.pullRequestModel.onDidChangePendingReviewState(async e=>{e||(await this.getFileChanges()).forEach(t=>{t instanceof Od&&t.comments.forEach(i=>i.isDraft=e)})}))}async getFileChanges(e){return(!this._fileChanges||e)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const e=[],t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);t&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,e.push(...this._folderReposManager.activePullRequest.fileChanges.values())):e.push(...await this.pullRequestModel.getFileChangesInfo());const i=this.pullRequestModel.mergeBase;return i?e.map(r=>{if(r instanceof ur){const v=new zs(this._folderReposManager,r,this.pullRequestModel);return new xd(this,this._folderReposManager,this.pullRequestModel,v)}const a=new gs(this._folderReposManager,this.pullRequestModel,r,t,i);return new Od(this._folderReposManager,this,this.pullRequestModel,a)}):[]}async getTreeItem(){var e,t,i;const r=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:a,number:o,author:v,isDraft:A,html_url:H}=this.pullRequestModel,Q=this.pullRequestModel.title.length>50?`${this.pullRequestModel.title.substring(0,50)}...`:this.pullRequestModel.title,re=(e=v.specialDisplayName)!=null?e:v.login,le=this._notificationProvider.hasNotification(this.pullRequestModel),pe=o.toString();let Se=r?"\u2713 ":"";s.workspace.getConfiguration(Tt).get(ti,!1)&&(Se+=`#${pe}: `);const Ae=`${Se}${A?"[DRAFT] ":""}${Q}`,Oe=`by @${re}`,ue={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]};return{label:Ae,id:`${this.parent instanceof Fn?(t=this.parent.id)!=null?t:this.parent.label:""}${H}${this._isLocal?this.pullRequestModel.localBranchName:""}`,description:Oe,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(r?":active":":nonactive")+(le?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this._isLocal||!this._folderReposManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef"),iconPath:(i=(await na.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?i:new s.ThemeIcon("github"),accessibilityInformation:{label:`${A?"Draft ":""}Pull request number ${pe}: ${a} by ${re}`},resourceUri:Md(this.pullRequestModel),command:ue}}async provideCommentingRanges(e,t){if(e.uri.scheme===Vt.Pr){const i=fn(e.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName);return!r||r instanceof xd?void 0:{ranges:Ah(await r.changeModel.diffHunks(),i.isBase,Ou.ID),enableFileComments:!0}}}async provideDocumentContent(e){var t;const i=fn(e);if(!i)return"";const r=(t=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName))==null?void 0:t.changeModel;return r?Vd(this._folderReposManager,this.pullRequestModel,i,r):(b.appendLine(`Can not find content for document ${e.toString()}`,"PR"),"")}dispose(){super.dispose(),this._commentController=void 0}};Yo(tm,"ID","PRNode");let Zn=tm;var Fy=Object.defineProperty,Dy=(n,e,t)=>e in n?Fy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xo=(n,e,t)=>Dy(n,typeof e!="symbol"?e+"":e,t);class xy extends Fn{constructor(e,t,i,r,a){var o;super(e),this.pullRequestManager=t,this.pullRequest=i,this.commit=r,this.isCurrent=a,Xo(this,"sha"),Xo(this,"collapsibleState"),Xo(this,"iconPath"),Xo(this,"contextValue"),Xo(this,"description"),this.label=r.commit.message,this.sha=r.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=(o=r.commit.author)!=null&&o.date?X(r.commit.author.date):void 0}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url,accountType:this.commit.author.type};this.iconPath=(await na.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new Ih(this,"No changed files")];const i=t.map(o=>{const v=o.filename,A=s.Uri.parse(L.posix.join(`commit~${this.commit.sha.substr(0,8)}`,v)),H=new _d(this.pullRequestManager,this.pullRequest,{status:ts(o.status),fileName:v,blobUrl:void 0},Cr(A,v,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),Cr(A,v,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),Q=new Ys(this,this.pullRequestManager,this.pullRequest,H,this.isCurrent);return Q.useViewChangesCommand(),Q});let r=[];if(s.workspace.getConfiguration(Tt).get(Ie)==="tree"){const o=new Ca(this,"");i.forEach(v=>o.addFile(v)),o.finalize(),o.label===""?r.push(...o.children):r.push(o)}else r=i;return this.children=r,r}}var Oy=Object.defineProperty,Ly=(n,e,t)=>e in n?Oy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jd=(n,e,t)=>Ly(n,typeof e!="symbol"?e+"":e,t);class Uy extends Fn{constructor(e,t,i){super(e),jd(this,"collapsibleState"),jd(this,"_folderRepoManager"),jd(this,"_pr"),this.label=s.l10n.t("Commits"),this._pr=i,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{b.appendLine("Review threads have changed, refreshing Commits node",D),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChangeComments(()=>{b.appendLine("Comments have changed, refreshing Commits node",D),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{b.appendLine("Getting children for Commits node",D);const e=await this._pr.getCommits();return this.children=e.map((t,i)=>{var r;return new xy(this,this._folderRepoManager,this._pr,t,i===e.length-1&&((r=this._folderRepoManager.repository.state.HEAD)==null?void 0:r.commit)===t.sha)}),b.appendLine("Got all children for Commits node",D),this.children}catch{return[]}}}var By=Object.defineProperty,qy=(n,e,t)=>e in n?By(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wd=(n,e,t)=>qy(n,typeof e!="symbol"?e+"":e,t);class Hy extends Fn{constructor(e,t,i){super(e),this._reviewModel=t,Wd(this,"label",s.l10n.t("Files")),Wd(this,"collapsibleState"),Wd(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{b.appendLine("Local files have changed, refreshing Files node",D),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeReviewThreads(()=>{b.appendLine("Review threads have changed, refreshing Files node",D),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeComments(()=>{b.appendLine("Comments have changed, refreshing Files node",D),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),b.appendLine("Getting children for Files node",D),!this._reviewModel.hasLocalFileChanges)return new Promise(r=>{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{r([]),a.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new Ih(this,s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(Tt).get(Ie),i=new Ca(this,"");if(this._reviewModel.localFileChanges.forEach(r=>i.addFile(r)),i.finalize(),i.label===""?this.directories=i.children:this.directories=[i],t==="tree")e=this.directories;else{const r=[...this._reviewModel.localFileChanges];r.sort((a,o)=>ve(a.fileChangeResourceUri.toString(),o.fileChangeResourceUri.toString())),e=r}return b.appendLine("Got all children for Files node",D),this.children=e,e}}var $y=Object.defineProperty,Gy=(n,e,t)=>e in n?$y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sa=(n,e,t)=>Gy(n,typeof e!="symbol"?e+"":e,t);class oa extends Fn{constructor(e,t,i,r,a){super(e),this.parent=e,this.pullRequestModel=t,this._pullRequestManager=i,this._reviewModel=r,this._progress=a,sa(this,"_filesCategoryNode"),sa(this,"_commitsCategoryNode"),sa(this,"command"),sa(this,"contextValue"),sa(this,"tooltip"),sa(this,"iconPath"),sa(this,"description"),sa(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),sa(this,"isLocal"),sa(this,"repository"),this.isLocal=!0,this.repository=i.repository,this.label=t.title,this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.tooltip=s.l10n.t("Description of pull request #{0}",t.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",t.number),role:"button"},this.getTreeItem(),this._register(s.window.onDidChangeActiveTextEditor(o=>{var v;if(s.workspace.getConfiguration(Ya).get(ga)){const A=(v=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:v.input;if(A instanceof s.TabInputTextDiff&&A.original.scheme===Vt.Review&&A.modified.scheme!==Vt.Review&&A.original.path.startsWith("/commit"))return;const H=o==null?void 0:o.document.uri.toString();this.revealActiveEditorInTree(H)}})),this._register(this.parent.view.onDidChangeVisibility(o=>{var v;const A=(v=s.window.activeTextEditor)==null?void 0:v.document.uri.toString();this.revealActiveEditorInTree(A)})),this._register(this.pullRequestModel.onDidInvalidate(()=>{this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(i=>i.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(b.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,D),this._filesCategoryNode=new Hy(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new Uy(this.parent,this._pullRequestManager,this.pullRequestModel)),this.children=[this._filesCategoryNode,this._commitsCategoryNode],this.children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),this.iconPath=(await na.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0],this.description=void 0,(e=this.parent.children)!=null&&e.length&&this.parent.children.length>1&&(this.parent.children.every(i=>i instanceof oa&&i.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this._pullRequestManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this.isLocal||!this._pullRequestManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef")}}function Jo(n,e){if(e)return e instanceof Zn?e.pullRequestModel:e;if(!n.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return n.activePullRequest}async function Zo(n,e,t,i,r,a=!0,o){const v=Jo(i,e);r&&(t==null||t.reveal(t,{select:!0,focus:!0})),v instanceof In?(await br.createOrShow(n,i.context.extensionUri,i,v,void 0,a),n.sendTelemetryEvent("pr.openDescription")):(await fd.createOrShow(n,i.context.extensionUri,i,v),n.sendTelemetryEvent("issue.openDescription")),o!=null&&o.hasNotification(v)&&o.markPrNotificationsAsRead(v)}async function la(n,e,t){var i;if(n.length===1)return n[0];const r=n.map(a=>({label:e(a),itemValue:a}));return(i=await s.window.showQuickPick(r,t))==null?void 0:i.itemValue}async function ua(n,e){n instanceof Zn||n instanceof oa?s.commands.executeCommand("vscode.open",s.Uri.parse(n.pullRequestModel.html_url)):Yl(n)?s.commands.executeCommand("vscode.open",s.Uri.parse(n.model.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(n.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}async function Vy(){const n=s.window.tabGroups,e=n.all.map(t=>t.tabs).flat();for(const t of e){const i=t.input instanceof s.TabInputTextDiff?t.input.original.scheme:t.input instanceof s.TabInputText?t.input.uri.scheme:void 0;(i&&i===Vt.Pr||i===Vt.Review)&&await n.close(t)}}function jy(n,e,t,i,r){const a="RegisterCommands";n.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async ue=>{if(ue)ua(ue,i);else{const ye=e.folderManagers.map(Ee=>Ee.activePullRequest).filter(Ee=>!!Ee);if(ye.length>=1){const Ee=await la(ye,De=>De.html_url);Ee&&ua(Ee,i)}}})),n.subscriptions.push(s.commands.registerCommand("notification.openOnGitHub",async ue=>{ue&&ua(ue,i)})),n.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const ue=e.folderManagers.filter(Ue=>Ue.activePullRequest).map(Ue=>({activePr:Ue.activePullRequest,folderManager:Ue})),ye=ue.length>=1?await la(ue,Ue=>Ue.activePr.html_url):ue[0];if(!ye)return;const{folderManager:Ee}=ye,De=yr.getReviewManagerForFolderManager(t.reviewManagers,Ee);De&&De.reviewModel.localFileChanges.forEach(Ue=>Ue.openDiff(Ee,{preview:!1}))})),n.subscriptions.push(s.commands.registerCommand("review.suggestDiff",async ue=>{const ye="githubPullRequest.suggestDiffMessage";if(!n.globalState.get(ye,!1)){await n.globalState.update(ye,!0);const De=s.l10n.t("Open documentation");if(await s.window.showInformationMessage(s.l10n.t("You can now make suggestions from review comments, just like on GitHub.com. See the documentation for more details."),{modal:!0},De)===De)return s.env.openExternal(s.Uri.parse("https://github.com/microsoft/vscode-pull-request-github/blob/main/documentation/suggestAChange.md"))}try{const De=await la(e.folderManagers,Gi=>L.basename(Gi.repository.rootUri.fsPath));if(!De||!De.activePullRequest)return;const{indexChanges:Ue,workingTreeChanges:Qe}=De.repository.state;if(!Ue.length)if(Qe.length){const Gi=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`),{modal:!0},Gi)===Gi)await s.commands.executeCommand("git.stageAll");else return}else{s.window.showInformationMessage(s.l10n.t("There are no changes to suggest."));return}const Ye=await De.repository.diff(!0);let Pt=s.l10n.t(`Suggested edit:
`);ue&&ue.inputBox&&ue.inputBox.value&&(Pt=`${ue.inputBox.value}
`,ue.inputBox.value="");const Ft=`${Pt}\`\`\`diff
${Ye}
\`\`\``;await De.activePullRequest.createIssueComment(Ft),await s.commands.executeCommand("git.unstageAll");const fi=L.join(De.repository.rootUri.fsPath,".git",`${De.activePullRequest.number}.diff`),On=new TextEncoder,Ni=s.Uri.file(fi);await s.workspace.fs.writeFile(Ni,On.encode(Ye)),await De.repository.apply(fi,!0),await s.workspace.fs.delete(Ni)}catch(De){const Ue=`${De}${De.stderr?`
${De.stderr}`:""}`;b.error(`Applying patch failed: ${Ue}`,a),s.window.showErrorMessage(s.l10n.t("Applying patch failed: {0}",he(De)))}})),n.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async ue=>{if(!(ue instanceof xd&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",ue.changeModel.fileName),s.l10n.t("Open")))&&ue.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(ue.changeModel.blobUrl))})),n.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",ue=>{s.env.clipboard.writeText(ue.sha)})),n.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async ue=>{const ye=e.getManagerForIssueModel(ue.pullRequest);if(ye){const Ee=await Td(ue.changeModel.parentFilePath,ye.repository);s.commands.executeCommand("vscode.open",Ee||ue.changeModel.parentFilePath)}})),n.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",ue=>{let ye;const Ee=s.window.tabGroups.activeTabGroup.activeTab;ue?ye=ue.changeModel.filePath:(Ee==null?void 0:Ee.input)instanceof s.TabInputTextDiff&&(ye=Ee.input.modified),ye&&s.commands.executeCommand("vscode.open",ye,Ee==null?void 0:Ee.group.viewColumn)}));async function o(ue){var ye;if(ue&&!(ue instanceof s.Uri)){const Ee=e.getManagerForIssueModel(ue.pullRequest);return Ee?ue.openDiff(Ee):void 0}else if(ue||s.window.activeTextEditor){const Ee=ue instanceof s.Uri?s.window.visibleTextEditors.find(fi=>fi.document.uri.toString()===ue.toString()):s.window.activeTextEditor,De=Ee.visibleRanges,Ue=e.getManagerForFile(Ee.document.uri);if(!(Ue!=null&&Ue.activePullRequest))return;const Qe=yr.getReviewManagerForFolderManager(t.reviewManagers,Ue);if(!Qe)return;const Ye=Qe.reviewModel.localFileChanges.find(fi=>fi.resourceUri.with({query:""}).toString()===Ee.document.uri.toString());await(Ye==null?void 0:Ye.openDiff(Ue));const Pt=(ye=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:ye.input,Ft=Pt instanceof s.TabInputTextDiff&&Pt.modified.toString()===Ee.document.uri.toString()?s.window.activeTextEditor:void 0;Ft&&Ft.revealRange(De[0])}}n.subscriptions.push(s.commands.registerCommand("pr.openDiffView",ue=>o(ue))),n.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",ue=>o(ue))),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async ue=>{var ye;const Ee=e.getManagerForIssueModel(ue.pullRequestModel);if(!Ee)return;const De=Jo(Ee,ue),Ue="Delete Unmerged Branch";let Qe=null;try{await Ee.deleteLocalPullRequest(De)}catch(Ye){if(Ye.gitErrorCode===ot.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(ye=De.localBranchName)!=null?ye:"unknown branch"),Ue)!==Ue)return;try{await Ee.deleteLocalPullRequest(De,!0)}catch(Ft){Qe=Ft}}else Qe=Ye}Qe?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${Qe}`)):(i.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),s.commands.executeCommand("pr.refreshList"))}));function v(ue){if(ue){const ye=s.Uri.file(ue).toString();for(const Ee of t.reviewManagers)if(Ee.repository.rootUri.toString()===ye)return Ee}return la(t.reviewManagers,ye=>L.basename(ye.repository.rootUri.fsPath),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function A(ue){return!!(ue!=null&&ue.rootUri)}n.subscriptions.push(s.commands.registerCommand("pr.create",async ue=>{var ye,Ee;A(ue)?(ye=await v(ue.rootUri.fsPath))==null||ye.createPullRequest():(Ee=await v(ue==null?void 0:ue.repoPath))==null||Ee.createPullRequest(ue==null?void 0:ue.compareBranch)})),n.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async ue=>{var ye;if(A(ue)){const Ee=await v(ue.rootUri.fsPath),De=e.getManagerForFile(ue.rootUri);let Ue=!0;if(De!=null&&De.activePullRequest){const Qe=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},Qe)!==Qe)return;Ue=!1}Ee&&((ye=ue.state.HEAD)!=null&&ye.upstream&&await ue.push(),Ue&&Ee.createPullRequest())}})),n.subscriptions.push(s.commands.registerCommand("pr.pick",async ue=>{if(ue===void 0)return b.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let ye,Ee;ue instanceof Zn||ue instanceof oa?(ye=ue.pullRequestModel,Ee=ue.repository):ye=ue;const De=ue instanceof In;return i.sendTelemetryEvent("pr.checkout",{fromDescription:De.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",ye.number)},async()=>{var Ue;await((Ue=yr.getReviewManagerForRepository(t.reviewManagers,ye.githubRepository,Ee))==null?void 0:Ue.switch(ye))})})),n.subscriptions.push(s.commands.registerCommand("pr.openChanges",async ue=>{if(ue===void 0)return b.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let ye;ue instanceof Zn||ue instanceof oa?ye=ue.pullRequestModel:ye=ue;const Ee=e.getManagerForIssueModel(ye);if(Ee)return In.openChanges(Ee,ye)}));let H=!1;n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var ue,ye;const Ee=(ue=s.window.activeTextEditor)==null?void 0:ue.document.uri;if((Ee==null?void 0:Ee.scheme)!==Vt.Pr)return;const De=fn(Ee);if(De===void 0)return;let Ue;const Qe=e.folderManagers.find(Pt=>(Ue=Pt.gitHubRepositories.find(Ft=>Ft.remote.remoteName===De.remoteName),!!Ue));if(!Qe||!Ue)return;const Ye=await s.window.withProgress({location:s.ProgressLocation.Window},()=>Qe.fetchById(Ue,Number(De.prNumber)));if(Ye&&!H){H=!0;try{await((ye=yr.getReviewManagerForFolderManager(t.reviewManagers,Qe))==null?void 0:ye.switch(Ye))}catch(Pt){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",Pt instanceof Error?Pt.message:"unknown"))}H=!1}})),n.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async ue=>{if(ue===void 0)return b.error("Unexpectedly received undefined when picking a PR.",a),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let ye;return ue instanceof Zn||ue instanceof oa?ye=ue.pullRequestModel:ye=ue,s.env.openExternal(s.Uri.parse(wd(ye)))})),n.subscriptions.push(s.commands.registerCommand("pr.exit",async ue=>{let ye;if(ue instanceof Zn||ue instanceof oa?ye=ue.pullRequestModel:ue===void 0?ye=await la(e.folderManagers.map(De=>De.activePullRequest).filter(De=>!!De),De=>`${De.number}: ${De.title}`,{placeHolder:s.l10n.t("Choose the pull request to exit")}):ye=ue,!ye)return;const Ee=ue instanceof In;return i.sendTelemetryEvent("pr.exit",{fromDescription:Ee.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var De;const Ue=await ye.githubRepository.getDefaultBranch(),Qe=e.getManagerForIssueModel(ye);if(Qe){const Ye=(De=Qe.repository.state.HEAD)==null?void 0:De.name;await Qe.checkoutDefaultBranch(Ue),Ye&&await Qe.cleanupAfterPullRequest(Ye,ye)}})})),n.subscriptions.push(s.commands.registerCommand("pr.merge",async ue=>{const ye=e.getManagerForIssueModel(ue==null?void 0:ue.pullRequestModel);if(!ye)return;const Ee=Jo(ye,ue);if(Ee.base&&Ee.head&&!Ee.base.repositoryCloneUrl.equals(Ee.head.repositoryCloneUrl)&&Vl())return ua(Ee,i);const Qe=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},Qe).then(async Ye=>{let Pt;if(Ye===Qe)try{return Pt=await ye.mergePullRequest(Ee),Pt}catch(Ft){return s.window.showErrorMessage(`Unable to merge pull request. ${he(Ft)}`),Pt}})})),n.subscriptions.push(s.commands.registerCommand("pr.readyForReview",async ue=>{const ye=e.getManagerForIssueModel(ue==null?void 0:ue.pullRequestModel);if(!ye)return;const Ee=Jo(ye,ue),De=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to mark this pull request as ready to review on GitHub?"),{modal:!0},De).then(async Ue=>{let Qe;if(Ue===De)try{return Qe=(await Ee.setReadyForReview()).isDraft,s.commands.executeCommand("pr.refreshList"),Qe}catch(Ye){return s.window.showErrorMessage(`Unable to mark pull request as ready to review. ${he(Ye)}`),Qe}})})),n.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",ue=>{ue instanceof Zn&&r.notificationProvider.markPrNotificationsAsRead(ue.pullRequestModel).then(()=>r.refresh(ue))}));async function Q(ue){var ye,Ee;let De;if(ue)ue instanceof oa||ue instanceof Zn?De=ue.pullRequestModel:De=ue;else{const Pt=e.folderManagers.map(Ft=>Ft.activePullRequest).filter(Ft=>!!Ft);Pt.length>=1&&(De=await la(Pt,Ft=>Ft.title))}if(!De){b.appendLine("No pull request found.",a);return}const Ue=(ye=e.getManagerForIssueModel(De))!=null?ye:e.folderManagers[0];let Qe;if(ue instanceof Zn)Qe=ue;else if(De instanceof In&&((Ee=Ue.activePullRequest)!=null&&Ee.equals(De))){const Pt=yr.getReviewManagerForFolderManager(t.reviewManagers,Ue);if(!Pt)return;Qe=Pt.changesInPrDataProvider.getDescriptionNode(Ue)}const Ye=!(ue instanceof Zn);await Zo(i,De,Qe,Ue,Ye,!(ue instanceof oa),r.notificationProvider)}n.subscriptions.push(s.commands.registerCommand("pr.openDescription",Q)),n.subscriptions.push(s.commands.registerCommand("issue.openDescription",Q)),n.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{br.currentPanel&&br.refresh()})),n.subscriptions.push(s.commands.registerCommand("pr.focusDescriptionInput",async()=>{br.currentPanel&&br.scrollToReview()})),n.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async ue=>{const ye=e.getManagerForIssueModel(ue.pullRequestModel);if(!ye)return;const Ee=ue.pullRequestModel,De=Jo(ye,Ee);ue.reveal(ue,{select:!0,focus:!0}),br.createOrShow(i,n.extensionUri,ye,De,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async ue=>{ue.pullRequestModel.showChangesSinceReview=!0})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async ue=>{ue.pullRequestModel.showChangesSinceReview=!1})),n.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),n.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),n.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const ue of e.folderManagers)await ue.deleteLocalBranchesNRemotes()})),n.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),n.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${vt} remotes`))),n.subscriptions.push(s.commands.registerCommand("pr.startReview",async ue=>{i.sendTelemetryEvent("pr.startReview");const ye=Ot(ue.thread);ye&&ye.startReview(ue.thread,ue.text)})),n.subscriptions.push(s.commands.registerCommand("pr.openReview",async ue=>{i.sendTelemetryEvent("pr.openReview");const ye=Ot(ue);ye&&await ye.openReview(ue)}));function re(ue){let ye,Ee="";return ue instanceof Sn?ye=ue.parent:ht.is(ue)||cd.is(ue==null?void 0:ue.thread)?ye=ue.thread:ye=ue,{thread:ye,text:Ee}}const le=async(ue,ye,Ee)=>{if(ye?i.sendTelemetryEvent("pr.resolveReviewThread"):i.sendTelemetryEvent("pr.unresolveReviewThread"),!ue){const Ye=Rn();if(!Ye){s.window.showErrorMessage(s.l10n.t("No active comment thread found"));return}ue=Ye.commentController.activeCommentThread}const{thread:De,text:Ue}=re(ue),Qe=Ot(De);Qe&&(ye?await Qe.resolveReviewThread(De,Ue):(await Qe.unresolveReviewThread(De,Ue),Ee&&De.reveal(void 0,{focus:s.CommentThreadFocus.Reply})))};n.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async ue=>le(ue,!0))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",ue=>le(ue,!1,!1))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThreadFromView",ue=>le(ue,!1,!0)));const pe=ue=>{const{path:ye,rootPath:Ee}=Ur(ue.query),De=s.workspace.workspaceFolders[0];return s.Uri.joinPath(s.Uri.file(Ee),ye).with({scheme:De.uri.scheme,authority:De.uri.authority})};n.subscriptions.push(s.commands.registerCommand("pr.diffOutdatedCommentWithHead",async ue=>{i.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const ye={};ye.selection=ue.range;const Ee=L.basename(ue.uri.fsPath),{commit:De}=Ur(ue.uri.query);s.commands.executeCommand("vscode.diff",ue.uri,pe(ue.uri),`${Ee} from ${(De||"").substr(0,8)} diffed with HEAD`,ye)})),n.subscriptions.push(s.commands.registerCommand("pr.createComment",async ue=>{i.sendTelemetryEvent("pr.createComment");const ye=Ot(ue.thread);ye&&ye.createOrReplyComment(ue.thread,ue.text,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async ue=>{i.sendTelemetryEvent("pr.createSingleComment");const ye=Ot(ue.thread);ye&&ye.createOrReplyComment(ue.thread,ue.text,!0)})),n.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async ue=>{var ye,Ee;let De;if(ue===void 0?De=(ye=Rn())==null?void 0:ye.commentController.activeCommentThread:De=ue instanceof Sn?ue.parent:ue==null?void 0:ue.thread,!(De!=null&&De.range))return;const Ue=De,Qe=((Ee=s.window.activeTextEditor)==null?void 0:Ee.document.uri.scheme)===Vt.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(fi=>fi.document.uri.scheme===Vt.Comment&&fi.document.uri.query==="");if(!Qe){b.error("No comment editor visible for making a suggestion.",a),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const Ye=s.window.visibleTextEditors.find(fi=>fi.document.uri.toString()===Ue.uri.toString()),Pt=Ye==null?void 0:Ye.document.getText(new s.Range(Ue.range.start.line,0,Ue.range.end.line,Ye.document.lineAt(Ue.range.end.line).text.length)),Ft=Qe.document.lineAt(Qe.selection.end.line).range.end;return Qe.edit(fi=>{fi.insert(Ft,`
\`\`\`suggestion
${Pt}
\`\`\``)})})),n.subscriptions.push(s.commands.registerCommand("pr.editComment",async ue=>{i.sendTelemetryEvent("pr.editComment"),ue.startEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.editQuery",ue=>{if(i.sendTelemetryEvent("pr.editQuery"),ue.label!==void 0)return Wr(Tt,ue.label)})),n.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async ue=>{i.sendTelemetryEvent("pr.cancelEditComment"),ue.cancelEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.saveComment",async ue=>{i.sendTelemetryEvent("pr.saveComment");const ye=Ot(ue.parent);ye&&await ye.editComment(ue.parent,ue)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async ue=>{i.sendTelemetryEvent("pr.deleteComment");const ye=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},ye)===ye){const De=Ot(ue.parent);De&&await De.deleteComment(ue.parent,ue)}})),n.subscriptions.push(s.commands.registerCommand("review.openFile",ue=>{var ye;const Ee=ue instanceof Ys?ue.openFileCommand():Jl(ue);s.commands.executeCommand(Ee.command,...(ye=Ee.arguments)!=null?ye:[])})),n.subscriptions.push(s.commands.registerCommand("review.openLocalFile",ue=>{var ye,Ee;const De=ue!=null?ue:(ye=s.window.activeTextEditor)==null?void 0:ye.document.uri;if(!De)return;const Ue=pe(De),Qe=s.window.visibleTextEditors.find(Pt=>Pt.document.uri.toString()===De.toString()),Ye=Jl(Ue,Qe?{selection:Qe.selection}:void 0);s.commands.executeCommand(Ye.command,...(Ee=Ye.arguments)!=null?Ee:[])})),n.subscriptions.push(s.commands.registerCommand("review.createSuggestionsFromChanges",async(ue,...ye)=>{let Ee;if("resourceStates"in ue?Ee=ue.resourceStates.map(Qe=>Qe.resourceUri):(Ee=[ue.resourceUri],ye&&Ee.push(...ye.map(Qe=>Qe.resourceUri))),Ee.length===0)return;const De=e.getManagerForFile(Ee[0]);if(!De||!De.activePullRequest)return;const Ue=yr.getReviewManagerForFolderManager(t.reviewManagers,De);return Ue==null?void 0:Ue.createSuggestionsFromChanges(Ee)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async ue=>{const ye=s.window.tabGroups.activeTabGroup.activeTab,Ee=ye==null?void 0:ye.input;if(!(Ee instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));if(Ee.original.scheme!==Vt.Git)return s.window.showErrorMessage(s.l10n.t("Converting changes to suggestions can only be done from a git diff, not a pull request diff"),{modal:!0});const De=s.window.visibleTextEditors.find(Ft=>Ft.document.uri.toString()===Ee.modified.toString());if(!De)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Ue=e.getManagerForFile(Ee.modified);if(!Ue||!Ue.activePullRequest)return;const Qe=De.selection,Ye=ue.filter(Ft=>!!Qe.intersection(new s.Selection(Ft.modifiedStartLineNumber-1,0,Ft.modifiedEndLineNumber-1,100)));if(Ye.length===0)return s.window.showErrorMessage(s.l10n.t("No modified lines selected."));const Pt=yr.getReviewManagerForFolderManager(t.reviewManagers,Ue);return Pt==null?void 0:Pt.createSuggestionFromChange(De.document,Ye)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",ue=>{t.reviewManagers.forEach(ye=>{s.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await Promise.all([ye.repository.pull(!1),ye.updateComments()]),br.refresh(),ye.changesInPrDataProvider.refresh()})})})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",ue=>{s.workspace.getConfiguration(Tt).update(Ie,"tree",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",ue=>{s.workspace.getConfiguration(Tt).update(Ie,"flat",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",ue=>{var ye;const Ee=e.getManagerForIssueModel(ue.pullRequestModel);Ee&&ue.pullRequestModel.equals(Ee==null?void 0:Ee.activePullRequest)&&((ye=yr.getReviewManagerForFolderManager(t.reviewManagers,Ee))==null||ye.updateComments()),br.refresh(),r.refresh(ue)}));const Se=(ue,ye)=>{var Ee;if(ye.scheme===Vt.Pr){const De=fn(ye);if(De)for(const Ue of(Ee=ue==null?void 0:ue.gitHubRepositories)!=null?Ee:[]){const Qe=Number(De.prNumber);if(Ue.pullRequestModels.has(Qe))return Ue.pullRequestModels.get(Qe)}}else return ue==null?void 0:ue.activePullRequest};n.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async ue=>{var ye;try{if(ue===void 0&&(ue=(ye=s.window.activeTextEditor)==null?void 0:ye.document.uri),ue instanceof bs)await ue.markFileAsViewed(!1);else if(ue){const Ee=s.window.tabGroups.activeTabGroup.activeTab;if(Ee){let Qe;Ee.input instanceof s.TabInputTextDiff?Qe=Ee.input.modified:Ee.input instanceof s.TabInputText&&(Qe=Ee.input.uri),Qe&&ue.toString()===Qe.toString()&&s.window.tabGroups.close(Ee)}const De=e.getManagerForFile(ue),Ue=Se(De,ue);await(Ue==null?void 0:Ue.markFiles([ue.path],!0,"viewed")),De==null||De.setFileViewedContext()}}catch(Ee){s.window.showErrorMessage(`Marked file as viewed failed: ${Ee}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async ue=>{var ye;try{if(ue===void 0&&(ue=(ye=s.window.activeTextEditor)==null?void 0:ye.document.uri),ue instanceof bs)ue.unmarkFileAsViewed(!1);else if(ue){const Ee=e.getManagerForFile(ue),De=Se(Ee,ue);await(De==null?void 0:De.markFiles([ue.path],!0,"unviewed")),Ee==null||Ee.setFileViewedContext()}}catch(Ee){s.window.showErrorMessage(`Marked file as not viewed failed: ${Ee}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async ue=>{var ye;await((ye=ue.activePullRequest)==null?void 0:ye.unmarkAllFilesAsViewed()),ue.setFileViewedContext()})}catch(ue){s.window.showErrorMessage(`Marked file as not viewed failed: ${ue}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),n.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",ue=>{if(ue instanceof Sn)return s.env.clipboard.writeText(ue.rawComment.htmlUrl)})),n.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async()=>{const ue=e.folderManagers.map(Ee=>Ee.activePullRequest).filter(Ee=>!!Ee),ye=await la(ue,Ee=>`${Ee.number}: ${Ee.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(ye)return s.env.clipboard.writeText(wd(ye))})),n.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var ue;const ye=[];for(const Ye of e.folderManagers){const Pt=await Ye.getActiveGitHubRemotes(await Ye.getGitHubRemotes()),Ft=Ye.gitHubRepositories.filter(fi=>Pt.find(On=>On.remoteName===fi.remote.remoteName));ye.push(...Ft.map(fi=>({manager:Ye,repo:fi})))}const Ee=await la(ye,Ye=>`${Ye.repo.remote.owner}/${Ye.repo.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!Ee)return;const De=/^#?(\d*)$/,Ue=await s.window.showInputBox({ignoreFocusOut:!0,prompt:s.l10n.t("Enter the pull request number"),validateInput:Ye=>{const Pt=Ye.match(De);if(!Pt||Pt.length!==2||Number.isNaN(Number(Pt[1])))return s.l10n.t("Value must be a number")}});if(Ue===void 0||Ue==="#")return;const Qe=await Ee.manager.fetchById(Ee.repo,Number(Ue.match(De)[1]));if(Qe)return(ue=yr.getReviewManagerForFolderManager(t.reviewManagers,Ee.manager))==null?void 0:ue.switch(Qe)}));function Ae(){const ue=[];return e.folderManagers.forEach(ye=>{ue.push(...ye.gitHubRepositories)}),la(ue,ye=>`${ye.remote.owner}/${ye.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}n.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const ue=await Ae();ue&&s.env.openExternal(G0(ue))})),n.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const ue=await Ae();ue&&s.env.openExternal(V0(ue))})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async ue=>{i.sendTelemetryEvent("pr.applySuggestion");const ye=Ot(ue.parent);ye instanceof Dh&&ye.applySuggestion(ue)})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestionWithCopilot",async ue=>{i.sendTelemetryEvent("pr.applySuggestionWithCopilot");const ye=ue.parent;ye.collapsibleState=s.CommentThreadCollapsibleState.Collapsed;const Ee=ue.body instanceof s.MarkdownString?ue.body.value:ue.body;await s.commands.executeCommand("vscode.editorChat.start",{initialRange:ye.range,message:Ee,autoSend:!0})})),n.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOn",async()=>{lt.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOff",async()=>{lt.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async ue=>{const ye=ue.fileName;let Ee=Ta(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!0,ue.status),De=Ta(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!1,ue.status);return s.commands.executeCommand("vscode.diff",Ee,De,`${ye} (Pull Request Compare Base with Head)`)})),n.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async ue=>{const ye=ue.fileName;let Ee=Ta(ue.resourceUri,ue.pullRequest,ue.pullRequest.base.sha,ue.pullRequest.head.sha,ue.fileName,!1,ue.status);return s.commands.executeCommand("vscode.diff",Ee,ue.resourceUri,`${ye} (Pull Request Compare Head with Local)`)}));async function Oe(ue,ye){const Ee=s.window.tabGroups.activeTabGroup.activeTab,De=Ee==null?void 0:Ee.input;if(!(De instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const Ue=s.window.visibleTextEditors.find(Ni=>Ni.document.uri.toString()===De.modified.toString());if(!Ue)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Qe=Ue.document.uri;if(De.original.scheme!==Vt.Review&&De.original.scheme!==Vt.Pr)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const Ye=Ue.selection.active,Pt=ye?ue:ue.reverse();for(const Ni of Pt){const Gi=Ni.modifiedEndLineNumber>Ni.modifiedStartLineNumber?Ni.modifiedEndLineNumber:Ni.modifiedStartLineNumber+1,kr=new s.Range(Ni.modifiedStartLineNumber?Ni.modifiedStartLineNumber-1:Ni.modifiedStartLineNumber,0,Gi,0);if(ye&&Ye.line+1<Ni.modifiedStartLineNumber){Ue.revealRange(kr),Ue.selection=new s.Selection(kr.start,kr.start);return}else if(!ye&&Ye.line+1>Ni.modifiedStartLineNumber){Ue.revealRange(kr),Ue.selection=new s.Selection(kr.start,kr.start);return}}if(De.original.scheme===Vt.Pr)return s.window.showInformationMessage(s.l10n.t("No more diffs in this file. Check out the pull request to use this command across files."));const Ft=e.getManagerForFile(Qe);if(!Ft)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const fi=yr.getReviewManagerForFolderManager(t.reviewManagers,Ft);if(!fi)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!fi.reviewModel.hasLocalFileChanges||fi.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let Ni=0;Ni<fi.reviewModel.localFileChanges.length;Ni++){const Gi=ye?Ni:fi.reviewModel.localFileChanges.length-1-Ni;if(fi.reviewModel.localFileChanges[Gi].changeModel.filePath.toString()===Qe.toString()){const Es=ye?Gi+1:Gi-1;if(fi.reviewModel.localFileChanges.length>Es){if(await fi.reviewModel.localFileChanges[Es].openDiff(Ft),!ye){const qc=s.window.visibleTextEditors.find(Fu=>Fu.document.uri.toString()===fi.reviewModel.localFileChanges[Es].changeModel.filePath.toString());if(qc){const Fu=await fi.reviewModel.localFileChanges[Es].changeModel.diffHunks(),Ns=Fu[Fu.length-1],kv=Ns.newLineNumber+Ns.newLength,YR=kv>Ns.newLineNumber?kv:Ns.newLineNumber+1,Hc=new s.Range(Ns.newLineNumber?Ns.newLineNumber-1:Ns.newLineNumber,0,YR,0);qc.revealRange(Hc),qc.selection=new s.Selection(Hc.start,Hc.start)}}return}}}const On=ye?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),On).then(Ni=>{if(Ni===On)return fi.reviewModel.localFileChanges[ye?0:fi.reviewModel.localFileChanges.length-1].openDiff(Ft)})}n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async ue=>{Oe(ue,!0)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async ue=>{Oe(ue,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const ue of e.folderManagers)for(const ye of ue.gitHubRepositories)for(const Ee of ye.pullRequestModels)Ee[1].isResolved()&&Ee[1].reviewThreadsCacheReady&&Ee[1].initializeReviewThreadCache()})),n.subscriptions.push(s.commands.registerCommand("pr.closeRelatedEditors",Vy)),n.subscriptions.push(s.commands.registerCommand("review.copyPrLink",async()=>{const ue=e.folderManagers.map(Ee=>Ee.activePullRequest).filter(Ee=>!!Ee),ye=await la(ue,Ee=>`${Ee.number}: ${Ee.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(ye)return s.env.clipboard.writeText(ye.html_url)}))}let el;const Wy={};function zy(n){el=n.globalState}const im=(n,e)=>{if(!el)throw new Error("Persistent store not initialized.");return el.get(n+":"+e,Wy)},nm=(n,e,t)=>{if(!el)throw new Error("Persistent store not initialized.");return el.update(n+":"+e,t)};var eo=Qt(41566),Ky=Object.defineProperty,Qy=(n,e,t)=>e in n?Ky(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zd=(n,e,t)=>Qy(n,typeof e!="symbol"?e+"":e,t);class Yy extends g{constructor(e){super(),this.baseReporter=e,zd(this,"sharedProperties",{}),e&&this._register(e)}sendTelemetryEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryEvent(e,{...this.sharedProperties,...t},i)}sendTelemetryErrorEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const i={};for(const[r,a]of t)i[r]=a;this.sendTelemetryEvent(e,i)}}function Xy(){switch(s.env.uriScheme){case"vscode":return eo.Z7.Public;case"vscode-insiders":return eo.Z7.Insiders;case"vscode-exploration":return eo.Z7.Internal;case"code-oss":return eo.Z7.Team;default:return eo.Z7.Public}}class Jy{constructor(){zd(this,"initializePromise",Promise.resolve()),zd(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function Zy(n,e){const t=n.extension.id,i=n.extension.packageJSON.name,r=n.extension.packageJSON.version,a=Xy();return i==="vscode-pull-request-github"?(0,eo.M$)(t,r,a,e,n.globalState):new Jy}var tl=Qt(65606);function ou(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof tl=="object"&&tl.version!==void 0?`Node.js/${tl.version.substr(1)} (${tl.platform}; ${tl.arch})`:"<environment undetectable>"}var ew=Qt(80811),tw="9.0.6",iw=`octokit-endpoint.js/${tw} ${ou()}`,nw={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":iw},mediaType:{format:""}};function rw(n){return n?Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{}):{}}function aw(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function rm(n,e){const t=Object.assign({},n);return Object.keys(e).forEach(i=>{aw(e[i])?i in n?t[i]=rm(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}function am(n){for(const e in n)n[e]===void 0&&delete n[e];return n}function Kd(n,e,t){var r;if(typeof e=="string"){let[a,o]=e.split(" ");t=Object.assign(o?{method:a,url:o}:{url:a},t)}else t=Object.assign({},e);t.headers=rw(t.headers),am(t),am(t.headers);const i=rm(n||{},t);return t.url==="/graphql"&&(n&&((r=n.mediaType.previews)!=null&&r.length)&&(i.mediaType.previews=n.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(a=>a.replace(/-preview/,""))),i}function sw(n,e){const t=/\?/.test(n)?"&":"?",i=Object.keys(e);return i.length===0?n:n+t+i.map(r=>r==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${r}=${encodeURIComponent(e[r])}`).join("&")}var ow=/\{[^{}}]+\}/g;function lw(n){return n.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function uw(n){const e=n.match(ow);return e?e.map(lw).reduce((t,i)=>t.concat(i),[]):[]}function sm(n,e){const t={__proto__:null};for(const i of Object.keys(n))e.indexOf(i)===-1&&(t[i]=n[i]);return t}function om(n){return n.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function to(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function il(n,e,t){return e=n==="+"||n==="#"?om(e):to(e),t?to(t)+"="+e:e}function io(n){return n!=null}function Qd(n){return n===";"||n==="&"||n==="?"}function dw(n,e,t,i){var r=n[t],a=[];if(io(r)&&r!=="")if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")r=r.toString(),i&&i!=="*"&&(r=r.substring(0,parseInt(i,10))),a.push(il(e,r,Qd(e)?t:""));else if(i==="*")Array.isArray(r)?r.filter(io).forEach(function(o){a.push(il(e,o,Qd(e)?t:""))}):Object.keys(r).forEach(function(o){io(r[o])&&a.push(il(e,r[o],o))});else{const o=[];Array.isArray(r)?r.filter(io).forEach(function(v){o.push(il(e,v))}):Object.keys(r).forEach(function(v){io(r[v])&&(o.push(to(v)),o.push(il(e,r[v].toString())))}),Qd(e)?a.push(to(t)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else e===";"?io(r)&&a.push(to(t)):r===""&&(e==="&"||e==="?")?a.push(to(t)+"="):r===""&&a.push("");return a}function cw(n){return{expand:fw.bind(null,n)}}function fw(n,e){var t=["+","#",".","/",";","?","&"];return n=n.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,r,a){if(r){let v="";const A=[];if(t.indexOf(r.charAt(0))!==-1&&(v=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(H){var Q=/([^:\*]*)(?::(\d+)|(\*))?/.exec(H);A.push(dw(e,v,Q[1],Q[2]||Q[3]))}),v&&v!=="+"){var o=",";return v==="?"?o="&":v!=="#"&&(o=v),(A.length!==0?v:"")+A.join(o)}else return A.join(",")}else return om(a)}),n==="/"?n:n.replace(/\/$/,"")}function lm(n){var Q;let e=n.method.toUpperCase(),t=(n.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},n.headers),r,a=sm(n,["method","baseUrl","url","headers","request","mediaType"]);const o=uw(t);t=cw(t).expand(a),/^http/.test(t)||(t=n.baseUrl+t);const v=Object.keys(n).filter(re=>o.includes(re)).concat("baseUrl"),A=sm(a,v);if(!/application\/octet-stream/i.test(i.accept)&&(n.mediaType.format&&(i.accept=i.accept.split(/,/).map(re=>re.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${n.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&(Q=n.mediaType.previews)!=null&&Q.length)){const re=i.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];i.accept=re.concat(n.mediaType.previews).map(le=>{const pe=n.mediaType.format?`.${n.mediaType.format}`:"+json";return`application/vnd.github.${le}-preview${pe}`}).join(",")}return["GET","HEAD"].includes(e)?t=sw(t,A):"data"in A?r=A.data:Object.keys(A).length&&(r=A),!i["content-type"]&&typeof r!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof r=="undefined"&&(r=""),Object.assign({method:e,url:t,headers:i},typeof r!="undefined"?{body:r}:null,n.request?{request:n.request}:null)}function hw(n,e,t){return lm(Kd(n,e,t))}function um(n,e){const t=Kd(n,e),i=hw.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:um.bind(null,t),merge:Kd.bind(null,t),parse:lm})}var mw=um(null,nw);class dm extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var pw=Qt(83519),cm=Qt.n(pw),vw=cm()(n=>console.warn(n)),gw=cm()(n=>console.warn(n)),nl=class extends Error{constructor(n,e,t){super(n),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=e;let i;"headers"in t&&typeof t.headers!="undefined"&&(i=t.headers),"response"in t&&(this.response=t.response,i=t.response.headers);const r=Object.assign({},t.request);t.request.headers.authorization&&(r.headers=Object.assign({},t.request.headers,{authorization:t.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r,Object.defineProperty(this,"code",{get(){return vw(new dm("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),e}}),Object.defineProperty(this,"headers",{get(){return gw(new dm("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}},bw="8.4.1";function yw(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function ww(n){return n.arrayBuffer()}function fm(n){var v,A,H,Q;const e=n.request&&n.request.log?n.request.log:console,t=((v=n.request)==null?void 0:v.parseSuccessResponseBody)!==!1;(yw(n.body)||Array.isArray(n.body))&&(n.body=JSON.stringify(n.body));let i={},r,a,{fetch:o}=globalThis;if((A=n.request)!=null&&A.fetch&&(o=n.request.fetch),!o)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return o(n.url,{method:n.method,body:n.body,redirect:(H=n.request)==null?void 0:H.redirect,headers:n.headers,signal:(Q=n.request)==null?void 0:Q.signal,...n.body&&{duplex:"half"}}).then(async re=>{a=re.url,r=re.status;for(const le of re.headers)i[le[0]]=le[1];if("deprecation"in i){const le=i.link&&i.link.match(/<([^<>]+)>; rel="deprecation"/),pe=le&&le.pop();e.warn(`[@octokit/request] "${n.method} ${n.url}" is deprecated. It is scheduled to be removed on ${i.sunset}${pe?`. See ${pe}`:""}`)}if(!(r===204||r===205)){if(n.method==="HEAD"){if(r<400)return;throw new nl(re.statusText,r,{response:{url:a,status:r,headers:i,data:void 0},request:n})}if(r===304)throw new nl("Not modified",r,{response:{url:a,status:r,headers:i,data:await Yd(re)},request:n});if(r>=400){const le=await Yd(re);throw new nl(kw(le),r,{response:{url:a,status:r,headers:i,data:le},request:n})}return t?await Yd(re):re.body}}).then(re=>({status:r,url:a,headers:i,data:re})).catch(re=>{if(re instanceof nl)throw re;if(re.name==="AbortError")throw re;let le=re.message;throw re.name==="TypeError"&&"cause"in re&&(re.cause instanceof Error?le=re.cause.message:typeof re.cause=="string"&&(le=re.cause)),new nl(le,500,{request:n})})}async function Yd(n){const e=n.headers.get("content-type");return/application\/json/.test(e)?n.json().catch(()=>n.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?n.text():ww(n)}function kw(n){if(typeof n=="string")return n;let e;return"documentation_url"in n?e=` - ${n.documentation_url}`:e="","message"in n?Array.isArray(n.errors)?`${n.message}: ${n.errors.map(JSON.stringify).join(", ")}${e}`:`${n.message}${e}`:`Unknown error: ${JSON.stringify(n)}`}function Xd(n,e){const t=n.defaults(e);return Object.assign(function(r,a){const o=t.merge(r,a);if(!o.request||!o.request.hook)return fm(t.parse(o));const v=(A,H)=>fm(t.parse(t.merge(A,H)));return Object.assign(v,{endpoint:t,defaults:Xd.bind(null,t)}),o.request.hook(v,o)},{endpoint:t,defaults:Xd.bind(null,t)})}var Jd=Xd(mw,{headers:{"user-agent":`octokit-request.js/${bw} ${ou()}`}}),_w="7.1.1";function Sw(n){return`Request failed due to following response errors:
`+n.errors.map(e=>` - ${e.message}`).join(`
`)}var Rw=class extends Error{constructor(n,e,t){super(Sw(t)),this.request=n,this.headers=e,this.response=t,this.name="GraphqlResponseError",this.errors=t.errors,this.data=t.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ew=["method","baseUrl","url","headers","request","query","mediaType"],Nw=["query","method","url"],hm=/\/api\/v3\/?$/;function Tw(n,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in t)if(Nw.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},t):e,r=Object.keys(i).reduce((o,v)=>Ew.includes(v)?(o[v]=i[v],o):(o.variables||(o.variables={}),o.variables[v]=i[v],o),{}),a=i.baseUrl||n.endpoint.DEFAULTS.baseUrl;return hm.test(a)&&(r.url=a.replace(hm,"/api/graphql")),n(r).then(o=>{if(o.data.errors){const v={};for(const A of Object.keys(o.headers))v[A]=o.headers[A];throw new Rw(r,v,o.data)}return o.data.data})}function Zd(n,e){const t=n.defaults(e);return Object.assign((r,a)=>Tw(t,r,a),{defaults:Zd.bind(null,t),endpoint:t.endpoint})}var CE=Zd(Jd,{headers:{"user-agent":`octokit-graphql.js/${_w} ${ou()}`},method:"POST",url:"/graphql"});function Cw(n){return Zd(n,{method:"POST",url:"/graphql"})}var Pw=/^v1\./,Mw=/^ghs_/,Aw=/^ghu_/;async function Iw(n){const e=n.split(/\./).length===3,t=Pw.test(n)||Mw.test(n),i=Aw.test(n);return{type:"token",token:n,tokenType:e?"app":t?"installation":i?"user-to-server":"oauth"}}function Fw(n){return n.split(/\./).length===3?`bearer ${n}`:`token ${n}`}async function Dw(n,e,t,i){const r=e.endpoint.merge(t,i);return r.headers.authorization=Fw(n),e(r)}var xw=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Iw.bind(null,e),{hook:Dw.bind(null,e)})},mm="5.2.0",pm=()=>{},Ow=console.warn.bind(console),Lw=console.error.bind(console),vm=`octokit-core.js/${mm} ${ou()}`,Uw=(Rs=class{static defaults(e){return class extends this{constructor(...i){const r=i[0]||{};if(typeof e=="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const t=this.plugins;return r=class extends this{},r.plugins=t.concat(e.filter(o=>!t.includes(o))),r}constructor(e={}){const t=new ew.Collection,i={baseUrl:Jd.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=e.userAgent?`${e.userAgent} ${vm}`:vm,e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=Jd.defaults(i),this.graphql=Cw(this.request).defaults(i),this.log=Object.assign({debug:pm,info:pm,warn:Ow,error:Lw},e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...o}=e,v=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));t.wrap("request",v.hook),this.auth=v}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=xw(e.auth);t.wrap("request",a.hook),this.auth=a}const r=this.constructor;for(let a=0;a<r.plugins.length;++a)Object.assign(this,r.plugins[a](this,e))}},Rs.VERSION=mm,Rs.plugins=[],Rs),Bw="4.0.1";function gm(n){n.hook.wrap("request",(e,t)=>{n.log.debug("request",t);const i=Date.now(),r=n.request.endpoint.parse(t),a=r.url.replace(t.baseUrl,"");return e(t).then(o=>(n.log.info(`${r.method} ${a} - ${o.status} in ${Date.now()-i}ms`),o)).catch(o=>{throw n.log.info(`${r.method} ${a} - ${o.status} in ${Date.now()-i}ms`),o})})}gm.VERSION=Bw;var qw="11.4.4-cjs.2";function Hw(n){if(!n.data)return{...n,data:[]};if(!("total_count"in n.data&&!("url"in n.data)))return n;const t=n.data.incomplete_results,i=n.data.repository_selection,r=n.data.total_count;delete n.data.incomplete_results,delete n.data.repository_selection,delete n.data.total_count;const a=Object.keys(n.data)[0],o=n.data[a];return n.data=o,typeof t!="undefined"&&(n.data.incomplete_results=t),typeof i!="undefined"&&(n.data.repository_selection=i),n.data.total_count=r,n}function ec(n,e,t){const i=typeof e=="function"?e.endpoint(t):n.request.endpoint(e,t),r=typeof e=="function"?e:n.request,a=i.method,o=i.headers;let v=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!v)return{done:!0};try{const A=await r({method:a,url:v,headers:o}),H=Hw(A);return v=((H.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],{value:H}}catch(A){if(A.status!==409)throw A;return v="",{value:{status:200,headers:{},data:[]}}}}})}}function bm(n,e,t,i){return typeof t=="function"&&(i=t,t=void 0),ym(n,[],ec(n,e,t)[Symbol.asyncIterator](),i)}function ym(n,e,t,i){return t.next().then(r=>{if(r.done)return e;let a=!1;function o(){a=!0}return e=e.concat(i?i(r.value,o):r.value.data),a?e:ym(n,e,t,i)})}var PE=Object.assign(bm,{iterator:ec}),$w=null;function ME(n){return typeof n=="string"?$w.includes(n):!1}function wm(n){return{paginate:Object.assign(bm.bind(null,n),{iterator:ec.bind(null,n)})}}wm.VERSION=qw;var km="13.3.2-cjs.1",Gw={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Vw=Gw,ws=new Map;for(const[n,e]of Object.entries(Vw))for(const[t,i]of Object.entries(e)){const[r,a,o]=i,[v,A]=r.split(/ /),H=Object.assign({method:v,url:A},a);ws.has(n)||ws.set(n,new Map),ws.get(n).set(t,{scope:n,methodName:t,endpointDefaults:H,decorations:o})}var jw={has({scope:n},e){return ws.get(n).has(e)},getOwnPropertyDescriptor(n,e){return{value:this.get(n,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(n,e,t){return Object.defineProperty(n.cache,e,t),!0},deleteProperty(n,e){return delete n.cache[e],!0},ownKeys({scope:n}){return[...ws.get(n).keys()]},set(n,e,t){return n.cache[e]=t},get({octokit:n,scope:e,cache:t},i){if(t[i])return t[i];const r=ws.get(e).get(i);if(!r)return;const{endpointDefaults:a,decorations:o}=r;return o?t[i]=Ww(n,e,i,a,o):t[i]=n.request.defaults(a),t[i]}};function _m(n){const e={};for(const t of ws.keys())e[t]=new Proxy({octokit:n,scope:t,cache:{}},jw);return e}function Ww(n,e,t,i,r){const a=n.request.defaults(i);function o(...v){let A=a.endpoint.merge(...v);if(r.mapToData)return A=Object.assign({},A,{data:A[r.mapToData],[r.mapToData]:void 0}),a(A);if(r.renamed){const[H,Q]=r.renamed;n.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${H}.${Q}()`)}if(r.deprecated&&n.log.warn(r.deprecated),r.renamedParameters){const H=a.endpoint.merge(...v);for(const[Q,re]of Object.entries(r.renamedParameters))Q in H&&(n.log.warn(`"${Q}" parameter is deprecated for "octokit.${e}.${t}()". Use "${re}" instead`),re in H||(H[re]=H[Q]),delete H[Q]);return a(H)}return a(...v)}return Object.assign(o,a)}function zw(n){return{rest:_m(n)}}zw.VERSION=km;function Sm(n){const e=_m(n);return{...e,rest:e}}Sm.VERSION=km;var Kw="20.1.2",Qw=Uw.plugin(gm,Sm,wm).defaults({userAgent:`octokit-rest.js/${Kw}`});function Yw(n){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:lu(n)},t={kind:"Document",definitions:[e]};return t}function Xw(n,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:lu(n)},i={kind:"Document",definitions:[t]};return i}function lu(n){if(typeof n=="number"||typeof n=="boolean"||typeof n=="string"||typeof n=="undefined"||n===null)return null;if(Array.isArray(n))return lu(n[0]);var e=[];Object.keys(n).forEach(function(i){var r=lu(n[i]),a={kind:"Field",name:{kind:"Name",value:i},selectionSet:r||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var Jw={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Zw=function(){function n(){}return n.prototype.transformDocument=function(e){return e},n.prototype.transformForLink=function(e){return e},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:si(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},n.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},n.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:si(e.fragment,e.fragmentName)})},n.prototype.writeData=function(e){var t=e.id,i=e.data;if(typeof t!="undefined"){var r=null;try{r=this.read({rootId:t,optimistic:!1,query:Jw})}catch{}var a=r&&r.__typename||"__ClientData",o=Object.assign({__typename:a},i);this.writeFragment({id:t,fragment:Xw(o,a),data:o})}else this.writeQuery({query:Yw(i),data:i})},n}(),Rm;Rm||(Rm={});var $n=null,Em={},ek=1,tk=function(){return function(){function n(){this.id=["slot",ek++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=$n;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Em)break;return e!==$n&&($n.slots[this.id]=t),!0}return $n&&($n.slots[this.id]=Em),!1},n.prototype.getValue=function(){if(this.hasValue())return $n.slots[this.id]},n.prototype.withValue=function(e,t,i,r){var a,o=(a={__proto__:null},a[this.id]=e,a),v=$n;$n={parent:v,slots:o};try{return t.apply(r,i)}finally{$n=v}},n.bind=function(e){var t=$n;return function(){var i=$n;try{return $n=t,e.apply(this,arguments)}finally{$n=i}}},n.noContext=function(e,t,i){if($n){var r=$n;try{return $n=null,e.apply(i,t)}finally{$n=r}}else return e.apply(i,t)},n}()},tc="@wry/context:Slot",ic=Array,nc=ic[tc]||function(){var n=tk();try{Object.defineProperty(ic,tc,{value:ic[tc]=n,enumerable:!1,writable:!1,configurable:!1})}finally{return n}}(),rc=nc.bind,ik=nc.noContext;function AE(n,e){return setTimeout(rc(n),e)}function IE(n){return function(){var e=n.apply(this,arguments),t=rc(e.next),i=rc(e.throw);return new Promise(function(r,a){function o(H,Q){try{var re=H.call(e,Q)}catch(pe){return a(pe)}var le=re.done?r:v;nk(re.value)?re.value.then(le,re.done?a:A):le(re.value)}var v=function(H){return o(t,H)},A=function(H){return o(i,H)};v()})}}function nk(n){return n&&typeof n.then=="function"}var Nm=null;function FE(n){if(Nm.indexOf(n)<0){var e=function(t,i){var r=t[i];t[i]=function(){return ik(r,arguments,this)}};e(n,"yield"),e(n.prototype,"run"),e(n.prototype,"throwInto"),Nm.push(n)}return n}function rk(){}var ak=function(){function n(e,t){e===void 0&&(e=1/0),t===void 0&&(t=rk),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},n.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,r=t.newer;r&&(r.older=i),i&&(i.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},n.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},n}(),uu=new nc,sk=[],ac=[],ok=100;function no(n,e){if(!n)throw new Error(e||"assertion failure")}function lk(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function Tm(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function uk(n){return n.slice(0)}var dk=function(){function n(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++n.count}return n.prototype.recompute=function(){if(no(!this.recomputing,"already recomputing"),!(!ck(this)&&sc(this)))return ro(this)?fk(this):Tm(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Cm(this),oc(this))},n.prototype.dispose=function(){var e=this;Fm(this).forEach(sc),oc(this),this.parents.forEach(function(t){t.setDirty(),Dm(t,e)})},n.count=0,n}();function ck(n){var e=uu.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),ro(n)?Mm(e,n):Am(e,n),e}function fk(n){var e=Fm(n);return uu.withValue(n,hk,[n]),pk(n)&&mk(n),e.forEach(sc),Tm(n.value)}function hk(n){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,n.args)}catch(e){n.value[1]=e}n.recomputing=!1}function ro(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function mk(n){n.dirty=!1,!ro(n)&&Pm(n)}function Cm(n){n.parents.forEach(function(e){return Mm(e,n)})}function Pm(n){n.parents.forEach(function(e){return Am(e,n)})}function Mm(n,e){if(no(n.childValues.has(e)),no(ro(e)),!n.dirtyChildren)n.dirtyChildren=ac.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),Cm(n)}function Am(n,e){no(n.childValues.has(e)),no(!ro(e));var t=n.childValues.get(e);t.length===0?n.childValues.set(e,uk(e.value)):lk(t,e.value)||n.setDirty(),Im(n,e),!ro(n)&&Pm(n)}function Im(n,e){var t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(ac.length<ok&&ac.push(t),n.dirtyChildren=null))}function sc(n){return n.parents.size===0&&typeof n.reportOrphan=="function"&&n.reportOrphan()===!0}function Fm(n){var e=sk;return n.childValues.size>0&&(e=[],n.childValues.forEach(function(t,i){Dm(n,i),e.push(i)})),no(n.dirtyChildren===null),e}function Dm(n,e){e.parents.delete(n),n.childValues.delete(e),Im(n,e)}function pk(n){if(typeof n.subscribe=="function")try{oc(n),n.unsubscribe=n.subscribe.apply(null,n.args)}catch{return n.setDirty(),!1}return!0}function oc(n){var e=n.unsubscribe;typeof e=="function"&&(n.unsubscribe=void 0,e())}var lc=function(){function n(e){this.weakness=e}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return e.forEach(function(i){return t=t.getChildTrie(i)}),t.data||(t.data=Object.create(null))},n.prototype.getChildTrie=function(e){var t=this.weakness&&vk(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=t.get(e);return i||t.set(e,i=new n(this.weakness)),i},n}();function vk(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}var gk=new lc(typeof WeakMap=="function");function bk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return gk.lookupArray(n)}var uc=new Set;function rl(n,e){e===void 0&&(e=Object.create(null));var t=new ak(e.max||Math.pow(2,16),function(o){return o.dispose()}),i=!!e.disposable,r=e.makeCacheKey||bk;function a(){if(!(i&&!uu.hasValue())){var o=r.apply(null,arguments);if(o===void 0)return n.apply(null,arguments);var v=Array.prototype.slice.call(arguments),A=t.get(o);A?A.args=v:(A=new dk(n,v),t.set(o,A),A.subscribe=e.subscribe,i&&(A.reportOrphan=function(){return t.delete(o)}));var H=A.recompute();return t.set(o,A),uc.add(t),uu.hasValue()||(uc.forEach(function(Q){return Q.clean()}),uc.clear()),i?void 0:H}}return a.dirty=function(){var o=r.apply(null,arguments),v=o!==void 0&&t.get(o);v&&v.setDirty()},a}var xm=!1;function Om(){var n=!xm;return id()||(xm=!0),n}var yk=function(){function n(){}return n.prototype.ensureReady=function(){return Promise.resolve()},n.prototype.canBypassInit=function(){return!0},n.prototype.match=function(e,t,i){var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,v=o===void 0?a&&"Query":o;return v&&v===t?!0:(Om(),"heuristic")},n}(),DE=function(){function n(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return n.prototype.match=function(e,t,i){Ui(this.isReady,1);var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,v=o===void 0?a&&"Query":o;if(Ui(v,2),v===t)return!0;var A=this.possibleTypesMap[t];return!!(v&&A&&A.indexOf(v)>-1)},n.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(t[i.name]=i.possibleTypes.map(function(r){return r.name}))}),t},n}(),Lm=Object.prototype.hasOwnProperty,ao=function(){function n(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=rl(function(i){return t.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.depend(e),this.data[e]},n.prototype.set=function(e,t){var i=this.data[e];t!==i&&(this.data[e]=t,this.depend.dirty(e))},n.prototype.delete=function(e){Lm.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},n.prototype.clear=function(){this.replace(null)},n.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(i){t.set(i,e[i])}),Object.keys(this.data).forEach(function(i){Lm.call(e,i)||t.delete(i)})):Object.keys(this.data).forEach(function(i){t.delete(i)})},n}();function Um(n){return new ao(n)}var wk=function(){function n(e){var t=this,i=e===void 0?{}:e,r=i.cacheKeyRoot,a=r===void 0?new lc(Zu):r,o=i.freezeResults,v=o===void 0?!1:o,A=this,H=A.executeStoreQuery,Q=A.executeSelectionSet,re=A.executeSubSelectedArray;this.freezeResults=v,this.executeStoreQuery=rl(function(le){return H.call(t,le)},{makeCacheKey:function(le){var pe=le.query,Se=le.rootValue,Ae=le.contextValue,Oe=le.variableValues,ue=le.fragmentMatcher;if(Ae.store instanceof ao)return a.lookup(Ae.store,pe,ue,JSON.stringify(Oe),Se.id)}}),this.executeSelectionSet=rl(function(le){return Q.call(t,le)},{makeCacheKey:function(le){var pe=le.selectionSet,Se=le.rootValue,Ae=le.execContext;if(Ae.contextValue.store instanceof ao)return a.lookup(Ae.contextValue.store,pe,Ae.fragmentMatcher,JSON.stringify(Ae.variableValues),Se.id)}}),this.executeSubSelectedArray=rl(function(le){return re.call(t,le)},{makeCacheKey:function(le){var pe=le.field,Se=le.array,Ae=le.execContext;if(Ae.contextValue.store instanceof ao)return a.lookup(Ae.contextValue.store,pe,Se,JSON.stringify(Ae.variableValues))}})}return n.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Et(Et({},e),{returnPartialData:!1})).result},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,r=e.variables,a=e.previousResult,o=e.returnPartialData,v=o===void 0?!0:o,A=e.rootId,H=A===void 0?"ROOT_QUERY":A,Q=e.fragmentMatcherFunction,re=e.config,le=ea(i);r=Ai({},Xu(le),r);var pe={store:t,dataIdFromObject:re&&re.dataIdFromObject,cacheRedirects:re&&re.cacheRedirects||{}},Se=this.executeStoreQuery({query:i,rootValue:{type:"id",id:H,generated:!0,typename:"Query"},contextValue:pe,variableValues:r,fragmentMatcher:Q}),Ae=Se.missing&&Se.missing.length>0;return Ae&&!v&&Se.missing.forEach(function(Oe){if(!Oe.tolerable)throw new vn(8)}),a&&Ct(a,Se.result)&&(Se.result=a),{result:Se.result,complete:!Ae}},n.prototype.executeStoreQuery=function(e){var t=e.query,i=e.rootValue,r=e.contextValue,a=e.variableValues,o=e.fragmentMatcher,v=o===void 0?kk:o,A=Io(t),H=kn(t),Q=Nl(H),re={query:t,fragmentMap:Q,contextValue:r,variableValues:a,fragmentMatcher:v};return this.executeSelectionSet({selectionSet:A.selectionSet,rootValue:i,execContext:re})},n.prototype.executeSelectionSet=function(e){var t=this,i=e.selectionSet,r=e.rootValue,a=e.execContext,o=a.fragmentMap,v=a.contextValue,A=a.variableValues,H={result:null},Q=[],re=v.store.get(r.id),le=re&&re.__typename||r.id==="ROOT_QUERY"&&"Query"||void 0;function pe(Se){var Ae;return Se.missing&&(H.missing=H.missing||[],(Ae=H.missing).push.apply(Ae,Se.missing)),Se.result}return i.selections.forEach(function(Se){var Ae;if(Ao(Se,A))if(Zr(Se)){var Oe=pe(t.executeField(re,le,Se,a));typeof Oe!="undefined"&&Q.push((Ae={},Ae[Ra(Se)]=Oe,Ae))}else{var ue=void 0;if(Ba(Se))ue=Se;else if(ue=o[Se.name.value],!ue)throw new vn(9);var ye=ue.typeCondition&&ue.typeCondition.name.value,Ee=!ye||a.fragmentMatcher(r,ye,v);if(Ee){var De=t.executeSelectionSet({selectionSet:ue.selectionSet,rootValue:r,execContext:a});Ee==="heuristic"&&De.missing&&(De=Et(Et({},De),{missing:De.missing.map(function(Ue){return Et(Et({},Ue),{tolerable:!0})})})),Q.push(pe(De))}}}),H.result=rd(Q),this.freezeResults,H},n.prototype.executeField=function(e,t,i,r){var a=r.variableValues,o=r.contextValue,v=i.name.value,A=as(i,a),H={resultKey:Ra(i),directives:Qu(i,a)},Q=_k(e,t,v,A,o,H);return Array.isArray(Q.result)?this.combineExecResults(Q,this.executeSubSelectedArray({field:i,array:Q.result,execContext:r})):i.selectionSet?Q.result==null?Q:this.combineExecResults(Q,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:Q.result,execContext:r})):(Bm(i,Q.result),this.freezeResults,Q)},n.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i;return e.forEach(function(r){r.missing&&(i=i||[],i.push.apply(i,r.missing))}),{result:e.pop().result,missing:i}},n.prototype.executeSubSelectedArray=function(e){var t=this,i=e.field,r=e.array,a=e.execContext,o;function v(A){return A.missing&&(o=o||[],o.push.apply(o,A.missing)),A.result}return r=r.map(function(A){return A===null?null:Array.isArray(A)?v(t.executeSubSelectedArray({field:i,array:A,execContext:a})):i.selectionSet?v(t.executeSelectionSet({selectionSet:i.selectionSet,rootValue:A,execContext:a})):(Bm(i,A),A)}),this.freezeResults,{result:r,missing:o}},n}();function Bm(n,e){if(!n.selectionSet&&qa(e))throw new vn(10)}function kk(){return!0}function xE(n){invariant(isIdValue(n),11)}function _k(n,e,t,i,r,a){var o=a.resultKey,v=a.directives,A=t;(i||v)&&(A=Co(A,i,v));var H=void 0;if(n&&(H=n[A],typeof H=="undefined"&&r.cacheRedirects&&typeof e=="string")){var Q=r.cacheRedirects[e];if(Q){var re=Q[t];re&&(H=re(n,i,{getCacheKey:function(le){var pe=r.dataIdFromObject(le);return pe&&ss({id:pe,typename:le.__typename})}}))}}return typeof H=="undefined"?{result:H,missing:[{object:n,fieldName:A,tolerable:!1}]}:(Po(H)&&(H=H.json),{result:H})}var du=function(){function n(e){e===void 0&&(e=Object.create(null)),this.data=e}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){this.data[e]=t},n.prototype.delete=function(e){this.data[e]=void 0},n.prototype.clear=function(){this.data=Object.create(null)},n.prototype.replace=function(e){this.data=e||Object.create(null)},n}();function OE(n){return new du(n)}var Sk=function(n){Dr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function Rk(n,e){var t=new Sk(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+n.message,t.stack=n.stack,t}var Ek=function(){function n(){}return n.prototype.writeQueryToStore=function(e){var t=e.query,i=e.result,r=e.store,a=r===void 0?Um():r,o=e.variables,v=e.dataIdFromObject,A=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:t,store:a,variables:o,dataIdFromObject:v,fragmentMatcherFunction:A})},n.prototype.writeResultToStore=function(e){var t=e.dataId,i=e.result,r=e.document,a=e.store,o=a===void 0?Um():a,v=e.variables,A=e.dataIdFromObject,H=e.fragmentMatcherFunction,Q=dn(r);try{return this.writeSelectionSetToStore({result:i,dataId:t,selectionSet:Q.selectionSet,context:{store:o,processedData:{},variables:Ai({},Xu(Q),v),dataIdFromObject:A,fragmentMap:Nl(kn(r)),fragmentMatcherFunction:H}})}catch(re){throw Rk(re,r)}},n.prototype.writeSelectionSetToStore=function(e){var t=this,i=e.result,r=e.dataId,a=e.selectionSet,o=e.context,v=o.variables,A=o.store,H=o.fragmentMap;return a.selections.forEach(function(Q){var re;if(Ao(Q,v))if(Zr(Q)){var le=Ra(Q),pe=i[le];if(typeof pe!="undefined")t.writeFieldToStore({dataId:r,value:pe,field:Q,context:o});else{var Se=!1,Ae=!1;Q.directives&&Q.directives.length&&(Se=Q.directives.some(function(Qe){return Qe.name&&Qe.name.value==="defer"}),Ae=Q.directives.some(function(Qe){return Qe.name&&Qe.name.value==="client"})),!Se&&!Ae&&o.fragmentMatcherFunction}}else{var Oe=void 0;Ba(Q)?Oe=Q:(Oe=(H||{})[Q.name.value],Ui(Oe,3));var ue=!0;if(o.fragmentMatcherFunction&&Oe.typeCondition){var ye=r||"self",Ee=ss({id:ye,typename:void 0}),De={store:new du((re={},re[ye]=i,re)),cacheRedirects:{}},Ue=o.fragmentMatcherFunction(Ee,Oe.typeCondition.name.value,De);of(),ue=!!Ue}ue&&t.writeSelectionSetToStore({result:i,selectionSet:Oe.selectionSet,dataId:r,context:o})}}),A},n.prototype.writeFieldToStore=function(e){var t,i=e.field,r=e.value,a=e.dataId,o=e.context,v=o.variables,A=o.dataIdFromObject,H=o.store,Q,re,le=zu(i,v);if(!i.selectionSet||r===null)Q=r!=null&&typeof r=="object"?{type:"json",json:r}:r;else if(Array.isArray(r)){var pe=a+"."+le;Q=this.processArrayValue(r,pe,i.selectionSet,o)}else{var Se=a+"."+le,Ae=!0;if(dc(Se)||(Se="$"+Se),A){var Oe=A(r);Ui(!Oe||!dc(Oe),4),(Oe||typeof Oe=="number"&&Oe===0)&&(Se=Oe,Ae=!1)}Hm(Se,i,o.processedData)||this.writeSelectionSetToStore({dataId:Se,result:r,selectionSet:i.selectionSet,context:o});var ue=r.__typename;Q=ss({id:Se,typename:ue},Ae),re=H.get(a);var ye=re&&re[le];if(ye!==Q&&qa(ye)){var Ee=ye.typename!==void 0,De=ue!==void 0,Ue=Ee&&De&&ye.typename!==ue;Ui(!Ae||ye.generated||Ue,5),Ui(!Ee||De,6),ye.generated&&(Ue?Ae||H.delete(ye.id):qm(ye.id,Q.id,H))}}re=H.get(a),(!re||!Ct(Q,re[le]))&&H.set(a,Et(Et({},re),(t={},t[le]=Q,t)))},n.prototype.processArrayValue=function(e,t,i,r){var a=this;return e.map(function(o,v){if(o===null)return null;var A=t+"."+v;if(Array.isArray(o))return a.processArrayValue(o,A,i,r);var H=!0;if(r.dataIdFromObject){var Q=r.dataIdFromObject(o);Q&&(A=Q,H=!1)}return Hm(A,i,r.processedData)||a.writeSelectionSetToStore({dataId:A,result:o,selectionSet:i,context:r}),ss({id:A,typename:o.__typename},H)})},n}();function dc(n){return n[0]==="$"}function qm(n,e,t){if(n===e)return!1;var i=t.get(n),r=t.get(e),a=!1;Object.keys(i).forEach(function(v){var A=i[v],H=r[v];qa(A)&&dc(A.id)&&qa(H)&&!Ct(A,H)&&qm(A.id,H.id,t)&&(a=!0)}),t.delete(n);var o=Et(Et({},i),r);return Ct(o,r)?a:(t.set(e,o),!0)}function Hm(n,e,t){if(!t)return!1;if(t[n]){if(t[n].indexOf(e)>=0)return!0;t[n].push(e)}else t[n]=[e];return!1}var Nk={fragmentMatcher:new yk,dataIdFromObject:Tk,addTypename:!0,resultCaching:!0,freezeResults:!1};function Tk(n){if(n.__typename){if(n.id!==void 0)return n.__typename+":"+n.id;if(n._id!==void 0)return n.__typename+":"+n._id}return null}var Ck=Object.prototype.hasOwnProperty,$m=function(n){Dr(e,n);function e(t,i,r){var a=n.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=i,a.transaction=r,a}return e.prototype.toObject=function(){return Et(Et({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return Ck.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(du),Pk=function(n){Dr(e,n);function e(t){t===void 0&&(t={});var i=n.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new lc(Zu),i.silenceBroadcast=!1,i.config=Et(Et({},Nk),t),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new ao:new du,i.optimisticData=i.data,i.storeWriter=new Ek,i.storeReader=new wk({cacheKeyRoot:i.cacheKeyRoot,freezeResults:t.freezeResults});var r=i,a=r.maybeBroadcastWatch;return i.maybeBroadcastWatch=rl(function(o){return a.call(i,o)},{makeCacheKey:function(o){if(!o.optimistic&&!o.previousResult&&r.data instanceof ao)return r.cacheKeyRoot.lookup(o.query,JSON.stringify(o.variables))}}),i}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:r,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},e.prototype.diff=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:r,config:this.config})},e.prototype.watch=function(t){var i=this;return this.watches.add(t),function(){i.watches.delete(t)}},e.prototype.evict=function(t){throw new vn(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var i=[],r=0,a=this.optimisticData;a instanceof $m;)a.optimisticId===t?++r:i.push(a),a=a.parent;if(r>0){for(this.optimisticData=a;i.length>0;){var o=i.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,i){var r=this,a=r.data,o=r.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new $m(i,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=o,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,i){return this.performTransaction(t,i)},e.prototype.transformDocument=function(t){if(this.addTypename){var i=this.typenameDocumentCache.get(t);return i||(i=Lv(t),this.typenameDocumentCache.set(t,i),this.typenameDocumentCache.set(i,i)),i}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(i){return t.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(Zw);function Mk(n){return new Lr(function(e,t){var i=wl(e,[]);return new rr(function(r){var a;return Promise.resolve(i).then(function(o){return n(o,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){a&&a.unsubscribe()}})})}var Ak=Qt(70585),Ik={includeQuery:!0,includeExtensions:!1},Fk={accept:"*/*","content-type":"application/json"},Dk={method:"POST"},xk={http:Ik,headers:Fk,options:Dk},Gm=function(n,e,t){var i=new Error(t);throw i.name="ServerError",i.response=n,i.statusCode=n.status,i.result=e,i},Ok=function(n){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var i=r;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,Promise.reject(i)}}).then(function(t){return e.status>=300&&Gm(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&Gm(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map(function(i){return i.operationName}):n.operationName)+"'."),t})}},Lk=function(n){if(!n&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new vn(1)}},Uk=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var n=new AbortController,e=n.signal;return{controller:n,signal:e}},Bk=function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=Et({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(re){r=Et({},r,re.options,{headers:Et({},r.headers,re.headers)}),re.credentials&&(r.credentials=re.credentials),a=Et({},a,re.http)});var o=n.operationName,v=n.extensions,A=n.variables,H=n.query,Q={operationName:o,variables:A};return a.includeExtensions&&(Q.extensions=v),a.includeQuery&&(Q.query=(0,Ak.y)(H)),{options:r,body:Q}},cc=function(n,e){var t;try{t=JSON.stringify(n)}catch(r){var i=new vn(2);throw i.parseError=r,i}return t},qk=function(n,e){var t=n.getContext(),i=t.uri;return i||(typeof e=="function"?e(n):e||"/graphql")},Vm=function(n){n===void 0&&(n={});var e=n.uri,t=e===void 0?"/graphql":e,i=n.fetch,r=n.includeExtensions,a=n.useGETForQueries,o=wl(n,["uri","fetch","includeExtensions","useGETForQueries"]);Lk(i),i||(i=fetch);var v={http:{includeExtensions:r},options:o.fetchOptions,credentials:o.credentials,headers:o.headers};return new Lr(function(A){var H=qk(A,t),Q=A.getContext(),re={};if(Q.clientAwareness){var le=Q.clientAwareness,pe=le.name,Se=le.version;pe&&(re["apollographql-client-name"]=pe),Se&&(re["apollographql-client-version"]=Se)}var Ae=Et({},re,Q.headers),Oe={http:Q.http,options:Q.fetchOptions,credentials:Q.credentials,headers:Ae},ue=Bk(A,xk,v,Oe),ye=ue.options,Ee=ue.body,De;if(!ye.signal){var Ue=Uk(),Qe=Ue.controller,Ye=Ue.signal;De=Qe,De&&(ye.signal=Ye)}var Pt=function(Ni){return Ni.kind==="OperationDefinition"&&Ni.operation==="mutation"};if(a&&!A.query.definitions.some(Pt)&&(ye.method="GET"),ye.method==="GET"){var Ft=Hk(H,Ee),fi=Ft.newURI,On=Ft.parseError;if(On)return hf(On);H=fi}else try{ye.body=cc(Ee,"Payload")}catch(Ni){return hf(Ni)}return new rr(function(Ni){return i(H,ye).then(function(Gi){return A.setContext({response:Gi}),Gi}).then(Ok(A)).then(function(Gi){return Ni.next(Gi),Ni.complete(),Gi}).catch(function(Gi){Gi.name!=="AbortError"&&(Gi.result&&Gi.result.errors&&Gi.result.data&&Ni.next(Gi.result),Ni.error(Gi))}),function(){De&&De.abort()}})})};function Hk(n,e){var t=[],i=function(re,le){t.push(re+"="+encodeURIComponent(le))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var r=void 0;try{r=cc(e.variables,"Variables map")}catch(re){return{parseError:re}}i("variables",r)}if(e.extensions){var a=void 0;try{a=cc(e.extensions,"Extensions map")}catch(re){return{parseError:re}}i("extensions",a)}var o="",v=n,A=n.indexOf("#");A!==-1&&(o=n.substr(A),v=n.substr(0,A));var H=v.indexOf("?")===-1?"?":"&",Q=v+H+t.join("&")+o;return{newURI:Q}}var LE=function(n){Dr(e,n);function e(t){return n.call(this,Vm(t).request)||this}return e}(Lr),$k=Object.defineProperty,Gk=(n,e,t)=>e in n?$k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gn=(n,e,t)=>Gk(n,typeof e!="symbol"?e+"":e,t);const jm=s.l10n.t("Try again?"),Vk=s.l10n.t("Cancel"),Wm=s.l10n.t("Sign In"),jk=s.l10n.t("Don't Show Again"),zm=s.l10n.t("prompt for sign in"),Km="login",Wk=["read:user","user:email","repo"],da=["read:user","user:email","repo","workflow"],Ga=["read:user","user:email","repo","workflow","project","read:org"],Qm="githubPullRequest.lastUsedScopes",Ym="githubPullRequest.lastUsedScopesEnterprise",Xm=class _r extends g{constructor(e,t){super(),this._telemetry=e,this.context=t,Gn(this,"_githubAPI"),Gn(this,"_sessionId"),Gn(this,"_githubEnterpriseAPI"),Gn(this,"_enterpriseSessionId"),Gn(this,"_isInitialized",!1),Gn(this,"_onDidInitialize",new s.EventEmitter),Gn(this,"onDidInitialize",this._onDidInitialize.event),Gn(this,"_scopes",da),Gn(this,"_scopesEnterprise",da),Gn(this,"_isSamling",!1),Gn(this,"_onDidChangeSessions",new s.EventEmitter),Gn(this,"onDidChangeSessions",this._onDidChangeSessions.event),Gn(this,"_onDidGetSession",new s.EventEmitter),Gn(this,"onDidGetSession",this._onDidGetSession.event),Gn(this,"_onDidUpgradeSession",new s.EventEmitter),Gn(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._register(s.authentication.onDidChangeSessions(i=>this.handlOnDidChangeSessions(i)))}async handlOnDidChangeSessions(e){var t;const i=e.provider.id===ui.github&&this._githubAPI?ui.github:e.provider.id===ui.githubEnterprise&&this._githubEnterpriseAPI?ui.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!i)return;if(i){if(((t=(await this.getSession(i,{silent:!0},i===ui.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:t.id)===this._sessionId)return;i===ui.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const r=[];this.isAuthenticated(ui.github)||r.push(this.initialize(ui.github)),!this.isAuthenticated(ui.githubEnterprise)&&Tr()&&r.push(this.initialize(ui.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,t){return t.every(i=>e.includes(i))}setScopesFromState(){this._scopes=this.context.globalState.get(Qm,da),this._scopesEnterprise=this.context.globalState.get(Ym,da)}async saveScopesInState(){await this.context.globalState.update(Qm,this._scopes),await this.context.globalState.update(Ym,this._scopesEnterprise)}async initialize(e,t={},i=Xn(e)?this._scopesEnterprise:this._scopes,r){if(b.debug(`Initializing GitHub${cu(e)} authentication provider.`,"Authentication"),Xn(e)&&!Tr())return b.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,o=!1,v=da;const A=this._scopes,H=this._scopesEnterprise,Q={canceled:!1};try{Xn(e)?this._scopesEnterprise=i:this._scopes=i;const re=await this.getSession(e,t,i,!!r);v=re.scopes,a=re.session,o=re.isNew}catch(re){this._scopes=A,this._scopesEnterprise=H;const le=re.message==="User did not consent to login.";if(le&&(Q.canceled=!0),!(t.forceNewSession&&le))throw re}if(a){Xn(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let re;try{re=await this.createHub(a.accessToken,e)}catch(le){if(le.message==="Bad credentials"&&!t.forceNewSession)return b.debug(`Creating hub failed ${le.message}`,_r.ID),t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,i,r);console.log(le),b.error(`Creating hub failed ${le.message}`,_r.ID),s.window.showErrorMessage(s.l10n.t("Unable to sign in with the provided credentials"))}return Xn(e)?(b.debug("Setting enterprise hub and scopes",_r.ID),this._githubEnterpriseAPI=re,this._scopesEnterprise=v):(b.debug("Setting hub and scopes",_r.ID),this._githubAPI=re,this._scopes=v),await this.saveScopesInState(),(!this._isInitialized||o&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),o&&this._telemetry.sendTelemetryEvent("auth.session"),Q}else return b.debug(`No GitHub${cu(e)} token found.`,_r.ID),Q}async doCreate(e,t=!1){let i;const r=async()=>{i=await this.initialize(ui.githubEnterprise,e,t?Ga:void 0,t)};Tr()?await r():jr(Vr,hr,Tr,r,this.context.subscriptions);let a;return i||(a=await this.initialize(ui.github,e,t?Ga:void 0,t)),{canceled:!!(a&&a.canceled)||!!(i&&i.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(ui.github)||this.isAuthenticated(ui.githubEnterprise)}isAuthenticated(e){return Xn(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return Xn(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,Ga):!!this._githubAPI&&this.allScopesIncluded(this._scopes,Ga)}getHub(e){return Xn(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return Xn(e)?!this.allScopesIncluded(this._scopesEnterprise,da):!this.allScopesIncluded(this._scopes,da)}areScopesExtra(e){return Xn(e)?this.allScopesIncluded(this._scopesEnterprise,Ga):this.allScopesIncluded(this._scopes,Ga)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},Ga,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,i;return Xn(e)?(i=this._githubEnterpriseAPI)!=null?i:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(im(zm,Km)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",cu(e)),Wm,jk)===Wm)return await this.login(e);nm(zm,Km,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",cu(e));let i=!0,r;const a={createIfNone:!0};let o=!1;for(;i;){try{await this.initialize(e,a)}catch(v){b.error(`Login error: ${t}: ${v}`,_r.ID),v instanceof Error&&v.stack&&b.error(v.stack,_r.ID),v.message==="Cancelled"&&(o=!0)}r=this.getHub(e),r||o?i=!1:(i=await s.window.showErrorMessage(t,jm,Vk)===jm,i&&(a.forceNewSession=!0,a.createIfNone=void 0))}return r?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),r}async showSamlMessageAndAuth(e){this._isSamling=!0;const t=await this.recreate(s.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,t}async isCurrentUser(e){var t,i,r,a;return((i=await((t=this._githubAPI)==null?void 0:t.currentUser))==null?void 0:i.login)===e||((a=await((r=this._githubEnterpriseAPI)==null?void 0:r.currentUser))==null?void 0:a.login)==e}async getIsEmu(e){const t=this.getHub(e);return!!await(t==null?void 0:t.isEmu)}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){const t=new Promise(i=>{b.debug("Getting current user",_r.ID),e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(r=>{b.debug(`Got current user ${r.data.login}`,_r.ID),i(r)}).catch(r=>{s.window.showErrorMessage(s.l10n.t("Unable to get the currently logged in user, GitHub Pull Requests will not work correctly")),b.error(`Failed to get current user: ${r}, ${r.message}`,_r.ID)})});e.currentUser=t.then(i=>Gs(i.data)),e.isEmu=t.then(i=>{var r;return((r=i.data.plan)==null?void 0:r.name)==="emu_user"})}async getSession(e,t,i,r){const a=t.forceNewSession||r?void 0:await this.findExistingScopes(e);if(a!=null&&a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const o=await s.authentication.getSession(e,r?i:da,t);return{session:o,isNew:!!o,scopes:r?i:da}}async findExistingScopes(e){const t=[Ga,da,Wk];for(const i of t){const r=await s.authentication.getSession(e,i,{silent:!0});if(r)return{session:r,scopes:i}}}async createHub(e,t){let i="https://api.github.com",r;b.appendLine(`Creating hub for ${Xn(t)?"enterprise":".com"}`,_r.ID),Xn(t)&&(r=js());const a=r==null?void 0:r.authority.endsWith("ghe.com");r&&(b.appendLine(`Enterprise server authority ${r.authority}`,_r.ID),a?i=`${r.scheme}://api.${r.authority}`:i=`${r.scheme}://${r.authority}/api/v3`);let o;s.env.uiKind===s.UIKind.Web&&(o=(le,pe)=>{if(pe.headers!==void 0){const{"user-agent":Se,...Ae}=pe.headers;Se&&(pe.headers=Ae)}return ft()(le,pe)});const v=new Qw({request:{agent:Bh,fetch:o},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:i});let A=i;r&&!a&&(A=`${r.scheme}://${r.authority}/api`);const H=new wg({link:Kk(A,e||""),cache:new Pk,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),Q=new fb(this._telemetry,Xn(t)),re={octokit:new mb(v,Q),graphql:new hb(H,Q)};return this.setCurrentUser(re),re}};Gn(Xm,"ID","Authentication");let zk=Xm;const Kk=(n,e)=>Mk((t,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(Vm({uri:`${n}/graphql`,fetch:ft()}));function cu(n){return Xn(n)?" Enterprise":""}var Qk=Object.defineProperty,Yk=(n,e,t)=>e in n?Qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ca=(n,e,t)=>Yk(n,typeof e!="symbol"?e+"":e,t);const Jm=class Av extends g{constructor(e,t){super(),this._credentialStore=e,this._telemetry=t,ca(this,"_folderManagers",[]),ca(this,"_subs"),ca(this,"_onDidChangeState",new s.EventEmitter),ca(this,"onDidChangeState",this._onDidChangeState.event),ca(this,"_onDidChangeFolderRepositories",new s.EventEmitter),ca(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),ca(this,"_onDidLoadAnyRepositories",new s.EventEmitter),ca(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),ca(this,"_state",aa.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",Qh,this._state)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;lt.setContext(kt.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(i=>{this.state=i,this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>Z(r.uri.fsPath,e.repository.rootUri.fsPath)||Z(e.repository.rootUri.fsPath,r.uri.fsPath));if(i>-1){const r=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...r),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const t=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const i=this._folderManagers[t];k(this._subs.get(i)),this._subs.delete(i),this._folderManagers.splice(t),i.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=e.scheme===Vt.Repo?Id(e):void 0,i=e.scheme===Vt.Pr?fn(e):void 0,r=this._folderManagers.slice().sort((a,o)=>o.repository.rootUri.path.length-a.repository.rootUri.path.length);for(const a of r){const o=a.repository.rootUri.path;if(t&&a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo}))return a;if(i&&a.repository.state.remotes.find(v=>v.name===i.remoteName))return a;{const v=e.path.substring(o.length>1?o.length+1:o.length);if(ve(s.Uri.joinPath(a.repository.rootUri,v).path,e.path)===0)return a}}}getManagerForRepository(e,t){const i=`${e.toLowerCase()}/${t.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(a=>`${a.remote.owner.toLowerCase()}/${a.remote.repositoryName.toLowerCase()}`).includes(i))return r}get state(){return this._state}set state(e){const t=e!==this._state;this._state=e,t&&(s.commands.executeCommand("setContext",Qh,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=aa.Initializing}async authenticate(e){var t,i;if(e===!1)return!!this._credentialStore.login(ui.github);const{dotComRemotes:r,enterpriseRemotes:a,unknownRemotes:o}=await ch(this.folderManagers),v=s.l10n.t("Yes");if(e){let re=(i=(t=js())==null?void 0:t.toString())!=null?i:a.length?a[0].normalizedHost:o.length?o[0].normalizedHost:void 0;if(a.length===0&&o.length===0&&b.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${r.length} .com)`,Av.ID),re){const le=s.l10n.t("No, manually set {0}","github-enterprise.uri"),pe=await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",re),{modal:!0},v,le);if(pe===v)await bd(re);else if(pe===le)re=void 0;else return!1}if(!re){const le=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0,validateInput:pe=>{if(!/^(?:$|(https?):\/\/(?!github\.com).*)/.test(pe))return s.l10n.t('Please enter a valid GitHub Enterprise server URL. A "github.com" URL is not valid for GitHub Enterprise.')}});if(le)await bd(le);else return!1}}else if(!Tr()&&r.length===0&&a.length>0){const re=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},v,s.l10n.t("No, use GitHub.com"));if(re===v)await bd(a[0].normalizedHost);else if(re===void 0)return!1}let A;const H=a.length>0||o.length>0;(Tr()||r.length===0)&&H&&(A=await this._credentialStore.login(ui.githubEnterprise));let Q;return!A&&(!Tr()||a.length===0)&&(Q=await this._credentialStore.login(ui.github)),!!Q||!!A}dispose(){this._subs.forEach(e=>k(e))}};ca(Jm,"ID","RepositoriesManager");let Xk=Jm;function UE(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var Jk=Object.defineProperty,Zk=(n,e,t)=>e in n?Jk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pa=(n,e,t)=>Zk(n,typeof e!="symbol"?e+"":e,t);class fc extends g{constructor(e){super(),Pa(this,"_onDidOpenRepository",new s.EventEmitter),Pa(this,"onDidOpenRepository",this._onDidOpenRepository.event),Pa(this,"_onDidCloseRepository",new s.EventEmitter),Pa(this,"onDidCloseRepository",this._onDidCloseRepository.event),Pa(this,"_onDidChangeState",new s.EventEmitter),Pa(this,"onDidChangeState",this._onDidChangeState.event),Pa(this,"_onDidPublish",new s.EventEmitter),Pa(this,"onDidPublish",this._onDidPublish.event),Pa(this,"_gitAPI");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(i){throw lt.setContext("gitNotInstalled",!0),i}this._register(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._register(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._register(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new fc(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}}var e_=Object.defineProperty,t_=(n,e,t)=>e in n?e_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vn=(n,e,t)=>t_(n,typeof e!="symbol"?e+"":e,t);class i_ extends g{constructor(e){super(),this._liveShareAPI=e,Vn(this,"_onDidOpenRepository",this._register(new s.EventEmitter)),Vn(this,"onDidOpenRepository",this._onDidOpenRepository.event),Vn(this,"_onDidCloseRepository",this._register(new s.EventEmitter)),Vn(this,"onDidCloseRepository",this._onDidCloseRepository.event),Vn(this,"_openRepositories",[]),Vn(this,"_sharedServiceProxy")}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(hi)||void 0,this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._register(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._register(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new a_(e,this._sharedServiceProxy),r=new n_,a=new Proxy(i,r);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);t&&this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}}class n_{constructor(){}get(e,t){return t in e?e[t]:function(...i){return e.proxy.request(Bt,[t,e.workspaceFolder.uri.toString(),...i])}}}class r_{constructor(e){Vn(this,"HEAD"),Vn(this,"remotes"),Vn(this,"submodules",[]),Vn(this,"rebaseCommit"),Vn(this,"mergeChanges",[]),Vn(this,"indexChanges",[]),Vn(this,"workingTreeChanges",[]),Vn(this,"_onDidChange",new s.EventEmitter),Vn(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class a_{constructor(e,t){this.workspaceFolder=e,this.proxy=t,Vn(this,"rootUri"),Vn(this,"state")}async initialize(){const e=await this.proxy.request(Bt,[li,this.workspaceFolder.uri.toString()]);this.state=new r_(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(Ve,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var s_=Object.defineProperty,o_=(n,e,t)=>e in n?s_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l_=(n,e,t)=>o_(n,typeof e!="symbol"?e+"":e,t);class u_ extends g{constructor(e,t){super(),this._liveShareAPI=e,this._api=t,l_(this,"_sharedService")}async initialize(){this._sharedService=await this._liveShareAPI.shareService(hi)||void 0,this._sharedService&&this._sharedService.onRequest(Bt,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],i=e[1],r=s.Uri.parse(i),a=this._liveShareAPI.convertSharedUriToLocal(r),o=this._api.getGitProvider(a);if(!o)return;const v=o.repositories.filter(A=>A.rootUri.toString()===a.toString())[0];if(v){const A=e.slice(2);if(t===li)return this._register(v.state.onDidChange(H=>{this._sharedService.notify(Ve,{HEAD:v.state.HEAD,remotes:v.state.remotes,refs:v.state.refs})})),{HEAD:v.state.HEAD,remotes:v.state.remotes,refs:v.state.refs,rootUri:r.toString()};if(t==="show"){const H=A[1],Q=r.with({path:H}),re=this._liveShareAPI.convertSharedUriToLocal(Q);return A[1]=re.fsPath,v[t](...A)}if(v[t])return v[t](...A)}else return null}}var d_=Object.defineProperty,c_=(n,e,t)=>e in n?d_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fu=(n,e,t)=>c_(n,typeof e!="symbol"?e+"":e,t);async function f_(){const n=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!n)return null;const e=n.isActive?n.exports:await n.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class h_ extends g{constructor(e){super(),this._api=e,fu(this,"_liveShareAPI"),fu(this,"_host"),fu(this,"_guest"),fu(this,"_localDisposables",[]),this._register({dispose:()=>k(this._localDisposables)})}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await f_()),!!this._liveShareAPI)return this._register(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(k(this._localDisposables),e.role===1){this._host=new u_(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new i_(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}}function m_(n){return new h_(n)}async function p_(n,e){const t=await fc.createProvider();if(t)return e.registerGitProvider(t),t}var v_=Object.defineProperty,g_=(n,e,t)=>e in n?v_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zm=(n,e,t)=>g_(n,typeof e!="symbol"?e+"":e,t);class b_{constructor(e){this.pullRequestManager=e,Zm(this,"onNotifiedEmitter",new s.EventEmitter),Zm(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,t,i){let r=null;switch(e){case"initialize":r={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const o of this.pullRequestManager.folderManagers){const v=o.getAllAssignableUsers();if(v)for(const A of v)a.has(A.login)||a.set(A.login,A)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return r}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch{}t&&e.findIndex(i=>i.login===t)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const i=t.hub.currentUser?await t.hub.currentUser:void 0;if(i)return i.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var y_=Object.defineProperty,w_=(n,e,t)=>e in n?y_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k_=(n,e,t)=>w_(n,typeof e!="symbol"?e+"":e,t);class __ extends g{constructor(){super(),k_(this,"_extensionsDisposable"),this._extensionsDisposable=this._register(s.extensions.onDidChange(this.onExtensionsChanged,this)),this.onExtensionsChanged()}register(e){e&&this._register(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let i=0;const r=setInterval(async()=>{t.isActive?(clearInterval(r),this.register(await t.exports)):(i++,i>60&&clearInterval(r))},1e3)}}}function ep(){return s.workspace.getConfiguration(Tt).get(Ln,!1)?lt.QUICK_CHAT_OPEN:lt.OPEN_CHAT}var S_=Object.defineProperty,R_=(n,e,t)=>e in n?S_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,so=(n,e,t)=>R_(n,typeof e!="symbol"?e+"":e,t);class tp extends g{constructor(e,t,i,r,a){super(),this.issueModel=e,this.manager=t,this.stateManager=i,this.shouldPromptForBranch=a,so(this,"_branchName"),so(this,"user"),so(this,"repo"),so(this,"_repoDefaults"),so(this,"_onDidChangeCurrentIssueState",this._register(new s.EventEmitter)),so(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(r!=null?r:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const r=this.stateManager.gitAPI.repositories[i];for(let a=0;a<r.state.remotes.length;a++){const o=r.state.remotes[a];if(o.name===(e==null?void 0:e.remoteName)&&((t=o.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=r;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const i=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(ni).get(oi)&&!((t=this.issueModel.assignees)!=null&&t.find(r=>r.login===i))&&(this.manager.gitHubRepositories.find(r=>r.remote.owner===this.issueModel.remote.owner&&r.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,i),await this.stateManager.refresh(this.manager)),!0}}catch{s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===ot.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch{}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=(await this.issueModel.githubRepository.getAuthenticatedUser()).login),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(ni).get(hn))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,i=e.match(t);if(i&&i.length>0&&i[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(i=>{i===t&&s.commands.executeCommand("workbench.action.openSettings",`${ni}.${hn}`)})}async offerNewBranch(e,t,i){var r,a,o,v;const A=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(r=e.upstream)==null?void 0:r.remote,(a=e.upstream)==null?void 0:a.name);if(A&&A.model.state!==bt.Open){const H=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(o=e.name)!=null?o:"unknown branch"),Q=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(v=e.name)!=null?v:"unknown branch"),re=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(A.model.state===bt.Merged?H:Q,{modal:!0},re)===re){const pe=(i==null?void 0:i.length)===4?Number(i[3])+1:1;return`${t}_${pe}`}}return t}async createIssueBranch(e){var t;const i=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(ni).get(Vi);if(i==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:r.branch;const a=await Ws(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),o=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+Fe(a)+")(_)?(\\d*)"));if(i==="on"){const A=await this.getBranch(this._branchName);A?e||(this._branchName=await this.offerNewBranch(A,a,o)):o||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const v=this.validateBranchName(this._branchName);return v?(this.showBranchNameError(v),!1):(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(ni).get(mn);if(typeof e=="string")return Ws(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}function ip(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let oo=ip();function E_(n){oo=n}const N_=/[&<>"']/,T_=/[&<>"']/g,C_=/[<>"']|&(?!#?\w+;)/,P_=/[<>"']|&(?!#?\w+;)/g,M_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},np=n=>M_[n];function Dn(n,e){if(e){if(N_.test(n))return n.replace(T_,np)}else if(C_.test(n))return n.replace(P_,np);return n}const A_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function rp(n){return n.replace(A_,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const I_=/(^|[^\[])\^/g;function en(n,e){n=n.source||n,e=e||"";const t={replace:(i,r)=>(r=r.source||r,r=r.replace(I_,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}const F_=/[^\w:]/g,D_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ap(n,e,t){if(n){let i;try{i=decodeURIComponent(rp(t)).replace(F_,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!D_.test(t)&&(t=U_(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const hu={},x_=/^[^:]+:\/*[^/]*$/,O_=/^([^:]+:)[\s\S]*$/,L_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function U_(n,e){hu[" "+n]||(x_.test(n)?hu[" "+n]=n+"/":hu[" "+n]=pu(n,"/",!0)),n=hu[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(O_,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(L_,"$1")+e:n+e}const mu={exec:function(){}};function Br(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function sp(n,e){const t=n.replace(/\|/g,(a,o,v)=>{let A=!1,H=o;for(;--H>=0&&v[H]==="\\";)A=!A;return A?"|":" |"}),i=t.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function pu(n,e,t){const i=n.length;if(i===0)return"";let r=0;for(;r<i;){const a=n.charAt(i-r-1);if(a===e&&!t)r++;else if(a!==e&&t)r++;else break}return n.substr(0,i-r)}function B_(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,r=0;for(;r<t;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}function op(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function lp(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function up(n,e,t,i){const r=e.href,a=e.title?Dn(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const v={type:"link",raw:t,href:r,title:a,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,v}else return{type:"image",raw:t,href:r,title:a,text:Dn(o)}}function q_(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(r=>{const a=r.match(/^\s+/);if(a===null)return r;const[o]=a;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}class hc{constructor(e){this.options=e||oo}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:pu(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=q_(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const a=pu(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,a,o,v,A,H,Q,re,le,pe,Se,Ae=t[1].trim();const Oe=Ae.length>1,ue={type:"list",raw:"",ordered:Oe,start:Oe?+Ae.slice(0,-1):"",loose:!1,items:[]};Ae=Oe?`\\d{1,9}\\${Ae.slice(-1)}`:`\\${Ae}`,this.options.pedantic&&(Ae=Oe?Ae:"[*+-]");const ye=new RegExp(`^( {0,3}${Ae})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(Se=!1,!(!(t=ye.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),Q=t[2].split(`
`,1)[0],re=e.split(`
`,1)[0],this.options.pedantic?(o=2,pe=Q.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,pe=Q.slice(o),o+=t[1].length),A=!1,!Q&&/^ *$/.test(re)&&(i+=re+`
`,e=e.substring(re.length+1),Se=!0),!Se){const De=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(le=e.split(`
`,1)[0],Q=le,this.options.pedantic&&(Q=Q.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!De.test(Q));){if(Q.search(/[^ ]/)>=o||!Q.trim())pe+=`
`+Q.slice(o);else if(!A)pe+=`
`+Q;else break;!A&&!Q.trim()&&(A=!0),i+=le+`
`,e=e.substring(le.length+1)}}ue.loose||(H?ue.loose=!0:/\n *\n *$/.test(i)&&(H=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(pe),r&&(a=r[0]!=="[ ] ",pe=pe.replace(/^\[[ xX]\] +/,""))),ue.items.push({type:"list_item",raw:i,task:!!r,checked:a,loose:!1,text:pe}),ue.raw+=i}ue.items[ue.items.length-1].raw=i.trimRight(),ue.items[ue.items.length-1].text=pe.trimRight(),ue.raw=ue.raw.trimRight();const Ee=ue.items.length;for(v=0;v<Ee;v++){this.lexer.state.top=!1,ue.items[v].tokens=this.lexer.blockTokens(ue.items[v].text,[]);const De=ue.items[v].tokens.filter(Qe=>Qe.type==="space"),Ue=De.every(Qe=>{const Ye=Qe.raw.split("");let Pt=0;for(const Ft of Ye)if(Ft===`
`&&(Pt+=1),Pt>1)return!0;return!1});!ue.loose&&De.length&&Ue&&(ue.loose=!0,ue.items[v].loose=!0)}return ue}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):Dn(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:sp(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let r=i.align.length,a,o,v,A;for(a=0;a<r;a++)/^ *-+: *$/.test(i.align[a])?i.align[a]="right":/^ *:-+: *$/.test(i.align[a])?i.align[a]="center":/^ *:-+ *$/.test(i.align[a])?i.align[a]="left":i.align[a]=null;for(r=i.rows.length,a=0;a<r;a++)i.rows[a]=sp(i.rows[a],i.header.length).map(H=>({text:H}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(r=i.rows.length,o=0;o<r;o++)for(A=i.rows[o],v=0;v<A.length;v++)A[v].tokens=[],this.lexer.inlineTokens(A[v].text,A[v].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Dn(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Dn(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=pu(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=B_(t[2],"()");if(o>-1){const A=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,A).trim(),t[3]=""}}let r=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),up(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return up(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const a=r[1]||r[2]||"";if(!a||a&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let v,A,H=o,Q=0;const re=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(re.lastIndex=0,t=t.slice(-1*e.length+o);(r=re.exec(t))!=null;){if(v=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!v)continue;if(A=v.length,r[3]||r[4]){H+=A;continue}else if((r[5]||r[6])&&o%3&&!((o+A)%3)){Q+=A;continue}if(H-=A,H>0)continue;if(A=Math.min(A,A+H+Q),Math.min(o,A)%2){const pe=e.slice(1,o+r.index+A);return{type:"em",raw:e.slice(0,o+r.index+A+1),text:pe,tokens:this.lexer.inlineTokens(pe,[])}}const le=e.slice(2,o+r.index+A-1);return{type:"strong",raw:e.slice(0,o+r.index+A+1),text:le,tokens:this.lexer.inlineTokens(le,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return r&&a&&(i=i.substring(1,i.length-1)),i=Dn(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let r,a;return i[2]==="@"?(r=Dn(this.options.mangle?t(i[1]):i[1]),a="mailto:"+r):(r=Dn(i[1]),a=r),{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,a;if(i[2]==="@")r=Dn(this.options.mangle?t(i[0]):i[0]),a="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=Dn(i[0]),i[1]==="www."?a="http://"+r:a=r}return{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Dn(i[0]):i[0]:r=Dn(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const mi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:mu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};mi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,mi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,mi.def=en(mi.def).replace("label",mi._label).replace("title",mi._title).getRegex(),mi.bullet=/(?:[*+-]|\d{1,9}[.)])/,mi.listItemStart=en(/^( *)(bull) */).replace("bull",mi.bullet).getRegex(),mi.list=en(mi.list).replace(/bull/g,mi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+mi.def.source+")").getRegex(),mi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,mi.html=en(mi.html,"i").replace("comment",mi._comment).replace("tag",mi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),mi.paragraph=en(mi._paragraph).replace("hr",mi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mi._tag).getRegex(),mi.blockquote=en(mi.blockquote).replace("paragraph",mi.paragraph).getRegex(),mi.normal=Br({},mi),mi.gfm=Br({},mi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),mi.gfm.table=en(mi.gfm.table).replace("hr",mi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mi._tag).getRegex(),mi.gfm.paragraph=en(mi._paragraph).replace("hr",mi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",mi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mi._tag).getRegex(),mi.pedantic=Br({},mi.normal,{html:en(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mu,paragraph:en(mi.normal._paragraph).replace("hr",mi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",mi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Yt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:mu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:mu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Yt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Yt.punctuation=en(Yt.punctuation).replace(/punctuation/g,Yt._punctuation).getRegex(),Yt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Yt.escapedEmSt=/\\\*|\\_/g,Yt._comment=en(mi._comment).replace("(?:-->|$)","-->").getRegex(),Yt.emStrong.lDelim=en(Yt.emStrong.lDelim).replace(/punct/g,Yt._punctuation).getRegex(),Yt.emStrong.rDelimAst=en(Yt.emStrong.rDelimAst,"g").replace(/punct/g,Yt._punctuation).getRegex(),Yt.emStrong.rDelimUnd=en(Yt.emStrong.rDelimUnd,"g").replace(/punct/g,Yt._punctuation).getRegex(),Yt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Yt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Yt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Yt.autolink=en(Yt.autolink).replace("scheme",Yt._scheme).replace("email",Yt._email).getRegex(),Yt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Yt.tag=en(Yt.tag).replace("comment",Yt._comment).replace("attribute",Yt._attribute).getRegex(),Yt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Yt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Yt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Yt.link=en(Yt.link).replace("label",Yt._label).replace("href",Yt._href).replace("title",Yt._title).getRegex(),Yt.reflink=en(Yt.reflink).replace("label",Yt._label).replace("ref",mi._label).getRegex(),Yt.nolink=en(Yt.nolink).replace("ref",mi._label).getRegex(),Yt.reflinkSearch=en(Yt.reflinkSearch,"g").replace("reflink",Yt.reflink).replace("nolink",Yt.nolink).getRegex(),Yt.normal=Br({},Yt),Yt.pedantic=Br({},Yt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:en(/^!?\[(label)\]\((.*?)\)/).replace("label",Yt._label).getRegex(),reflink:en(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yt._label).getRegex()}),Yt.gfm=Br({},Yt.normal,{escape:en(Yt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Yt.gfm.url=en(Yt.gfm.url,"i").replace("email",Yt.gfm._extended_email).getRegex(),Yt.breaks=Br({},Yt.gfm,{br:en(Yt.br).replace("{2,}","*").getRegex(),text:en(Yt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function H_(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function dp(n){let e="",t,i;const r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class Ma{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||oo,this.options.tokenizer=this.options.tokenizer||new hc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:mi.normal,inline:Yt.normal};this.options.pedantic?(t.block=mi.pedantic,t.inline=Yt.pedantic):this.options.gfm&&(t.block=mi.gfm,this.options.breaks?t.inline=Yt.breaks:t.inline=Yt.gfm),this.tokenizer.rules=t}static get rules(){return{block:mi,inline:Yt}}static lex(e,t){return new Ma(t).lex(e)}static lexInline(e,t){return new Ma(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,r,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(v=>(i=v.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let v=1/0;const A=e.slice(1);let H;this.options.extensions.startBlock.forEach(function(Q){H=Q.call({lexer:this},A),typeof H=="number"&&H>=0&&(v=Math.min(v,H))}),v<1/0&&v>=0&&(a=e.substring(0,v+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),o=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,r,a,o=e,v,A,H;if(this.tokens.links){const Q=Object.keys(this.tokens.links);if(Q.length>0)for(;(v=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)Q.includes(v[0].slice(v[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,v.index)+"["+lp("a",v[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(v=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,v.index)+"["+lp("a",v[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(v=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,v.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(A||(H=""),A=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Q=>(i=Q.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,H)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,dp)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,dp))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let Q=1/0;const re=e.slice(1);let le;this.options.extensions.startInline.forEach(function(pe){le=pe.call({lexer:this},re),typeof le=="number"&&le>=0&&(Q=Math.min(Q,le))}),Q<1/0&&Q>=0&&(a=e.substring(0,Q+1))}if(i=this.tokenizer.inlineText(a,H_)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(H=i.raw.slice(-1)),A=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const Q="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(Q);break}else throw new Error(Q)}}return t}}class vu{constructor(e){this.options=e||oo}code(e,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,r);a!=null&&a!==e&&(i=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Dn(r,!0)+'">'+(i?e:Dn(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Dn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const r=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+r+a+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=ap(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<a href="'+Dn(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(e=ap(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<img src="'+e+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class cp{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class fp{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do r++,i=e+"-"+r;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class Aa{constructor(e){this.options=e||oo,this.options.renderer=this.options.renderer||new vu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new cp,this.slugger=new fp}static parse(e,t){return new Aa(t).parse(e)}static parseInline(e,t){return new Aa(t).parseInline(e)}parse(e,t=!0){let i="",r,a,o,v,A,H,Q,re,le,pe,Se,Ae,Oe,ue,ye,Ee,De,Ue,Qe;const Ye=e.length;for(r=0;r<Ye;r++){if(pe=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pe.type]&&(Qe=this.options.extensions.renderers[pe.type].call({parser:this},pe),Qe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(pe.type))){i+=Qe||"";continue}switch(pe.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(pe.tokens),pe.depth,rp(this.parseInline(pe.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(pe.text,pe.lang,pe.escaped);continue}case"table":{for(re="",Q="",v=pe.header.length,a=0;a<v;a++)Q+=this.renderer.tablecell(this.parseInline(pe.header[a].tokens),{header:!0,align:pe.align[a]});for(re+=this.renderer.tablerow(Q),le="",v=pe.rows.length,a=0;a<v;a++){for(H=pe.rows[a],Q="",A=H.length,o=0;o<A;o++)Q+=this.renderer.tablecell(this.parseInline(H[o].tokens),{header:!1,align:pe.align[o]});le+=this.renderer.tablerow(Q)}i+=this.renderer.table(re,le);continue}case"blockquote":{le=this.parse(pe.tokens),i+=this.renderer.blockquote(le);continue}case"list":{for(Se=pe.ordered,Ae=pe.start,Oe=pe.loose,v=pe.items.length,le="",a=0;a<v;a++)ye=pe.items[a],Ee=ye.checked,De=ye.task,ue="",ye.task&&(Ue=this.renderer.checkbox(Ee),Oe?ye.tokens.length>0&&ye.tokens[0].type==="paragraph"?(ye.tokens[0].text=Ue+" "+ye.tokens[0].text,ye.tokens[0].tokens&&ye.tokens[0].tokens.length>0&&ye.tokens[0].tokens[0].type==="text"&&(ye.tokens[0].tokens[0].text=Ue+" "+ye.tokens[0].tokens[0].text)):ye.tokens.unshift({type:"text",text:Ue}):ue+=Ue),ue+=this.parse(ye.tokens,Oe),le+=this.renderer.listitem(ue,De,Ee);i+=this.renderer.list(le,Se,Ae);continue}case"html":{i+=this.renderer.html(pe.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(pe.tokens));continue}case"text":{for(le=pe.tokens?this.parseInline(pe.tokens):pe.text;r+1<Ye&&e[r+1].type==="text";)pe=e[++r],le+=`
`+(pe.tokens?this.parseInline(pe.tokens):pe.text);i+=t?this.renderer.paragraph(le):le;continue}default:{const Pt='Token with "'+pe.type+'" type was not found.';if(this.options.silent){console.error(Pt);return}else throw new Error(Pt)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",r,a,o;const v=e.length;for(r=0;r<v;r++){if(a=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(o=this.options.extensions.renderers[a.type].call({parser:this},a),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){i+=o||"";continue}switch(a.type){case"escape":{i+=t.text(a.text);break}case"html":{i+=t.html(a.text);break}case"link":{i+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{i+=t.image(a.href,a.title,a.text);break}case"strong":{i+=t.strong(this.parseInline(a.tokens,t));break}case"em":{i+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{i+=t.codespan(a.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(a.tokens,t));break}case"text":{i+=t.text(a.text);break}default:{const A='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(A);return}else throw new Error(A)}}}return i}}function yi(n,e,t){if(typeof n=="undefined"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Br({},yi.defaults,e||{}),op(e),t){const i=e.highlight;let r;try{r=Ma.lex(n,e)}catch(v){return t(v)}const a=function(v){let A;if(!v)try{e.walkTokens&&yi.walkTokens(r,e.walkTokens),A=Aa.parse(r,e)}catch(H){v=H}return e.highlight=i,v?t(v):t(null,A)};if(!i||i.length<3||(delete e.highlight,!r.length))return a();let o=0;yi.walkTokens(r,function(v){v.type==="code"&&(o++,setTimeout(()=>{i(v.text,v.lang,function(A,H){if(A)return a(A);H!=null&&H!==v.text&&(v.text=H,v.escaped=!0),o--,o===0&&a()})},0))}),o===0&&a();return}try{const i=Ma.lex(n,e);return e.walkTokens&&yi.walkTokens(i,e.walkTokens),Aa.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Dn(i.message+"",!0)+"</pre>";throw i}}yi.options=yi.setOptions=function(n){return Br(yi.defaults,n),E_(yi.defaults),yi},yi.getDefaults=ip,yi.defaults=oo,yi.use=function(...n){const e=Br({},...n),t=yi.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const o=t.renderers?t.renderers[a.name]:null;o?t.renderers[a.name]=function(...v){let A=a.renderer.apply(this,v);return A===!1&&(A=o.apply(this,v)),A}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),r.renderer){const a=yi.defaults.renderer||new vu;for(const o in r.renderer){const v=a[o];a[o]=(...A)=>{let H=r.renderer[o].apply(a,A);return H===!1&&(H=v.apply(a,A)),H}}e.renderer=a}if(r.tokenizer){const a=yi.defaults.tokenizer||new hc;for(const o in r.tokenizer){const v=a[o];a[o]=(...A)=>{let H=r.tokenizer[o].apply(a,A);return H===!1&&(H=v.apply(a,A)),H}}e.tokenizer=a}if(r.walkTokens){const a=yi.defaults.walkTokens;e.walkTokens=function(o){r.walkTokens.call(this,o),a&&a.call(this,o)}}i&&(e.extensions=t),yi.setOptions(e)})},yi.walkTokens=function(n,e){for(const t of n)switch(e.call(yi,t),t.type){case"table":{for(const i of t.header)yi.walkTokens(i.tokens,e);for(const i of t.rows)for(const r of i)yi.walkTokens(r.tokens,e);break}case"list":{yi.walkTokens(t.items,e);break}default:yi.defaults.extensions&&yi.defaults.extensions.childTokens&&yi.defaults.extensions.childTokens[t.type]?yi.defaults.extensions.childTokens[t.type].forEach(function(i){yi.walkTokens(t[i],e)}):t.tokens&&yi.walkTokens(t.tokens,e)}},yi.parseInline=function(n,e){if(typeof n=="undefined"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=Br({},yi.defaults,e||{}),op(e);try{const t=Ma.lexInline(n,e);return e.walkTokens&&yi.walkTokens(t,e.walkTokens),Aa.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Dn(t.message+"",!0)+"</pre>";throw t}},yi.Parser=Aa,yi.parser=Aa.parse,yi.Renderer=vu,yi.TextRenderer=cp,yi.Lexer=Ma,yi.lexer=Ma.lex,yi.Tokenizer=hc,yi.Slugger=fp,yi.parse=yi;const BE=yi.options,qE=yi.setOptions,HE=yi.use,$E=yi.walkTokens,GE=yi.parseInline,mc=yi,VE=Aa.parse,jE=Ma.lex;var WE=Qt(48318);const hp=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function mp(n){return n.match(hp)}function $_(n){return!!mp(n.body)}async function pp(n,e,t=!0){const i=n[2],r=n[3],a=n[5],o=Number(n[6])-1,v=n[8]?Number(n[8])-1:o;let A;for(const Q of e.folderManagers){const re=await Q.getGitHubRemotes();for(const le of re)if(i.toLowerCase()===le.owner.toLowerCase()&&r.toLowerCase()===le.repositoryName.toLowerCase()){A=Q;break}if(A)break}if(!A)return;const H=s.Uri.joinPath(A.repository.rootUri,a);try{await s.workspace.fs.stat(H)}catch{return}return{file:H,start:o,end:v}}async function G_(n,e){const t=mp(n.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const i=await pp(t,e,!1);if(!i)return s.env.openExternal(s.Uri.parse(t[0]));const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=new s.Range(i.start,0,i.end,a.text.length);return s.window.showTextDocument(i.file,{selection:o})}function V_(n){switch(n.state){case bt.Open:return n instanceof In?"$(git-pull-request)":"$(issues)";case bt.Closed:return n instanceof In?"$(git-pull-request)":"$(issue-closed)";case bt.Merged:return"$(git-merge)"}}function j_(n){if(n instanceof In)return V_(n);switch(n.state){case bt.Open:return'<span style="color:#22863a;">$(issues)</span>';case bt.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}function W_(n,e){let t;return n.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(t=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}function vp(n,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=W_(e,n.owner+"/"+n.repo);return(e.location||i)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),i&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",i)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}async function gp(n,e,t){let i=n.search(e),r=0;for(;i>=0&&i<n.length;){let a;if(i===0||n.charAt(i-1)!=="&"){const v=n.substring(i).match(e);if(v){const A=await t(v);A&&(a=n.slice(0,i)+A,n=a+n.slice(i+v[0].length))}}r=a?a.length:i+1;const o=n.substring(r).search(e);i=o>0?r+o:o}return n}function bp(n,e){return gp(n,hs,async t=>{const i=Hs(t);if(i){const r=yd(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${r}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function z_(n,e){return gp(n,hp,async t=>{const i=await pp(t,e);if(i){b.trace("finding code links in issue","Issues");const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:a.text.length}}}],v=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(o))}`);return`[${t[0]}](${v} "Open ${i.file.fsPath}")`}})}const gu=200;async function bu(n,e,t,i,r){var a;const o=new s.MarkdownString(void 0,!0);o.supportHtml=!0;const v=new Date(n.createdAt),A=`${n.remote.owner}/${n.remote.repositoryName}`;o.appendMarkdown(`[${A}](https://github.com/${A}) on ${v.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const H=mc(n.title,{renderer:new pc}).trim();o.appendMarkdown(`${j_(n)} **${H}** [#${n.number}](${n.html_url})  
`);let Q=mc(n.body,{renderer:new pc});if(o.appendMarkdown(`  
`),Q=Q.length>gu?Q.substr(0,gu)+"...":Q,Q=await bp(Q,n),Q=await z_(Q,t),o.appendMarkdown(Q+`  
`),n.item.labels.length>0&&(o.appendMarkdown(`&nbsp;  
`),n.item.labels.forEach(re=>{o.appendMarkdown(`[${fh(re)}](https://github.com/${A}/labels/${encodeURIComponent(re.name)}) `)})),n.item.comments&&i){for(const re of n.item.comments)if(re.databaseId===i){o.appendMarkdown(`  \r
\r
---\r
`),o.appendMarkdown(`&nbsp;  
`),o.appendMarkdown(`![Avatar](${re.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${re.author.login}** commented`),o.appendMarkdown(`&nbsp;  
`);let le=mc(re.body.length>gu?re.body.substr(0,gu)+"...":re.body,{renderer:new pc});le=await bp(le,n),o.appendMarkdown(le)}}if(r){const re=(a=yp(r))==null?void 0:a.tooltip;re&&(o.appendMarkdown(`  \r
\r
`),o.appendMarkdown(`_${re}_`))}return o}class pc extends vu{code(e,t){return e}blockquote(e){return e}html(e){return""}heading(e,t,i,r){return e+" "}hr(){return""}list(e,t,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,i){return""}text(e){return e}link(e,t,i){return i+" "}}function yp(n){if(n&ar.CIFailed&&n&ar.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(n&ar.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(n&ar.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(n&ar.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(n&ar.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(n===ar.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}var K_=Qt(11138),Q_=Qt(69749),Y_=Qt.n(Q_),X_=Object.defineProperty,J_=(n,e,t)=>e in n?X_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wp=(n,e,t)=>J_(n,typeof e!="symbol"?e+"":e,t);const vc=/\@([^\s]+)/,Z_=150,ks="Permalink";async function kp(n,e,t,i){var r;const a=(r=n.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:r.get(t);if(a)return a;{let o,v,A;const H=await e.getGitHubRemotes();for(const Q of H){if(i)o=i.owner?i.owner:Q.owner,v=i.name?i.name:Q.repositoryName,A=i.issueNumber;else{const re=Hs(t.match(hs));re&&(!re.name||!re.owner)&&(o=Q.owner,v=Q.repositoryName)}if(o&&v&&A!==void 0){let re=await e.resolveIssue(o,v,A,!!i.commentNumber);if(re||(re=await e.resolvePullRequest(o,v,A)),re){let le;return n.resolvedIssues.has(e.repository.rootUri.path)?le=n.resolvedIssues.get(e.repository.rootUri.path):n.resolvedIssues.set(e.repository.rootUri.path,le=new(Y_())(50)),le.set(t,re),re}}}}}class _p extends s.CompletionItem{constructor(){super(...arguments),wp(this,"login"),wp(this,"uri")}}const Sp="HEAD",eS=1,tS=2,iS=3,Rp=4,yu=new Map([["upstream",eS],["ups",tS],["origin",iS]]);async function nS(n,e,t){var i,r,a,o;const v=(i=e.state.HEAD)!=null&&i.upstream&&!yu.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let A;const H=e.state.remotes.map(Se=>({name:Se.name,remote:Se})).filter(Se=>(Se.name===v&&(A=Se.remote),yu.has(Se.name))).sort((Se,Ae)=>{var Oe,ue;const ye=(Oe=yu.get(Se.name))!=null?Oe:Rp,Ee=(ue=yu.get(Ae.name))!=null?ue:Rp;return ye-Ee});v&&H.push({name:v,remote:A});const Q=[Sp];(r=e.state.HEAD)!=null&&r.name&&e.state.HEAD.name!==Sp&&Q.unshift((a=e.state.HEAD)==null?void 0:a.name);let re;try{re=await((o=n.getManagerForFile(e.rootUri))==null?void 0:o.getPullRequestDefaults())}catch(Se){if(!(Se instanceof Kh))throw Se}re&&Q.push(re.base);let le,pe;for(let Se=0;Se<Q.length&&!le;Se++)for(let Ae=0;Ae<H.length&&!le;Ae++)try{const Oe=(await e.getBranches({contains:t,remote:!0,pattern:`remotes/${H[Ae].name}/${Q[Se]}`,count:1})).filter(ue=>ue.remote&&ue.name);Oe&&Oe.length>0&&(le=Oe[0],pe=H[Ae].remote)}catch{}return pe}function rS(n){return n instanceof s.Uri?{fileUri:n,lineNumber:void 0}:n!==void 0&&"lineNumber"in n&&"uri"in n?{fileUri:n.uri,lineNumber:n.lineNumber}:{fileUri:void 0,lineNumber:void 0}}function Ep(n,e){var t,i;b.debug("getting file and position",ks);let r,a;const{fileUri:o,lineNumber:v}=rS(n);if(o)r=o,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===r.fsPath&&!s.window.activeNotebookEditor&&(v!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(v-1,0)))?a=new s.Range(new s.Position(v-1,0),new s.Position(v-1,1)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)r=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)r=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((i=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:i.input)instanceof s.TabInputCustom)r=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)r=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return b.debug(`got file and position: ${r.fsPath} ${a!=null&&a.start?a.start instanceof s.Position?`${a.start.line}:${a.start.character}`:a.start:"unknown"}`,ks),{uri:r,range:a}}function wu(n){var e;const t=(e=n.state.HEAD)==null?void 0:e.upstream;for(const i of n.state.remotes)if(!t||t.remote===i.name)return i}async function Np(n,e,t){const i=new Promise(a=>{a(wu(e))});let r=t?await Promise.race([nS(n,e,t),new Promise(a=>{setTimeout(()=>{a(i)},1500)})]):await i;if(!((!r||!r.fetchUrl)&&(r=await i,!r||!r.fetchUrl)))return r}function Tp(n,e,t){const i=n.getManagerForFile(e.rootUri),r=i==null?void 0:i.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return r?`${r.remote.owner}/${r.remote.repositoryName}`:new Qn(t.fetchUrl).nameWithOwner}async function gc(n,e,t,i,r,a){var o,v,A;const{uri:H,range:Q}=Ep(a,r);if(!H)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const re=gd(e,H);if(!re)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:H};let le;if(H.scheme===Vt.Review&&(le=Ur(H.query).commit),!le)try{const ye=await re.log({maxEntries:1,path:H.fsPath});if(ye.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:H};(o=re.state.HEAD)!=null&&o.commit&&ye[0].hash!==((v=re.state.HEAD)==null?void 0:v.commit)?le=re.state.HEAD.commit:le=ye[0].hash}catch{le=(A=re.state.HEAD)==null?void 0:A.commit}b.debug(`commit hash: ${le}`,ks);const pe=await Np(n,re,le);if(!pe||!pe.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:H};const Se=pe;b.debug(`upstream: ${Se.fetchUrl}`,ks);const Ae=ku(H.path.substring(re.rootUri.path.length)),ue={permalink:`${bc(pe).replace(/\/$/,"")}/${Tp(n,re,Se)}/blob/${le}${i?`${Ae}${t?yc(Q):""}`:""}`,error:void 0,originalFile:H};return b.debug(`permalink generated: ${ue.permalink}`,ks),ue}async function aS(n,e,t,i,r,a){return s.window.withProgress({location:s.ProgressLocation.Window},async o=>{o.report({message:s.l10n.t("Creating permalink...")});let v=0,A=a?a[v++]:void 0;const H=[];do H.push(gc(n,e,t,i,r,A)),A=a?a[v++]:void 0;while(A);return Promise.all(H)})}function bc(n,e="github.com"){var t;const i=js();let r=n.fetchUrl;if(i&&r){if(r.startsWith("https://")&&!r.startsWith("https://github.com/")){const a=new K_.URL(r).host;(a.startsWith(i.authority)||!a.includes("github.com"))&&(e=i.authority)}if(r.startsWith("ssh://")&&(r=r.substr(6)),(r.startsWith("git@")||r.includes("@git"))&&!r.startsWith("git@github.com")){const a=(t=r.split("@")[1])==null?void 0:t.split(":")[0];(a.startsWith(i.authority)||!a.includes("github.com"))&&(e=i.authority)}}return`https://${e}`}function ku(n){return n.split("/").map(e=>encodeURIComponent(e)).join("/")}function yc(n){if(!n||n instanceof s.NotebookRange)return"";let e=`#L${n.start.line+1}`;return n.start.line!==n.end.line&&(e+=`-L${n.end.line+1}`),e}async function sS(n,e,t){var i;const{uri:r,range:a}=Ep(e);if(!r)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const o=n.getManagerForFile(r);if(!o)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0};let v=(i=o.repository.state.HEAD)==null?void 0:i.name;v||(v=(await(await o.getOrigin()).getMetadata()).default_branch);const A=wu(o.repository);if(!(A!=null&&A.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0};const H=r.path.substring(o.repository.rootUri.path.length),Q=bc(A).replace(/\/$/,""),re=ku(`${v}${H}`);return{permalink:`${Q}/${new Qn(A.fetchUrl).nameWithOwner}/blob/${re}${t?yc(a):""}`,error:void 0,originalFile:r}}async function oS(n,e,t){let i=0,r=e?e[i++]:void 0;const a=[];do a.push(sS(n,r,t)),r=e?e[i++]:void 0;while(r);return Promise.all(a)}async function Cp(n,e,t){var i;const r=await((i=e.currentIssue(n.repository.rootUri))==null?void 0:i.getCommitMessage());if(r)return n.repository.commit(r,{all:t})}const Pp=s.l10n.t("Commit Staged"),Mp=s.l10n.t("Commit All");async function lS(n,e,t){var i,r;if(n.repository.state.workingTreeChanges.length>0||n.repository.state.indexChanges.length>0){const a=[];switch(n.repository.state.indexChanges&&a.push(Pp),n.repository.state.workingTreeChanges&&a.push(Mp),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case Pp:{await Cp(n,t,!1);break}case Mp:{await Cp(n,t,!0);break}default:return!1}}if((i=n.repository.state.HEAD)!=null&&i.upstream)return await n.repository.push(),await e.createPullRequest(void 0),!0;{let a;return n.repository.state.remotes.length===1?a=n.repository.state.remotes[0].name:n.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(n.repository.state.remotes.map(o=>o.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await n.repository.push(a,(r=n.repository.state.HEAD)==null?void 0:r.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function wc(n,e){return!(n.languageId!=="markdown"&&n.languageId!=="plaintext"&&(await s.languages.getTokenInformationAtPosition(n,e)).type!==s.StandardTokenType.Comment)}async function Ap(n,e){return n.lineAt(e.line).range.end.character>1e4?!1:wc(n,e)}function Ip(n){const e=new URLSearchParams(n.query).get("rootUri");return e?s.Uri.parse(e):void 0}function uS(n){return n.replace(/([_~*])/g,"\\$1")}class Fp extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue),this.issue=e}}class dS{constructor(e,t,i){this.stateManager=e,this.repositoriesManager=t,this.context=i}async provideCompletionItems(e,t,i,r){var a,o,v,A,H,Q,re;let le=e.getWordRangeAtPosition(t),pe=le?e.getText(le):void 0;if(!le||(pe==null?void 0:pe.charAt(0))!=="#"){const Ue=(a=le==null?void 0:le.start)!=null?a:t,Qe=new s.Range(Ue.translate(void 0,Ue.character?-1:0),t),Ye=e.getText(Qe);Ye.charAt(0)==="#"&&(le=Qe,pe=Ye)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&!(pe!=null&&pe.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&r.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(ni).get(sn,[]).find(Ue=>Ue===e.languageId))return[];if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await wc(e,t))return[];let Se=new s.Range(t,t);t.character-1>=0&&le&&((pe==null?void 0:pe.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(Se=le);let Ae;if(pe==="#"&&le&&le.start.character>=3){const Ue=new s.Range(le.start.with(void 0,0),le.start),Ye=e.getText(Ue).match(/([^\s]+)\/([^\s]+)/);Ye&&(Ae={owner:Ye[1],repo:Ye[2]})}const Oe=new Map;let ue,ye;if(e.languageId==="scminput")ye=Ip(e.uri);else if(e.uri.scheme==="comment"&&((o=s.workspace.workspaceFolders)!=null&&o.length))for(const Ue of s.window.visibleTextEditors){const Qe=s.workspace.workspaceFolders[0].uri.with({path:Ue.document.uri.path}),Ye=s.workspace.getWorkspaceFolder(Qe);if(Ye){ye=Ye.uri;break}}else ye=e.uri.scheme===Vt.NewIssue&&(A=(v=Ql(e.uri))==null?void 0:v.originUri)!=null?A:e.uri;if(!ye)return[];let Ee;try{Ee=this.repositoriesManager.getManagerForFile(ye),ue=await(Ee==null?void 0:Ee.getPullRequestDefaults())}catch{}const De=this.stateManager.getIssueCollection((H=Ee==null?void 0:Ee.repository.rootUri)!=null?H:ye);for(const Ue of De){const Qe=await Ue[1];if(((Q=Qe.issues)!=null?Q:[]).length!==0)for(const Ye of(re=Qe.issues)!=null?re:[])Ae&&(Ye.remote.owner!==Ae.owner||Ye.remote.repositoryName!==Ae.repo)||Oe.set(Go(Ye),await this.completionItemFromIssue(ue,Ye,Se,e))}return[...Oe.values()]}async completionItemFromIssue(e,t,i,r,a){var o;const v=new Fp(t);if(r.languageId==="markdown")v.insertText=`[${Go(t,e)}](${t.html_url})`;else{const H=s.workspace.getConfiguration(ni).get(tn);r.uri.path.match(/git\/scm\d\/input/)&&typeof H=="string"?v.insertText=await Ws(H,t,e):v.insertText=`${Go(t,e)}`}v.documentation=t.body,v.range=i,v.detail=a?a.title:(o=t.milestone)==null?void 0:o.title;const A=Number.MAX_SAFE_INTEGER-new Date(t.updatedAt).getTime();return v.sortText=A.toString().padStart(15,"0"),v.filterText=`${v.detail} # ${t.number} ${t.title} ${v.documentation}`,v}async resolveCompletionItem(e,t){return e instanceof Fp&&(e.documentation=await bu(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}var cS=Object.defineProperty,fS=(n,e,t)=>e in n?cS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,al=(n,e,t)=>fS(n,typeof e!="symbol"?e+"":e,t);const lo=s.l10n.t("Assignees:"),uo=s.l10n.t("Labels:"),sl=s.l10n.t("Milestone:"),co=s.l10n.t("Projects:"),kc="newIssue.cache";class hS{constructor(e){this.cache=e,al(this,"content"),al(this,"createTime",0),al(this,"modifiedTime",0),al(this,"_onDidChangeFile",new s.EventEmitter),al(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const i=this.onDidChangeFile(r=>{r.length===0&&r[0].type===s.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var t,i;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(t=this.content)==null?void 0:t.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,i={create:!1,overwrite:!1}){const r=this.content;this.content=t,r===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,i){}}class mS{constructor(e){this.manager=e}async provideCompletionItems(e,t,i,r){var a,o;const v=e.lineAt(t.line).text;if(!v.startsWith(uo)&&!v.startsWith(sl)&&!v.startsWith(co))return[];const A=(o=(a=Ql(e.uri))==null?void 0:a.repoUriParams)==null?void 0:o.repoRootUri;if(!A)return[];const H=this.manager.getManagerForFile(A);if(!H)return[];const Q=await H.getPullRequestDefaults();return v.startsWith(uo)?this.provideLabelCompletionItems(H,Q):v.startsWith(sl)?this.provideMilestoneCompletionItems(H):v.startsWith(co)?this.provideProjectCompletionItems(H):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(r=>{const a=new s.CompletionItem(r.name,s.CompletionItemKind.Color);return a.documentation=`#${r.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,i;return((i=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?i:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}async provideProjectCompletionItems(e){var t;const i=await e.getPullRequestDefaultRepo();return((t=await e.getAllProjects(i))!=null?t:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}}class pS{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(kc,e)}clear(){this.context.workspaceState.update(kc,void 0)}get(){const e=this.context.workspaceState.get(kc);if(e)return new TextDecoder().decode(e)}}async function vS(n){var e,t;let i;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==Vt.NewIssue)return;const r=Ql(s.window.activeTextEditor.document.uri),a=r==null?void 0:r.originUri;if(!a)return;let o;if((e=r.repoUriParams)!=null&&e.repoRootUri?o=n.getManagerForFile(r.repoUriParams.repoRootUri):o=n.getManagerForFile(a),!o)return;const v=await o.getPullRequestDefaultRepo();i=s.window.activeTextEditor.document.getText();const A=i.indexOf(`\r
\r
`),H=i.indexOf(`

`);let Q;if(A<0&&H<0)return;A<0?Q=H:H<0?Q=A:Q=Math.min(A,H);const re=i.substring(0,Q);if(!re)return;let le;if(i=i.substring(Q+2).trim(),i.startsWith("<!--")){const ue=i.indexOf("-->");if(ue<0)return;i=i.substring(ue+3).trim()}if(i.startsWith(lo)){const ue=i.split(/\r\n|\n/,1);ue.length===1&&(le=ue[0].substring(lo.length).split(",").map(ye=>(ye=ye.trim(),ye.startsWith("@")&&(ye=ye.substring(1)),ye)),i=i.substring(ue[0].length).trim())}let pe;if(i.startsWith(uo)){const ue=i.split(/\r\n|\n/,1);ue.length===1&&(pe=ue[0].substring(uo.length).split(",").map(ye=>ye.trim()).filter(ye=>ye),i=i.substring(ue[0].length).trim())}let Se;if(i.startsWith(sl)){const ue=i.split(/\r\n|\n/,1);if(ue.length===1){const ye=ue[0].substring(sl.length).trim();if(ye){const Ee=await v.getMilestones();Se=(t=Ee==null?void 0:Ee.find(De=>De.title===ye))==null?void 0:t.number}i=i.substring(ue[0].length).trim()}}let Ae;if(i.startsWith(co)){const ue=i.split(/\r\n|\n/,1);if(ue.length===1){if(await v.canGetProjectsNow()){const ye=await o.getAllProjects(v);Ae=ue[0].substring(co.length).split(",").map(Ee=>(Ee=Ee.trim(),ye.find(De=>De.title===Ee))).filter(Ee=>!!Ee)}i=i.substring(ue[0].length).trim()}}const Oe=i!=null?i:"";return{labels:pe,milestone:Se,projects:Ae,assignees:le,title:re,body:Oe,originUri:a}}class gS{constructor(e,t,i,r){this.manager=e,this.stateManager=t,this.context=i,this.telemetry=r}async provideHover(e,t,i){var r;if(!await Ap(e,t))return;let a=e.getWordRangeAtPosition(t,hs);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const v=e.getText(a).match(hs),A=Hs(v),H=(r=this.manager.getManagerForFile(e.uri))!=null?r:this.manager.folderManagers[0];if(!H)return;if(A&&v&&(A.owner||A.issueNumber<=this.stateManager.maxIssueNumber(H.repository.rootUri)))return this.createHover(H,v[0],A,a)}else return}async createHover(e,t,i,r){const a=await kp(this.stateManager,e,t,i);if(a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await bu(a,this.context,this.manager,i.commentNumber),r)}}var bS=Object.defineProperty,yS=(n,e,t)=>e in n?bS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dp=(n,e,t)=>yS(n,typeof e!="symbol"?e+"":e,t);class ol{constructor(e,t,i){this.repoRootUri=e,this.queryLabel=t,this.isFirst=i}}class _u{constructor(e,t,i,r,a,o,v){this.repoRootUri=e,this.queryLabel=t,this.isInFirstQuery=i,this.groupLevel=r,this.group=a,this.groupByOrder=o,this.issuesInGroup=v}}class wS{constructor(e,t,i){this.stateManager=e,this.manager=t,this.context=i,Dp(this,"_onDidChangeTreeData",new s.EventEmitter),Dp(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new s.TreeItem(L.basename(e.repository.rootUri.fsPath),Sc(this.context,e,s.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const t=new s.TreeItem(e.queryLabel,Sc(this.context,e,e.isFirst?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed));return t.contextValue="query",t}getIssueGroupItem(e){return new s.TreeItem(e.group,Sc(this.context,e,e.isInFirstQuery?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed))}async getIssueTreeItem(e){var t,i;const r=new s.TreeItem(e.title,s.TreeItemCollapsibleState.None);return r.iconPath=(t=(await na.avatarCirclesAsImageDataUris(this.context,[e.author],16,16))[0])!=null?t:e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed")),r.command={command:"issue.openDescription",title:s.l10n.t("View Issue Description"),arguments:[e]},((i=this.stateManager.currentIssue(e.uri))==null?void 0:i.issue.number)===e.number?(r.label=`\u2713 ${r.label}`,r.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue",$_(e)&&(r.contextValue="link"+r.contextValue),r}async getTreeItem(e){return e instanceof Js?this.getFolderRepoItem(e):e instanceof ol?this.getQueryItem(e):e instanceof _u?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==aa.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof Nn&&(e.tooltip=await bu(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===aa.NeedsAuthentication||!this.manager.folderManagers.length?[]:(lt.setContext(kt.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri),i=Array.from(t.keys());return i.length===1?this.getQueryNodeChildren(new ol(e.repository.rootUri,i[0],!0)):i.map((r,a)=>new ol(e.repository.rootUri,r,a===0))}async getQueryNodeChildren(e){var t;const r=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return r?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,r.groupBy,0,(t=r.issues)!=null?t:[]):[]}getIssueGroupsForGroupIndex(e,t,i,r,a,o){if(r.length<=a)return o;const v=r[a];if(v!=="milestone"&&v!=="repository"||r.findIndex(Q=>Q===v)!==a)return this.getIssueGroupsForGroupIndex(e,t,i,r,a+1,o);const A=te(o,Q=>{var re,le;return v==="repository"?`${Q.remote.owner}/${Q.remote.repositoryName}`:(le=(re=Q.milestone)==null?void 0:re.title)!=null?le:"No Milestone"}),H=[];for(const Q in A)H.push(new _u(e,t,i,a,Q,r,A[Q]));return H}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof Js?this.getRepoChildren(e):e instanceof ol?this.getQueryNodeChildren(e):e instanceof _u?this.getIssueGroupChildren(e):[]}}const _c="expandedIssuesState";function xp(n){let e;return n instanceof Js?e=n.repository.rootUri.toString():n instanceof ol?e=`${n.repoRootUri.toString()}/${n.queryLabel}`:n instanceof _u&&(e=`${n.repoRootUri.toString()}/${n.queryLabel}/${n.groupLevel}/${n.group}`),e}function Op(n,e,t){const i=xp(e);if(i){const r=new Set(n.workspaceState.get(_c,[]));t?r.add(i):r.delete(i),n.workspaceState.update(_c,Array.from(r.keys()))}}function Sc(n,e,t=s.TreeItemCollapsibleState.Expanded){const i=xp(e);if(i){const r=n.workspaceState.get(_c);return r?new Set(r).has(i)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var kS=Object.defineProperty,_S=(n,e,t)=>e in n?kS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,SS=(n,e,t)=>_S(n,typeof e!="symbol"?e+"":e,t);class RS{constructor(e){SS(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(ni).get(wi,[]);this.expression=e.length>0?new RegExp(e.map(t=>Fe(t)).join("|")):void 0}async provideCodeActions(e,t,i,r){var a;if(this.expression===void 0||i.only&&i.only!==s.CodeActionKind.QuickFix)return[];const o=[];let v=t.start.line;do{const A=e.lineAt(v).text,H=A.substring(0,Z_);if(!H.match(hs)){const re=H.match(this.expression),le=(a=re==null?void 0:re.index)!=null?a:-1;if(le>=0&&re){const pe=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix);pe.ranges=[new s.Range(v,le,v,le+re[0].length)];const Se=H.substring(le).search(/\s/),Ae=le+(Se>0?Se:H.match(this.expression)[0].length);pe.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:v,line:A,insertIndex:Ae,range:t}]},o.push(pe);break}}v++}while(t.end.line>=v);return o}}var ES=Object.defineProperty,NS=(n,e,t)=>e in n?ES(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Lp=(n,e,t)=>NS(n,typeof e!="symbol"?e+"":e,t);class TS extends g{constructor(e,t){super(),s.window.registerShareProvider&&(this._register(new PS(e,t)),this._register(new Up(e,t)),this._register(new MS(e,t)),this._register(new AS(e,t)))}}const CS=[Vt.File,Vt.Review,Vt.Pr,Vt.VscodeVfs];class Rc extends g{constructor(e,t,i,r,a,o="github.com"){super(),this.repositoryManager=e,this.gitAPI=t,this.id=i,this.label=r,this.priority=a,this.origin=o,Lp(this,"shareProviderRegistrations"),this.initialize()}dispose(){super.dispose(),this.unregister()}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this._register(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this._register(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=CS.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){this.shareProviderRegistrations&&(k(this.shareProviderRegistrations),this.shareProviderRegistrations=void 0)}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const i=await this.getBlob(t,e.resourceUri),r=t.repository,a=await this.getUpstream(r,i);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const o=bc(a,this.origin).replace(/\/$/,""),v=ku(e.resourceUri.path.substring(r.rootUri.path.length)),A=IS(e);return s.Uri.parse([o,"/",Tp(this.repositoryManager,r,{...a,fetchUrl:a.fetchUrl}),"/blob/",i,v,A].join(""))}}class PS extends Rc{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return qp(e)}async getUpstream(e){return wu(e)}}class Up extends Rc{constructor(e,t,i="githubComPermalink",r=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,i,r,a)}shouldRegister(){return!0}async getBlob(e,t){var i,r,a;let o,v;if(t.scheme===Vt.Review&&(v=Ur(t.query).commit),!v){const A=e.repository;try{const H=await A.log({maxEntries:1,path:t.fsPath});if(H.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));(i=A.state.HEAD)!=null&&i.commit&&H[0].hash!==((r=A.state.HEAD)==null?void 0:r.commit)&&(o=await A.getCommit(A.state.HEAD.commit)),o||(o=H[0]),v=o.hash}catch{v=(a=A.state.HEAD)==null?void 0:a.commit}}if(v)return v;throw new Error}async getUpstream(e,t){return Np(this.repositoryManager,e,(await e.getCommit(t)).hash)}}const Bp=class Iv extends Up{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;b.trace("providing permalink markdown share",Iv.ID);const i=await super.provideShare(e),r=await this.getMarkdownLinkText(e);if(i)return`[${(t=r==null?void 0:r.trim())!=null?t:""}](${i.toString()})`}async getMarkdownLinkText(e){const t=L.basename(e.resourceUri.path);if(e.selection){const i=await s.workspace.openTextDocument(e.resourceUri),r=e.selection.start===e.selection.end?e.selection:new s.Range(e.selection.start,new s.Position(e.selection.start.line+1,0)),a=i.getText(r);if(a)return a;const o=i.getWordRangeAtPosition(e.selection.start);if(o)return i.getText(o)}return t}};Lp(Bp,"ID","GitHubPermalinkAsMarkdownShareProvider");let MS=Bp;class AS extends Rc{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return qp(e)}async getUpstream(e){return wu(e)}}function IS(n){return n.resourceUri.scheme==="vscode-notebook-cell"?"":yc(n.selection)}async function qp(n){var e;let t=(e=n.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await n.getOrigin()).getMetadata()).default_branch),ku(t)}var FS=Object.defineProperty,DS=(n,e,t)=>e in n?FS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wr=(n,e,t)=>DS(n,typeof e!="symbol"?e+"":e,t);const xS="currentIssue",Ec="issues",Su=[{label:s.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class zE extends Nn{constructor(){super(...arguments),wr(this,"uri")}}class OS{constructor(e,t,i){this.gitAPI=e,this.manager=t,this.context=i,wr(this,"resolvedIssues",new Map),wr(this,"_singleRepoStates",new Map),wr(this,"_onRefreshCacheNeeded",new s.EventEmitter),wr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),wr(this,"_onDidChangeIssueData",new s.EventEmitter),wr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),wr(this,"_queries",[]),wr(this,"_onDidChangeCurrentIssue",new s.EventEmitter),wr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),wr(this,"initializePromise"),wr(this,"statusBarItem"),wr(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,t){let i=this._singleRepoStates.get(e.path);return i||(t||(t=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===aa.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===aa.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(i,r){var a;const o=i.getOrCreateSingleRepoState(r.rootUri),v=o.lastHead,A=o.lastBranch,H=r.state.HEAD?r.state.HEAD.commit:void 0;(r.state.HEAD?r.state.HEAD.commit:void 0)!==v&&await i.setIssueData(o.folderManager);const Q=(a=r.state.HEAD)==null?void 0:a.name;(v!==H||A!==Q)&&(!o.currentIssue||Q!==o.currentIssue.branchName)&&(Q?o.folderManager&&await i.setCurrentIssueFromBranch(o,Q,!0):await i.setCurrentIssue(o,void 0,!!Q)),o.lastHead=r.state.HEAD?r.state.HEAD.commit:void 0,o.lastBranch=r.state.HEAD?r.state.HEAD.name:void 0}function t(i,r){i.context.subscriptions.push(r.state.onDidChange(async()=>{e(i,r)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(i=>{e(this,i),t(this,i)})),this.gitAPI.repositories.forEach(i=>{t(this,i)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(ni,null).get(st,Su),this._queries.length===0&&(this._queries=Su),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${ni}.${st}`)?(this._queries=s.workspace.getConfiguration(ni,null).get(st,Su),this._onRefreshCacheNeeded.fire()):t.affectsConfiguration(`${ni}.${bn}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const t of this.manager.folderManagers){this.context.subscriptions.push(t.onDidChangeRepositories(async a=>{if(a.added){const o=this.getOrCreateSingleRepoState(t.repository.rootUri);(o.issueCollection.size===0||(await Promise.all(o.issueCollection.values())).some(v=>v.issues===void 0))&&this.refresh(t)}}));const i=this.getOrCreateSingleRepoState(t.repository.rootUri,t);i.lastHead=t.repository.state.HEAD?t.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(t.repository.rootUri.path,i);const r=(e=t.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&r&&await this.setCurrentIssueFromBranch(i,r,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(Ec),t=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const r in t.issues)t.issues[r].stateModifiedTime<i&&(t.branches&&t.branches[r]&&delete t.branches[r],delete t.issues[r])}async getUsers(e){var t;await this.initializePromise;const i=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),r=new Map;for(const a in i)i[a].forEach(o=>{r.set(o.login,o)});return r}async getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const t=this.getOrCreateSingleRepoState(e);return(!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,i;const r=this.getOrCreateSingleRepoState(e.repository.rootUri,e);r.issueCollection.clear();const a=Na(e.repository).filter(v=>v.isEnterprise),o=await this.getCurrentUser(a.length?ui.githubEnterprise:ui.github);for(let v of this._queries){let A;v.query===ci&&(v=Su[0]),A=this.setIssues(e,await Ws(v.query,void 0,void 0,o)).then(H=>{var Q;return{groupBy:(Q=v.groupBy)!=null?Q:[],issues:H}}),A&&r.issueCollection.set(v.label,A)}r.maxIssueNumber=await e.getMaxIssue(),r.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,r.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,t){return new Promise(async i=>{const r=await e.getIssues(t);this._onDidChangeIssueData.fire(),i(r==null?void 0:r.items.map(a=>{const o=a;return o.uri=e.repository.rootUri,o}))})}async setCurrentIssueFromBranch(e,t,i=!1){if(s.workspace.getConfiguration(ni).get(Vi)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch{return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const o=this.getSavedState();for(const v in o.branches)if(v===t){const A=await e.folderManager.resolveIssue(o.branches[v].owner,o.branches[v].repositoryName,o.branches[v].number);A&&await this.setCurrentIssue(e,new tp(A,e.folderManager,this),!1,i);return}}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,i;return(i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,t,i,r=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof Js){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(i),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(xS,t==null?void 0:t.issue.number),(!t||await t.startWorking(r))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch{}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const i=this.statusBarItem;i.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(r=>Go(r.issue,r.repoDefaults)).join(", ")),i.tooltip=e.map(r=>r.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(Ec);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const i=this.getSavedState();return i.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Ec,JSON.stringify(i))}}var LS=Object.defineProperty,US=(n,e,t)=>e in n?LS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ll=(n,e,t)=>US(n,typeof e!="symbol"?e+"":e,t);const Hp=class Ts{constructor(e,t,i){this.stateManager=e,this.manager=t,ll(this,"_gitBlameCache",{}),ll(this,"cachedPrUsers",[]),ll(this,"cachedPrTimelineEvents",[]),ll(this,"cachedForPrNumber")}async provideCompletionItems(e,t,i,r){var a,o,v,A,H;let Q=e.getWordRangeAtPosition(t),re=Q?e.getText(Q):void 0;if(!Q||(re==null?void 0:re.charAt(0))!=="@"){const ye=(a=Q==null?void 0:Q.start)!=null?a:t,Ee=new s.Range(ye.translate(void 0,ye.character?-1:0),t),De=e.getText(Ee);De.charAt(0)==="@"&&(Q=Ee,re=De)}if(e.languageId!=="scminput"&&e.uri.scheme!==Vt.NewIssue&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&(re==null?void 0:re.charAt(0))!=="@")return[];if(e.uri.scheme===Vt.NewIssue&&r.triggerKind===s.CompletionTriggerKind.Invoke&&e.getText(new s.Range(t.with(void 0,0),t.with(void 0,lo.length)))!==lo)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(ni).get(Fi,[]).find(ye=>ye===e.languageId))return[];if(!this.isCodeownersFiles(e.uri)&&e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await wc(e,t))return[];let le=new s.Range(t,t);t.character-1>=0&&Q&&(re==null?void 0:re.charAt(0))==="@"&&(le=Q);let pe=e.uri;if(e.uri.scheme===Vt.NewIssue){const ye=Ql(e.uri);pe=(o=ye==null?void 0:ye.originUri)!=null?o:e.uri}else if(e.languageId==="scminput")pe=Ip(e.uri);else if(e.uri.scheme===Vt.Comment){const ye=(v=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:v.input;pe=ye instanceof s.TabInputText?ye.uri:ye instanceof s.TabInputTextDiff?ye.modified:void 0}if(!pe)return[];const Se=(H=(A=this.manager.getManagerForFile(pe))==null?void 0:A.repository.rootUri)!=null?H:pe;let Ae=[];const Oe=await this.stateManager.getUserMap(Se);Oe.forEach(ye=>{var Ee;const De=(Ee=ye.specialDisplayName)!=null?Ee:ye.login,Ue=new _p({label:De,description:ye.name},s.CompletionItemKind.User);Ue.insertText=`@${De}`,Ue.login=ye.login,Ue.uri=Se,Ue.range=le,Ue.detail=ye.name,Ue.filterText=`@ ${ye.login} ${ye.name}`,e.uri.scheme===Vt.NewIssue&&(Ue.commitCharacters=[" ",","]),Ae.push(Ue)});const ue=await this.getCommentSpecificSuggestions(Oe,e,t);return ue&&(Ae=Ae.concat(ue)),Ae}isCodeownersFiles(e){const t=this.manager.getManagerForFile(e);if(!t||!Z(t.repository.rootUri.fsPath,e.fsPath))return!1;const i=e.path.substring(t.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(a=>a===i)}async resolveCompletionItem(e,t){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const r=await i.getPullRequestDefaults(),a=await i.resolveUser(r.owner,r.repo,e.login);return a&&(e.documentation=vp(r,a),e.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),e}async getCommentSpecificSuggestions(e,t,i){try{const r=JSON.parse(t.uri.query);if(t.uri.scheme!==Vt.Comment||ve(r.extensionId,vt)!==0)return;const a=t.getWordRangeAtPosition(i,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!a||a.isEmpty)return;const o=s.window.visibleTextEditors;if(!o.length)return;let v,A,H,Q;for(const De of o)if(v=this.manager.getManagerForFile(De.document.uri),v){if(v.activePullRequest){H=v.activePullRequest.number,Q=v.activePullRequest.remote.remoteName;break}else if(De.document.uri.scheme===Vt.Pr){const Ue=fn(De.document.uri);H=Ue.prNumber,Q=Ue.remoteName;break}}if(!v)return;const re=v;if(H&&H===this.cachedForPrNumber)return this.cachedPrUsers;let le=[];const pe={};let Se={};const Ae=new Promise(async De=>{if(H&&Q){if(b.debug("get Timeline Events and parse users",Ts.ID),this.cachedForPrNumber===H)return this.cachedPrTimelineEvents;const Ue=re.gitHubRepositories.find(Qe=>Qe.remote.remoteName===Q);if(Ue){const Qe=await Ue.getPullRequest(H);this.cachedForPrNumber=H,this.cachedPrTimelineEvents=await Qe.getTimelineEvents()}le=L0(this.cachedPrTimelineEvents),De()}De()}),Oe=new Promise(async De=>{if(o.length)try{b.debug("git blame and parse users",Ts.ID);const Ue=L.resolve(o[0].document.uri.fsPath);let Qe;this._gitBlameCache[Ue]?Qe=this._gitBlameCache[Ue]:(Qe=await re.repository.blame(Ue),this._gitBlameCache[Ue]=Qe);const Ye=Qe.split(`
`);for(const Pt of Ye){const Ft=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(Pt);if(Ft&&Ft.length===2){const fi=Ft[1].trim();pe[fi]=!0}}}catch(Ue){b.debug(Ue,Ts.ID)}De()}),ue=new Promise(async De=>{b.debug("get mentionable users",Ts.ID),Se=await re.getMentionableUsers(),De()});await Promise.all([Ae,Oe,ue]),this.cachedPrUsers=[];const ye={};b.debug("prepare user suggestions",Ts.ID),le.forEach(De=>{ye[De.login]||(ye[De.login]=De)});const Ee={};for(const De in Se)for(const Ue of Se[De])if(!ye[Ue.login]&&!Ee[Ue.login]&&!e.get(Ue.login)){Ee[Ue.login]=!0;let Qe=2;(pe[Ue.login]||Ue.name&&pe[Ue.name])&&(Qe=1),ye[Ue.login]&&(Qe=0);const Ye=new _p({label:Ue.login,description:Ue.name},s.CompletionItemKind.User);Ye.insertText=`@${Ue.login}`,Ye.login=Ue.login,Ye.uri=re.repository.rootUri,Ye.detail=Ue.name,Ye.filterText=`@ ${Ue.login} ${Ue.name}`,Ye.sortText=`${Qe}_${Ue.login}`,(A==null?void 0:A.document.uri.scheme)===Vt.NewIssue&&(Ye.commitCharacters=[" ",","]),this.cachedPrUsers.push(Ye)}return b.debug("done",Ts.ID),this.cachedPrUsers}catch{return[]}}};ll(Hp,"ID","UserCompletionProvider");let BS=Hp;class qS{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,i){if(!await Ap(e,t))return;let r=e.getWordRangeAtPosition(t,vc);if(r&&r.start.character>0){r=new s.Range(new s.Position(r.start.line,r.start.character),r.end);const o=e.getText(r).match(vc);if(o){const v=o[1];return["javascript","javascriptreact","typescript","typescriptreact"].includes(e.languageId)&&Rf.indexOf(v)>=0||e.languageId==="php"&&Ef.indexOf(v)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&Og.indexOf(v)>=0?void 0:this.createHover(e.uri,v,r)}}else return}async createHover(e,t,i){try{const r=this.manager.getManagerForFile(e);if(!r)return;const a=await r.getPullRequestDefaults(),o=await r.resolveUser(a.owner,a.repo,t);return o&&o.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover(vp(a,o),i)):void 0}catch{return}}}var HS=Object.defineProperty,$S=(n,e,t)=>e in n?HS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ul=(n,e,t)=>$S(n,typeof e!="symbol"?e+"":e,t);const $p="issues.creatingFromFile",Gp=class Fv extends g{constructor(e,t,i,r,a){super(),this.gitAPI=e,this.manager=t,this.reviewsManager=i,this.context=r,this.telemetry=a,ul(this,"_stateManager"),ul(this,"_newIssueCache"),ul(this,"createIssueInfo"),ul(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._stateManager=new OS(e,this.manager,this.context),this._newIssueCache=new pS(r)}async initialize(){this._register(s.workspace.registerFileSystemProvider(Vt.NewIssue,new hS(this._newIssueCache))),this._register(s.languages.registerCompletionItemProvider({scheme:Vt.NewIssue},new mS(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new wS(this._stateManager,this.manager,this.context)});this._register(e),this._register(e.onDidCollapseElement(i=>Op(this.context,i.element,!1))),this._register(e.onDidExpandElement(i=>Op(this.context,i.element,!0))),this._register(s.commands.registerCommand("issue.createIssueFromSelection",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(i,r)),this)),this._register(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!0,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkFile",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this._register(new TS(this.manager,this.gitAPI)),this._register(s.commands.registerCommand("issue.openIssue",i=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(i)))),this._register(s.commands.registerCommand("issue.startWorking",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.continueWorking",i=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchPrompt",i=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(i)),this)),this._register(s.commands.registerCommand("issue.stopWorking",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this._register(s.commands.registerCommand("issue.copyIssueNumber",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(i)))),this._register(s.commands.registerCommand("issue.copyIssueUrl",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(i)))),this._register(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this._register(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this._register(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this._register(s.commands.registerCommand("issue.editQuery",i=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),Wr(ni,i.queryLabel)),this)),this._register(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this._register(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",$p,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",$p,!1)},this)),this._register(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this._register(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this._register(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this._register(s.commands.registerCommand("issue.goToLinkedCode",async i=>G_(i,this.manager)));const t=ep();this._register(s.commands.registerCommand("issue.chatSummarizeIssue",i=>{if(i instanceof Nn||i instanceof Zn)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),i instanceof Nn)lt.executeCommand(t,s.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number));else{const r=i.pullRequestModel,a=r.githubRepository.remote;lt.executeCommand(t,s.l10n.t("@githubpr Summarize PR {0}/{1}#{2}",a.owner,a.repositoryName,r.number))}})),this._register(s.commands.registerCommand("issue.chatSuggestFix",i=>{i instanceof Nn&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),lt.executeCommand(t,s.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number)))})),this._register(s.commands.registerCommand("issues.configureIssuesViewlet",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${vt} issues`))),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this._register(s.languages.registerHoverProvider("*",new gS(this.manager,this._stateManager,this.context,this.telemetry))),this._register(s.languages.registerHoverProvider("*",new qS(this.manager,this.telemetry))),this._register(s.languages.registerCodeActionsProvider("*",new RS(this.context),{providedCodeActionKinds:[s.CodeActionKind.QuickFix]}))})}registerCompletionProviders(){const e=[{provider:dS,trigger:"#",disposable:void 0,configuration:`${Si}.${Ki}`},{provider:BS,trigger:"@",disposable:void 0,configuration:`${qi}.${Ki}`}];for(const t of e)s.workspace.getConfiguration(ni).get(t.configuration,!0)&&this._register(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this._register(s.workspace.onDidChangeConfiguration(t=>{for(const i of e)if(t.affectsConfiguration(`${ni}.${i.configuration}`)){const r=s.workspace.getConfiguration(ni).get(i.configuration,!0);!r&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):r&&!i.disposable&&this._register(i.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,t,i;let r=(e=s.window.activeTextEditor)==null?void 0:e.document.uri,a=r?this.manager.getManagerForFile(r):void 0;const o=s.workspace.getConfiguration(ni).get(wn);if((!a||o)&&(a=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")),r=a==null?void 0:a.repository.rootUri),!a||!r)return;const v=await this.chooseTemplate(a);this._newIssueCache.clear();const A=(i=(t=a.repository.state.HEAD)==null?void 0:t.upstream)==null?void 0:i.remote;let H=A?a.repository.state.remotes.find(re=>re.name===A):void 0;if(!H){const le=a.repository.state.remotes.filter(Se=>Se.fetchUrl||Se.pushUrl).map(Se=>({label:`${Se.name}: ${Se.fetchUrl||Se.pushUrl}`,remote:Se})),pe=await s.window.showQuickPick(le,{placeHolder:s.l10n.t("Select a remote to file this issue to")});if(!pe)return;H=pe.remote}let Q={remote:H};v&&(Q={...Q,title:v.title,body:v.body}),this.makeNewIssueFile(r,Q)}async createIssueFromFile(){var e,t,i,r;const a=await vS(this.manager);if(!a||!s.window.activeTextEditor)return;const o=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,a.projects,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(r=this.createIssueInfo)==null?void 0:r.insertIndex,a.originUri);this.createIssueInfo=void 0,o&&s.window.tabGroups.activeTabGroup.activeTab&&(await s.window.activeTextEditor.document.save(),await s.window.tabGroups.close(s.window.tabGroups.activeTabGroup.activeTab),this._newIssueCache.clear())}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Nn)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,i){let r=e,a=t.githubRepository,o=t.remote;if(!r){if(r=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this isssue in.")),!r)return;a=await r.getOrigin(),o=a.remote}const v=await r.findUpstreamForItem({githubRepository:a,remote:o});v.needsFork&&await r.tryOfferToFork(a)===void 0||await this._stateManager.setCurrentIssue(r,new tp(t,r,this._stateManager,v.remote,i),!0)}async startWorking(e){if(e instanceof Nn)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(hs),i=Hs(t),r=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(o=>o.remote.owner===(i==null?void 0:i.owner)&&o.remote.repositoryName===i.name));if(i&&r){const a=await kp(this._stateManager,r,e.toString(),i);if(a)return this.doStartWorking(r,a)}}}async startWorkingBranchPrompt(e){e instanceof Nn&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let i=this.manager.getManagerForIssueModel(e);!i&&(i=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!i)||e instanceof Nn&&((t=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),i=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let r;try{r=await e.manager.getPullRequestDefaults()}catch{}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),o=e.branchName&&r?[t,i,a]:[t,i,a];switch(await s.window.showQuickPick(o,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case i:{const A=yr.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(A)return lS(e.manager,A,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(r=>({label:s.l10n.t("#{0} from {1}",r.issue.number,`${r.issue.githubRepository.remote.owner}/${r.issue.githubRepository.remote.repositoryName}`),currentIssue:r})),i=await s.window.showQuickPick(t);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Nn)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Nn)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){var i;if(t||e!=null&&e.document.isUntitled)return t;let r="";if(e){const a=this.manager.getManagerForFile(e.document.uri);if(((i=a==null?void 0:a.repository)==null?void 0:i.state.workingTreeChanges.find(v=>v.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`),a){const v=a.gitRelativeRootPath(e.document.uri.path);r+=s.l10n.t(`In file {0}
`,v)}}return r+=(await gc(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,t){let i,r,a,o,v,A;if(!e&&s.window.activeTextEditor)i=s.window.activeTextEditor.document,A=i.getText(s.window.activeTextEditor.selection);else if(e)i=e.document,a=e.insertIndex,o=e.lineNumber,r=e.line.substring(a,e.line.length).trim(),A=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const H=A.match(vc);H&&H.length===2&&(await this._stateManager.getUserMap(i.uri)).has(H[1])&&(v=[H[1]]);let Q;const re=await this.createTodoIssueBody(e,t),le=s.window.createInputBox();le.value=r!=null?r:"",le.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),le.title=s.l10n.t("Create Issue"),le.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],le.onDidAccept(async()=>{Q=le.value,Q&&(le.busy=!0,await this.doCreateIssue(i,e,Q,re,v,void 0,void 0,void 0,o,a),le.busy=!1),le.hide()}),le.onDidTriggerButton(async()=>{Q=le.value,le.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:o,insertIndex:a},this.makeNewIssueFile(i.uri,{title:Q,body:re,assignees:v}),le.busy=!1,le.hide()}),le.show()}async makeNewIssueFile(e,t){var i,r,a;const o=this.manager.getManagerForFile(e);if(!o)return;const v=(i=o.findRepo(Ye=>{var Pt;return Ye.remote.remoteName===((Pt=t==null?void 0:t.remote)==null?void 0:Pt.name)}))==null?void 0:i.remote.gitProtocol,A=v!=null&&v.url.toString().endsWith(".git")?v==null?void 0:v.url.toString().slice(0,-4):v==null?void 0:v.url.toString(),H=v?{owner:v==null?void 0:v.owner,repo:v==null?void 0:v.repositoryName,repoRootUri:o.repository.rootUri}:void 0,Q=_b({originUri:e,repoUriParams:H});if(s.window.visibleTextEditors.filter(Ye=>Ye.document.uri.scheme===Vt.NewIssue).length>0)return;await s.workspace.fs.delete(Q);const re=`${lo} ${t!=null&&t.assignees&&t.assignees.length>0?t.assignees.map(Ye=>"@"+Ye).join(", ")+" ":""}`,le=`${uo} `,pe=`${sl} `,Se=`${co} `,Ae=this._newIssueCache.get(),Oe=Ae&&Ae!==""?Ae:`${(r=t==null?void 0:t.title)!=null?r:s.l10n.t("Issue Title")}

${v?`<!-- ${s.l10n.t("This issue will be created in repo {0} ({1}). Changing this line has no effect.",v.nameWithOwner,A)} -->
`:""}
${re}
${le}
${pe}
${Se}

${(a=t==null?void 0:t.body)!=null?a:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile(Q,this.stringToUint8Array(Oe));const ue=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),ye=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ee=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),De=s.window.onDidChangeActiveTextEditor(Ye=>{if((Ye==null?void 0:Ye.document.uri.scheme)===Vt.NewIssue){const Pt=v?4:2,Ft=Pt+0,fi=Pt+1,On=Pt+3,Ni=Ye.document.lineAt(Ft);Ni.text.startsWith(lo)&&Ye.setDecorations(ue,[new s.Range(new s.Position(Ft,0),new s.Position(Ft,Ni.text.length))]);const Gi=Ye.document.lineAt(fi);Gi.text.startsWith(uo)&&Ye.setDecorations(ye,[new s.Range(new s.Position(fi,0),new s.Position(fi,Gi.text.length))]);const kr=Ye.document.lineAt(On);kr.text.startsWith(co)&&Ye.setDecorations(Ee,[new s.Range(new s.Position(On,0),new s.Position(On,kr.text.length))])}}),Ue=await s.window.showTextDocument(Q),Qe=s.workspace.onDidCloseTextDocument(Ye=>{Ye===Ue.document&&(De.dispose(),Qe.dispose())})}async verifyLabels(e,t){var i;if(!t.labels)return!0;const r=(await e.getLabels(void 0,t)).map(v=>v.name),a=[],o=[];if((i=t.labels)==null||i.forEach(v=>{let A=typeof v=="string"?v:v.name;A&&(r.includes(A)?o.push(A):a.push(A))}),a.length>0){const v=s.l10n.t("Yes"),A=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},v,A)){case v:return!0;case A:return t.labels=o,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const r of this.manager.folderManagers)try{const a=await r.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:r})}catch{}if(t.length===0)return;if(t.length===1)return t[0].repo;const i=await s.window.showQuickPick(t,{placeHolder:e});return i==null?void 0:i.repo}async chooseTemplate(e){const t=await e.getIssueTemplates();if(t.length===0)return{title:void 0,body:void 0};const r=(await Promise.all(t.map(async o=>{try{const v=await s.workspace.fs.readFile(o),A=new TextDecoder("utf-8").decode(v);return this.getDataFromTemplate(A)}catch(v){b.warn(`Reading issue template failed: ${v}`);return}}))).filter(o=>!!o&&!!(o!=null&&o.name)).map(o=>({label:o.name,description:o.about,template:o}));r.push({label:s.l10n.t("Blank issue"),template:{title:void 0,body:void 0}});const a=await s.window.showQuickPick(r,{placeHolder:s.l10n.t("Select a template for the new issue.")});return a==null?void 0:a.template}getDataFromTemplate(e){var t,i,r,a,o,v,A;const H=(i=(t=e.match(/title:\s*(.*)/))==null?void 0:t[1])==null?void 0:i.replace(/^["']|["']$/g,""),Q=(a=(r=e.match(/name:\s*(.*)/))==null?void 0:r[1])==null?void 0:a.replace(/^["']|["']$/g,""),re=(v=(o=e.match(/about:\s*(.*)/))==null?void 0:o[1])==null?void 0:v.replace(/^["']|["']$/g,""),le=(A=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:A[2];return{title:H,name:Q,about:re,body:le}}async doCreateIssue(e,t,i,r,a,o,v,A,H,Q,re){let le,pe;if(re&&re.scheme===Vt.Repo){const Se=Id(re);if(Se&&(le={owner:Se.owner,repo:Se.repo,base:""},pe=this.manager.getManagerForFile(Se.repoRootUri)),!pe)return s.window.showErrorMessage(s.l10n.t("Could not find the correct repository for the issue; see logs for more details.")),b.error(`Could not find the folder manager for the issue originUri: ${re.toString()}`,Fv.ID),!1}return pe||(e?pe=this.manager.getManagerForFile(e.uri):re&&(pe=this.manager.getManagerForFile(re))),pe||(pe=await this.chooseRepo(s.l10n.t("Choose where to create the issue."))),s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating issue")},async Se=>{if(!pe)return!1;Se.report({message:s.l10n.t("Verifying that issue data is valid...")});try{le||(le=await pe.getPullRequestDefaults())}catch{return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const Ae=r||t!=null&&t.document.isUntitled?r:(await gc(this.manager,this.gitAPI,!0,!0,t)).permalink,Oe={owner:le.owner,repo:le.repo,title:i,body:Ae,assignees:a,labels:o,milestone:v};if(!await this.verifyLabels(pe,Oe))return!1;Se.report({message:s.l10n.t("Creating issue in {0}...",`${Oe.owner}/${Oe.repo}`)});const ue=await pe.createIssue(Oe);if(ue){if(A&&await ue.updateProjects(A),e!==void 0&&Q!==void 0&&H!==void 0){const ye=new s.WorkspaceEdit,Ee=s.workspace.getConfiguration(ni).get(an,"number")==="number"?`#${ue.number}`:ue.html_url;ye.insert(e.uri,new s.Position(H,Q),` ${Ee}`),await s.workspace.applyEdit(ye)}else{const ye=s.l10n.t("Copy Issue Link"),Ee=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the browser to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),ye,Ee).then(async De=>{switch(De){case ye:await s.env.clipboard.writeText(ue.html_url);break;case Ee:await s.env.openExternal(s.Uri.parse(ue.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,t,i,r){const a=await aS(e,this.gitAPI,t,i,void 0,r),o=a.find(v=>v.error);return o&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",o.error)),a}async getHeadLinkWithError(e,t){const i=await oS(this.manager,e,t);if(i.length>0){const r=i.find(a=>a.error);r&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",r.error))}return i}async getContextualizedLink(e,t){let i;try{i=await s.env.asExternalUri(e)}catch{return t}const r=i.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(i.authority)?i.authority:void 0;if(!r)return t;const a=s.Uri.parse(t),o=/^(github)\./.test(i.authority)?a.path:`/github${a.path}`;return a.with({authority:r,path:o}).toString()}async permalinkInfoToClipboardText(e,t=!1){const i=e.filter(r=>!!r.permalink);if(i.length!==0){const a=(await Promise.all(i.map(async o=>t&&o.originalFile?await this.getContextualizedLink(o.originalFile,o.permalink):o.permalink))).join(`
`);return b.debug(`Will write ${a} to the clipboard`,ks),a}}async copyPermalink(e,t,i=!0,r=!0,a=!1){const o=await this.getPermalinkWithError(e,i,r,t),v=await this.permalinkInfoToClipboardText(o,a);if(v)return s.env.clipboard.writeText(v)}async copyHeadLink(e,t=!0){const i=await this.getHeadLinkWithError(e,t),r=await this.permalinkInfoToClipboardText(i);if(r)return s.env.clipboard.writeText(r)}getMarkdownLinkText(){if(!s.window.activeTextEditor)return;let e=s.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new s.Range(e.start,new s.Position(e.start.line+1,0)));const t=s.window.activeTextEditor.document.getText(e);if(t)return t;if(e=s.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return s.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(e,t,i=!0){const a=(await this.getPermalinkWithError(e,i,!0,t)).filter(v=>!!v.permalink);if(a.length===1){const v=this.getMarkdownLinkText();if(v)return s.env.clipboard.writeText(`[${v.trim()}](${a[0].permalink})`)}const o=a.map(v=>{var A,H;return`[${(0,L.basename)((H=(A=v.originalFile)==null?void 0:A.fsPath)!=null?H:"")}](${v.permalink})`}).join(`
`);return b.debug(`writing ${o} to the clipboard`,ks),s.env.clipboard.writeText(o)}async openPermalink(e){const i=(await this.getPermalinkWithError(e,!0,!0)).filter(r=>!!r.permalink);if(i.length>0)return s.env.openExternal(s.Uri.parse(i[0].permalink))}};ul(Gp,"ID","IssueFeatureRegistrar");let GS=Gp;var Ru=Qt(60937);class VS extends Ru.PromptElement{render(){return vscpp(vscppf,null,vscpp(Ru.AssistantMessage,null,"Instructions:",vscpp("br",null),"- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.",vscpp("br",null),"- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.",vscpp("br",null),"- Don't ask the user for confirmation to use tools, just use them.",vscpp("br",null),"- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:",vscpp("br",null),"- The fact that there are no comments.",vscpp("br",null),"- Any info that seems like template info."),vscpp(Ru.UserMessage,null,this.props.userMessage))}}const Vp="TOOL_MARKDOWN_RESULT",Nc="TOOL_COMMAND_RESULT";class jp{constructor(e){this.chatParticipantState=e}}async function _s(n){let e="";for await(const t of n)e+=t;return e}class dl extends jp{constructor(e,t,i){super(i),this.credentialStore=e,this.repositoriesManager=t}async getRepoInfo(e){if(!this.credentialStore.isAnyAuthenticated())throw new rn;let t,i,r;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(t=e.owner,i=e.name,r=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!r&&this.repositoriesManager.folderManagers.length>0)if(r=this.repositoriesManager.folderManagers[0],t&&i)await r.createGitHubRepositoryFromOwnerName(t,i);else{const a=await r.getPullRequestDefaults();a?(t=a.owner,i=a.repo):(t=r.gitHubRepositories[0].remote.owner,i=r.gitHubRepositories[0].remote.repositoryName)}if(!r||!t||!i)throw new Error(`No repository found for ${t}/${i}. Make sure to have the repository open.`);return{owner:t,name:i,folderManager:r}}getGitHub(){let e;return this.credentialStore.isAuthenticated(ui.githubEnterprise)&&Tr()?e=ui.githubEnterprise:this.credentialStore.isAuthenticated(ui.github)&&(e=ui.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var jS=Object.defineProperty,WS=(n,e,t)=>e in n?jS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zS=(n,e,t)=>WS(n,typeof e!="symbol"?e+"":e,t);class KS{constructor(){zS(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const t=this._messages[e];for(const i of t.content)if(i instanceof s.LanguageModelToolResultPart)return t.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const t=this._messages[e];if(t.role===s.LanguageModelChatMessageRole.User&&t.content){for(const i of t.content)if(i instanceof s.LanguageModelTextPart)return i}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class QS extends g{constructor(e,t){super(),this.state=t;const i=this._register(s.chat.createChatParticipant("githubpr",(r,a,o,v)=>this.handleParticipantRequest(r,a,o,v)));i.iconPath=s.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png")}async handleParticipantRequest(e,t,i,r){this.state.reset();const o=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],v=s.lm.tools.map(pe=>{var Se;return{name:pe.name,description:pe.description,inputSchema:(Se=pe.inputSchema)!=null?Se:{}}}),{messages:A}=await(0,Ru.renderPrompt)(VS,{userMessage:e.prompt},{modelMaxPromptTokens:o.maxInputTokens},o);this.state.addMessages(A);const H=[...e.toolReferences],Q={justification:"Answering user questions pertaining to GitHub."},re=[],le=async()=>{const pe=H.shift();pe?(Q.toolMode=s.LanguageModelChatToolMode.Required,Q.tools=v.filter(Oe=>Oe.name===pe.name)):(Q.toolMode=void 0,Q.tools=v);const Se=[],Ae=await o.sendRequest(this.state.messages,Q,r);for await(const Oe of Ae.stream)if(Oe instanceof s.LanguageModelTextPart)i.markdown(Oe.value);else if(Oe instanceof s.LanguageModelToolCallPart){const ue=s.lm.tools.find(De=>De.name===Oe.name);if(!ue)throw new Error("Got invalid tool choice: "+Oe.name);let ye;try{ye=Oe.input}catch(De){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(Oe.input)}". (${De.message})`)}const Ee={input:ye,toolInvocationToken:e.toolInvocationToken};Se.push({call:Oe,result:s.lm.invokeTool(ue.name,Ee,r),tool:ue})}if(Se.length){const Oe=s.LanguageModelChatMessage.Assistant("");Oe.content=Se.map(ye=>new s.LanguageModelToolCallPart(ye.call.callId,ye.tool.name,ye.call.input)),this.state.addMessage(Oe);let ue=!1;for(const ye of Se){let Ee=await ye.result;const De=[];let Ue;for(let Ye=0;Ye<Ee.content.length;Ye++){const Pt=Ee.content[Ye];if(!(Pt instanceof s.LanguageModelTextPart)){Ue=new s.LanguageModelToolResultPart(ye.call.callId,Ee.content);continue}if(Pt.value===Vp){const Ft=new s.MarkdownString(Ee.content[++Ye].value);Ft.supportHtml=!0,i.markdown(Ft),ue=!0}else Pt.value===Nc?re.push(JSON.parse(Ee.content[++Ye].value)):Ue?De.push(Pt):Ue=new s.LanguageModelToolResultPart(ye.call.callId,[Pt])}const Qe=s.LanguageModelChatMessage.User("");if(Qe.content=[Ue],this.state.addMessage(Qe),De.length){const Ye=s.LanguageModelChatMessage.User("");Ye.content=De,this.state.addMessage(Ye)}}return this.state.addMessage(s.LanguageModelChatMessage.User(`Above is the result of calling the functions ${Se.map(ye=>ye.tool.name).join(", ")}. ${ue?"The user can see the result of the tool call.":""}`)),le()}};await le(),this.addButtons(i,re)}addButtons(e,t){for(const i of t)e.button(i)}}var YS=Object.defineProperty,XS=(n,e,t)=>e in n?YS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,JS=(n,e,t)=>XS(n,typeof e!="symbol"?e+"":e,t);class Tc{constructor(e){this.folderManagers=e}_findActivePullRequest(){var e,t;const i=this.folderManagers.folderManagers.find(r=>r.activePullRequest);return(t=i==null?void 0:i.activePullRequest)!=null?t:(e=br.currentPanel)==null?void 0:e.getCurrentItem()}async prepareInvocation(){const e=this._findActivePullRequest();return{invocationMessage:e?s.l10n.t('Pull request "{0}"',e.title):s.l10n.t("Active pull request")}}async invoke(e,t){var i,r,a,o,v,A,H;let Q=this._findActivePullRequest();if(!Q)return new s.LanguageModelToolResult([new s.LanguageModelTextPart("There is no active pull request")]);const re=await Q.getStatusChecks(),le={title:Q.title,body:Q.body,author:Q.author,assignees:Q.assignees,comments:Q.comments.map(pe=>{var Se;return{author:(Se=pe.user)==null?void 0:Se.login,body:pe.body,commentState:pe.isResolved?"resolved":"unresolved",file:pe.path}}),state:Q.state,statusChecks:(i=re[0])==null?void 0:i.statuses.map(pe=>({context:pe.context,description:pe.description,state:pe.state,name:pe.workflowName,targetUrl:pe.targetUrl})),reviewRequirements:{approvalsNeeded:(a=(r=re[1])==null?void 0:r.count)!=null?a:0,currentApprovals:(v=(o=re[1])==null?void 0:o.approvals.length)!=null?v:0,areChangesRequested:((H=(A=re[1])==null?void 0:A.requestedChanges.length)!=null?H:0)>0},isDraft:Q.isDraft};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(le))])}}JS(Tc,"toolId","github-pull-request_activePullRequest");var ZS=Object.defineProperty,e1=(n,e,t)=>e in n?ZS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wp=(n,e,t)=>e1(n,typeof e!="symbol"?e+"":e,t);const t1=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues:
- Include a column related to the sort value, if given.
- Output a newline separated list of columns only, max 4 columns.
- List the columns in the order they should be displayed.
- Don't change the casing.
- Don't include columns that will all have the same value for all the resulting issues.
Here are the possible columns:
`,Cc=class $c extends jp{constructor(e){super(e)}assistantPrompt(e){const t=Object.keys(e[0]);return`${t1}
${t.map(i=>`- ${i}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(e,t){const i=e.split(`
`),r=Object.keys(t[0]),a=[];for(let o of i)if(o=o.trim(),o!=="")if(r.includes(o))a.push(o);else{const v=o.split(" ");if(v.length>1){const A=v[v.length-1];r.includes(A)&&a.push(A)}}return a}async getImportantColumns(e,t,i){if(!e)return["number","title","state"];const a=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],o={justification:"Answering user questions pertaining to GitHub."},v=[s.LanguageModelChatMessage.Assistant(this.assistantPrompt(t))];v.push(new s.LanguageModelChatMessage(s.LanguageModelChatMessageRole.User,e==null?void 0:e.value));const A=await a.sendRequest(v,o,i),H=this.postProcess(await _s(A.text),t),Q=H.indexOf("url");return H.length===0?["number","title","state"]:(Q>=0&&H.splice(Q,1),H)}renderUser(e){return`[@${lr(e)}](${e.url})`}issueToRow(e,t){return`| ${t.map(i=>{var r,a;switch(i){case"number":return`[${e[i]}](${e.url})`;case"labels":return(r=e[i])==null?void 0:r.map(A=>A!=null&&A.name&&A.color?fh({name:A.name,color:A.color}):"").join(", ");case"assignees":return(a=e[i])==null?void 0:a.map(A=>this.renderUser(A)).join(", ");case"author":const o=e[i];return o?this.renderUser(o):"";case"createdAt":case"updatedAt":const v=e[i];return v?new Date(v).toLocaleDateString():"";case"milestone":return e[i];default:return e[i]}}).join(" | ")} |`}foundIssuesCount(e){var t,i;return e.totalIssues!==void 0?e.totalIssues:(i=(t=e.arrayOfIssues)==null?void 0:t.length)!=null?i:0}async prepareInvocation(e){const i=this.foundIssuesCount(e.input),r=Math.min(10,i);return r===0?{invocationMessage:s.l10n.t("No issues found")}:r<i?{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",i,r)}:{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table",i)}}async invoke(e,t){const i=this.chatParticipantState.firstUserMessage,r=e.input.arrayOfIssues;if(!r||r.length===0)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No issues found. Please try another query."))]);b.debug(`Displaying ${this.foundIssuesCount(e.input)} issues, first issue ${r[0].number}`,$c.ID);const a=await this.getImportantColumns(i,r,t),o=`| ${a.join(" | ")} |`;b.debug(`Columns ${o} issues`,$c.ID);const v=`| ${a.map(()=>"---").join(" | ")} |
`,A=new s.MarkdownString(o);return A.supportHtml=!0,A.appendMarkdown(`
`),A.appendMarkdown(v),A.appendMarkdown(r.slice(0,10).map(H=>this.issueToRow(H,a)).join(`
`)),new s.LanguageModelToolResult([new s.LanguageModelTextPart(Vp),new s.LanguageModelTextPart(A.value),new s.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};Wp(Cc,"toolId","github-pull-request_renderIssues"),Wp(Cc,"ID","DisplayIssuesTool");let zp=Cc;var i1=Object.defineProperty,n1=(n,e,t)=>e in n?i1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,r1=(n,e,t)=>n1(n,typeof e!="symbol"?e+"":e,t);class Pc extends dl{async invoke(e,t){var i,r,a,o;const v=e.input.issueNumber;if(!v)throw new Error("No issue/PR number provided.");const{owner:A,name:H,folderManager:Q}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),re=await Q.resolveIssueOrPullRequest(A,H,v);if(!re)throw new Error(`No issue or PR found for ${A}/${H}/${v}. Make sure the issue or PR exists.`);const le={owner:A,repo:H,title:re.title,body:re.body,comments:(o=(a=re.item.comments)==null?void 0:a.map(pe=>({body:pe.body,author:pe.author.login})))!=null?o:[]};if(re instanceof In&&re.isResolved()){const pe=await re.getFileChangesInfo(),Se=[];for(const Ae of pe)Ae instanceof pr&&Se.push({fileName:Ae.fileName,patch:Ae.patch});le.fileChanges=Se}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(le)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var t,i;if(!e.input.issueNumber)return{invocationMessage:s.l10n.t("Fetching item from GitHub")};const{owner:r,name:a}=await this.getRepoInfo({owner:(t=e.input.repo)==null?void 0:t.owner,name:(i=e.input.repo)==null?void 0:i.name}),o=r&&a?`https://github.com/${r}/${a}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:o?new s.MarkdownString(s.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,o)):s.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}r1(Pc,"toolId","github-pull-request_issue_fetch");var a1=Object.defineProperty,s1=(n,e,t)=>e in n?a1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,o1=(n,e,t)=>s1(n,typeof e!="symbol"?e+"":e,t);class Mc extends dl{async prepareInvocation(e){return{invocationMessage:s.l10n.t("Fetching notification from GitHub")}}async invoke(e,t){var i,r;const a=this.getGitHub();if(!a)return;const o=e.input.thread_id;if(o===void 0)return;const A=(await a.octokit.api.activity.getThread({thread_id:o})).data,H=A.subject.url.split("/").pop();if(H===void 0)return;const Q=A.updated_at,re=(i=A.last_read_at)!=null?i:void 0,le=A.unread,pe=A.repository.owner.login,Se=A.repository.name,{folderManager:Ae}=await this.getRepoInfo({owner:pe,name:Se}),Oe=await Ae.resolveIssueOrPullRequest(pe,Se,Number(H));if(!Oe)throw new Error(`No notification found with thread ID #${o}.`);const ue=Oe instanceof In?"pr":"issue",ye=lh(pe,Se,String(Oe.number)),Ee=(r=Oe.item.comments)!=null?r:[];let De;re!==void 0&&Ee?De=Ee.filter(Qe=>Qe.createdAt>re).map(Qe=>({body:Qe.body,author:Qe.author.login})):De=Ee.map(Qe=>({body:Qe.body,author:Qe.author.login}));const Ue={lastReadAt:re,lastUpdatedAt:Q,unread:le,comments:De,threadId:o,notificationKey:ye,title:Oe.title,body:Oe.body,owner:pe,repo:Se,itemNumber:H,itemType:ue};if(Oe instanceof In){const Qe=await Oe.getFileChangesInfo(),Ye=[];for(const Pt of Qe)Pt instanceof pr&&Ye.push({fileName:Pt.fileName,patch:Pt.patch});Ue.fileChanges=Ye}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ue)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}o1(Mc,"toolId","github-pull-request_notification_fetch");var l1=Object.defineProperty,u1=(n,e,t)=>e in n?l1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Eu=(n,e,t)=>u1(n,typeof e!="symbol"?e+"":e,t),d1=(n=>(n.is="is",n.type="type",n.state="state",n.in="in",n.linked="linked",n.status="status",n.draft="draft",n.review="review",n.no="no",n))(d1||{});const Kp={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},Ac=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,Ic=class Dv extends dl{async fullQueryAssistantPrompt(e){var t,i,r,a;const o=(a=(r=(t=e.activePullRequest)==null?void 0:t.remote)!=null?r:(i=e.activeIssue)==null?void 0:i.remote)!=null?a:(await e.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${o.owner}/${o.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(Kp)}
`}async labelsAssistantPrompt(e,t){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(t.filter(i=>!i.name.includes("required")&&!i.name.includes("search")&&!i.name.includes("question")&&!i.name.includes("find")).map(i=>({name:i.name,description:i.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(e,t){return`I've already included the following labels: [${e.join(", ")}]. The best search keywords in "${t}" are:`}labelsUserPrompt(e){return`The following labels are most appropriate for "${e}":`}fullQueryUserPrompt(e){e=e.replace(/\b(me|my)\b/,i=>i.toUpperCase());const t=new Date;return`Pretend today's date is ${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${e}`}validateSpecificQueryPart(e,t){switch(e){case"is":return t==="issue"||t==="pr"||t==="draft"||t==="public"||t==="private"||t==="locked"||t==="unlocked";case"type":return t==="pr"||t==="issue";case"state":return t==="open"||t==="closed"||t==="merged";case"in":return t==="title"||t==="body"||t==="comments";case"linked":return t==="pr"||t==="issue";case"status":return t==="success"||t==="failure"||t==="pending";case"draft":return t==="true"||t==="false";case"review":return t==="none"||t==="required"||t==="approved"||t==="changes_requested";case"no":return t==="label"||t==="milestone"||t==="assignee"||t==="project";default:return!0}}validateLabelsList(e,t){const i=o=>o==="AND"||o==="OR",r=e.split(Ac).map(o=>o.trim());let a=[];for(let o of r){if(i(o)){if(a.length===0)continue;a.length>0&&i(a[a.length-1])?a[a.length-1]=o:a.push(o);continue}const v=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,A=o.match(v);let H=o;A&&(H=A[1]),t.find(Q=>Q.name===H)&&a.push(H)}return a.length>0&&i(a[a.length-1])&&(a=a.slice(0,a.length-1)),a}validateFreeForm(e,t,i){return i=i.trim(),i.includes("issue")||i.match(Ac)||i.toLowerCase()==="none"||e.includes(i)||t.includes(i)||t.some(r=>i.includes(r)||r.includes(i))||Object.keys(Kp).find(r=>i.includes(r)||r.includes(i))?"":i}validateQuery(e,t,i){let r="";const a=e.split(Ac);for(const v of a){if(v.startsWith("label:"))continue;const A=v.split(":");if(A.length===2){const Q=A[0].startsWith("-")?A[0].substring(1):A[0],re=A[1];if(!Q.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart(Q,re)||Q==="no"&&re==="label"&&t.length>0)continue}r=`${r} ${v}`}const o=this.validateFreeForm(r,t,i);return r=`${r} ${t.map(v=>`label:${v}`).join(" ")} ${o}`,r.trim()}postProcess(e,t,i){const r=this.findQuery(e);if(!r)return;const a=this.validateQuery(r,i,t);return this.fixRepo(a)}fixRepo(e){const t=/repo:([^ ]+)/,i=/org:([^ ]+)/,r=e.match(t),a=e.match(i);let o=e.trim(),v,A;if(r){const H=r[1];if(H.includes("/")){const Q=H.split("/");v=Q[0],A=Q[1]}a&&H.includes("/")?o=e.replace(i,""):a&&(o=e.replace(t,`repo:${a[1]}/${H}`),v=a[1],A=H)}return{query:o,repo:v&&A?{owner:v,name:A}:void 0}}findQuery(e){if(e.includes("```")){const i=e.indexOf("```"),r=e.indexOf("```",i+3);return e.substring(i+3,r)}const t=e.split(`
`);if(t.length<=1)return t.length===0?e:t[0];for(const i of t)if(i.includes(":"))return i}async generateLabelQuery(e,t,i,r,a,o){const v=[s.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(e,t))];v.push(s.LanguageModelChatMessage.User(this.labelsUserPrompt(a)));const A=await r.sendRequest(v,i,o);return _s(A.text)}async generateFreeFormQuery(e,t,i,r,a,o){const v=[s.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];v.push(s.LanguageModelChatMessage.User(this.freeFormUserPrompt(a,r)));const A=await i.sendRequest(v,t,o);return _s(A.text)}async generateQuery(e,t,i,r,a){const o=[s.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(e))];o.push(s.LanguageModelChatMessage.User(this.fullQueryUserPrompt(r)));const v=await i.sendRequest(o,t,a);return _s(v.text)}async prepareInvocation(e){return{invocationMessage:s.l10n.t("Converting to search syntax")}}async invoke(e,t){var i,r,a;const{owner:o,name:v,folderManager:A}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),H=`${(a=this.chatParticipantState.firstUserMessage)==null?void 0:a.value}, ${e.input.naturalLanguageString}`,Q=await A.getLabels(void 0,{owner:o,repo:v}),le=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],pe={justification:"Answering user questions pertaining to GitHub."},[Se,Ae]=await Promise.all([this.generateQuery(A,pe,le,H,t),this.generateLabelQuery(A,Q,pe,le,H,t)]),Oe=this.validateLabelsList(Ae,Q),ue=await this.generateFreeFormQuery(A,pe,le,H,Oe,t),ye=this.postProcess(Se,ue,Oe);if(!ye)throw new Error("Unable to form a query.");b.debug(`Query \`${ye.query}\``,Dv.ID);const Ee={query:ye.query,repo:{owner:o,name:v}};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Ee)),new s.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};Eu(Ic,"toolId","github-pull-request_formSearchQuery"),Eu(Ic,"ID","ConvertToSearchSyntaxTool");let Qp=Ic;const Fc=class Gc extends dl{toGitHubUrl(e){return`https://github.com/issues/?q=${encodeURIComponent(e)}`}async prepareInvocation(e){const t=e.input.query,i=new s.MarkdownString;return i.appendText(s.l10n.t('Searching for issues with "{0}".',t)),i.appendMarkdown(s.l10n.t(" [Open on GitHub.com]({0})",uS(this.toGitHubUrl(t)))),{invocationMessage:i}}async invoke(e,t){var i,r,a,o;const{folderManager:v}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),A=e.input.query;b.debug(`Searching with query \`${A}\``,Gc.ID);const H=await v.getIssues(A);if(!H)throw new Error(`No issues found for ${A}. Make sure the query is valid.`);const re={arrayOfIssues:H.items.slice(0,30).map(le=>{var pe,Se;const Ae=le.item;return{title:Ae.title,url:Ae.url,number:Ae.number,labels:Ae.labels.map(Oe=>({name:Oe.name,color:Oe.color})),state:Ae.state,assignees:(pe=Ae.assignees)==null?void 0:pe.map(Oe=>({login:Oe.login,url:Oe.url})),createdAt:Ae.createdAt,updatedAt:Ae.updatedAt,author:{login:Ae.user.login,url:Ae.user.url},milestone:(Se=Ae.milestone)==null?void 0:Se.title,commentCount:Ae.commentCount,reactionCount:Ae.reactionCount}}),totalIssues:(a=H.totalCount)!=null?a:H.items.length};return b.debug(`Found ${re.totalIssues} issues, first issue ${(o=re.arrayOfIssues[0])==null?void 0:o.number}.`,Gc.ID),new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(re)),new s.LanguageModelTextPart(`Above are the issues I found for the query ${A} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};Eu(Fc,"toolId","github-pull-request_doSearch"),Eu(Fc,"ID","SearchTool");let Yp=Fc;var c1=Object.defineProperty,f1=(n,e,t)=>e in n?c1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,h1=(n,e,t)=>f1(n,typeof e!="symbol"?e+"":e,t);class Dc extends dl{constructor(e,t,i){super(e,t,i)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?s.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):s.l10n.t("Suggesting a fix for the issue")}}async invoke(e,t){var i,r;const a=e.input.repo,o=a==null?void 0:a.owner,v=a==null?void 0:a.name,A=e.input.issueNumber;if(!a||!o||!v||!A)return;const{folderManager:H}=await this.getRepoInfo(a);if(!H)throw new Error(`No folder manager found for ${a.owner}/${a.name}. Make sure to have the repository open.`);const Q=await H.resolveIssue(o,v,A,!0);if(!Q)throw new Error(`No issue found for ${a.owner}/${a.name}/${e.input.issueNumber}. Make sure the issue exists.`);const re={title:Q.title,body:Q.body,comments:(r=(i=Q.item.comments)==null?void 0:i.map(De=>({body:De.body})))!=null?r:[]},le=[];le.push(s.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),le.push(s.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),le.push(s.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),le.push(s.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),le.push(s.LanguageModelChatMessage.User("The issue content is as follows: ")),le.push(s.LanguageModelChatMessage.User(`Issue Title: ${re.title}`)),le.push(s.LanguageModelChatMessage.User(`Issue Body: ${re.body}`)),re.comments.forEach((De,Ue)=>{le.push(s.LanguageModelChatMessage.User(`Comment ${Ue}: ${De.body}`))});const pe=s.lm.tools.find(De=>De.tags.includes("vscode_codesearch"));if(!pe)throw new Error("Could not find the code search tool");const Ae=(await s.lm.invokeTool(pe.name,{toolInvocationToken:void 0,input:{query:re.title}},t)).content[0];if(Ae instanceof s.LanguageModelTextPart){le.push(s.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const De=s.LanguageModelChatMessage.User("");De.content=[Ae],le.push(De)}const ye=await(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(le,{},t);let Ee="";for await(const De of ye.text)Ee+=De;return new s.LanguageModelToolResult([new s.LanguageModelTextPart(Ee)])}}h1(Dc,"toolId","github-pull-request_suggest-fix");var m1=Object.defineProperty,p1=(n,e,t)=>e in n?m1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,v1=(n,e,t)=>p1(n,typeof e!="symbol"?e+"":e,t);class xc{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:s.l10n.t("Summarizing issue")};const i=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:s.l10n.t('Summarizing "{0}',i)}}async invoke(e,t){let i=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const r=e.input.fileChanges;if(r){i+=`
The following are the files changed:
`;for(const Q of r.values())i+=`
File : ${Q.fileName}
Patch: ${Q.patch}
`}const a=e.input.comments;if(a)for(const[Q,re]of a.entries())i+=`
Comment ${Q} :
Author: ${re.author}
Body: ${re.body}
`;const v=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],A=e.input.repo,H=e.input.owner;if(v&&A&&H){const Q=[s.LanguageModelChatMessage.User(this.summarizeInstructions(A,H))];Q.push(s.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),Q.push(s.LanguageModelChatMessage.User(i));const re=await v.sendRequest(Q,{}),le=await _s(re.text);return new s.LanguageModelToolResult([new s.LanguageModelTextPart(le)])}else return new s.LanguageModelToolResult([new s.LanguageModelTextPart(i)])}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing issues and PRs.
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${t} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${t}/${e}/issues/123)
[#123](https://github.com/${t}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}v1(xc,"toolId","github-pull-request_issue_summarize");var g1=Object.defineProperty,b1=(n,e,t)=>e in n?g1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,y1=(n,e,t)=>b1(n,typeof e!="symbol"?e+"":e,t);class Oc{async prepareInvocation(e){const t=e.input;if(!t.itemType||!t.itemNumber)return{invocationMessage:s.l10n.t("Summarizing notification")};const i=t.itemType==="issue"?"issues":"pull",r=`https://github.com/${t.owner}/${t.repo}/${i}/${t.itemNumber}`;return{invocationMessage:new s.MarkdownString(s.l10n.t("Summarizing item [#{0}]({1})",t.itemNumber,r))}}async invoke(e,t){let i="";e.input.lastReadAt||(i+="This thread is viewed for the first time. Here is the main item information of the thread:"),i+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const a=e.input.fileChanges;if(a){i+=`
The following are the files changed:
`;for(const Se of a.values())i+=`
File : ${Se.fileName}
Patch: ${Se.patch}
`}const o=e.input.comments;if(o&&o.length>0){i+=`
The following are the unread comments of the thread:
`;for(const[Se,Ae]of o.entries())i+=`
Comment ${Se} :
Author: ${Ae.author}
Body: ${Ae.body}
`}const A=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],H=[],Q=e.input.threadId,re=e.input.notificationKey;if(Q&&re){const Se={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:Q,notificationKey:re}]},Ae={title:"Mark As Done",command:"notification.markAsDone",arguments:[{threadId:Q,notificationKey:re}]};H.push(new s.LanguageModelTextPart(Nc)),H.push(new s.LanguageModelTextPart(JSON.stringify(Se))),H.push(new s.LanguageModelTextPart(Nc)),H.push(new s.LanguageModelTextPart(JSON.stringify(Ae)))}const le=e.input.owner,pe=e.input.repo;if(A&&le&&pe){const Se=[s.LanguageModelChatMessage.User(this.summarizeInstructions(le,pe))];Se.push(s.LanguageModelChatMessage.User("The notification information is as follows:")),Se.push(s.LanguageModelChatMessage.User(i));const Ae=await A.sendRequest(Se,{}),Oe=await _s(Ae.text);H.push(new s.LanguageModelTextPart(Oe))}else H.push(new s.LanguageModelTextPart(i));return H.push(new s.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new s.LanguageModelToolResult(H)}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${t}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${t}/issues/123)
[#123](https://github.com/${e}/${t}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}y1(Oc,"toolId","github-pull-request_notification_summarize");function w1(n,e,t,i){k1(n,e,t,i),_1(n),S1(n,e,t,i),R1(n,e,t,i),n.subscriptions.push(s.lm.registerTool(Tc.toolId,new Tc(t)))}function k1(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Pc.toolId,new Pc(e,t,i))),n.subscriptions.push(s.lm.registerTool(Mc.toolId,new Mc(e,t,i)))}function _1(n){n.subscriptions.push(s.lm.registerTool(xc.toolId,new xc)),n.subscriptions.push(s.lm.registerTool(Oc.toolId,new Oc))}function S1(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Dc.toolId,new Dc(e,t,i)))}function R1(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Qp.toolId,new Qp(e,t,i))),n.subscriptions.push(s.lm.registerTool(Yp.toolId,new Yp(e,t,i))),n.subscriptions.push(s.lm.registerTool(zp.toolId,new zp(i)))}var E1=Object.defineProperty,N1=(n,e,t)=>e in n?E1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fa=(n,e,t)=>N1(n,typeof e!="symbol"?e+"":e,t),fo=(n=>(n[n.Empty=0]="Empty",n[n.More=1]="More",n[n.TryOtherRemotes=2]="TryOtherRemotes",n[n.Login=3]="Login",n[n.LoginEnterprise=4]="LoginEnterprise",n[n.NoRemotes=5]="NoRemotes",n[n.NoMatchingRemotes=6]="NoMatchingRemotes",n[n.ConfigureRemotes=7]="ConfigureRemotes",n))(fo||{});class Va extends Fn{constructor(e,t,i){switch(super(e),fa(this,"collapsibleState"),fa(this,"iconPath"),fa(this,"type"),fa(this,"command"),this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}var ha;(n=>{let e;(i=>{i.LOCAL="Local Pull Request Branches",i.ALL="All Open"})(e=n.Queries||(n.Queries={}));let t;(i=>{i.DEFAULT="default"})(t=n.Values||(n.Values={}))})(ha||(ha={}));function Xp(n){return n.label===ha.Queries.LOCAL&&n.query===ha.Values.DEFAULT}function Jp(n){return n.label===ha.Queries.ALL&&n.query===ha.Values.DEFAULT}class Nu extends Fn{constructor(e,t,i,r,a,o,v,A){var H;switch(super(e),this._folderRepoManager=t,this._telemetry=i,this.type=r,this._notificationProvider=a,this._prsTreeModel=o,this._categoryQuery=A,fa(this,"collapsibleState"),fa(this,"prs"),fa(this,"fetchNextPage",!1),fa(this,"repositoryPageInformation",new Map),fa(this,"contextValue"),fa(this,"_firstLoad"),this.prs=new Map,this.type){case We.All:this.label=s.l10n.t("All Open");break;case We.Query:this.label=v;break;case We.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof Fn?`${(H=e.id)!=null?H:e.label}/${this.label}`:this.label,this._prsTreeModel.expandedQueries.size===0&&this.type===We.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=this._prsTreeModel.expandedQueries.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue="query")}async expandPullRequest(e,t=!0){if(!this.children&&t&&(await this.getChildren(),t=!1),this.children){for(const i of this.children)if(i instanceof Zn&&i.pullRequestModel.equals(e))return this.reveal(i,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async getChildren(){await super.getChildren();const e=!this._firstLoad;return e&&(this._firstLoad=this.doGetChildren(),!this._prsTreeModel.hasLoaded)?(this._firstLoad.then(()=>this.refresh(this)),[]):e?this._firstLoad:this.doGetChildren()}async doGetChildren(){let e=!1,t=!1,i=!1;const r=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===We.LocalPullRequest)try{this.prs.clear(),(await this._prsTreeModel.getLocalPullRequests(this._folderRepoManager)).items.forEach(a=>this.prs.set(a.id,a))}catch(a){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",he(a))),i=a instanceof rn}else try{let a;switch(this.type){case We.All:a=await this._prsTreeModel.getAllPullRequests(this._folderRepoManager,r);break;case We.Query:a=await this._prsTreeModel.getPullRequestsForQuery(this._folderRepoManager,r,this._categoryQuery);break}r||this.prs.clear(),a.items.forEach(o=>this.prs.set(o.id,o)),e=a.hasMorePages,t=a.hasUnsearchedRepositories}catch(a){const o=he(a),v=[];o.includes("Bad credentials")&&v.push(s.l10n.t("Login again")),s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",he(a)),...v).then(A=>{A&&A===v[0]&&this._folderRepoManager.credentialStore.recreate(s.l10n.t("Your login session is no longer valid."))}),i=a instanceof rn}if(this.prs.size>0){const a=Array.from(this.prs.values()).map(o=>new Zn(this,this._folderRepoManager,o,this.type===We.LocalPullRequest,this._notificationProvider));return e?a.push(new Va(this,1,this)):t&&a.push(new Va(this,2,this)),this.children=a,a}else{const a=i?3:0,o=[new Va(this,a)];return this.children=o,o}}getTreeItem(){return this}}const Zp="prompts",ev="createPROnPublish";async function T1(n){await C1(),await P1(n),await M1(n)}async function C1(){im(Zp,ev)===!1&&(await s.workspace.getConfiguration(Tt).update(zt,"never",s.ConfigurationTarget.Global),nm(Zp,ev,!0))}const Tu="hasMigratedQueries";async function P1(n){const e=n.globalState.get(Tu,!1),t=n.workspaceState.get(Tu,!1);if(e&&t)return;const i=s.workspace.getConfiguration(Tt),r=i.inspect(st),a=o=>o.map(v=>({label:v.label,query:v.query.includes("repo:")?v.query:`repo:\${owner}/\${repository} ${v.query}`}));!e&&(r!=null&&r.globalValue)&&await i.update(st,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(Tu,!0),!t&&(r!=null&&r.workspaceValue)&&await i.update(st,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(Tu,!0)}const Cu="hasMigratedDefaultQueries4";async function M1(n){const e=n.globalState.get(Cu,!1),t=n.workspaceState.get(Cu,!1);if(e&&t)return;const i=s.workspace.getConfiguration(Tt),r=i.inspect(st),a=o=>{const v=o.some(H=>Xp(H)),A=o.some(H=>Jp(H));return v||o.unshift({label:ha.Queries.LOCAL,query:ha.Values.DEFAULT}),A||o.push({label:ha.Queries.ALL,query:ha.Values.DEFAULT}),o};!e&&(r!=null&&r.globalValue)&&await i.update(st,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(Cu,!0),!t&&(r!=null&&r.workspaceValue)&&await i.update(st,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(Cu,!0)}var A1=Object.defineProperty,I1=(n,e,t)=>e in n?A1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ma=(n,e,t)=>I1(n,typeof e!="symbol"?e+"":e,t),Pu=(n=>(n.Timestamp="Timestamp",n.Priority="Priority",n))(Pu||{});class F1 extends g{constructor(e,t){super(),this._notificationProvider=e,this._credentialStore=t,ma(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),ma(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),ma(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),ma(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),ma(this,"_pageCount",1),ma(this,"_hasNextPage",!1),ma(this,"_dateTime",new Date),ma(this,"_fetchNotifications",!1),ma(this,"_notifications",new Map),ma(this,"_sortingMethod","Timestamp"),this._register(this._onDidChangeTreeData),this._register(this._onDidChangeNotifications)}get sortingMethod(){return this._sortingMethod}async getChildren(e){if(e!==void 0)return;const t=await this.getNotifications();if(t!==void 0)return t.hasNextPage?[...t.notifications,{kind:"loadMoreNotifications"}]:t.notifications}async getTreeItem(e){return Yl(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}_resolveNotificationTreeItem(e){const t=e.notification.subject.title,i=new s.TreeItem(t,s.TreeItemCollapsibleState.None),r=e.notification,a=e.model;return r.subject.type===Un.Issue&&a instanceof Nn&&(i.iconPath=e.model.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed"))),r.subject.type===Un.PullRequest&&a instanceof In&&(i.iconPath=a.isOpen?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.open")):a.isMerged?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.merged")):new s.ThemeIcon("git-pull-request-closed",new s.ThemeColor("pullRequests.closed"))),i.description=`${r.owner}/${r.name}`,i.contextValue=r.subject.type,i.resourceUri=Ad({key:e.notification.key}),e.model instanceof In?i.command={command:"pr.openDescription",title:s.l10n.t("Open Pull Request Description"),arguments:[e.model]}:i.command={command:"issue.openDescription",title:s.l10n.t("Open Issue Description"),arguments:[e.model]},i}_resolveLoadMoreNotificationsTreeItem(){const e=new s.TreeItem(s.l10n.t("Load More Notifications..."),s.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async getNotifications(){if(this._fetchNotifications){const t=await this._notificationProvider.getNotifications(this._dateTime.toISOString(),this._pageCount);if(!t)return;const i=new Map;await Promise.all(t.notifications.map(async r=>{const a=await this._notificationProvider.getNotificationModel(r);a&&i.set(r.key,{notification:r,model:a,kind:"notification"})}));for(const[r,a]of i.entries())this._notifications.set(r,a);this._hasNextPage=t.hasNextPage,this._fetchNotifications=!1}if(this._sortingMethod==="Priority"){const t=Array.from(this._notifications.values()).filter(r=>r.priority===void 0),i=await this._notificationProvider.getNotificationsPriority(t);for(const{key:r,priority:a,priorityReasoning:o}of i){const v=this._notifications.get(r);v&&(v.priority=a,v.priorityReason=o,this._notifications.set(r,v))}}const e=Array.from(this._notifications.values());return this._updateContext(),this._onDidChangeNotifications.fire(e),{notifications:this._sortNotifications(e),hasNextPage:this._hasNextPage}}_updateContext(){const e=this._notifications.size;lt.setContext(kt.NOTIFICATION_COUNT,e===0?-1:e)}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}refresh(){if(this._notifications.size!==0){const e=Array.from(this._notifications.values());this._onDidChangeNotifications.fire(e)}this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._refresh(!0)}loadMore(){this._pageCount++,this._refresh(!0)}_refresh(e){this._fetchNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsRead(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}async markAsDone(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsDone(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}_getMeaningfulEventTime(e,t,i){var r,a;const o=v=>{if(i)return v===t;if(!i)return v!==t};if(e.event===ai.Committed){if(o(e.author.login))return new Date(e.committedDate)}else if(e.event===ai.Commented){if(o((r=e.user)==null?void 0:r.login))return new Date(e.createdAt)}else if(e.event===ai.Reviewed&&(i||e.comments.length>0||e.body.length>0)&&o((a=e.user)==null?void 0:a.login))return new Date(e.submittedAt)}async markPullRequests(e=!1){const t=Array.from(this._notifications.values()).filter(a=>a.notification.subject.type===Un.PullRequest),i=await Promise.all(t.map(a=>a.model.getTimelineEvents())),r=[];for(const[a,o]of t.entries()){const v=await this._credentialStore.getCurrentUser(o.model.remote.authProviderId),A=i[a];let H,Q;for(let re=A.length-1;re>=0;re--){const le=A[re];if(H||(H=this._getMeaningfulEventTime(le,v.login,!0)),Q||(Q=this._getMeaningfulEventTime(le,v.login,!1)),H&&Q)break}(!Q||H&&H.getTime()>Q.getTime())&&(e?r.push(this._notificationProvider.markAsDone({threadId:o.notification.id,notificationKey:o.notification.key})):r.push(this._notificationProvider.markAsRead({threadId:o.notification.id,notificationKey:o.notification.key})),this._notifications.delete(o.notification.key))}await Promise.all(r),this.refresh()}sortNotifications(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._refresh(!1))}_sortNotifications(e){return this._sortingMethod==="Timestamp"?e.sort((t,i)=>i.notification.updatedAd.getTime()-t.notification.updatedAd.getTime()):this._sortingMethod==="Priority"?e.sort((t,i)=>Number(i.priority)-Number(t.priority)):e}}var D1=Object.defineProperty,x1=(n,e,t)=>e in n?D1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tv=(n,e,t)=>x1(n,typeof e!="symbol"?e+"":e,t);class O1 extends g{constructor(e){super(),this._notificationsManager=e,tv(this,"_readonlyOnDidChangeFileDecorations",this._register(new s.EventEmitter)),tv(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),this._register(e.onDidChangeNotifications(t=>{const i=t.map(r=>Ad({key:r.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(i)})),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${Tt}.${fr}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(i=>Ad({key:i.notification.key})))}))}settingValue(){return s.workspace.getConfiguration(Tt).get(fr,!1)}provideFileDecoration(e,t){var i,r;if(!this.settingValue()||this._notificationsManager.sortingMethod!==Pu.Priority)return;const a=kb(e);if(!a)return;const o=this._notificationsManager.getNotification(a.key),v=(o==null?void 0:o.priority)==="100"?"99":(i=o==null?void 0:o.priority)!=null?i:"0";return{badge:v,tooltip:s.l10n.t("Priority score is {0}. {1}",v,(r=o==null?void 0:o.priorityReason)!=null?r:"")}}}var L1=Object.defineProperty,U1=(n,e,t)=>e in n?L1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B1=(n,e,t)=>U1(n,typeof e!="symbol"?e+"":e,t);class q1 extends g{constructor(e,t){super(),this._credentialStore=e,this._repositoriesManager=t,B1(this,"_authProvider"),e.isAuthenticated(ui.githubEnterprise)&&Tr()?this._authProvider=ui.githubEnterprise:e.isAuthenticated(ui.github)&&(this._authProvider=ui.github),this._register(e.onDidChangeSessions(i=>{e.isAuthenticated(ui.githubEnterprise)&&Tr()&&(this._authProvider=ui.githubEnterprise),e.isAuthenticated(ui.github)&&(this._authProvider=ui.github)}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async markAsDone(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsDone,{thread_id:Number(e.threadId)})}async getNotifications(e,t){var i;const r=this._getGitHub();if(r===void 0||this._repositoriesManager.folderManagers.length===0)return;const a=s.workspace.getConfiguration(Tt).get(Ar,50),{data:o,headers:v}=await r.octokit.call(r.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,before:e,page:t,per_page:a});return{notifications:o.map(H=>B0(H)).filter(H=>!!H),hasNextPage:((i=v.link)==null?void 0:i.includes('rel="next"'))===!0}}async getNotificationModel(e){var t;const i=e.subject.url;if(typeof i!="string")return;const r=i.split("/").pop();if(r===void 0)return;const a=(t=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?t:this._repositoriesManager.folderManagers[0];return e.subject.type===Un.Issue?await a.resolveIssue(e.owner,e.name,parseInt(r),!0):await a.resolvePullRequest(e.owner,e.name,parseInt(r))}async getNotificationsPriority(e){const i=[];for(let o=0;o<e.length;o+=5)i.push(e.slice(o,o+5));const r=await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(i.map(o=>this._prioritizeNotificationBatch(o,r[0])))).flat()}async _prioritizeNotificationBatch(e,t){try{const i=(await this._credentialStore.getCurrentUser(ui.github)).login,r=[s.LanguageModelChatMessage.User(H1(i))];for(const[v,A]of e.entries()){const H=A.model;if(!H)continue;let Q=this._getBasePrompt(H,v);Q+=await this._getLabelsPrompt(H),Q+=await this._getCommentsPrompt(H),r.push(s.LanguageModelChatMessage.User(Q))}r.push(s.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const a=await t.sendRequest(r,{}),o=await _s(a.text);return this._updateNotificationsWithPriorityFromLLM(e,o)}catch(i){return console.log(i),[]}}_getBasePrompt(e,t){var i;const r=e.assignees;return`
The following is the data for notification ${t+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(r==null?void 0:r.map(a=>a.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(i=e.item.reactionCount)!=null?i:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const t=e.item.labels;if(!t)return"";let i="";return t.length>0&&(i=`
\u2022 Labels: ${t.map(a=>a.name).join(", ")}`),i}async _getCommentsPrompt(e){const t=e.item.comments;if(!t||t.length===0)return"";let i=`

The following is the data concerning the at most last 5 comments for the notification:`,r=1;const a=Math.max(0,t.length-5);for(let o=a;o<t.length;o++){const v=t.at(o);i+=`

Comment ${r} for notification:
\u2022 Body:
${v.body}
\u2022 Reaction Count: ${v.reactionCount}`,r+=1}return i}_updateNotificationsWithPriorityFromLLM(e,t){const i=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,r=/```(?!text)([\s\S]+?)(###|$)/g,a=[];for(let o=0;o<e.length;o++){const v=i.exec(t);if(v){const A=r.exec(t);a.push({key:e[o].notification.key,priority:v[1],priorityReasoning:A?A[1].trim():void 0})}}return a}}function H1(n){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${n}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${n}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}class $1 extends g{constructor(e,t,i){super(),this.credentialStore=e,this._repositoriesManager=t,this._telemetry=i;const r=new q1(e,this._repositoriesManager);this._register(r);const a=new F1(r,e);this._register(a);const o=new O1(a);this._register(s.window.registerFileDecorationProvider(o)),this._register(s.window.createTreeView("notifications:github",{treeDataProvider:a})),a.refresh(),this._register(s.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),a.sortNotifications(Pu.Timestamp)},this)),this._register(s.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),a.sortNotifications(Pu.Priority)},this)),this._register(s.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),a.refresh()},this)),this._register(s.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),a.loadMore()})),this._register(s.commands.registerCommand("notification.chatSummarizeNotification",v=>{Yl(v)&&(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),s.commands.executeCommand(ep(),s.l10n.t("@githubpr Summarize notification with thread ID #{0}",v.notification.id)))})),this._register(s.commands.registerCommand("notification.markAsRead",v=>{const{threadId:A,notificationKey:H}=this._extractMarkAsCommandOptions(v);this._telemetry.sendTelemetryEvent("notification.markAsRead"),a.markAsRead({threadId:A,notificationKey:H})})),this._register(s.commands.registerCommand("notification.markAsDone",v=>{const{threadId:A,notificationKey:H}=this._extractMarkAsCommandOptions(v);this._telemetry.sendTelemetryEvent("notification.markAsDone"),a.markAsDone({threadId:A,notificationKey:H})})),this._register(s.commands.registerCommand("notifications.markPullRequestsAsRead",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsRead"),a.markPullRequests()))),this._register(s.commands.registerCommand("notifications.markPullRequestsAsDone",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsDone"),a.markPullRequests(!0)))),this._register(s.commands.registerCommand("notifications.configureNotificationsViewlet",()=>(this._telemetry.sendTelemetryEvent("notifications.configureNotificationsViewlet"),s.commands.executeCommand("workbench.action.openSettings",`@ext:${vt} notifications`)))),this._register(j(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{a.refresh()}))}_extractMarkAsCommandOptions(e){let t,i;if(Yl(e))t=e.notification.id,i=e.notification.key;else if("threadId"in e&&"notificationKey"in e&&typeof e.threadId=="number"&&typeof e.notificationKey=="string")t=e.threadId,i=e.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(e)}`);return{threadId:t,notificationKey:i}}}class G1{constructor(e,t,i){this._reposManagers=e,this._telemetry=t,this._context=i}async handleUri(e){switch(e.path){case Fd.OpenIssueWebview:return this._openIssueWebview(e);case Fd.OpenPullRequestWebview:return this._openPullRequestWebview(e)}}async _openIssueWebview(e){var t;const i=Rb(e);if(!i)return;const r=(t=this._reposManagers.getManagerForRepository(i.owner,i.repo))!=null?t:this._reposManagers.folderManagers[0],a=await r.resolveIssue(i.owner,i.repo,i.issueNumber,!0);if(a)return fd.createOrShow(this._telemetry,this._context.extensionUri,r,a)}async _openPullRequestWebview(e){var t;const i=Eb(e);if(!i)return;const r=(t=this._reposManagers.getManagerForRepository(i.owner,i.repo))!=null?t:this._reposManagers.folderManagers[0],a=await r.resolvePullRequest(i.owner,i.repo,i.pullRequestNumber);if(a)return br.createOrShow(this._telemetry,this._context.extensionUri,r,a)}}var V1=Object.defineProperty,j1=(n,e,t)=>e in n?V1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ho=(n,e,t)=>j1(n,typeof e!="symbol"?e+"":e,t);class iv extends g{constructor(){super(),ho(this,"_onDidChangeFileDecorations",this._register(new s.EventEmitter)),ho(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,t,i){const r=i.path,a=s.Uri.joinPath(e.repository.rootUri,r),o=t.fileChanges.get(r);if(o){const v=Cd(a,t.number,r,o.status,o.previousFileName);this._onDidChangeFileDecorations.fire(v),this._onDidChangeFileDecorations.fire(v.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(v.with({scheme:Vt.Pr,authority:""}))}}}class W1 extends g{constructor(e){super(),this._repositoriesManager=e,ho(this,"_gitHubReposListeners",[]),ho(this,"_pullRequestListeners",[]),ho(this,"_pullRequestPropertyChangeListeners",[]),ho(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,t){return this._providers.map(i=>i.registerPullRequestPropertyChangedListeners(e,t))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(a=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,a))}));const r=Array.from(t.pullRequestModels.values()).map(a=>this._registerPullRequestPropertyListeners(e,a)).flat();this._pullRequestPropertyChangeListeners.push(...r)})}_registerRepositoriesChangedListeners(){k(this._gitHubReposListeners),k(this._pullRequestListeners),k(this._pullRequestPropertyChangeListeners),this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._register(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){super.dispose(),k(this._gitHubReposListeners),k(this._pullRequestListeners),k(this._pullRequestPropertyChangeListeners),k(this._providers)}}class z1 extends iv{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeReviewThreads(i=>{[...i.added,...i.removed].forEach(r=>{this._handlePullRequestPropertyChange(e,t,r)})})}provideFileDecoration(e,t){if(e.scheme!==Vt.Pr&&e.scheme!==Vt.File&&e.scheme!==Vt.Review&&e.scheme!==Vt.FileChange)return;const i=Ch(e),r=this._repositoriesManager.getManagerForFile(e);if(i&&r&&r.gitHubRepositories.find(o=>{const v=o.pullRequestModels.get(i.prNumber);if(v!=null&&v.reviewThreadsCache.find(A=>A.path===i.fileName))return!0}))return{propagate:!1,tooltip:s.l10n.t("Commented"),badge:new s.ThemeIcon("comment")}}}var K1=Object.defineProperty,Q1=(n,e,t)=>e in n?K1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ia=(n,e,t)=>Q1(n,typeof e!="symbol"?e+"":e,t);function nv(n){switch(n){case ct.DELETED:return Ht.DELETE;case ct.ADDED_BY_US:case ct.INDEX_ADDED:return Ht.ADD;case ct.INDEX_RENAMED:return Ht.RENAME;case ct.MODIFIED:return Ht.MODIFY;default:return Ht.UNKNOWN}}class Y1 extends Fn{constructor(e,t,i,r){super(e),this.model=t,this.commit=i,this.parentRef=r}getTreeItem(){var e;return{label:this.commit.commit.message,description:(e=this.commit.commit.author)!=null&&e.date?X(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:i}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),r=i.files;return r?r.map(a=>new Zl(this,a.filename,a.previous_filename,ts(a.status),this.parentRef,this.commit.sha,!1)):[]}}class X1 extends Fn{constructor(e,t,i,r){super(e),this.commit=t,this.folderRepoManager=i,this.parentRef=r}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?X(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const i=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Zl(this,i,r,nv(t.status),this.parentRef,this.commit.hash,!0)})}}const rv=class xv extends g{constructor(e){super(),this.model=e,Ia(this,"_view"),Ia(this,"_children"),Ia(this,"_onDidChangeTreeData",new s.EventEmitter),Ia(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._register(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=this._register(e)}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),i=await this.model.gitHubMergeBase();return!(e!=null&&e.length)||!(t!=null&&t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:i})}catch(e){return"name"in e&&e.name==="HttpError"&&e.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(t){return b.error(`Comparing changes failed: ${t}`,xv.ID),[]}return this._children}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===Vt.GithubPr||t.input.modified.scheme===Vt.GitPr)&&s.window.tabGroups.close(t)}))}};Ia(rv,"ID","CompareChangesTreeProvider");let Lc=rv;class J1 extends Lc{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:i}=await this.getRawGitHubData();if(t&&i)return this.view.message=this.addReviewMessage(),t.map(r=>new Zl(this,r.filename,r.previous_filename,ts(r.status),i,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(t=>{const i=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=L.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Zl(this,i,r,nv(t.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const t=this.folderRepoManager.getAutoReviewer();return t&&(e?e.appendMarkdown(`

`):e=new s.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${s.l10n.t("$(sparkle) {0} Code Review",t.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const i=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));i.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(i)}return this.getGitFileChildren(t)}}}class Z1 extends Lc{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((i,r)=>new Y1(this,this.model,i,r===0?this.model.baseBranch:t[r-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((i,r)=>new X1(this,i,this.folderRepoManager,r===0?this.model.baseBranch:t[r-1].hash)))}}class av extends g{constructor(e,t){super(),this.model=t,Ia(this,"_filesView"),Ia(this,"_filesDataProvider"),Ia(this,"_commitsView"),Ia(this,"_commitsDataProvider"),this._filesDataProvider=this._register(new J1(t,e)),this._filesView=this._register(s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider})),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=this._register(new Z1(t,e)),this._commitsView=this._register(s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider})),this._commitsDataProvider.view=this._commitsView,this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(this.model.gitHubRepository)try{this._register(s.workspace.registerFileSystemProvider(Vt.GithubPr,this.model.gitHubContentProvider)),this._register(s.workspace.registerFileSystemProvider(Vt.GitPr,this.model.gitContentProvider)),this._register(y(()=>Lc.closeTabs()))}catch{}}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===Vt.GithubPr||t.input.modified.scheme===Vt.GitPr)&&s.window.tabGroups.close(t)}))}}var eR=Object.defineProperty,tR=(n,e,t)=>e in n?eR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,er=(n,e,t)=>tR(n,typeof e!="symbol"?e+"":e,t);const iR=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),sv=class Lu extends Sf{constructor(e,t,i,r,a,o){super(i),this.telemetry=e,this.model=t,this._folderRepositoryManager=r,this._pullRequestDefaults=a,this._defaultCompareBranch=o,er(this,"viewType","github:createPullRequestWebview"),er(this,"_onDone",new s.EventEmitter),er(this,"onDone",this._onDone.event),er(this,"_firstLoad",!0),er(this,"initializeWhenVisibleDisposable"),er(this,"_alreadyInitializing"),er(this,"milestone"),er(this,"reviewers",[]),er(this,"assignees",[]),er(this,"projects",[]),er(this,"labels",[])}resolveWebviewView(e,t,i){return super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(e){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},e)}async getPullRequestDefaultLabels(e){const t=s.workspace.getConfiguration(Tt).inspect(_t);if(!t)return[];const i=new Array;return t.workspaceValue&&i.push(...t.workspaceValue),t.globalValue&&i.push(...t.globalValue),!i||i.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:e.owner,repo:e.repositoryName})).filter(o=>i.includes(o.name))}async getMergeConfiguration(e,t,i=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(e,t)).getRepoAccessAndMergeMethods(i)}async initializeParams(e=!1){var t,i;if(((t=this._view)==null?void 0:t.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(i=this._view)==null?void 0:i.onDidChangeVisibility(()=>{var r;(r=this.initializeWhenVisibleDisposable)==null||r.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}e&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(e){return this._folderRepositoryManager.getTitleAndDescriptionProvider(e)}async getCreateParams(){var e,t,i,r,a;const o=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[v,A,H]=await Promise.all([this.detectBaseMetadata(o),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(o)]),Q={owner:(e=v==null?void 0:v.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=v==null?void 0:v.repositoryName)!=null?t:this._pullRequestDefaults.repo},re={owner:H.remote.owner,repositoryName:H.remote.repositoryName},le=(i=v==null?void 0:v.branch)!=null?i:this._pullRequestDefaults.base,[pe,Se,Ae,Oe,ue]=await Promise.all([this.getTitleAndDescription(o,le),this.getMergeConfiguration(Q.owner,Q.repositoryName),H.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(le,Q.owner,Q.repositoryName),this.getPullRequestDefaultLabels(Q)]),ye=s.workspace.getConfiguration(Tt).get(Jt,"lastUsed"),Ee=this._folderRepositoryManager.context.workspaceState.get(Bd,void 0),De=Dl(Se.mergeMethodsAvailability);let Ue=De,Qe=!1,Ye=!1;Ue=ye==="lastUsed"&&(Ee!=null&&Ee.mergeMethod)?Ee==null?void 0:Ee.mergeMethod:De,ye==="lastUsed"?(Ue=(r=Ee==null?void 0:Ee.mergeMethod)!=null?r:De,Qe=!!(Ee!=null&&Ee.isDraft),Ye=Se.viewerCanAutoMerge&&!!(Ee!=null&&Ee.autoMerge)):ye==="createDraft"?Qe=!0:ye==="createAutoMerge"&&(Ye=Se.viewerCanAutoMerge),lt.setContext(kt.CREATE_PR_PERMISSIONS,Ae);const Pt=!!this.getTitleAndDescriptionProvider("Copilot")&&s.workspace.getConfiguration(Tt).get(Dt)==="Copilot",Ft=(a=this.getTitleAndDescriptionProvider())==null?void 0:a.title;Ft&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:Ft});const fi=this._folderRepositoryManager.getAutoReviewer();return this.labels=ue,{canModifyBranches:!0,defaultBaseRemote:Q,defaultBaseBranch:le,defaultCompareRemote:re,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:pe.title,defaultDescription:pe.description,defaultMergeMethod:Ue,baseHasMergeQueue:!!Oe,remoteCount:A.length,allowAutoMerge:Se.viewerCanAutoMerge,mergeMethodsAvailability:Se.mergeMethodsAvailability,autoMergeDefault:Ye,createError:"",labels:this.labels,isDraftDefault:Qe,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:Ft,creating:!1,initializeWithGeneratedTitleAndDescription:Pt,preReviewState:Fl.None,preReviewer:fi==null?void 0:fi.title,reviewing:!1}}async doInitializeParams(){const e=await this.getCreateParams();return b.appendLine(`Initializing "create" view: ${JSON.stringify(e)}`,Lu.ID),this._postMessage({command:"pr.initialize",params:e}),e}async autoAssign(e){var t;const i=s.workspace.getConfiguration(Tt).get(Ge);if(!i)return;const r=await Ws(i,e,void 0,(t=await this._folderRepositoryManager.getCurrentUser(e.githubRepository))==null?void 0:t.login);if(r)try{await e.addAssignees([r])}catch{b.error(`Unable to assign pull request to user ${r}.`,Lu.ID)}}async enableAutoMerge(e,t,i){if(t&&i)return e.enableAutoMerge(i)}async setLabels(e,t){t.length>0&&await e.setLabels(t.map(i=>i.name))}async setAssignees(e,t){t.length?await e.replaceAssignees(t):await this.autoAssign(e)}async setReviewers(e,t){if(t.length){const i=[],r=[];for(const a of t)ri(a)?r.push(a):i.push(a);await e.requestReview(i,r,!0)}}setMilestone(e,t){if(t)return e.updateMilestone(t.id)}setProjects(e,t){if(t.length)return e.updateProjects(t)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(e=>ve(e.owner,this.model.baseOwner)===0&&ve(e.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(e=>ve(e.remote.owner,this.model.baseOwner)===0&&ve(e.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(i=>i.remote.remoteName===e.remoteName);return If(this._folderRepositoryManager,t,this.milestone,i=>(this.milestone=i,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let e;const t=await this.getBaseRemote();try{const i=this._folderRepositoryManager.gitHubRepositories.find(Q=>Q.remote.remoteName===t.remoteName),[r,a,o]=await Promise.all([i==null?void 0:i.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(i)]);e=await Mf(this._folderRepositoryManager,t.remoteName,!!(r!=null&&r.organization),o,a,this.reviewers.map(Q=>({reviewer:Q,state:"REQUESTED"})),[]),e.busy=!1;const v=Ne(e.onDidAccept).then(()=>e.selectedItems.filter(Q=>Q.user)),A=Ne(e.onDidHide),H=await Promise.race([v,A]);e.busy=!0,H&&(this.reviewers=H.map(Q=>Q.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(i){b.error(`Failed to add reviewers: ${he(i)}`,Lu.ID),s.window.showErrorMessage(he(i))}finally{e==null||e.hide(),e==null||e.dispose()}}async addAssignees(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(r=>r.remote.owner===e.owner&&r.remote.repositoryName===e.repositoryName),i=await s.window.showQuickPick(Pf(this._folderRepositoryManager,t,e.remoteName,this.assignees,void 0,!0),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Add assignees")});if(i){const r=new Set,a=i.map(o=>o.user).filter(o=>o&&!r.has(o.login)?(r.add(o.login),!0):!1);this.assignees=a,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const e=this.getBaseGitHubRepo();e&&await new Promise(t=>{Af(this._folderRepositoryManager,e,this.projects,async i=>{this.projects=i,this._postMessage({command:"set-projects",params:{projects:this.projects}}),t()})})}async addLabels(){let e=[];const t=await s.window.showQuickPick(Ff(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(i=>(e=i.newLabels,i.labelPicks)),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Apply labels")});if(t){const i=t.map(r=>e.find(a=>a.name===r.label));this.labels=i,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(e){const{label:t}=e.args;if(!t)return;const i=this.labels.length;this.labels=this.labels.filter(r=>r.name!==t.name),i!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(e,t,i,r){const a={isDraft:e,autoMerge:t,autoMergeMethod:r?"merge":i,creating:!0};return this._postMessage({command:"create",params:a})}async postCreate(e,t){return Promise.all([this.setLabels(t,e.args.labels),this.enableAutoMerge(t,e.args.autoMerge,e.args.autoMergeMethod),this.setAssignees(t,e.args.assignees),this.setReviewers(t,e.args.reviewers),this.setMilestone(t,e.args.milestone),this.setProjects(t,e.args.projects)])}async cancel(e){return this._onDone.fire(void 0),await this.getMergeConfiguration(e.args.owner,e.args.repo,!0),this._replyMessage(e,void 0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(e);case"pr.create":return this.create(e);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(e);default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const e=ud(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}};er(sv,"ID","CreatePullRequestViewProvider");let ov=sv;function lv(n){return{owner:n.owner,repositoryName:n.repositoryName}}class jn extends ov{constructor(e,t,i,r,a){super(e,t,i,r,a,t.compareBranch),er(this,"viewType","github:createPullRequestWebview"),er(this,"lastGeneratedTitleAndDescription"),er(this,"generatingCancellationToken"),er(this,"reviewingCancellationToken"),this._register(this.model.onDidChange(async o=>{var v,A;let H,Q;if(o.baseOwner){const Se=(v=this._folderRepositoryManager.findRepo(Ae=>ve(Ae.remote.owner,o.baseOwner)===0&&ve(Ae.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:v.remote;H=Se?lv(Se):void 0,Q=this.model.baseBranch}o.baseBranch&&(Q=o.baseBranch);let re,le;if(o.compareOwner){const Se=(A=this._folderRepositoryManager.findRepo(Ae=>ve(Ae.remote.owner,o.compareOwner)===0&&ve(Ae.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:A.remote;re=Se?lv(Se):void 0,le=this.model.compareBranch}o.compareBranch&&(le=o.compareBranch);const pe={baseRemote:H,baseBranch:Q,compareRemote:re,compareBranch:le,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:pe})}))}async existingPRMessage(){return await Jn.getMatchingPullRequestMetadataForBranch(this._folderRepositoryManager.repository,this.model.compareBranch)?s.l10n.t("A pull request already exists for this branch."):""}async setDefaultCompareBranch(e){var t,i;const r=e&&e.name!==this.model.compareBranch,a=(t=this._folderRepositoryManager.gitHubRepositories.find(v=>v.remote.owner===this.model.compareOwner))==null?void 0:t.remote.remoteName,o=e&&((i=e.upstream)==null?void 0:i.remote)!==a;(r||o)&&(this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(async v=>{const A={defaultTitle:v.title,defaultDescription:v.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name,warning:await this.existingPRMessage()};if(!o)return this._postMessage({command:"pr.initialize",params:A})}))}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,t){var i;const r=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const a=this._folderRepositoryManager.findRepo(Zs(e.upstream.remote));if(a){const o=`${a.remote.owner}:${(i=e.name)!=null?i:""}`,v=`${this._pullRequestDefaults.owner}:${t}`,A=await r.compareCommits(v,o);return A==null?void 0:A.commits}}}async getTitleAndDescription(e,t){let i="",r="";const a=s.workspace.getConfiguration(Tt).get(Dt);if(a==="none")return{title:i,description:r};const o=await this._folderRepositoryManager.getOrigin(e);let v=this._pullRequestDefaults.base===e.name;b.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,jn.ID);try{const A=e.name,[H,Q,re]=await Promise.all([this.getTotalGitHubCommits(e,t),A?fy(Te(this._folderRepositoryManager.getTipCommitMessage(A),5e3)):void 0,a==="template"?await this.getPullRequestTemplate():void 0]),le=H==null?void 0:H.filter(pe=>pe.parents.length<2);if(b.debug(`Total commits: ${le==null?void 0:le.length}`,jn.ID),le===void 0?v=!1:le&&le.length>1&&(v=await o.getDefaultBranch()!==e.name),A&&!Q&&(b.appendLine("Timeout getting last commit message",jn.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),v&&A?i=`${A.charAt(0).toUpperCase()}${A.slice(1)}`:A&&Q&&(i=Q.title),re&&(Q!=null&&Q.body)?r=`${Q.body}

${re}`:re?r=re:Q!=null&&Q.body&&this._pullRequestDefaults.base!==e.name&&(r=Q.body),!r){const pe=i.match(y0),Se=Hs(pe);if(Se!=null&&Se.issueNumber&&!Se.name&&!Se.owner){r=`#${Se.issueNumber}`;const Oe=i.substr(0,i.indexOf(pe[0])).match(iR);Oe&&(r=`${Oe[0]} ${r}`)}}}catch(A){b.debug(`Error while getting total commits: ${A}`,jn.ID)}return{title:i,description:r}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async detectBaseMetadata(e){var t;const i=this.model.compareOwner,r=this.model.repositoryName,a=s.workspace.getConfiguration(Tt).get(pi);if(!e.name||a==="repositoryDefault")return;const o=this._folderRepositoryManager.findRepo(v=>ve(v.remote.owner,i)===0&&ve(v.remote.repositoryName,r)===0);if(!(a==="auto"&&((t=await(o==null?void 0:o.getMetadata()))!=null&&t.fork)))try{const v=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(v!=null&&v.name){const A=this._folderRepositoryManager.findRepo(H=>H.remote.remoteName===v.remote);if(A)return{branch:v.name,owner:A.remote.owner,repositoryName:A.remote.repositoryName}}}catch{return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(i=>i.remote)).map(i=>({iconPath:new s.ThemeIcon("repo"),label:`${i.owner}/${i.repositoryName}`,remote:{owner:i.owner,repositoryName:i.repositoryName}}))}async branchPicks(e,t,i){let r;i?r=await e.listBranches(e.remote.owner,e.remote.repositoryName):r=(await this._folderRepositoryManager.repository.getBranches({remote:!1})).filter(o=>o.name);const a=r.map(o=>{const v=typeof o=="string"?o:o.name;return{iconPath:new s.ThemeIcon("git-branch"),label:v,remote:{owner:e.remote.owner,repositoryName:e.remote.repositoryName},branch:v}});return a.unshift({kind:s.QuickPickItemKind.Separator,label:`${e.remote.owner}/${e.remote.repositoryName}`}),a.unshift({iconPath:new s.ThemeIcon("repo"),label:t}),a}async processRemoteAndBranchResult(e,t,i){const[r,a]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);lt.setContext(kt.CREATE_PR_PERMISSIONS,a);let o;if(i){const v=this.model.baseOwner!==t.remote.owner,A=v||this.model.baseBranch!==t.branch;this.model.baseOwner=t.remote.owner,this.model.baseBranch=t.branch;const H=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[Q,re,le]=await Promise.all([this.getMergeConfiguration(t.remote.owner,t.remote.repositoryName),this.getTitleAndDescription(H,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let pe=!1;if(Q.viewerCanAutoMerge){const Se=s.workspace.getConfiguration(Tt).get(Jt,"lastUsed"),Ae=this._folderRepositoryManager.context.workspaceState.get(Bd,void 0);pe=Se==="lastUsed"&&(Ae==null?void 0:Ae.autoMerge)||Se==="createAutoMerge"}o={baseRemote:t.remote,baseBranch:t.branch,defaultBaseBranch:r,defaultMergeMethod:Dl(Q.mergeMethodsAvailability),allowAutoMerge:Q.viewerCanAutoMerge,baseHasMergeQueue:!!le,mergeMethodsAvailability:Q.mergeMethodsAvailability,autoMergeDefault:pe,defaultTitle:re.title,defaultDescription:re.description},v&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),A&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(t.branch,!1),o={compareRemote:t.remote,compareBranch:t.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return o}async changeRemoteAndBranch(e,t){this.cancelGenerateTitleAndDescription();const i=s.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(Se=>{var Ae;return((Ae=e.args.currentRemote)==null?void 0:Ae.owner)===Se.remote.owner&&e.args.currentRemote.repositoryName===Se.remote.repositoryName});const a=s.l10n.t("Change Repository..."),o=s.l10n.t("Choose a remote"),v=t?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),A=t?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");i.placeholder=r?v:o,i.show(),i.busy=!0,i.items=r?await this.branchPicks(r,a,t):await this.remotePicks(t);const H=e.args.currentBranch?i.items.find(Se=>Se.branch===e.args.currentBranch):void 0;i.activeItems=H?[H]:[],i.busy=!1;const Q=new Promise(Se=>{i.onDidAccept(async()=>{if(i.selectedItems.length===0)return;const Ae=i.selectedItems[0];if(Ae.label===a)i.busy=!0,i.items=await this.remotePicks(t),i.busy=!1,i.placeholder=r?A:o;else if(Ae.branch===void 0&&Ae.remote){const Oe=Ae;i.busy=!0,r=this._folderRepositoryManager.findRepo(ue=>ue.remote.owner===Oe.remote.owner&&ue.remote.repositoryName===Oe.remote.repositoryName),i.items=await this.branchPicks(r,a,t),i.placeholder=v,i.busy=!1}else if(Ae.branch&&Ae.remote){const Oe=Ae;Se({remote:Oe.remote,branch:Oe.branch})}})}),re=new Promise(Se=>i.onDidHide(()=>Se())),le=await Promise.race([Q,re]);if(!le||!r){i.hide(),i.dispose();return}i.busy=!0;const pe=await this.processRemoteAndBranchResult(r,le,t);return i.hide(),i.dispose(),this._replyMessage(e,pe)}async findIssueContext(e){var t,i;const r=[];for(const a of e){const o=Hs(a.match(hs));if(o){const v=(t=o.owner)!=null?t:this.model.baseOwner,A=(i=o.name)!=null?i:this.model.repositoryName;r.push(new Promise(H=>{this._folderRepositoryManager.resolveIssue(v,A,o.issueNumber).then(Q=>{H(Q?{content:`${Q.title}
${Q.body}`,reference:yd(o)}:void 0)}).catch(()=>H(void 0))}))}}if(r.length)return(await Promise.all(r)).filter(a=>!!a)}async getCommitsAndPatches(){var e;let t,i;await this.model.getCompareHasUpstream()?[t,i]=await Promise.all([this.model.gitHubCommits().then(a=>a.map(o=>o.commit.message)),this.model.gitHubFiles().then(a=>a==null?void 0:a.map(o=>{if(!o.patch)return;const v=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.filename).toString(),A=o.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.previous_filename).toString():void 0;return{patch:o.patch,fileUri:v,previousFileUri:A}}))]):[t,i]=await Promise.all([this.model.gitCommits().then(a=>a.filter(o=>o.parents.length===1).map(o=>o.message)),Promise.all((await this.model.gitFiles()).map(async a=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,a.uri.fsPath),fileUri:a.uri.toString()})))]);const r=(e=i==null?void 0:i.filter(a=>!!a))!=null?e:[];return{commitMessages:t,patches:r}}async getTitleAndDescriptionFromProvider(e,t){return jn.withProgress(async()=>{try{const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await this.findIssueContext(i),o=this._folderRepositoryManager.getTitleAndDescriptionProvider(t),v=await(o==null?void 0:o.provider.provideTitleAndDescription({commitMessages:i,patches:r,issues:a},e));return o&&(this.lastGeneratedTitleAndDescription={...v,providerTitle:o.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:o==null?void 0:o.title})),v}catch(i){b.error(`Error while generating title and description: ${i}`,jn.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(r=>{var a;return(a=this.generatingCancellationToken)==null?void 0:a.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const i={title:void 0,description:void 0};return t!==!0&&(i.title=t==null?void 0:t.title,i.description=t==null?void 0:t.description),this._replyMessage(e,{title:i==null?void 0:i.title,description:i==null?void 0:i.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const t=this._folderRepositoryManager.getAutoReviewer();if(!t)return;const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await t.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:i,patches:r},e);return a&&a.succeeded&&a.files.length>0?Fl.ReviewedWithComments:Fl.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return jn.withProgress(async()=>{await lt.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(i=>{var r;return(r=this.reviewingCancellationToken)==null?void 0:r.token.onCancellationRequested(()=>i())})]);return this.reviewingCancellationToken=void 0,await lt.setContext("pr:preReviewing",!1),this._replyMessage(e,t)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,t,i){let r;const a=this._folderRepositoryManager.repository.state.remotes.find(o=>{if(!o.pushUrl)return!1;const v=new ps(o.name,o.pushUrl,new Qn(o.pushUrl),Ri.GitHubDotCom);return v.owner.toLowerCase()===e.toLowerCase()&&v.repositoryName.toLowerCase()===t.toLowerCase()?(r=v,!0):!1});if(a&&r){b.appendLine(`Found push remote ${a.name} for ${e}/${t} and branch ${i}`,jn.ID);const o=await this._folderRepositoryManager.publishBranch(r,i);return o?{compareUpstream:o,repo:this._folderRepositoryManager.findRepo(Zs(o.remoteName))}:void 0}}checkGeneratedTitleAndDescription(e,t){var i,r;if(!this.lastGeneratedTitleAndDescription)return;const a=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((i=this.lastGeneratedTitleAndDescription.title)==null?void 0:i.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),o=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===t||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(t))||(t==null?void 0:t.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:a.toString(),usedGeneratedDescription:o.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=s.l10n.t("Commit"),t=s.l10n.t("Delete my changes"),i=await s.window.showWarningMessage(s.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,t);if(i===e){const r=await s.window.showInputBox({prompt:s.l10n.t("Commit message for your changes")});if(r)return this.model.applyChanges(r)}else if(i!==t)return!1}return!0}async create(e){if(b.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,jn.ID),!await this.checkForChanges()){b.debug("Not continuing past checking for file changes.",jn.ID),await this._replyMessage(e,{});return}const t={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(Bd,t),jn.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async i=>{lt.setContext(kt.CREATING,!0);let r=0;i.report({message:s.l10n.t("Checking for upstream branch"),increment:r});let a;try{const o=e.args.compareOwner,v=e.args.compareRepo,A=e.args.compareBranch,H=`${o}/${v}`;let re=(await this._folderRepositoryManager.repository.getBranch(A)).upstream?this._folderRepositoryManager.findRepo(Se=>Se.remote.owner===o&&Se.remote.repositoryName===v):void 0,le=re==null?void 0:re.remote;if(!le||le.owner!==o||le.repositoryName!==v){const Se=s.l10n.t("Always Publish Branch"),Ae=s.l10n.t("Publish Branch"),ue=s.workspace.getConfiguration(Tt).get(yt)==="always"?Ae:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,o,v,A),{modal:!0},Ae,Se);if(ue===Se&&await s.workspace.getConfiguration(Tt).update(yt,"always",s.ConfigurationTarget.Global),ue===Se||ue===Ae){i.report({message:s.l10n.t("Pushing branch"),increment:10}),r+=10;const ye=await this.pushUpstream(o,v,A);ye?(le=ye.compareUpstream,re=ye.repo):this._throwError(e,s.l10n.t("The current repository does not have a push remote for {0}",H))}}if(!le){this._throwError(e,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",o,v)),i.report({message:s.l10n.t("Pull request cancelled"),increment:100-r});return}if(!re)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,le.remoteName));i.report({message:s.l10n.t("Creating pull request"),increment:70-r}),r+=70-r;const pe=`${re.remote.owner}:${A}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),a=await this._folderRepositoryManager.createPullRequest({...e.args,head:pe}),a?await this.postCreate(e,a):this._throwError(e,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(o){if(a)o.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",o.message));else{let v=o.message;v.startsWith("GraphQL error: ")&&(v=v.substring(15)),this._throwError(e,v)}}finally{lt.setContext(kt.CREATING,!1);let o;a?(this._onDone.fire(a),o=s.l10n.t("Pull request created")):(await this._replyMessage(e,{}),o=s.l10n.t("Unable to create pull request")),i.report({message:o,increment:100-r})}}))}async changeBranch(e,t){let i;if(t)this.model.baseBranch=e;else try{i=await this._folderRepositoryManager.repository.getBranch(e),await this.model.setCompareBranch(e)}catch{s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}return i=i!=null?i:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(i,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:s.window.showErrorMessage("Unsupported webview message")}}}class Mu extends ov{constructor(e,t,i,r,a,o){var v,A;super(e,t,i,r,a,(A=(v=r.repository.state.HEAD)==null?void 0:v.name)!=null?A:o.base.name),this.pullRequest=o}async getTitleAndDescription(){return{title:s.l10n.t('Revert "{0}"',this.pullRequest.title),description:s.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=s.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return Zo(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:s.window.showErrorMessage("Unsupported webview message")}}async create(e){let t;Mu.withProgress(async()=>{lt.setContext(kt.CREATING,!0);try{t=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),t&&(await this.postCreate(e,t),await Zo(this.telemetry,t,void 0,this._folderRepositoryManager,!0))}catch(i){if(t)i.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,t),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",i.message));else{let r=i.message;r.startsWith("GraphQL error: ")&&(r=r.substring(15)),this._throwError(e,r)}}finally{lt.setContext(kt.CREATING,!1),t?this._onDone.fire(t):await this._replyMessage(e,{})}})}}var nR=Object.defineProperty,rR=(n,e,t)=>e in n?nR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wn=(n,e,t)=>rR(n,typeof e!="symbol"?e+"":e,t);const uv=class Vc extends g{constructor(e,t,i,r,a,o){super(),this.folderRepositoryManager=e,this.repositoryName=o,Wn(this,"_baseOwner"),Wn(this,"_baseBranch"),Wn(this,"_compareOwner"),Wn(this,"_compareBranch"),Wn(this,"_constructed"),Wn(this,"_onDidChange",new s.EventEmitter),Wn(this,"onDidChange",this._onDidChange.event),Wn(this,"_compareGitHubRepository"),Wn(this,"_gitLog"),Wn(this,"_gitFiles"),Wn(this,"_compareHasUpstream",!1),Wn(this,"_gitHubMergeBase"),Wn(this,"_gitHubLog"),Wn(this,"_gitHubFiles"),Wn(this,"_gitHubcontentProvider"),Wn(this,"_gitcontentProvider"),this._baseOwner=t,this._baseBranch=i,this._compareBranch=i,this._gitcontentProvider=new Yb(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(v=>v.remote.owner===r&&v.remote.repositoryName===o),this._gitHubcontentProvider=new Wh(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(v=>this.setCompareBranch(a).then(v)),this.compareOwner=r,this._register(e.repository.state.onDidChange(()=>{var v;((v=e.repository.state.HEAD)==null?void 0:v.name)===this._compareBranch&&this.update({})}))}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var e,t;const i=`/${this._baseOwner.toLowerCase()}/`;return(t=(e=this.folderRepositoryManager.repository.state.remotes.find(r=>{var a;return(a=r.fetchUrl)==null?void 0:a.toLowerCase().includes(i)}))==null?void 0:e.name)!=null?t:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(e=>e.hasChanges())}async applyChanges(e){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(e,this._compareBranch):this.gitContentProvider.applyChanges(e)}get compareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let i=!1;e&&(i=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(i=!0,e&&(this._compareBranch=e)),i&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(e){const t=await this.folderRepositoryManager.repository.getBranch(e);return this._compareHasUpstream=!!t.upstream,this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(e){var t;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(e)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const e=this._baseBranch,t=this._compareBranch,i=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(e!==this._baseBranch||t!==this._compareBranch)return i;this._gitLog=i}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const e=this._baseBranch,t=this._compareBranch,i=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(e!==this._baseBranch||t!==this._compareBranch)return b.debug(`Branches have changed while getting git diff. Base: ${e} -> ${this._baseBranch}, Compare: ${t} -> ${this._compareBranch}`,Vc.ID),i;b.debug(`Got ${i.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,Vc.ID),this._gitFiles=i}return this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:i}=await this._compareGitHubRepository.ensure(),{data:r}=await t.call(t.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=r.commits,this._gitHubFiles=(e=r.files)!=null?e:[],this._gitHubMergeBase=r.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};Wn(uv,"ID","CreatePullRequestDataModel");let aR=uv;var sR=Object.defineProperty,oR=(n,e,t)=>e in n?sR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cl=(n,e,t)=>oR(n,typeof e!="symbol"?e+"":e,t);class lR extends g{constructor(){super(),cl(this,"_currentDisposables",[]),cl(this,"_createPRViewProvider"),cl(this,"_treeView"),cl(this,"_postCreateCallback"),cl(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await lt.setContext(this._activeContext,e)}registerListeners(e,t){m(this._createPRViewProvider.onDone(async i=>{await jn.withProgress(async()=>{var r;return(r=this._postCreateCallback)==null?void 0:r.call(this,i)}),this.dispose()}),this._currentDisposables),m(s.commands.registerCommand("pr.addAssigneesToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addAssignees()}),this._currentDisposables),m(s.commands.registerCommand("pr.addReviewersToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addReviewers()}),this._currentDisposables),m(s.commands.registerCommand("pr.addLabelsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addLabels()}),this._currentDisposables),m(s.commands.registerCommand("pr.addMilestoneToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addMilestone()}),this._currentDisposables),m(s.commands.registerCommand("pr.addProjectsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addProjects()}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuCreate",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!1,void 0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuDraft",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!0,!1,void 0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,void 0,!0)}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuMerge",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"merge")}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuSquash",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"squash")}),this._currentDisposables),m(s.commands.registerCommand("pr.createPrMenuRebase",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"rebase")}),this._currentDisposables),m(s.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof jn&&this._createPRViewProvider.review()}),this._currentDisposables),t&&m(e.state.onDidChange(i=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof jn&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}),this._currentDisposables)}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(i=>i.remote.owner===t.owner&&i.remote.repositoryName===t.repo))return t;{const i=await e.getOrigin(),r=await e.getMetadata(i.remote.remoteName);return{owner:r.owner.login,repo:r.name,base:r.default_branch}}}async revert(e,t,i,r,a){var o;const v=!this._createPRViewProvider||!(this._createPRViewProvider instanceof Mu);if(v&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),v){(o=this._createPRViewProvider)==null||o.dispose();const A={baseOwner:r.remote.owner,repositoryName:r.remote.repositoryName};this._createPRViewProvider=m(new Mu(e,A,t,i,{base:r.base.name,owner:r.remote.owner,repo:r.remote.repositoryName},r),this._currentDisposables),this.registerListeners(i.repository,!1),m(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}this._createPRViewProvider.show()}async create(e,t,i,r,a){var o,v,A,H;const Q=!this._createPRViewProvider||!(this._createPRViewProvider instanceof jn);Q&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const re=((v=r?await i.repository.getBranch(r):void 0)!=null?v:(o=i.repository.state.HEAD)!=null&&o.name)?i.repository.state.HEAD:void 0;let le;if(Q){(A=this._createPRViewProvider)==null||A.dispose();const pe=await this.ensureDefaultsAreLocal(i,await i.getPullRequestDefaults(re)),Se=await i.getOrigin(re),Ae=m(new aR(i,pe.owner,pe.base,Se.remote.owner,(H=re==null?void 0:re.name)!=null?H:pe.base,Se.remote.repositoryName),this._currentDisposables);le=this._createPRViewProvider=new jn(e,Ae,t,i,pe),this._treeView=m(new av(i,Ae),this._currentDisposables),this.registerListeners(i.repository,!r),m(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}else le=this._createPRViewProvider;le.show(re)}reset(){this.setActiveContext(!1),k(this._currentDisposables),this._createPRViewProvider=void 0,this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0}dispose(){this.reset(),super.dispose()}}class uR extends iv{constructor(){super()}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeFileViewedState(i=>{i.changed.forEach(r=>{this._handlePullRequestPropertyChange(e,t,{path:r.fileName})})})}provideFileDecoration(e,t){if(!e.query)return;const i=Ch(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status),color:this.color(i.status),tooltip:this.tooltip(i)};const r=fn(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)}}gitColors(e){switch(e){case Ht.MODIFY:return"gitDecoration.modifiedResourceForeground";case Ht.ADD:return"gitDecoration.addedResourceForeground";case Ht.DELETE:return"gitDecoration.deletedResourceForeground";case Ht.RENAME:return"gitDecoration.renamedResourceForeground";case Ht.UNKNOWN:return;case Ht.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case Ht.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case Ht.ADD:return"remoteHub.decorations.addedForegroundColor";case Ht.DELETE:return"remoteHub.decorations.deletedForegroundColor";case Ht.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case Ht.UNKNOWN:return;case Ht.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case Ht.MODIFY:return"M";case Ht.ADD:return"A";case Ht.DELETE:return"D";case Ht.RENAME:return"R";case Ht.UNKNOWN:return"U";case Ht.UNMERGED:return"C"}return""}tooltip(e){if(e.status===Ht.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${L.basename(e.fileName)}`}}var Au;(n=>{function e(t,i){const r=i.some(v=>t.items.some(A=>A[0]===v)),a=[],o=[];if(t.items.forEach(v=>{const A=v[0],H=v[1];A instanceof bs&&(H==s.TreeItemCheckboxState.Checked?a.push(A):o.push(A)),A.updateFromCheckboxChanged(H)}),r)for(const v of i)v instanceof bs&&!a.includes(v)&&!o.includes(v)&&(v.checkboxState.state===s.TreeItemCheckboxState.Unchecked?a.push(v):o.push(v));if(a.length>0){const v=a[0].pullRequest,A=a.map(H=>H.fileName);v.markFiles(A,!0,"viewed")}if(o.length>0){const v=o[0].pullRequest,A=o.map(H=>H.fileName);v.markFiles(A,!0,"unviewed")}}n.processCheckboxUpdates=e})(Au||(Au={}));var dR=Object.defineProperty,cR=(n,e,t)=>e in n?dR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fl=(n,e,t)=>cR(n,typeof e!="symbol"?e+"":e,t);class dv extends g{constructor(e,t){super(),this._git=e,this._reposManager=t,fl(this,"_onDidChangeTreeData",new s.EventEmitter),fl(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),fl(this,"_pullRequestManagerMap",new Map),fl(this,"_view"),fl(this,"_children"),this._view=this._register(s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0,canSelectMany:!0})),this._register(s.workspace.onDidChangeConfiguration(async i=>{if(i.affectsConfiguration(`${Tt}.${Ie}`)){this._onDidChangeTreeData.fire();const r=s.workspace.getConfiguration(Tt).get(Ie);await s.commands.executeCommand("setContext","fileListLayout:flat",r==="flat")}else i.affectsConfiguration(`${ir}.${zn}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(i=>Au.processCheckboxUpdates(i,this._view.selection)))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,i,r,a){if(b.appendLine(`Adding PR #${t.number} to tree`,D),this._pullRequestManagerMap.has(e)){const v=this._pullRequestManagerMap.get(e);if(v&&v.pullRequestModel===t){b.appendLine(`PR #${t.number} already exists in tree`,D);return}else v==null||v.dispose()}const o=new oa(this,t,e,i,a);this._pullRequestManagerMap.set(e,o),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),r&&this.reveal(o)}async setReviewModeContexts(){await lt.setContext(kt.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(i=>{const r=this._reposManager.getManagerForFile(i.rootUri);r&&!this._pullRequestManagerMap.has(r)?e.push(i.rootUri):r&&t.push(i.rootUri)}),await lt.setContext(kt.REPOS_NOT_IN_REVIEW_MODE,e),await lt.setContext(kt.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&b.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,D),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(i){b.error(i,D)}}get children(){return this._children}sortMap(){const e=s.workspace.workspaceFolders,t=(i,r)=>{const a=i.fsPath.toLowerCase(),o=r.fsPath.toLowerCase();return Z(a,o)||Z(o,a)};return Array.from(this._pullRequestManagerMap.entries()).sort((i,r)=>{if(i[0].repository.rootUri.toString()===r[0].repository.rootUri.toString()||!e)return 0;const a=e.findIndex(v=>t(v.uri,i[0].repository.rootUri)),o=e.findIndex(v=>t(v.uri,r[0].repository.rootUri));return a===-1?1:o===-1?-1:a-o}).map(([i,r])=>r)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const t=this.sortMap();for(const i of t)this._children.push(i)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof Ys&&await t.resolve(),t}}var fR=Object.defineProperty,hR=(n,e,t)=>e in n?fR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cv=(n,e,t)=>hR(n,typeof e!="symbol"?e+"":e,t);class mR extends g{constructor(e){super(),this._notificationProvider=e,cv(this,"_onDidChangeFileDecorations",new s.EventEmitter),cv(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._notificationProvider.onDidChangeNotifications(t=>this._onDidChangeFileDecorations.fire(t)))}provideFileDecoration(e,t){if(!e.query)return;const i=Eh(e);if(i&&this._notificationProvider.hasNotification(i.prIdentifier))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}}var pR=Object.defineProperty,vR=(n,e,t)=>e in n?pR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tr=(n,e,t)=>vR(n,typeof e!="symbol"?e+"":e,t);const fv=60;class gR{constructor(e,t,i,r,a){tr(this,"identifier"),tr(this,"threadId"),tr(this,"repositoryName"),tr(this,"pullRequestNumber"),tr(this,"pullRequestModel"),this.identifier=e,this.threadId=t,this.repositoryName=i,this.pullRequestNumber=r,this.pullRequestModel=a}}const hv=class za extends g{constructor(e,t,i){super(),tr(this,"_gitHubPrsTree"),tr(this,"_credentialStore"),tr(this,"_authProvider"),tr(this,"_notifications"),tr(this,"_reposManager"),tr(this,"_pollingDuration"),tr(this,"_lastModified"),tr(this,"_pollingHandler"),tr(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),tr(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),this._gitHubPrsTree=e,this._credentialStore=t,this._reposManager=i,this._notifications=new Map,this._lastModified="",this._pollingDuration=fv,this._pollingHandler=null,this.registerAuthProvider(t);for(const r of this._reposManager.folderManagers)this._register(r.onDidChangeGithubRepositories(()=>{this.refreshOrLaunchPolling()}));this._register(e.onDidChangeTreeData(r=>{za.isPRNotificationsOn()&&this.adaptPRNotifications(r)})),this._register(e.onDidChange(()=>{za.isPRNotificationsOn()&&this.adaptPRNotifications()})),this._register(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Tt}.${At}`)&&this.checkNotificationSetting()}))}static isPRNotificationsOn(){return s.workspace.getConfiguration(Tt).get(At)==="pullRequests"}registerAuthProvider(e){e.isAuthenticated(ui.githubEnterprise)&&Tr()?this._authProvider=ui.githubEnterprise:e.isAuthenticated(ui.github)&&(this._authProvider=ui.github),this._register(s.authentication.onDidChangeSessions(t=>{e.isAuthenticated(ui.githubEnterprise)&&Tr()&&(this._authProvider=ui.githubEnterprise),e.isAuthenticated(ui.github)&&(this._authProvider=ui.github)}))}getPrIdentifier(e){if(e instanceof Nn)return`${e.remote.url}:${e.number}`;const t=e.subject.url.split("/"),i=t[t.length-1];return`${e.repository.html_url}.git:${i}`}hasNotification(e){const t=e instanceof Nn?this.getPrIdentifier(e):e,i=this._notifications.get(t);return i!==void 0&&i.length>0}updateViewBadge(){const e=this._gitHubPrsTree.view,t=s.l10n.t("1 notification"),i=s.l10n.t("{0} notifications",this._notifications.size);e.badge=this._notifications.size!==0?{tooltip:this._notifications.size===1?t:i,value:this._notifications.size}:void 0}adaptPRNotifications(e){if(this._pollingHandler===void 0&&this.startPolling(),e instanceof Zn){const t=this._notifications.get(this.getPrIdentifier(e.pullRequestModel));if(t){for(const i of t)if(i){i.pullRequestModel=e.pullRequestModel;return}}}this._gitHubPrsTree.cachedChildren().then(async t=>{let i=[];for(const r of t)if(r.id==="All Open")if(r.prs.size===0)for(const a of await r.cachedChildren())a instanceof Zn&&i.push(a.pullRequestModel);else i=Array.from(r.prs.values());i.forEach(r=>{const a=this._notifications.get(this.getPrIdentifier(r));if(a)for(const o of a)o.pullRequestModel=r})})}refreshOrLaunchPolling(){this._lastModified="",this.checkNotificationSetting()}checkNotificationSetting(){const e=za.isPRNotificationsOn();e&&this._pollingHandler===null?this.startPolling():!e&&this._pollingHandler!==null&&(clearInterval(this._pollingHandler),this._lastModified="",this._pollingHandler=null,this._pollingDuration=fv,this._onDidChangeNotifications.fire(this.uriFromNotifications()),this._notifications.clear(),this.updateViewBadge())}uriFromNotifications(){const e=[];for(const[t,i]of this._notifications.entries())i.length&&e.push(Md(t));return e}getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async getNotifications(){const e=this.getGitHub();if(e===void 0)return;const{data:t,headers:i}=await e.octokit.call(e.octokit.api.activity.listNotificationsForAuthenticatedUser,{});return{data:t,headers:i}}async markNotificationThreadAsRead(e){const t=this.getGitHub();t&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:e})}async markPrNotificationsAsRead(e){const t=this.getPrIdentifier(e),i=this._notifications.get(t);if(i&&i.length){for(const a of i)await this.markNotificationThreadAsRead(a.threadId);const r=this.uriFromNotifications();this._onDidChangeNotifications.fire(r),this._notifications.delete(t),this.updateViewBadge()}}async pollForNewNotifications(){var e;const t=await this.getNotifications();if(t===void 0)return;const{data:i,headers:r}=t,a=Number(r["x-poll-interval"]);if(a!==this._pollingDuration&&(this._pollingDuration=a,this._pollingHandler&&za.isPRNotificationsOn()&&(b.appendLine("Notifications: Clearing interval",za.ID),clearInterval(this._pollingHandler),b.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`,za.ID),this.startPolling())),this._lastModified===r["last-modified"])return;this._lastModified=(e=r["last-modified"])!=null?e:"";const o=this.uriFromNotifications();this._notifications.clear();const v=new Map;this._reposManager.folderManagers.forEach(A=>{A.gitHubRepositories.forEach(H=>{v.set(H.remote.url,H)})}),await Promise.all(i.map(async A=>{var H;const Q=`${A.repository.html_url}.git`,re=v.get(Q);if(re&&A.subject.type==="PullRequest"){const le=A.subject.url.split("/"),pe=Number(le[le.length-1]),Se=this.getPrIdentifier(A),{remote:Ae,query:Oe,schema:ue}=await re.ensure(),{data:ye}=await Oe({query:ue.PullRequestState,variables:{owner:Ae.owner,name:Ae.repositoryName,number:pe}});if(ye.repository===null&&b.error("Unexpected null repository when getting notifications",za.ID),((H=ye.repository)==null?void 0:H.pullRequest.state)==="OPEN"){const Ee=new gR(Se,Number(A.id),A.repository.name,Number(pe)),De=this._notifications.get(Se);De===void 0?this._notifications.set(Se,[Ee]):De.push(Ee)}}})),this.adaptPRNotifications(),this.updateViewBadge();for(const A of this.uriFromNotifications())o.find(H=>H.fsPath===A.fsPath)===void 0&&o.push(A);this._onDidChangeNotifications.fire(o)}startPolling(){this.pollForNewNotifications(),this._pollingHandler=setInterval(function(e){e.pollForNewNotifications()},this._pollingDuration*1e3,this),this._register({dispose:()=>clearInterval(this._pollingHandler)})}};tr(hv,"ID","NotificationProvider");let bR=hv;var yR=Object.defineProperty,wR=(n,e,t)=>e in n?yR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mv=(n,e,t)=>wR(n,typeof e!="symbol"?e+"":e,t);class kR extends g{constructor(e){super(),this._prsTreeModel=e,mv(this,"_onDidChangeFileDecorations",new s.EventEmitter),mv(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._prsTreeModel.onDidChangePrStatus(t=>{this._onDidChangeFileDecorations.fire(t.map(i=>Md(i)))}))}provideFileDecoration(e,t){if(e.scheme!==Vt.PRNode)return;const i=Eh(e);if(!i)return;const r=this._prsTreeModel.cachedPRStatus(i.prIdentifier);if(r)return yp(r.status)}}var _R=Object.defineProperty,SR=(n,e,t)=>e in n?_R(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qr=(n,e,t)=>SR(n,typeof e!="symbol"?e+"":e,t);const pv="expandedQueries";class RR extends g{constructor(e,t,i){super(),this._telemetry=e,this._reposManager=t,this._context=i,qr(this,"_activePRDisposables",new Map),qr(this,"_onDidChangePrStatus",this._register(new s.EventEmitter)),qr(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),qr(this,"_onDidChangeData",this._register(new s.EventEmitter)),qr(this,"onDidChangeData",this._onDidChangeData.event),qr(this,"_expandedQueries",new Set),qr(this,"_hasLoaded",!1),qr(this,"_onLoaded",this._register(new s.EventEmitter)),qr(this,"onLoaded",this._onLoaded.event),qr(this,"_queriedPullRequests",new Map),qr(this,"_cachedPRs",new Map);const r=a=>{this._register(a.onDidChangeActivePullRequest(()=>{this.clearRepo(a),this._activePRDisposables.has(a)&&(k(this._activePRDisposables.get(a)),this._activePRDisposables.delete(a)),a.activePullRequest&&this._activePRDisposables.set(a,[a.activePullRequest.onDidChangeComments(()=>{this.clearRepo(a)})])}))};for(const a of this._reposManager.folderManagers)r(a);this._register(this._reposManager.onDidChangeFolderRepositories(a=>{a.added&&(r(a.added),this._onDidChangeData.fire(a.added))})),this._expandedQueries=new Set(this._context.workspaceState.get(pv,[]))}updateExpandedQueries(e,t){e instanceof Nu&&e.id&&(t?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(pv,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}clearCache(){this._cachedPRs.clear(),this._onDidChangeData.fire()}clearRepo(e){this._cachedPRs.delete(e),this._onDidChangeData.fire(e)}async _getChecks(e){let t=[];for(let r=0;r<e.length;r+=100){const a=r+100<e.length?r+100:e.length;t.push(...await Promise.all(e.slice(r,a).map(o=>o.getStatusChecks())))}const i=[];for(let r=0;r<e.length;r++){const a=e[r],[o,v]=t[r];let A=ar.None;if(v&&(v.state===Wi.Failure?A|=ar.ReviewRequired:v.state==Wi.Pending&&(A|=ar.ChangesRequested)),!o||o.state===Wi.Unknown)continue;if(o.state!==Wi.Success){for(const re of o.statuses)re.state===Wi.Failure?A|=ar.CIFailed:re.state===Wi.Pending&&(A|=ar.CIPending);A===ar.None&&(A|=ar.CIPending)}const H=Pd(a),Q=this._queriedPullRequests.get(H);if(Q===void 0||Q.status!==A){const re={pullRequest:a,status:A};i.push(H),this._queriedPullRequests.set(H,re)}}this._onDidChangePrStatus.fire(i)}getFolderCache(e){let t=this._cachedPRs.get(e);return t||(t=new Map,this._cachedPRs.set(e,t)),t}async getLocalPullRequests(e,t){const i=this.getFolderCache(e);if(!t&&i.has(We.LocalPullRequest))return i.get(We.LocalPullRequest);const r=Xa(),a=(await e.getLocalPullRequests()).filter(o=>o.isOpen||o.isClosed&&r.closed||o.isMerged&&r.merged);return i.set(We.LocalPullRequest,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a,totalCount:a.length}),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(a),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a}}async getPullRequestsForQuery(e,t,i){const r=this.getFolderCache(e);if(!t&&r.has(i))return r.get(i);const a=await e.getPullRequests(We.Query,{fetchNextPage:t},i);return r.set(i,a),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(a.items),this.hasLoaded=!0,a}async getAllPullRequests(e,t,i){const r=this.getFolderCache(e);if(!i&&r.has(We.All)&&!t)return r.get(We.All);const a=await e.getPullRequests(We.All,{fetchNextPage:t});return r.set(We.All,a),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(a.items),this.hasLoaded=!0,a}dispose(){super.dispose(),k(Array.from(this._activePRDisposables.values()).flat())}}var ER=Object.defineProperty,NR=(n,e,t)=>e in n?ER(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Uc=(n,e,t)=>NR(n,typeof e!="symbol"?e+"":e,t);class Ss extends Fn{constructor(e,t,i,r,a,o,v){super(e),this.folderManager=i,this.telemetry=r,this.notificationProvider=a,this.context=o,this._prsTreeModel=v,Uc(this,"children"),Uc(this,"collapsibleState"),Uc(this,"iconPath"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=L.basename(t.fsPath),this.id=i.repository.rootUri.toString()}async expandPullRequest(e){if(this.children){for(const t of this.children)if(t.type===We.All)return t.expandPullRequest(e)}return!1}static async getQueries(e){var t,i;const r=s.workspace.getConfiguration(Tt,e.repository.rootUri),a=(t=r.get(st))!=null?t:[],o=(i=r.inspect(st))==null?void 0:i.defaultValue;if(a.toString()===(o==null?void 0:o.toString())){const v=await e.getAssignableUsers(!1);e.gitHubRepositories.some(H=>{var Q;return(Q=v[H.remote.remoteName])==null?void 0:Q.some(re=>pn[re.login])})&&a.unshift({label:s.l10n.t("Copilot on My Behalf"),query:"repo:${owner}/${repository} is:open author:copilot involves:${user}"})}return a}getTreeItem(){return this}async getChildren(){return super.getChildren(),this.children=await Ss.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel),this.children}static async getCategoryTreeNodes(e,t,i,r,a,o){return(await Ss.getQueries(e)).map(A=>Xp(A)?new Nu(i,e,t,We.LocalPullRequest,r,o):Jp(A)?new Nu(i,e,t,We.All,r,o):new Nu(i,e,t,We.Query,r,o,A.label,A.query))}}var TR=Object.defineProperty,CR=(n,e,t)=>e in n?TR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ja=(n,e,t)=>CR(n,typeof e!="symbol"?e+"":e,t);class vv extends g{constructor(e,t,i){super(),this._telemetry=e,this._context=t,this._reposManager=i,ja(this,"_onDidChangeTreeData",new s.EventEmitter),ja(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),ja(this,"_onDidChange",new s.EventEmitter),ja(this,"_children"),ja(this,"_view"),ja(this,"_initialized",!1),ja(this,"notificationProvider"),ja(this,"prsTreeModel"),this.prsTreeModel=this._register(new RR(this._telemetry,this._reposManager,t)),this._register(this.prsTreeModel.onDidChangeData(r=>r?this.refreshRepo(r):this.refresh())),this._register(new kR(this.prsTreeModel)),this._register(s.commands.registerCommand("pr.refreshList",r=>{this.refresh(void 0,!0)})),this._register(s.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=this._register(s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0})),this._children=[],this._register(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries...","Configure All Pull Request Settings..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${vt} pull request queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${vt} remotes`);case"Configure All Pull Request Settings...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${vt} pull request`);default:return}})),this._register(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Tt}.${Ie}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(r=>Au.processCheckboxUpdates(r,[]))),this._register(this._view.onDidExpandElement(r=>{this.prsTreeModel.updateExpandedQueries(r.element,!0)})),this._register(this._view.onDidCollapseElement(r=>{this.prsTreeModel.updateExpandedQueries(r.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof Ss){if(await t.expandPullRequest(e))return}else if(t.type===We.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}initialize(e,t){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._register(this._reposManager.onDidChangeState(()=>{this.refresh()}));for(const i of e)this._register(i.onDidChangeLocalFileChanges(r=>{this.refresh()}));this.notificationProvider=this._register(new bR(this,t,this._reposManager)),this.initializeCategories(),this.refresh()}async initializeCategories(){this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${Tt}.${st}`)&&this.refresh()}))}refresh(e,t){return t&&this.prsTreeModel.clearCache(),e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}refreshRepo(e){if(this._children.length===0)return this.refresh();if(this._children[0]instanceof Ss){const i=this._children.find(r=>r.folderManager===e);if(i){this._onDidChangeTreeData.fire(i);return}}}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){var i;return t instanceof Od?(await t.resolve(),e=t.getTreeItem()):t instanceof Zn&&(e.tooltip=await bu(t.pullRequestModel,this._context,this._reposManager,void 0,(i=this.prsTreeModel.cachedPRStatus(Pd(t.pullRequestModel)))==null?void 0:i.status)),e}async needsRemotes(){var e,t,i;if(((e=this._reposManager)==null?void 0:e.state)===aa.NeedsAuthentication)return[];const r=s.workspace.getConfiguration(Tt).get(Ti);let a;r?a=[new Va(this,fo.NoMatchingRemotes),new Va(this,fo.ConfigureRemotes)]:a=[new Va(this,fo.NoRemotes)];const{enterpriseRemotes:o}=this._reposManager?await ch((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return o.length>0&&!((i=this._reposManager)!=null&&i.credentialStore.isAuthenticated(ui.githubEnterprise))&&a.push(new Va(this,fo.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)!=null&&t.folderManagers.length))return[];if(this._reposManager.state===aa.Initializing)return lt.setContext(kt.LOADING_PRS_TREE,!0),[];const i=await Promise.all(this._reposManager.folderManagers.map(a=>a.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((a,o)=>i[o].length>0).length===0)return this.needsRemotes();const r=this._reposManager.folderManagers.filter(a=>a.gitHubRepositories.length>0);if(!e){this._children&&this._children.length&&this._children.forEach(o=>o.dispose());let a;return r.length===1?a=await Ss.getCategoryTreeNodes(r[0],this._telemetry,this,this.notificationProvider,this._context,this.prsTreeModel):a=r.map(o=>new Ss(this,o.repository.rootUri,o,this._telemetry,this.notificationProvider,this._context,this.prsTreeModel)),this._children=a,a}return r.filter(a=>a.repository.state.remotes.length>0).length===0?Promise.resolve([new Va(this,fo.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}}var PR=Object.defineProperty,MR=(n,e,t)=>e in n?PR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gv=(n,e,t)=>MR(n,typeof e!="symbol"?e+"":e,t);const bv=class hl extends Jh{constructor(e,t,i){super(e,t),this.getReviewManagers=i,gv(this,"_fallback")}getChangeModelForFileAndFilesArray(e,t){for(const i of this.getReviewManagers()){const r=t(i);for(const a of r)if(a.changeModel.filePath.authority===e.authority&&a.changeModel.filePath.path===e.path)return a.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),gd(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:i,commit:r,rootPath:a}=Ur(e.query);if(!i||!r)return new TextEncoder().encode("");const o=await this.getRepositoryForFile(s.Uri.file(a));if(!o)return s.window.showErrorMessage(`We couldn't find an open repository for ${r} locally.`),new TextEncoder().encode("");const v=L.join(o.rootUri.fsPath,i).replace(/\\/g,"/");let A;try{if(b.appendLine(`Getting change model (${o.rootUri}) content for commit ${r} and path ${v}`,hl.ID),A=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),A||(b.appendLine(`Getting repository (${o.rootUri}) content for commit ${r} and path ${v}`,hl.ID),A=await o.show(r,v)),!A)throw new Error}catch{if(b.appendLine("Using fallback content provider.",hl.ID),A=await this._fallback(e),!A)try{await o.getCommit(r)}catch(Q){b.error(Q,hl.ID),this.getOutdatedChangeModelForFile(e)||s.window.showErrorMessage(`We couldn't find commit ${r} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return new TextEncoder().encode(A||"")}registerTextDocumentContentFallback(e){this._fallback=e}};gv(bv,"ID","GitContentFileSystemProvider");let AR=bv;var IR=Object.defineProperty,FR=(n,e,t)=>e in n?IR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,DR=(n,e,t)=>FR(n,typeof e!="symbol"?e+"":e,t);class yv extends g{constructor(e,t,i,r,a,o,v,A){super(),this._context=e,this._reposManager=t,this._reviewManagers=i,this._prsTreeDataProvider=r,this._prFileChangesProvider=a,this._telemetry=o,this._credentialStore=v,this._gitApi=A;const H=new AR(A,v,()=>this._reviewManagers);H.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._register(s.workspace.registerFileSystemProvider(Vt.Review,H,{isReadonly:!0})),this.registerListeners(),this._register(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._register(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new dv(this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=this._register(new vv(this._telemetry,this._context,this._reposManager)),this._prsTreeDataProvider.initialize(this._reviewManagers.map(t=>t.reviewModel),this._credentialStore)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(Z(t.repository.rootUri.fsPath,e.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>r.uri.toString()===e.repository.rootUri.toString());if(i>-1){const r=this._reviewManagers.slice(i,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,i),this._reviewManagers.push(e),this._reviewManagers.push(...r);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>=0){const i=this._reviewManagers[t];this._reviewManagers.splice(t),i.dispose()}}}DR(yv,"ID","Reviews");var xR=Object.defineProperty,OR=(n,e,t)=>e in n?xR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Iu=(n,e,t)=>OR(n,typeof e!="symbol"?e+"":e,t);class LR extends Sf{constructor(e,t,i,r){super(e),this._folderRepositoryManager=t,this._reviewManager=i,this._item=r,Iu(this,"viewType","github:activePullRequest"),Iu(this,"_existingReviewers",[]),Iu(this,"_prDisposables"),Iu(this,"_updatePendingVisibility"),this._register(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:bt.Merged})})),this._register(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._register(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._register(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._register(s.commands.registerCommand("review.approveOnDotCom",()=>ua(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotCom",()=>ua(this._item,this._item._telemetry)))}resolveWebviewView(e,t,i){super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=qt.Unknown,r=5;do i=(await this._item.getMergeability()).mergeability,r--,await new Promise(o=>setTimeout(o,1e3));while(r>0&&i===qt.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refresh(),this._replyMessage(e,a)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return ua(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){var t;try{const i=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item),r=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(i),r&&await this._folderRepositoryManager.cleanupAfterPullRequest(r,this._item)}finally{this._replyMessage(e,{})}}reRequestReview(e){let t;const i=[],r=[];for(const a of this._existingReviewers){let o=a.reviewer.id;o&&(a.state==="REQUESTED"||o===e.args)&&o===e.args&&(t=a)}t&&ri(t.reviewer)?r.push(t.reviewer):t&&!ri(t.reviewer)&&i.push(t.reviewer),this._item.requestReview(i,r,!0).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async refresh(){return s.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,t){const i=e.find(r=>ln(r.reviewer)===t.login);return i==null?void 0:i.state}registerPrSpecificListeners(e){this._prDisposables!==void 0&&k(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidInvalidate(()=>this.updatePullRequest(e))),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;return this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var i;this.updatePullRequest(e),(i=this._updatePendingVisibility)==null||i.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e,Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode()]).then(i=>{var r,a;const[o,v,A,H,Q,re,le,pe,Se]=i;if(!o)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=o,!this._view)return;try{this._view.title=`${s.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch{}const Ae=e.equals(this._folderRepositoryManager.activePullRequest),Oe=v.hasWritePermission,ue=v.mergeMethodsAvailability,ye=Oe||pe,Ee=Dl(ue);this._existingReviewers=oh(H!=null?H:[],A!=null?A:[],o.author);const Ue=!!(o.base&&o.head&&!o.base.repositoryCloneUrl.equals(o.head.repositoryCloneUrl)&&Vl()),Qe=this.getCurrentUserReviewState(this._existingReviewers,le),Ye={number:o.number,title:o.title,url:o.html_url,createdAt:o.createdAt,body:o.body,bodyHTML:o.bodyHTML,labels:o.item.labels,author:{login:o.author.login,name:o.author.name,avatarUrl:o.userAvatar,url:o.author.url,email:o.author.email,id:o.author.id,accountType:o.author.accountType},state:o.state,isCurrentlyCheckedOut:Ae,isRemoteBaseDeleted:o.isRemoteBaseDeleted,base:o.base.label,isRemoteHeadDeleted:o.isRemoteHeadDeleted,isLocalHeadDeleted:!Q,head:(a=(r=o.head)==null?void 0:r.label)!=null?a:"",canEdit:ye,hasWritePermission:Oe,mergeable:o.item.mergeable,isDraft:o.isDraft,status:null,reviewRequirement:null,canUpdateBranch:o.item.viewerCanUpdate,events:A,mergeMethodsAvailability:ue,defaultMergeMethod:Ee,repositoryDefaultBranch:re,isIssue:!1,isAuthor:le.login===o.author.login,reviewers:this._existingReviewers,continueOnGitHub:Ue,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:o.githubRepository.remote.isEnterprise,hasReviewDraft:Se,currentUserReviewState:Qe};this._postMessage({command:"pr.initialize",pullrequest:Ye})}).catch(i=>{s.window.showErrorMessage(`Error updating active pull request view: ${he(i)}`)})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===ln(i.reviewer));t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const r={command:"pr.submitting-review",lastReviewType:t};this._postMessage(r);try{const a=await i(e.body);this.updateReviewers(a);const o={command:"pr.append-review",event:a,reviewers:this._existingReviewers};await this._postMessage(o)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(a))),this._throwError(void 0,`${he(a)}`),this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i);const r={event:i,reviewers:this._existingReviewers};this._replyMessage(e,r)}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",he(i))),this._throwError(e,`${he(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,cs.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,cs.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(St.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,cs.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await Il.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}setReadyForReview(e){this._item.setReadyForReview().then(t=>{s.commands.executeCommand("pr.refreshList"),this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(s.l10n.t("Unable to set PR ready for review. {0}",he(t))),this._throwError(e,{})})}async mergePullRequest(e){const{title:t,description:i,method:r}=e.args,a=await this._folderRepositoryManager.getPreferredEmail(this._item),o=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},o)!==o){this._replyMessage(e,{state:bt.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,t,i,r,a).then(A=>{var H;s.commands.executeCommand("pr.refreshList"),A.merged||s.window.showErrorMessage(s.l10n.t("Merging PR failed: {0}",(H=A==null?void 0:A.message)!=null?H:"")),this._replyMessage(e,{state:A.merged?bt.Merged:bt.Open})}).catch(A=>{s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",he(A))),this._throwError(e,{})})}_getHtmlForWebview(){const e=ud(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}}var UR=Object.defineProperty,BR=(n,e,t)=>e in n?UR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bc=(n,e,t)=>BR(n,typeof e!="symbol"?e+"":e,t);class qR extends g{constructor(e){super(),this._context=e,Bc(this,"_webviewViewProvider"),Bc(this,"_pullRequestModel",new Map),Bc(this,"_currentDisposables",[])}dispose(){super.dispose(),this.reset()}reset(){k(this._currentDisposables),this._webviewViewProvider=void 0}create(e,t,i){this._webviewViewProvider=m(new LR(this._context.extensionUri,t,i,e),this._currentDisposables),m(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider),this._currentDisposables),m(s.commands.registerCommand("pr.refreshActivePullRequest",r=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}),this._currentDisposables)}setPullRequest(e,t,i,r){r&&this._pullRequestModel.delete(r),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:i}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.reset();return}const{folderRepositoryManager:t,reviewManager:i}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,i)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}const HR="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let xn;const mo="Activation";async function $R(n,e,t,i,r,a,o,v,A){n.subscriptions.push(b),b.appendLine("Git repository found, initializing review manager and pr tree view.",mo),n.subscriptions.push(t.onDidChangeSessions(async Ee=>{Ee.provider.id==="github"&&(await v.clearCredentialCache(),Ae&&Ae.reviewManagers.forEach(De=>De.updateState(!0)))})),n.subscriptions.push(e.onDidPublish(async Ee=>{if(!Ee.branch||s.workspace.getConfiguration(Tt).get(zt)!=="ask")return;const De=Ae.reviewManagers.find(fi=>fi.repository.rootUri.toString()===Ee.repository.rootUri.toString());if(De!=null&&De.isCreatingPullRequest)return;const Ue=v.folderManagers.find(fi=>fi.repository.rootUri.toString()===Ee.repository.rootUri.toString());if(!Ue||Ue.gitHubRepositories.length===0||(await Ue.getPullRequestDefaults()).base===Ee.branch)return;const Ye=s.l10n.t("Create Pull Request..."),Pt=s.l10n.t("Don't Show Again"),Ft=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",Ee.branch),Ye,Pt);Ft===Ye?De==null||De.createPullRequest(Ee.branch):Ft===Pt&&await s.workspace.getConfiguration(Tt).update(zt,"never",s.ConfigurationTarget.Global)}));const H=s.workspace.workspaceFolders;H&&(i=i.sort((Ee,De)=>{let Ue=H.length,Qe=H.length;for(let Ye=0;Ye<H.length&&(H[Ye].uri.toString()===Ee.rootUri.toString()?Ue=Ye:H[Ye].uri.toString()===De.rootUri.toString()&&(Qe=Ye),!(Ue!==H.length&&Qe!==H.length));Ye++);return Ue-Qe})),a.then(Ee=>{Ee&&Ee.registerContactServiceProvider("github-pr",new b_(v))});const Q=new dv(e,v);n.subscriptions.push(Q);const re=new qR(n);n.subscriptions.push(re);let le=0;const pe=v.folderManagers.map(Ee=>new yr(le++,n,Ee.repository,Ee,xn,Q,r,o,re,A,e)),Se=new W1(v);n.subscriptions.push(Se),Se.registerProviders([new uR,new z1(v)]);const Ae=new yv(n,v,pe,r,Q,xn,t,e);n.subscriptions.push(Ae),e.onDidChangeState(()=>{b.appendLine(`Git initialization state changed: state=${e.state}`,mo),Ae.reviewManagers.forEach(Ee=>Ee.updateState(!0))}),e.onDidOpenRepository(Ee=>{function De(){if(v.folderManagers.find(Ft=>Ft.repository.rootUri.toString()===Ee.rootUri.toString())){b.appendLine(`Repo ${Ee.rootUri} has already been setup.`,mo);return}const Ye=new Js(v.folderManagers.length,n,Ee,xn,e,t,A);v.insertFolderManager(Ye);const Pt=new yr(le++,n,Ye.repository,Ye,xn,Q,r,o,re,A,e);Ae.addReviewManager(Pt)}De(),r.notificationProvider.refreshOrLaunchPolling();const Ue=Ee.state.onDidChange(()=>{b.appendLine(`Repo state for ${Ee.rootUri} changed.`,mo),De(),Ue.dispose()})}),e.onDidCloseRepository(Ee=>{v.removeRepo(Ee),Ae.removeReviewManager(Ee),r.notificationProvider.refreshOrLaunchPolling()}),r.initialize(Ae.reviewManagers.map(Ee=>Ee.reviewModel),t),n.subscriptions.push(new mR(r.notificationProvider)),jy(n,v,Ae,xn,r);const Oe=s.workspace.getConfiguration(Tt).get(Ie);await s.commands.executeCommand("setContext","fileListLayout:flat",Oe==="flat");const ue=new GS(e,v,Ae,n,xn);n.subscriptions.push(ue),await ue.initialize();const ye=new $1(t,v,xn);n.subscriptions.push(ye),n.subscriptions.push(new __),await s.commands.executeCommand("setContext","github:initialized",!0),WR(v,e),GR(n,t,v),n.subscriptions.push(s.window.registerUriHandler(new G1(v,xn,n))),av.closeTabs(),xn.sendTelemetryEvent("startup")}function GR(n,e,t){const i=()=>{const a=new KS;n.subscriptions.push(new QS(n,a)),w1(n,e,t,a)},r=()=>s.workspace.getConfiguration(Tt).get(or,!1);r()?i():jr(Tt,or,r,i,n.subscriptions)}async function VR(n){var e;if(b.appendLine(`Extension version: ${(e=s.extensions.getExtension(vt))==null?void 0:e.packageJSON.version}`,"Activation"),vt==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new Cy;s.commands.registerCommand("github.api.preloadPullRequest",async r=>{await s.commands.executeCommand("setContext",nt,!0),await lt.focusView("github:activePullRequest:welcome"),t.shouldShow=r}),await jR(n),Fr.initialize(n),b.debug("Creating API implementation.","Activation");const i=new di;return xn=new Yy(new d(HR)),n.subscriptions.push(xn),await KR(n,i,t),i}async function jR(n){const e=[["openDiffOnClick",()=>s.workspace.getConfiguration(ir,null).get(zn,!0)],["showInlineOpenFileAction",()=>s.workspace.getConfiguration(ir,null).get(Gr,!0)]];for(const[t,i]of e)lt.setContext(t,i()),n.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${ir}.${t}`)&&lt.setContext(t,i())}))}async function wv(n,e,t){const i=await p_(e,t);return i?(n.subscriptions.push(i),!0):!1}function WR(n,e){const t="GitPostCommitCommands";class i{getCommands(v){b.debug(`Looking for remote. Comparing ${v.state.remotes.length} local repo remotes with ${n.folderManagers.reduce((Q,re)=>Q+re.gitHubRepositories.length,0)} GitHub repositories.`,t);const A=Na(v),H=n.folderManagers.find(Q=>Q.findRepo(re=>!!A.find(le=>le.equals(re.remote))));return b.debug(`Found ${H?"a repo":"no repos"} when getting post commit commands.`,t),H?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function r(){return n.folderManagers.some(o=>o.gitHubRepositories.length>0)}function a(){return b.debug("Trying to register post commit commands.","GitPostCommitCommands"),r()?(b.debug("GitHub remote(s) found, registering post commit commands.",t),e.registerPostCommitCommandsProvider(new i),!0):!1}if(!a()){const o=n.onDidLoadAnyRepositories(()=>{a()&&o.dispose()})}}async function zR(n,e,t){if(b.debug("Registering built in git provider.","Activation"),!await wv(n,t,e)){const i=s.extensions.onDidChange(async()=>{await wv(n,t,e)&&i.dispose()});n.subscriptions.push(i)}}async function KR(n,e,t){b.debug("Initializing state.","Activation"),zy(n),await T1(n),Rh.init(n),b.debug("Creating credential store.","Activation");const i=new zk(xn,n);n.subscriptions.push(i);const r=await Zy(n,xn);await r.initializePromise,await r.isCachedFlightEnabled("githubaa");const a=s.env.appHost==="desktop";await i.create(a?void 0:{silent:!0}),zR(n,e,i),b.debug("Registering live share git provider.","Activation");const o=m_(e);n.subscriptions.push(o);const v=o.initialize();n.subscriptions.push(e),b.debug("Creating tree view.","Activation");const A=new Xk(i,xn);n.subscriptions.push(A);const H=new vv(xn,n,A);n.subscriptions.push(H),n.subscriptions.push(i.onDidGetSession(()=>H.refresh(void 0,!0))),b.appendLine("Looking for git repository",mo);const Q=e.repositories;b.appendLine(`Found ${Q.length} repositories during activation`,mo);const re=new lR;n.subscriptions.push(re);let le=0;const pe=Q.map(Oe=>new Js(le++,n,Oe,xn,e,i,re));n.subscriptions.push(...pe);for(const Oe of pe)A.insertFolderManager(Oe);const Se=Gd({reposManager:A,gitAPI:e,credentialStore:i}),Ae=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));Ae.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},n.subscriptions.push(s.workspace.registerFileSystemProvider(Vt.Pr,Se,{isReadonly:Ae})),await $R(n,e,i,Q,H,v,t,A,re)}async function QR(){xn&&xn.dispose()}})(),module.exports=Uu})();
